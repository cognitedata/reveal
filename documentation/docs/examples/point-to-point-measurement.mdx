---
id: point-to-point-measurement
title: Point to point measurement
description: Demo shows how to measure point to point distance in Reveal.
---

import { DemoWrapper } from '@site/docs/components/DemoWrapper';
import useBaseUrl from '@docusaurus/useBaseUrl';

The `MeasurementTool` is a measuring tool for point to point distance in 3D models, by clicking to- and from-points. The default measurement unit is meters, but the tool provides callbacks to allow configuring the unit.

The tool provides ability to change measuring line width & color.

<DemoWrapper name="Cognite3DViewerDemo" />

## Point to point distance measurment
To enter point-to-point measurement mode, use `MeasurementTool.enterMeasurementMode()`. This will register events for handling mouse clicks and touch events to allow placing the measurement end-points.

```jsx runnable
// import { MeasurementTool } from '@cognite/reveal/tools';

const measurementTool = new MeasurementTool(viewer);
measurementTool.enterMeasurementMode();
```
## Cancel measurement
To exit from measurement mode, use `MeasurementTool.exitMeasurementMode()`.

```jsx runnable
// import { MeasurementTool } from '@cognite/reveal/tools';

const measurementTool = new MeasurementTool(viewer);
measurementTool.enterMeasurementMode();
measurementTool.exitMeasurementMode();
```

## Set width and color of the measuring line
To change width and color of the line, use `MeasurementTool.setLineOptions(options: MeasurementOptions, meshObject?: THREE.Mesh)`. MeasurementOptions expects
  - `lineWidth` : number
  - `color` : number

```jsx runnable
// import { MeasurementTool } from '@cognite/reveal/tools';

const lineOptions = {
  lineWidth: 3,
  color: 0xff0000
};
const measurementTool = new MeasurementTool(viewer);
measurementTool.enterMeasurementMode();
measurementTool.setLineOptions(lineOptions);
```

## Change unit

It's also possible to apply custom label content for the measurement.
The tool provides a callback, `MeasurementOptions.distanceToLabelCallback`, that can be
used to trigger custom operation like changing the measuring units to feet:

```jsx runnable
// import { MeasurementTool } from '@cognite/reveal/tools';

const measurementTool = new MeasurementTool(viewer, {distanceToLabelCallback: (distanceInMeters) => {
      // 1 meter = 3.281 feet
      return `${(distanceInMeters * 3.281).toFixed(2)} ft`;
     }});
measurementTool.enterMeasurementMode();
```

### Get all measurement
To retrive all measurements added in the viewer, we can provide `MeasurementTool.getAllMeasurement()` which will
returns array of meshes `THREE.Mesh[]`.

```jsx
// import { MeasurementTool } from '@cognite/reveal/tools';

const measurementTool = new MeasurementTool(viewer);
measurementTool.enterMeasurementMode();

//get all measurements
const measurements = measurementTool.getAllMeasurement();
```

### Remove measurement
To remove a measurement from the viewer, we have `MeasurementTool.removeMeasurement(measurement: THREE.Mesh)`
  - 'measurement` : Measurement mesh to be removed.

```jsx
// import { MeasurementTool } from '@cognite/reveal/tools';

const measurementTool = new MeasurementTool(viewer);
measurementTool.enterMeasurementMode();

// Before retrival of measurements, add some measurement
const measurements = measurementTool.getAllMeasurement();

// Remove the first measurement added
measurementTool.removeMeasurement(measurements[0]);
```

To remove all measurement from the viewer, use `MeasurementTool.removeAllMeasurement()`

```jsx
// import { MeasurementTool } from '@cognite/reveal/tools';

const measurementTool = new MeasurementTool(viewer);
measurementTool.enterMeasurementMode();

//add measurements

//Remove all measurement from the viewer
measurementTool.removeAllMeasurement();
```