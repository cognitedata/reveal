import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { DataExplorationProvider } from '../context';
import { QueryBuilder } from './QueryBuilder.stories.tsx';
import { ResourceSelectionPropsFunctions } from './stub.tsx';

<Meta
  title="Search Results/Get Started"
  component={DataExplorationProvider}
  parameters={{
    viewMode: 'docs',
    previewTabs: { canvas: { hidden: true } },
  }}
/>

# Using `Search Result` components

Once your app has been wrapped around

```js
<DataExplorationProvider sdk={sdk}>...</DataExplorationProvider>
```

Automatically, you will have access to the full context of `ResourceSelectionContext`.

<ArgsTable of={ResourceSelectionPropsFunctions} />

You can access and interact with any of these via provided hooks or `useContext(ResourceSelectionContext)`. Some of the use cases are presented below:

## Use Case 1 - Accomplish "Query Building"

Through using things like `DataSetFilter` and `SourceFilter`, they will directly affect the `<resource>Filter` within the `ResourceSelectionContext`

Then, then any component like the `SearchResultTable` or the `<resource>SearchResult` would already read the filter from the context, and do the search via `React-Query` automatically.

<Canvas>
  <Story story={QueryBuilder} />
</Canvas>
