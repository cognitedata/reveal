{"ast":null,"code":"import isUndefined from 'lodash/isUndefined';\nimport { getDatapointValue } from '../utils';\nexport const mapToChartData = ({\n  datapoints,\n  metadata\n}) => {\n  let x = [];\n  let y = [];\n  let customData = [];\n  for (let i = 0; i < datapoints.length; i++) {\n    const datapoint = datapoints[i];\n    const {\n      timestamp\n    } = datapoint;\n    const datapointValue = getDatapointValue(datapoint);\n    if (isUndefined(datapointValue)) {\n      continue;\n    }\n    x.push(timestamp);\n    y.push(datapointValue);\n    customData.push(datapoint);\n  }\n  return {\n    x,\n    y,\n    customData,\n    interpolation: metadata.isStep ? 'step' : undefined\n  };\n};","map":{"version":3,"names":["isUndefined","getDatapointValue","mapToChartData","datapoints","metadata","x","y","customData","i","length","datapoint","timestamp","datapointValue","push","interpolation","isStep","undefined"],"sources":["/Volumes/csvol/fusion/libs/shared/plotting-components/src/TimeseriesChart/domain/internal/transformers/mapToChartData.ts"],"sourcesContent":["import isUndefined from 'lodash/isUndefined';\n\nimport { Data, ValueType } from '../../../../LineChart';\nimport { TimeseriesDatapoint } from '../../service/types';\nimport { TimeseriesChartMetadata } from '../types';\nimport { getDatapointValue } from '../utils';\n\ninterface Props {\n  datapoints: TimeseriesDatapoint[];\n  metadata: TimeseriesChartMetadata;\n}\n\nexport const mapToChartData = ({ datapoints, metadata }: Props): Data => {\n  let x: ValueType[] = [];\n  let y: ValueType[] = [];\n  let customData: TimeseriesDatapoint[] = [];\n\n  for (let i = 0; i < datapoints.length; i++) {\n    const datapoint = datapoints[i];\n    const { timestamp } = datapoint;\n    const datapointValue = getDatapointValue(datapoint);\n\n    if (isUndefined(datapointValue)) {\n      continue;\n    }\n\n    x.push(timestamp);\n    y.push(datapointValue);\n    customData.push(datapoint);\n  }\n\n  return {\n    x,\n    y,\n    customData,\n    interpolation: metadata.isStep ? 'step' : undefined,\n  };\n};\n"],"mappings":"AAAA,OAAOA,WAAW,MAAM,oBAAoB;AAK5C,SAASC,iBAAiB,QAAQ,UAAU;AAO5C,OAAO,MAAMC,cAAc,GAAG,CAAC;EAAEC,UAAU;EAAEC;AAAgB,CAAC,KAAW;EACvE,IAAIC,CAAc,GAAG,EAAE;EACvB,IAAIC,CAAc,GAAG,EAAE;EACvB,IAAIC,UAAiC,GAAG,EAAE;EAE1C,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,UAAU,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;IAC1C,MAAME,SAAS,GAAGP,UAAU,CAACK,CAAC,CAAC;IAC/B,MAAM;MAAEG;IAAU,CAAC,GAAGD,SAAS;IAC/B,MAAME,cAAc,GAAGX,iBAAiB,CAACS,SAAS,CAAC;IAEnD,IAAIV,WAAW,CAACY,cAAc,CAAC,EAAE;MAC/B;IACF;IAEAP,CAAC,CAACQ,IAAI,CAACF,SAAS,CAAC;IACjBL,CAAC,CAACO,IAAI,CAACD,cAAc,CAAC;IACtBL,UAAU,CAACM,IAAI,CAACH,SAAS,CAAC;EAC5B;EAEA,OAAO;IACLL,CAAC;IACDC,CAAC;IACDC,UAAU;IACVO,aAAa,EAAEV,QAAQ,CAACW,MAAM,GAAG,MAAM,GAAGC;EAC5C,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module"}