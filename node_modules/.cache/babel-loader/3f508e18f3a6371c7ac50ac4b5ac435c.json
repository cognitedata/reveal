{"ast":null,"code":"import { getDocumentsAggregate } from './getDocumentsAggregate';\nexport const getDocumentsMetadataKeysAggregate = (sdk, filters = {}) => {\n  return getDocumentsAggregate(sdk, {\n    ...filters,\n    aggregate: 'uniqueProperties',\n    properties: [{\n      property: ['sourceFile', 'metadata']\n    }]\n  }).then(({\n    items\n  }) => {\n    return items.map(({\n      count,\n      values\n    }) => {\n      return {\n        count,\n        value: values[0],\n        values\n      };\n    });\n  });\n};","map":{"version":3,"names":["getDocumentsAggregate","getDocumentsMetadataKeysAggregate","sdk","filters","aggregate","properties","property","then","items","map","count","values","value"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/documents/service/network/getDocumentsMetadataKeysAggregate.ts"],"sourcesContent":["import { CogniteClient } from '@cognite/sdk';\n\nimport {\n  DocumentsAggregateFilters,\n  DocumentsAggregateUniquePropertiesResponse,\n  DocumentsMetadataAggregateResponse,\n} from '../types';\n\nimport { getDocumentsAggregate } from './getDocumentsAggregate';\n\nexport const getDocumentsMetadataKeysAggregate = (\n  sdk: CogniteClient,\n  filters: DocumentsAggregateFilters = {}\n): Promise<DocumentsMetadataAggregateResponse[]> => {\n  return getDocumentsAggregate<DocumentsAggregateUniquePropertiesResponse>(\n    sdk,\n    {\n      ...filters,\n      aggregate: 'uniqueProperties',\n      properties: [\n        {\n          property: ['sourceFile', 'metadata'],\n        },\n      ],\n    }\n  ).then(({ items }) => {\n    return items.map(({ count, values }) => {\n      return {\n        count,\n        value: values[0],\n        values,\n      };\n    });\n  });\n};\n"],"mappings":"AAQA,SAASA,qBAAqB,QAAQ,yBAAyB;AAE/D,OAAO,MAAMC,iCAAiC,GAAG,CAC/CC,GAAkB,EAClBC,OAAkC,GAAG,CAAC,CAAC,KACW;EAClD,OAAOH,qBAAqB,CAC1BE,GAAG,EACH;IACE,GAAGC,OAAO;IACVC,SAAS,EAAE,kBAAkB;IAC7BC,UAAU,EAAE,CACV;MACEC,QAAQ,EAAE,CAAC,YAAY,EAAE,UAAU;IACrC,CAAC;EAEL,CAAC,CACF,CAACC,IAAI,CAAC,CAAC;IAAEC;EAAM,CAAC,KAAK;IACpB,OAAOA,KAAK,CAACC,GAAG,CAAC,CAAC;MAAEC,KAAK;MAAEC;IAAO,CAAC,KAAK;MACtC,OAAO;QACLD,KAAK;QACLE,KAAK,EAAED,MAAM,CAAC,CAAC,CAAC;QAChBA;MACF,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module"}