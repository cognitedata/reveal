{"ast":null,"code":"import dayjs from 'dayjs';\nimport isDate from 'lodash/isDate';\nimport isNumber from 'lodash/isNumber';\nconst PLOTLY_DATE_FORMAT = 'YYYY-MM-DD mm:hh';\nexport const getValueTypeAsNumber = (value, defaultValue) => {\n  if (isNumber(value)) {\n    return value;\n  }\n  if (isDate(value)) {\n    return value.getTime();\n  }\n  if (dayjs(value, PLOTLY_DATE_FORMAT).isValid()) {\n    return new Date(String(value)).getTime();\n  }\n  return Number(defaultValue);\n};","map":{"version":3,"names":["dayjs","isDate","isNumber","PLOTLY_DATE_FORMAT","getValueTypeAsNumber","value","defaultValue","getTime","isValid","Date","String","Number"],"sources":["/Volumes/csvol/fusion/libs/shared/plotting-components/src/LineChart/utils/getValueTypeAsNumber.ts"],"sourcesContent":["import dayjs from 'dayjs';\nimport isDate from 'lodash/isDate';\nimport isNumber from 'lodash/isNumber';\n\nimport { ValueType } from '../types';\n\nconst PLOTLY_DATE_FORMAT = 'YYYY-MM-DD mm:hh';\n\nexport const getValueTypeAsNumber = (\n  value: ValueType,\n  defaultValue: string | number\n): number => {\n  if (isNumber(value)) {\n    return value;\n  }\n\n  if (isDate(value)) {\n    return value.getTime();\n  }\n\n  if (dayjs(value, PLOTLY_DATE_FORMAT).isValid()) {\n    return new Date(String(value)).getTime();\n  }\n\n  return Number(defaultValue);\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,eAAe;AAClC,OAAOC,QAAQ,MAAM,iBAAiB;AAItC,MAAMC,kBAAkB,GAAG,kBAAkB;AAE7C,OAAO,MAAMC,oBAAoB,GAAG,CAClCC,KAAgB,EAChBC,YAA6B,KAClB;EACX,IAAIJ,QAAQ,CAACG,KAAK,CAAC,EAAE;IACnB,OAAOA,KAAK;EACd;EAEA,IAAIJ,MAAM,CAACI,KAAK,CAAC,EAAE;IACjB,OAAOA,KAAK,CAACE,OAAO,EAAE;EACxB;EAEA,IAAIP,KAAK,CAACK,KAAK,EAAEF,kBAAkB,CAAC,CAACK,OAAO,EAAE,EAAE;IAC9C,OAAO,IAAIC,IAAI,CAACC,MAAM,CAACL,KAAK,CAAC,CAAC,CAACE,OAAO,EAAE;EAC1C;EAEA,OAAOI,MAAM,CAACL,YAAY,CAAC;AAC7B,CAAC"},"metadata":{},"sourceType":"module"}