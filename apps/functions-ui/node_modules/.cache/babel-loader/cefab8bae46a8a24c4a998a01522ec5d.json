{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMemo } from 'react';\nimport { DEFAULT_GLOBAL_TABLE_RESULT_LIMIT } from '../../../constants';\nimport { useEventsListQuery } from '../../service';\nimport { mapFiltersToEventsAdvancedFilters, mapTableSortByToEventSortFields, mapInternalFilterToEventsFilter } from '../transformers';\nexport const useEventsSearchResultQuery = ({\n  query,\n  eventsFilters,\n  eventsSortBy,\n  limit\n}, searchConfig, options) => {\n  _s();\n  const filter = useMemo(() => mapInternalFilterToEventsFilter(eventsFilters), [eventsFilters]);\n  const advancedFilter = useMemo(() => mapFiltersToEventsAdvancedFilters(eventsFilters, query, searchConfig), [eventsFilters, query, searchConfig]);\n  const sort = useMemo(() => mapTableSortByToEventSortFields(eventsSortBy), [eventsSortBy]);\n  return useEventsListQuery({\n    filter,\n    advancedFilter,\n    sort,\n    limit: limit ?? DEFAULT_GLOBAL_TABLE_RESULT_LIMIT\n  }, {\n    ...options,\n    keepPreviousData: true\n  });\n};\n_s(useEventsSearchResultQuery, \"Ht9tCpUO0VJCxXwlNd5C8lpjQK0=\", false, function () {\n  return [useEventsListQuery];\n});","map":{"version":3,"names":["useMemo","DEFAULT_GLOBAL_TABLE_RESULT_LIMIT","useEventsListQuery","mapFiltersToEventsAdvancedFilters","mapTableSortByToEventSortFields","mapInternalFilterToEventsFilter","useEventsSearchResultQuery","query","eventsFilters","eventsSortBy","limit","searchConfig","options","filter","advancedFilter","sort","keepPreviousData"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/events/internal/queries/useEventsSearchResultQuery.ts"],"sourcesContent":["import { useMemo } from 'react';\n\nimport { UseInfiniteQueryOptions } from '@tanstack/react-query';\n\nimport {\n  EventConfigType,\n  InternalEventsFilters,\n} from '@data-exploration-lib/core';\n\nimport { DEFAULT_GLOBAL_TABLE_RESULT_LIMIT } from '../../../constants';\nimport { TableSortBy } from '../../../types';\nimport { useEventsListQuery } from '../../service';\nimport {\n  mapFiltersToEventsAdvancedFilters,\n  mapTableSortByToEventSortFields,\n  mapInternalFilterToEventsFilter,\n} from '../transformers';\n\nexport const useEventsSearchResultQuery = (\n  {\n    query,\n    eventsFilters,\n    eventsSortBy,\n    limit,\n  }: {\n    query?: string;\n    eventsFilters: InternalEventsFilters;\n    eventsSortBy?: TableSortBy[];\n    limit?: number;\n  },\n  searchConfig?: EventConfigType,\n  options?: UseInfiniteQueryOptions\n) => {\n  const filter = useMemo(\n    () => mapInternalFilterToEventsFilter(eventsFilters),\n    [eventsFilters]\n  );\n\n  const advancedFilter = useMemo(\n    () => mapFiltersToEventsAdvancedFilters(eventsFilters, query, searchConfig),\n    [eventsFilters, query, searchConfig]\n  );\n\n  const sort = useMemo(\n    () => mapTableSortByToEventSortFields(eventsSortBy),\n    [eventsSortBy]\n  );\n\n  return useEventsListQuery(\n    {\n      filter,\n      advancedFilter,\n      sort,\n      limit: limit ?? DEFAULT_GLOBAL_TABLE_RESULT_LIMIT,\n    },\n    {\n      ...options,\n      keepPreviousData: true,\n    }\n  );\n};\n"],"mappings":";AAAA,SAASA,OAAO,QAAQ,OAAO;AAS/B,SAASC,iCAAiC,QAAQ,oBAAoB;AAEtE,SAASC,kBAAkB,QAAQ,eAAe;AAClD,SACEC,iCAAiC,EACjCC,+BAA+B,EAC/BC,+BAA+B,QAC1B,iBAAiB;AAExB,OAAO,MAAMC,0BAA0B,GAAG,CACxC;EACEC,KAAK;EACLC,aAAa;EACbC,YAAY;EACZC;AAMF,CAAC,EACDC,YAA8B,EAC9BC,OAAiC,KAC9B;EAAA;EACH,MAAMC,MAAM,GAAGb,OAAO,CACpB,MAAMK,+BAA+B,CAACG,aAAa,CAAC,EACpD,CAACA,aAAa,CAAC,CAChB;EAED,MAAMM,cAAc,GAAGd,OAAO,CAC5B,MAAMG,iCAAiC,CAACK,aAAa,EAAED,KAAK,EAAEI,YAAY,CAAC,EAC3E,CAACH,aAAa,EAAED,KAAK,EAAEI,YAAY,CAAC,CACrC;EAED,MAAMI,IAAI,GAAGf,OAAO,CAClB,MAAMI,+BAA+B,CAACK,YAAY,CAAC,EACnD,CAACA,YAAY,CAAC,CACf;EAED,OAAOP,kBAAkB,CACvB;IACEW,MAAM;IACNC,cAAc;IACdC,IAAI;IACJL,KAAK,EAAEA,KAAK,IAAIT;EAClB,CAAC,EACD;IACE,GAAGW,OAAO;IACVI,gBAAgB,EAAE;EACpB,CAAC,CACF;AACH,CAAC;AAAC,GA1CWV,0BAA0B;EAAA,QA8B9BJ,kBAAkB;AAAA"},"metadata":{},"sourceType":"module"}