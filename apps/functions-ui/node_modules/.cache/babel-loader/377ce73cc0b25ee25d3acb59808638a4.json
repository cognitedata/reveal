{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { isUndefinedPlotRange } from '../utils/isUndefinedPlotRange';\nimport { useDeepCallback, useDeepEffect } from './useDeep';\nexport const useHandlePlotRange = ({\n  initialRange,\n  onRangeChange\n}) => {\n  _s();\n  const [range, setRange] = useState(initialRange);\n  const setPlotRange = useDeepCallback(changedRange => {\n    if (isUndefinedPlotRange(changedRange) || !range) {\n      return;\n    }\n    const newRange = {\n      x: changedRange.x || range.x,\n      y: changedRange.y || range.y\n    };\n    setRange(newRange);\n    onRangeChange?.(newRange);\n  }, [range]);\n  const resetPlotRange = useDeepCallback(() => {\n    if (initialRange) {\n      const initialRangeClone = {\n        x: [...initialRange.x],\n        y: [...initialRange.y]\n      };\n      setRange(initialRangeClone);\n      onRangeChange?.(initialRangeClone);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialRange]);\n  useDeepEffect(() => {\n    if (initialRange) {\n      setRange({\n        x: [...initialRange.x],\n        y: [...initialRange.y]\n      });\n    }\n  }, [initialRange]);\n  return {\n    range,\n    setPlotRange,\n    resetPlotRange\n  };\n};\n_s(useHandlePlotRange, \"xw4SYv/QrWfyVuXdl+h1+1bQHLc=\", false, function () {\n  return [useDeepCallback, useDeepCallback, useDeepEffect];\n});","map":{"version":3,"names":["useState","isUndefinedPlotRange","useDeepCallback","useDeepEffect","useHandlePlotRange","initialRange","onRangeChange","range","setRange","setPlotRange","changedRange","newRange","x","y","resetPlotRange","initialRangeClone"],"sources":["/Volumes/csvol/fusion/libs/shared/plotting-components/src/LineChart/hooks/useHandlePlotRange.ts"],"sourcesContent":["import { useState } from 'react';\n\nimport { PlotRange } from '../types';\nimport { isUndefinedPlotRange } from '../utils/isUndefinedPlotRange';\n\nimport { useDeepCallback, useDeepEffect } from './useDeep';\n\ninterface Props {\n  initialRange?: PlotRange;\n  onRangeChange?: (range: PlotRange) => void;\n}\n\nexport const useHandlePlotRange = ({ initialRange, onRangeChange }: Props) => {\n  const [range, setRange] = useState<PlotRange | undefined>(initialRange);\n\n  const setPlotRange = useDeepCallback(\n    (changedRange: Partial<PlotRange>) => {\n      if (isUndefinedPlotRange(changedRange) || !range) {\n        return;\n      }\n\n      const newRange = {\n        x: changedRange.x || range.x,\n        y: changedRange.y || range.y,\n      };\n\n      setRange(newRange);\n      onRangeChange?.(newRange);\n    },\n    [range]\n  );\n\n  const resetPlotRange = useDeepCallback(() => {\n    if (initialRange) {\n      const initialRangeClone = {\n        x: [...initialRange.x],\n        y: [...initialRange.y],\n      } as PlotRange;\n\n      setRange(initialRangeClone);\n      onRangeChange?.(initialRangeClone);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialRange]);\n\n  useDeepEffect(() => {\n    if (initialRange) {\n      setRange({\n        x: [...initialRange.x],\n        y: [...initialRange.y],\n      });\n    }\n  }, [initialRange]);\n\n  return {\n    range,\n    setPlotRange,\n    resetPlotRange,\n  };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAGhC,SAASC,oBAAoB,QAAQ,+BAA+B;AAEpE,SAASC,eAAe,EAAEC,aAAa,QAAQ,WAAW;AAO1D,OAAO,MAAMC,kBAAkB,GAAG,CAAC;EAAEC,YAAY;EAAEC;AAAqB,CAAC,KAAK;EAAA;EAC5E,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAwBK,YAAY,CAAC;EAEvE,MAAMI,YAAY,GAAGP,eAAe,CACjCQ,YAAgC,IAAK;IACpC,IAAIT,oBAAoB,CAACS,YAAY,CAAC,IAAI,CAACH,KAAK,EAAE;MAChD;IACF;IAEA,MAAMI,QAAQ,GAAG;MACfC,CAAC,EAAEF,YAAY,CAACE,CAAC,IAAIL,KAAK,CAACK,CAAC;MAC5BC,CAAC,EAAEH,YAAY,CAACG,CAAC,IAAIN,KAAK,CAACM;IAC7B,CAAC;IAEDL,QAAQ,CAACG,QAAQ,CAAC;IAClBL,aAAa,GAAGK,QAAQ,CAAC;EAC3B,CAAC,EACD,CAACJ,KAAK,CAAC,CACR;EAED,MAAMO,cAAc,GAAGZ,eAAe,CAAC,MAAM;IAC3C,IAAIG,YAAY,EAAE;MAChB,MAAMU,iBAAiB,GAAG;QACxBH,CAAC,EAAE,CAAC,GAAGP,YAAY,CAACO,CAAC,CAAC;QACtBC,CAAC,EAAE,CAAC,GAAGR,YAAY,CAACQ,CAAC;MACvB,CAAc;MAEdL,QAAQ,CAACO,iBAAiB,CAAC;MAC3BT,aAAa,GAAGS,iBAAiB,CAAC;IACpC;IACA;EACF,CAAC,EAAE,CAACV,YAAY,CAAC,CAAC;EAElBF,aAAa,CAAC,MAAM;IAClB,IAAIE,YAAY,EAAE;MAChBG,QAAQ,CAAC;QACPI,CAAC,EAAE,CAAC,GAAGP,YAAY,CAACO,CAAC,CAAC;QACtBC,CAAC,EAAE,CAAC,GAAGR,YAAY,CAACQ,CAAC;MACvB,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACR,YAAY,CAAC,CAAC;EAElB,OAAO;IACLE,KAAK;IACLE,YAAY;IACZK;EACF,CAAC;AACH,CAAC;AAAC,GA/CWV,kBAAkB;EAAA,QAGRF,eAAe,EAiBbA,eAAe,EAatCC,aAAa;AAAA"},"metadata":{},"sourceType":"module"}