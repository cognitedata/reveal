{"ast":null,"code":"import { getEventsAggregate } from './getEventsAggregate';\nexport const getEventsMetadataValuesAggregate = (sdk, metadataKey, filters = {}) => {\n  return getEventsAggregate(sdk, {\n    ...filters,\n    aggregate: 'uniqueValues',\n    properties: [{\n      property: ['metadata', metadataKey]\n    }]\n  }).then(({\n    items\n  }) => {\n    return items.map(item => {\n      return {\n        ...item,\n        value: item.values[0]\n      };\n    });\n  });\n};","map":{"version":3,"names":["getEventsAggregate","getEventsMetadataValuesAggregate","sdk","metadataKey","filters","aggregate","properties","property","then","items","map","item","value","values"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/events/service/network/getEventsMetadataValuesAggregate.ts"],"sourcesContent":["import { CogniteClient } from '@cognite/sdk';\n\nimport {\n  EventsAggregateFilters,\n  EventsAggregateUniqueValuesResponse,\n  EventsMetadataAggregateResponse,\n} from '../types';\n\nimport { getEventsAggregate } from './getEventsAggregate';\n\nexport const getEventsMetadataValuesAggregate = (\n  sdk: CogniteClient,\n  metadataKey: string,\n  filters: EventsAggregateFilters = {}\n): Promise<EventsMetadataAggregateResponse[]> => {\n  return getEventsAggregate<EventsAggregateUniqueValuesResponse>(sdk, {\n    ...filters,\n    aggregate: 'uniqueValues',\n    properties: [\n      {\n        property: ['metadata', metadataKey],\n      },\n    ],\n  }).then(({ items }) => {\n    return items.map((item) => {\n      return {\n        ...item,\n        value: item.values[0],\n      };\n    });\n  });\n};\n"],"mappings":"AAQA,SAASA,kBAAkB,QAAQ,sBAAsB;AAEzD,OAAO,MAAMC,gCAAgC,GAAG,CAC9CC,GAAkB,EAClBC,WAAmB,EACnBC,OAA+B,GAAG,CAAC,CAAC,KACW;EAC/C,OAAOJ,kBAAkB,CAAsCE,GAAG,EAAE;IAClE,GAAGE,OAAO;IACVC,SAAS,EAAE,cAAc;IACzBC,UAAU,EAAE,CACV;MACEC,QAAQ,EAAE,CAAC,UAAU,EAAEJ,WAAW;IACpC,CAAC;EAEL,CAAC,CAAC,CAACK,IAAI,CAAC,CAAC;IAAEC;EAAM,CAAC,KAAK;IACrB,OAAOA,KAAK,CAACC,GAAG,CAAEC,IAAI,IAAK;MACzB,OAAO;QACL,GAAGA,IAAI;QACPC,KAAK,EAAED,IAAI,CAACE,MAAM,CAAC,CAAC;MACtB,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module"}