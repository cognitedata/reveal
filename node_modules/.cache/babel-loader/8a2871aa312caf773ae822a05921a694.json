{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMemo } from 'react';\nimport { useInfiniteQuery } from '@tanstack/react-query';\nimport { useSDK } from '@cognite/sdk-provider';\nimport { queryKeys } from '../../../queryKeys';\nimport { getBasicMappingsByAssetId } from '../network';\nexport const useBasicMappingsByAssetIdQuery = ({\n  assetId,\n  limit\n}, options) => {\n  _s();\n  const sdk = useSDK();\n  const {\n    data,\n    ...rest\n  } = useInfiniteQuery(queryKeys.listBasicAssetMappings(assetId), async ({\n    pageParam\n  }) => {\n    return await getBasicMappingsByAssetId(sdk, {\n      assetId,\n      limit,\n      cursor: pageParam\n    });\n  }, {\n    getNextPageParam: param => param.nextCursor,\n    ...options\n  });\n  const flattenData = useMemo(() => (data?.pages || []).flatMap(({\n    data\n  }) => data), [data?.pages]);\n  return {\n    data: flattenData,\n    ...rest\n  };\n};\n_s(useBasicMappingsByAssetIdQuery, \"6IC/fW+iZi+0XGnsYqC8KTGR+Gw=\", false, function () {\n  return [useSDK, useInfiniteQuery];\n});","map":{"version":3,"names":["useMemo","useInfiniteQuery","useSDK","queryKeys","getBasicMappingsByAssetId","useBasicMappingsByAssetIdQuery","assetId","limit","options","sdk","data","rest","listBasicAssetMappings","pageParam","cursor","getNextPageParam","param","nextCursor","flattenData","pages","flatMap"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/threeD/service/queries/useBasicMappingsByAssetIdQuery.ts"],"sourcesContent":["import { useMemo } from 'react';\n\nimport {\n  UseInfiniteQueryOptions,\n  useInfiniteQuery,\n} from '@tanstack/react-query';\n\nimport { useSDK } from '@cognite/sdk-provider';\n\nimport { queryKeys } from '../../../queryKeys';\nimport { getBasicMappingsByAssetId } from '../network';\n\nexport const useBasicMappingsByAssetIdQuery = (\n  {\n    assetId,\n    limit,\n  }: {\n    assetId: number;\n    limit?: number;\n  },\n  options?: UseInfiniteQueryOptions\n) => {\n  const sdk = useSDK();\n\n  const { data, ...rest } = useInfiniteQuery(\n    queryKeys.listBasicAssetMappings(assetId),\n    async ({ pageParam }) => {\n      return await getBasicMappingsByAssetId(sdk, {\n        assetId,\n        limit,\n        cursor: pageParam,\n      });\n    },\n    {\n      getNextPageParam: (param) => param.nextCursor,\n      ...(options as any),\n    }\n  );\n\n  const flattenData = useMemo(\n    () => (data?.pages || []).flatMap(({ data }) => data),\n    [data?.pages]\n  );\n\n  return { data: flattenData, ...rest };\n};\n"],"mappings":";AAAA,SAASA,OAAO,QAAQ,OAAO;AAE/B,SAEEC,gBAAgB,QACX,uBAAuB;AAE9B,SAASC,MAAM,QAAQ,uBAAuB;AAE9C,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,yBAAyB,QAAQ,YAAY;AAEtD,OAAO,MAAMC,8BAA8B,GAAG,CAC5C;EACEC,OAAO;EACPC;AAIF,CAAC,EACDC,OAAiC,KAC9B;EAAA;EACH,MAAMC,GAAG,GAAGP,MAAM,EAAE;EAEpB,MAAM;IAAEQ,IAAI;IAAE,GAAGC;EAAK,CAAC,GAAGV,gBAAgB,CACxCE,SAAS,CAACS,sBAAsB,CAACN,OAAO,CAAC,EACzC,OAAO;IAAEO;EAAU,CAAC,KAAK;IACvB,OAAO,MAAMT,yBAAyB,CAACK,GAAG,EAAE;MAC1CH,OAAO;MACPC,KAAK;MACLO,MAAM,EAAED;IACV,CAAC,CAAC;EACJ,CAAC,EACD;IACEE,gBAAgB,EAAGC,KAAK,IAAKA,KAAK,CAACC,UAAU;IAC7C,GAAIT;EACN,CAAC,CACF;EAED,MAAMU,WAAW,GAAGlB,OAAO,CACzB,MAAM,CAACU,IAAI,EAAES,KAAK,IAAI,EAAE,EAAEC,OAAO,CAAC,CAAC;IAAEV;EAAK,CAAC,KAAKA,IAAI,CAAC,EACrD,CAACA,IAAI,EAAES,KAAK,CAAC,CACd;EAED,OAAO;IAAET,IAAI,EAAEQ,WAAW;IAAE,GAAGP;EAAK,CAAC;AACvC,CAAC;AAAC,GAjCWN,8BAA8B;EAAA,QAU7BH,MAAM,EAEQD,gBAAgB;AAAA"},"metadata":{},"sourceType":"module"}