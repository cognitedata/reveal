{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMemo } from 'react';\nimport { mapFiltersToDocumentSearchFilters } from '../../internal';\nimport { useDocumentsMetadataKeysAggregateQuery } from './useDocumentsMetadataKeysAggregateQuery';\nexport const useDocumentsMetadataKeys = ({\n  query,\n  filter,\n  enabled\n} = {}) => {\n  _s();\n  const {\n    data,\n    ...rest\n  } = useDocumentsMetadataKeysAggregateQuery({\n    query,\n    filter: filter ? mapFiltersToDocumentSearchFilters(filter) : undefined,\n    options: {\n      enabled\n    }\n  });\n  const metadataKeys = useMemo(() => {\n    return data?.map(({\n      values\n    }) => values).flat();\n  }, [data]);\n  return {\n    data: metadataKeys,\n    ...rest\n  };\n};\n_s(useDocumentsMetadataKeys, \"aamQwlyTwtkvDDZp0/M7lxgr9uU=\", false, function () {\n  return [useDocumentsMetadataKeysAggregateQuery];\n});","map":{"version":3,"names":["useMemo","mapFiltersToDocumentSearchFilters","useDocumentsMetadataKeysAggregateQuery","useDocumentsMetadataKeys","query","filter","enabled","data","rest","undefined","options","metadataKeys","map","values","flat"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/documents/service/queries/useDocumentsMetadataKeys.ts"],"sourcesContent":["import { useMemo } from 'react';\n\nimport { InternalDocumentFilter } from '@data-exploration-lib/core';\n\nimport { mapFiltersToDocumentSearchFilters } from '../../internal';\n\nimport { useDocumentsMetadataKeysAggregateQuery } from './useDocumentsMetadataKeysAggregateQuery';\n\ninterface Props {\n  query?: string;\n  enabled?: boolean;\n  filter?: InternalDocumentFilter;\n}\n\nexport const useDocumentsMetadataKeys = ({\n  query,\n  filter,\n  enabled,\n}: Props = {}) => {\n  const { data, ...rest } = useDocumentsMetadataKeysAggregateQuery({\n    query,\n    filter: filter ? mapFiltersToDocumentSearchFilters(filter) : undefined,\n    options: {\n      enabled,\n    },\n  });\n\n  const metadataKeys = useMemo(() => {\n    return data?.map(({ values }) => values).flat();\n  }, [data]);\n\n  return { data: metadataKeys, ...rest };\n};\n"],"mappings":";AAAA,SAASA,OAAO,QAAQ,OAAO;AAI/B,SAASC,iCAAiC,QAAQ,gBAAgB;AAElE,SAASC,sCAAsC,QAAQ,0CAA0C;AAQjG,OAAO,MAAMC,wBAAwB,GAAG,CAAC;EACvCC,KAAK;EACLC,MAAM;EACNC;AACK,CAAC,GAAG,CAAC,CAAC,KAAK;EAAA;EAChB,MAAM;IAAEC,IAAI;IAAE,GAAGC;EAAK,CAAC,GAAGN,sCAAsC,CAAC;IAC/DE,KAAK;IACLC,MAAM,EAAEA,MAAM,GAAGJ,iCAAiC,CAACI,MAAM,CAAC,GAAGI,SAAS;IACtEC,OAAO,EAAE;MACPJ;IACF;EACF,CAAC,CAAC;EAEF,MAAMK,YAAY,GAAGX,OAAO,CAAC,MAAM;IACjC,OAAOO,IAAI,EAAEK,GAAG,CAAC,CAAC;MAAEC;IAAO,CAAC,KAAKA,MAAM,CAAC,CAACC,IAAI,EAAE;EACjD,CAAC,EAAE,CAACP,IAAI,CAAC,CAAC;EAEV,OAAO;IAAEA,IAAI,EAAEI,YAAY;IAAE,GAAGH;EAAK,CAAC;AACxC,CAAC;AAAC,GAlBWL,wBAAwB;EAAA,QAKTD,sCAAsC;AAAA"},"metadata":{},"sourceType":"module"}