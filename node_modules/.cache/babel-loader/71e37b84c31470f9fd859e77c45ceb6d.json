{"ast":null,"code":"var _jsxFileName = \"/Volumes/csvol/fusion/apps/functions-ui/src/components/FunctionModals/DeleteFunctionModal.tsx\",\n  _s = $RefreshSig$();\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\nimport React, { useState } from 'react';\nimport { Modal, Form, Checkbox, Alert } from 'antd';\nimport { useSDK, useFunction } from '../../utils/hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function DeleteFunctionModal({\n  id,\n  onCancel,\n  onDelete\n}) {\n  _s();\n  const [deleteFile, setDeleteFile] = useState(false);\n  const {\n    data: cogFunction\n  } = useFunction(id);\n  const name = cogFunction?.name;\n  const fileId = cogFunction?.fileId;\n  const {\n    data: files,\n    isSuccess: fileFound\n  } = useSDK('files', 'retrieve', [{\n    id: fileId\n  }]);\n  const file = files && files[0];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: e => e.stopPropagation(),\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Are you sure?\",\n      visible: true,\n      okText: \"Delete\",\n      onOk: () => {\n        onDelete(id, deleteFile ? fileId : undefined);\n        onCancel();\n      },\n      onCancel: () => {\n        onCancel();\n      },\n      children: [/*#__PURE__*/_jsxDEV(Alert, {\n        type: \"warning\",\n        message: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Are you sure you want to delete the function\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this), \" (ID \", id, \")?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), fileFound && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You can also delete the file assosiated with the function by checking the box below\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          labelCol: {\n            span: 4\n          },\n          wrapperCol: {\n            span: 20\n          },\n          children: /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"Delete file\",\n            children: /*#__PURE__*/_jsxDEV(Checkbox, {\n              checked: deleteFile,\n              onChange: ({\n                target: {\n                  checked\n                }\n              }) => setDeleteFile(!!fileId && checked),\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: file?.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, this), \" (ID \", fileId, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(DeleteFunctionModal, \"+2HAWpXoBpTF/VRBskAn9vRZOWs=\", false, function () {\n  return [useFunction, useSDK];\n});\n_c = DeleteFunctionModal;\nvar _c;\n$RefreshReg$(_c, \"DeleteFunctionModal\");","map":{"version":3,"names":["React","useState","Modal","Form","Checkbox","Alert","useSDK","useFunction","DeleteFunctionModal","id","onCancel","onDelete","deleteFile","setDeleteFile","data","cogFunction","name","fileId","files","isSuccess","fileFound","file","e","stopPropagation","undefined","span","target","checked"],"sources":["/Volumes/csvol/fusion/apps/functions-ui/src/components/FunctionModals/DeleteFunctionModal.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\nimport React, { useState } from 'react';\n\nimport { Modal, Form, Checkbox, Alert } from 'antd';\n\nimport { FileInfo } from '@cognite/sdk';\n\nimport { useSDK, useFunction } from '../../utils/hooks';\n\ntype Props = {\n  id: number;\n  onCancel: () => void;\n  onDelete: (id: number, fileId?: number) => void;\n};\n\nexport default function DeleteFunctionModal({ id, onCancel, onDelete }: Props) {\n  const [deleteFile, setDeleteFile] = useState(false);\n\n  const { data: cogFunction } = useFunction(id);\n  const name = cogFunction?.name;\n  const fileId = cogFunction?.fileId;\n\n  const { data: files, isSuccess: fileFound } = useSDK<FileInfo[]>(\n    'files',\n    'retrieve',\n    [{ id: fileId }]\n  );\n  const file = files && files[0];\n\n  return (\n    <div onClick={(e) => e.stopPropagation()}>\n      <Modal\n        title=\"Are you sure?\"\n        visible\n        okText=\"Delete\"\n        onOk={() => {\n          onDelete(id, deleteFile ? fileId : undefined);\n          onCancel();\n        }}\n        onCancel={() => {\n          onCancel();\n        }}\n      >\n        <Alert\n          type=\"warning\"\n          message={\n            <p>\n              Are you sure you want to delete the function{' '}\n              <strong>{name}</strong> (ID {id})?\n            </p>\n          }\n        />\n\n        {fileFound && (\n          <>\n            <p>\n              You can also delete the file assosiated with the function by\n              checking the box below\n            </p>\n            <Form labelCol={{ span: 4 }} wrapperCol={{ span: 20 }}>\n              <Form.Item label=\"Delete file\">\n                <Checkbox\n                  checked={deleteFile}\n                  onChange={({ target: { checked } }) =>\n                    setDeleteFile(!!fileId && checked)\n                  }\n                >\n                  <strong>{file?.name}</strong> (ID {fileId})\n                </Checkbox>\n              </Form.Item>\n            </Form>\n          </>\n        )}\n      </Modal>\n    </div>\n  );\n}\n"],"mappings":";;AAAA;AACA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAEvC,SAASC,KAAK,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,MAAM;AAInD,SAASC,MAAM,EAAEC,WAAW,QAAQ,mBAAmB;AAAC;AAAA;AAQxD,eAAe,SAASC,mBAAmB,CAAC;EAAEC,EAAE;EAAEC,QAAQ;EAAEC;AAAgB,CAAC,EAAE;EAAA;EAC7E,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAEnD,MAAM;IAAEa,IAAI,EAAEC;EAAY,CAAC,GAAGR,WAAW,CAACE,EAAE,CAAC;EAC7C,MAAMO,IAAI,GAAGD,WAAW,EAAEC,IAAI;EAC9B,MAAMC,MAAM,GAAGF,WAAW,EAAEE,MAAM;EAElC,MAAM;IAAEH,IAAI,EAAEI,KAAK;IAAEC,SAAS,EAAEC;EAAU,CAAC,GAAGd,MAAM,CAClD,OAAO,EACP,UAAU,EACV,CAAC;IAAEG,EAAE,EAAEQ;EAAO,CAAC,CAAC,CACjB;EACD,MAAMI,IAAI,GAAGH,KAAK,IAAIA,KAAK,CAAC,CAAC,CAAC;EAE9B,oBACE;IAAK,OAAO,EAAGI,CAAC,IAAKA,CAAC,CAACC,eAAe,EAAG;IAAA,uBACvC,QAAC,KAAK;MACJ,KAAK,EAAC,eAAe;MACrB,OAAO;MACP,MAAM,EAAC,QAAQ;MACf,IAAI,EAAE,MAAM;QACVZ,QAAQ,CAACF,EAAE,EAAEG,UAAU,GAAGK,MAAM,GAAGO,SAAS,CAAC;QAC7Cd,QAAQ,EAAE;MACZ,CAAE;MACF,QAAQ,EAAE,MAAM;QACdA,QAAQ,EAAE;MACZ,CAAE;MAAA,wBAEF,QAAC,KAAK;QACJ,IAAI,EAAC,SAAS;QACd,OAAO,eACL;UAAA,WAAG,8CAC2C,EAAC,GAAG,eAChD;YAAA,UAASM;UAAI;YAAA;YAAA;YAAA;UAAA,QAAU,SAAK,EAACP,EAAE,EAAC,IAClC;QAAA;UAAA;UAAA;UAAA;QAAA;MACD;QAAA;QAAA;QAAA;MAAA,QACD,EAEDW,SAAS,iBACR;QAAA,wBACE;UAAA,UAAG;QAGH;UAAA;UAAA;UAAA;QAAA,QAAI,eACJ,QAAC,IAAI;UAAC,QAAQ,EAAE;YAAEK,IAAI,EAAE;UAAE,CAAE;UAAC,UAAU,EAAE;YAAEA,IAAI,EAAE;UAAG,CAAE;UAAA,uBACpD,QAAC,IAAI,CAAC,IAAI;YAAC,KAAK,EAAC,aAAa;YAAA,uBAC5B,QAAC,QAAQ;cACP,OAAO,EAAEb,UAAW;cACpB,QAAQ,EAAE,CAAC;gBAAEc,MAAM,EAAE;kBAAEC;gBAAQ;cAAE,CAAC,KAChCd,aAAa,CAAC,CAAC,CAACI,MAAM,IAAIU,OAAO,CAClC;cAAA,wBAED;gBAAA,UAASN,IAAI,EAAEL;cAAI;gBAAA;gBAAA;gBAAA;cAAA,QAAU,SAAK,EAACC,MAAM,EAAC,GAC5C;YAAA;cAAA;cAAA;cAAA;YAAA;UAAW;YAAA;YAAA;YAAA;UAAA;QACD;UAAA;UAAA;UAAA;QAAA,QACP;MAAA,gBAEV;IAAA;MAAA;MAAA;MAAA;IAAA;EACK;IAAA;IAAA;IAAA;EAAA,QACJ;AAEV;AAAC,GA7DuBT,mBAAmB;EAAA,QAGXD,WAAW,EAIKD,MAAM;AAAA;AAAA,KAP9BE,mBAAmB;AAAA;AAAA"},"metadata":{},"sourceType":"module"}