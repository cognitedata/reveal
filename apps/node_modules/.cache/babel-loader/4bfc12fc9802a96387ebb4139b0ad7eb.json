{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMemo } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { useSDK } from '@cognite/sdk-provider';\nimport { EMPTY_OBJECT } from '@data-exploration-lib/core';\nimport { queryKeys } from '../../../../queryKeys';\nimport { mapFiltersToDocumentSearchFilters } from '../../../internal';\nimport { getDocumentAggregateCount } from '../../network/getDocumentAggregateCount';\nexport const useDocumentFilteredAggregateCount = ({\n  filters = EMPTY_OBJECT,\n  query\n}, searchConfig, options) => {\n  _s();\n  const sdk = useSDK();\n  const transformFilter = useMemo(() => mapFiltersToDocumentSearchFilters(filters, query, searchConfig), [filters, query, searchConfig]);\n  return useQuery(queryKeys.documentsAggregatesCountFiltered(transformFilter, query || ''), () => {\n    return getDocumentAggregateCount({\n      filter: transformFilter\n    }, sdk);\n  }, {\n    ...options\n  });\n};\n_s(useDocumentFilteredAggregateCount, \"yiUB+0aJ6hd7G94jQXtw7ygUsTc=\", false, function () {\n  return [useSDK, useQuery];\n});","map":{"version":3,"names":["useMemo","useQuery","useSDK","EMPTY_OBJECT","queryKeys","mapFiltersToDocumentSearchFilters","getDocumentAggregateCount","useDocumentFilteredAggregateCount","filters","query","searchConfig","options","sdk","transformFilter","documentsAggregatesCountFiltered","filter"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/documents/service/queries/aggregates/useDocumentFilteredAggregateCount.ts"],"sourcesContent":["import { useMemo } from 'react';\n\nimport { useQuery, UseQueryOptions } from '@tanstack/react-query';\n\nimport { useSDK } from '@cognite/sdk-provider';\n\nimport {\n  EMPTY_OBJECT,\n  FileConfigType,\n  InternalDocumentFilter,\n} from '@data-exploration-lib/core';\n\nimport { queryKeys } from '../../../../queryKeys';\nimport { mapFiltersToDocumentSearchFilters } from '../../../internal';\nimport { getDocumentAggregateCount } from '../../network/getDocumentAggregateCount';\n\nexport const useDocumentFilteredAggregateCount = (\n  {\n    filters = EMPTY_OBJECT,\n    query,\n  }: {\n    filters?: InternalDocumentFilter;\n    query?: string;\n  },\n  searchConfig?: FileConfigType,\n  options?: UseQueryOptions\n) => {\n  const sdk = useSDK();\n\n  const transformFilter = useMemo(\n    () => mapFiltersToDocumentSearchFilters(filters, query, searchConfig),\n    [filters, query, searchConfig]\n  );\n\n  return useQuery(\n    queryKeys.documentsAggregatesCountFiltered(transformFilter, query || ''),\n    () => {\n      return getDocumentAggregateCount(\n        {\n          filter: transformFilter as any,\n        },\n        sdk\n      );\n    },\n    {\n      ...(options as any),\n    }\n  );\n};\n"],"mappings":";AAAA,SAASA,OAAO,QAAQ,OAAO;AAE/B,SAASC,QAAQ,QAAyB,uBAAuB;AAEjE,SAASC,MAAM,QAAQ,uBAAuB;AAE9C,SACEC,YAAY,QAGP,4BAA4B;AAEnC,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,iCAAiC,QAAQ,mBAAmB;AACrE,SAASC,yBAAyB,QAAQ,yCAAyC;AAEnF,OAAO,MAAMC,iCAAiC,GAAG,CAC/C;EACEC,OAAO,GAAGL,YAAY;EACtBM;AAIF,CAAC,EACDC,YAA6B,EAC7BC,OAAyB,KACtB;EAAA;EACH,MAAMC,GAAG,GAAGV,MAAM,EAAE;EAEpB,MAAMW,eAAe,GAAGb,OAAO,CAC7B,MAAMK,iCAAiC,CAACG,OAAO,EAAEC,KAAK,EAAEC,YAAY,CAAC,EACrE,CAACF,OAAO,EAAEC,KAAK,EAAEC,YAAY,CAAC,CAC/B;EAED,OAAOT,QAAQ,CACbG,SAAS,CAACU,gCAAgC,CAACD,eAAe,EAAEJ,KAAK,IAAI,EAAE,CAAC,EACxE,MAAM;IACJ,OAAOH,yBAAyB,CAC9B;MACES,MAAM,EAAEF;IACV,CAAC,EACDD,GAAG,CACJ;EACH,CAAC,EACD;IACE,GAAID;EACN,CAAC,CACF;AACH,CAAC;AAAC,GAhCWJ,iCAAiC;EAAA,QAWhCL,MAAM,EAOXD,QAAQ;AAAA"},"metadata":{},"sourceType":"module"}