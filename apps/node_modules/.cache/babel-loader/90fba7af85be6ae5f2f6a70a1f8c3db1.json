{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMemo } from 'react';\nimport omit from 'lodash/omit';\nimport { mergeDynamicFilterOptions } from '../../../utils/mergeDynamicFilterOptions';\nimport { useDocumentsUniqueValuesByProperty } from '../../service';\nimport { mapFiltersToDocumentSearchFilters } from '../transformers';\nexport const useDocumentsFilterOptions = ({\n  property,\n  searchQuery,\n  filter = {},\n  query\n}) => {\n  _s();\n  const {\n    data = [],\n    isLoading,\n    isError\n  } = useDocumentsUniqueValuesByProperty({\n    property,\n    query\n  });\n  const {\n    data: dynamicData = []\n  } = useDocumentsUniqueValuesByProperty({\n    property,\n    filter: mapFiltersToDocumentSearchFilters(omit(filter, property), searchQuery),\n    query\n  });\n  const options = useMemo(() => {\n    return mergeDynamicFilterOptions(data, dynamicData);\n  }, [data, dynamicData]);\n  return {\n    options,\n    isLoading,\n    isError\n  };\n};\n_s(useDocumentsFilterOptions, \"2Hnr1egz6K76nwMDY0pzf57otC8=\", false, function () {\n  return [useDocumentsUniqueValuesByProperty, useDocumentsUniqueValuesByProperty];\n});","map":{"version":3,"names":["useMemo","omit","mergeDynamicFilterOptions","useDocumentsUniqueValuesByProperty","mapFiltersToDocumentSearchFilters","useDocumentsFilterOptions","property","searchQuery","filter","query","data","isLoading","isError","dynamicData","options"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/documents/internal/queries/useDocumentsFilterOptions.ts"],"sourcesContent":["import { useMemo } from 'react';\n\nimport omit from 'lodash/omit';\n\nimport { InternalDocumentFilter } from '@data-exploration-lib/core';\n\nimport { mergeDynamicFilterOptions } from '../../../utils/mergeDynamicFilterOptions';\nimport { useDocumentsUniqueValuesByProperty } from '../../service';\nimport { DocumentProperty, DocumentSourceProperty } from '../../service/types';\nimport { mapFiltersToDocumentSearchFilters } from '../transformers';\n\ninterface Props {\n  property: Exclude<DocumentProperty, 'labels'> | DocumentSourceProperty;\n  searchQuery?: string;\n  filter?: InternalDocumentFilter;\n  query?: string;\n}\n\nexport const useDocumentsFilterOptions = ({\n  property,\n  searchQuery,\n  filter = {},\n  query,\n}: Props) => {\n  const {\n    data = [],\n    isLoading,\n    isError,\n  } = useDocumentsUniqueValuesByProperty({\n    property,\n    query,\n  });\n\n  const { data: dynamicData = [] } = useDocumentsUniqueValuesByProperty({\n    property,\n    filter: mapFiltersToDocumentSearchFilters(\n      omit(filter, property),\n      searchQuery\n    ),\n    query,\n  });\n\n  const options = useMemo(() => {\n    return mergeDynamicFilterOptions(data, dynamicData);\n  }, [data, dynamicData]);\n\n  return {\n    options,\n    isLoading,\n    isError,\n  };\n};\n"],"mappings":";AAAA,SAASA,OAAO,QAAQ,OAAO;AAE/B,OAAOC,IAAI,MAAM,aAAa;AAI9B,SAASC,yBAAyB,QAAQ,0CAA0C;AACpF,SAASC,kCAAkC,QAAQ,eAAe;AAElE,SAASC,iCAAiC,QAAQ,iBAAiB;AASnE,OAAO,MAAMC,yBAAyB,GAAG,CAAC;EACxCC,QAAQ;EACRC,WAAW;EACXC,MAAM,GAAG,CAAC,CAAC;EACXC;AACK,CAAC,KAAK;EAAA;EACX,MAAM;IACJC,IAAI,GAAG,EAAE;IACTC,SAAS;IACTC;EACF,CAAC,GAAGT,kCAAkC,CAAC;IACrCG,QAAQ;IACRG;EACF,CAAC,CAAC;EAEF,MAAM;IAAEC,IAAI,EAAEG,WAAW,GAAG;EAAG,CAAC,GAAGV,kCAAkC,CAAC;IACpEG,QAAQ;IACRE,MAAM,EAAEJ,iCAAiC,CACvCH,IAAI,CAACO,MAAM,EAAEF,QAAQ,CAAC,EACtBC,WAAW,CACZ;IACDE;EACF,CAAC,CAAC;EAEF,MAAMK,OAAO,GAAGd,OAAO,CAAC,MAAM;IAC5B,OAAOE,yBAAyB,CAACQ,IAAI,EAAEG,WAAW,CAAC;EACrD,CAAC,EAAE,CAACH,IAAI,EAAEG,WAAW,CAAC,CAAC;EAEvB,OAAO;IACLC,OAAO;IACPH,SAAS;IACTC;EACF,CAAC;AACH,CAAC;AAAC,GAjCWP,yBAAyB;EAAA,QAUhCF,kCAAkC,EAKHA,kCAAkC;AAAA"},"metadata":{},"sourceType":"module"}