{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMemo } from 'react';\nimport omit from 'lodash/omit';\nimport { mergeDynamicFilterOptions } from '../../../utils/mergeDynamicFilterOptions';\nimport { useDocumentsMetadataKeysAggregateQuery } from '../../service';\nimport { mapFiltersToDocumentSearchFilters } from '../transformers';\nexport const useDocumentsMetadataFilterOptions = ({\n  query,\n  searchQuery,\n  filter\n}) => {\n  _s();\n  const {\n    data = [],\n    isLoading,\n    isError\n  } = useDocumentsMetadataKeysAggregateQuery({\n    query\n  });\n  const {\n    data: dynamicData = []\n  } = useDocumentsMetadataKeysAggregateQuery({\n    filter: mapFiltersToDocumentSearchFilters(omit(filter, 'metadata'), searchQuery),\n    query\n  });\n  const options = useMemo(() => {\n    return mergeDynamicFilterOptions(data, dynamicData);\n  }, [data, dynamicData]);\n  return {\n    options,\n    isLoading,\n    isError\n  };\n};\n_s(useDocumentsMetadataFilterOptions, \"Dhc302dzpGpq3rKQLNRvfKessQY=\", false, function () {\n  return [useDocumentsMetadataKeysAggregateQuery, useDocumentsMetadataKeysAggregateQuery];\n});","map":{"version":3,"names":["useMemo","omit","mergeDynamicFilterOptions","useDocumentsMetadataKeysAggregateQuery","mapFiltersToDocumentSearchFilters","useDocumentsMetadataFilterOptions","query","searchQuery","filter","data","isLoading","isError","dynamicData","options"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/documents/internal/queries/useDocumentsMetadataFilterOptions.ts"],"sourcesContent":["import { useMemo } from 'react';\n\nimport omit from 'lodash/omit';\n\nimport { InternalDocumentFilter } from '@data-exploration-lib/core';\n\nimport { mergeDynamicFilterOptions } from '../../../utils/mergeDynamicFilterOptions';\nimport { useDocumentsMetadataKeysAggregateQuery } from '../../service';\nimport { mapFiltersToDocumentSearchFilters } from '../transformers';\n\ninterface Props {\n  query?: string;\n  searchQuery?: string;\n  filter?: InternalDocumentFilter;\n}\n\nexport const useDocumentsMetadataFilterOptions = ({\n  query,\n  searchQuery,\n  filter,\n}: Props) => {\n  const {\n    data = [],\n    isLoading,\n    isError,\n  } = useDocumentsMetadataKeysAggregateQuery({\n    query,\n  });\n\n  const { data: dynamicData = [] } = useDocumentsMetadataKeysAggregateQuery({\n    filter: mapFiltersToDocumentSearchFilters(\n      omit(filter, 'metadata'),\n      searchQuery\n    ),\n    query,\n  });\n\n  const options = useMemo(() => {\n    return mergeDynamicFilterOptions(data, dynamicData);\n  }, [data, dynamicData]);\n\n  return {\n    options,\n    isLoading,\n    isError,\n  };\n};\n"],"mappings":";AAAA,SAASA,OAAO,QAAQ,OAAO;AAE/B,OAAOC,IAAI,MAAM,aAAa;AAI9B,SAASC,yBAAyB,QAAQ,0CAA0C;AACpF,SAASC,sCAAsC,QAAQ,eAAe;AACtE,SAASC,iCAAiC,QAAQ,iBAAiB;AAQnE,OAAO,MAAMC,iCAAiC,GAAG,CAAC;EAChDC,KAAK;EACLC,WAAW;EACXC;AACK,CAAC,KAAK;EAAA;EACX,MAAM;IACJC,IAAI,GAAG,EAAE;IACTC,SAAS;IACTC;EACF,CAAC,GAAGR,sCAAsC,CAAC;IACzCG;EACF,CAAC,CAAC;EAEF,MAAM;IAAEG,IAAI,EAAEG,WAAW,GAAG;EAAG,CAAC,GAAGT,sCAAsC,CAAC;IACxEK,MAAM,EAAEJ,iCAAiC,CACvCH,IAAI,CAACO,MAAM,EAAE,UAAU,CAAC,EACxBD,WAAW,CACZ;IACDD;EACF,CAAC,CAAC;EAEF,MAAMO,OAAO,GAAGb,OAAO,CAAC,MAAM;IAC5B,OAAOE,yBAAyB,CAACO,IAAI,EAAEG,WAAW,CAAC;EACrD,CAAC,EAAE,CAACH,IAAI,EAAEG,WAAW,CAAC,CAAC;EAEvB,OAAO;IACLC,OAAO;IACPH,SAAS;IACTC;EACF,CAAC;AACH,CAAC;AAAC,GA9BWN,iCAAiC;EAAA,QASxCF,sCAAsC,EAIPA,sCAAsC;AAAA"},"metadata":{},"sourceType":"module"}