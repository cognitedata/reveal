{"ast":null,"code":"import { getAssetsAggregate } from './getAssetsAggregate';\nexport const getAssetsMetadataKeysAggregate = (sdk, filters = {}) => {\n  return getAssetsAggregate(sdk, {\n    ...filters,\n    aggregate: 'uniqueProperties',\n    path: ['metadata']\n  }).then(({\n    items\n  }) => {\n    return items.map(({\n      count,\n      value\n    }) => {\n      const metadataKey = value.property[1];\n      return {\n        count,\n        value: metadataKey,\n        values: [metadataKey]\n      };\n    });\n  });\n};","map":{"version":3,"names":["getAssetsAggregate","getAssetsMetadataKeysAggregate","sdk","filters","aggregate","path","then","items","map","count","value","metadataKey","property","values"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/assets/service/network/getAssetsMetadataKeysAggregate.ts"],"sourcesContent":["import { CogniteClient } from '@cognite/sdk';\n\nimport {\n  AssetMetadataProperty,\n  AssetsAggregateFilters,\n  AssetsAggregateUniquePropertiesResponse,\n  AssetsMetadataAggregateResponse,\n} from '../types';\n\nimport { getAssetsAggregate } from './getAssetsAggregate';\n\nexport const getAssetsMetadataKeysAggregate = (\n  sdk: CogniteClient,\n  filters: AssetsAggregateFilters = {}\n): Promise<AssetsMetadataAggregateResponse[]> => {\n  return getAssetsAggregate<AssetsAggregateUniquePropertiesResponse>(sdk, {\n    ...filters,\n    aggregate: 'uniqueProperties',\n    path: ['metadata'],\n  }).then(({ items }) => {\n    return items.map(({ count, value }) => {\n      const metadataKey = (value.property as AssetMetadataProperty)[1];\n      return {\n        count,\n        value: metadataKey,\n        values: [metadataKey],\n      };\n    });\n  });\n};\n"],"mappings":"AASA,SAASA,kBAAkB,QAAQ,sBAAsB;AAEzD,OAAO,MAAMC,8BAA8B,GAAG,CAC5CC,GAAkB,EAClBC,OAA+B,GAAG,CAAC,CAAC,KACW;EAC/C,OAAOH,kBAAkB,CAA0CE,GAAG,EAAE;IACtE,GAAGC,OAAO;IACVC,SAAS,EAAE,kBAAkB;IAC7BC,IAAI,EAAE,CAAC,UAAU;EACnB,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;IAAEC;EAAM,CAAC,KAAK;IACrB,OAAOA,KAAK,CAACC,GAAG,CAAC,CAAC;MAAEC,KAAK;MAAEC;IAAM,CAAC,KAAK;MACrC,MAAMC,WAAW,GAAID,KAAK,CAACE,QAAQ,CAA2B,CAAC,CAAC;MAChE,OAAO;QACLH,KAAK;QACLC,KAAK,EAAEC,WAAW;QAClBE,MAAM,EAAE,CAACF,WAAW;MACtB,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module"}