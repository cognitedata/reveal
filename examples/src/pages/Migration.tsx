/*
 * Copyright 2021 Cognite AS
 */

import { useEffect, useRef } from 'react';
import { CanvasWrapper } from '../components/styled';
import * as THREE from 'three';
import { CogniteClient, Viewer3DAPI } from '@cognite/sdk';
import dat from 'dat.gui';
import {
  AddModelOptions,
  Cognite3DViewer,
  Cognite3DViewerOptions,
  Cognite3DModel,
  CameraControlsOptions,
  CognitePointCloudModel,
  PotreePointColorType,
  PotreePointShape,
  TreeIndexNodeCollection,
  IndexSet,
} from '@cognite/reveal';
import { DebugCameraTool, DebugLoadedSectorsTool, DebugLoadedSectorsToolOptions, ExplodedViewTool, AxisViewTool, HtmlOverlayTool } from '@cognite/reveal/tools';
import * as reveal from '@cognite/reveal';
import { CadNode } from '@cognite/reveal/internals';
import { ClippingUI } from '../utils/ClippingUI';
import { initialCadBudgetUi } from '../utils/CadBudgetUi';
import { authenticateSDKWithEnvironment } from '../utils/example-helpers';
import Peer from 'peerjs';
import { MotionData, Player } from './Playground';

window.THREE = THREE;
(window as any).reveal = reveal;

const phoneCameraData: MotionData[] = [
  {
      "position": {
          "x": -0.0013964390382170677,
          "y": -0.007070933468639851,
          "z": -0.009839745238423347,
          "w": 1
      },
      "rotation": {
          "x": -0.255542637333411,
          "y": 0.030094338982725607,
          "z": 0.013148605274409994,
          "w": 0.9662398281199215
      },
      "matrix": {
          "0": 0.9978429079055786,
          "1": 0.010028638876974583,
          "2": -0.06487675756216049,
          "3": 0,
          "4": -0.04079018533229828,
          "5": 0.869050145149231,
          "6": -0.4930395483970642,
          "7": 0,
          "8": 0.051436640322208405,
          "9": 0.4946223199367523,
          "10": 0.8675845861434937,
          "11": 0,
          "12": -0.0013964390382170677,
          "13": -0.007070933468639851,
          "14": -0.009839745238423347,
          "15": 1
      },
      "timestamp": 1637255262636
  },
  {
      "position": {
          "x": -0.011032603681087494,
          "y": -0.01702142506837845,
          "z": -0.007113181054592133,
          "w": 1
      },
      "rotation": {
          "x": -0.25933527777300114,
          "y": 0.03783032200704393,
          "z": 0.012863933521038446,
          "w": 0.9649604135163318
      },
      "matrix": {
          "0": 0.996806800365448,
          "1": 0.005204899236559868,
          "2": -0.07968167215585709,
          "3": 0,
          "4": -0.044447846710681915,
          "5": 0.8651594519615173,
          "6": -0.49952325224876404,
          "7": 0,
          "8": 0.06633738428354263,
          "9": 0.5014698505401611,
          "10": 0.862628161907196,
          "11": 0,
          "12": -0.011032603681087494,
          "13": -0.01702142506837845,
          "14": -0.007113181054592133,
          "15": 1
      },
      "timestamp": 1637255262995
  },
  {
      "position": {
          "x": -0.0028229025192558765,
          "y": -0.01103956438601017,
          "z": -0.0008461473044008017,
          "w": 1
      },
      "rotation": {
          "x": -0.2499885865515538,
          "y": 0.025431946437824298,
          "z": 0.017353474089383425,
          "w": 0.9677591537316343
      },
      "matrix": {
          "0": 0.9981041550636292,
          "1": 0.0208725742995739,
          "2": -0.05790033936500549,
          "3": 0,
          "4": -0.046303361654281616,
          "5": 0.8744091391563416,
          "6": -0.4829748272895813,
          "7": 0,
          "8": 0.040547654032707214,
          "9": 0.48474016785621643,
          "10": 0.8737178444862366,
          "11": 0,
          "12": -0.0028229025192558765,
          "13": -0.01103956438601017,
          "14": -0.0008461473044008017,
          "15": 1
      },
      "timestamp": 1637255263287
  },
  {
      "position": {
          "x": 0.002870675176382065,
          "y": 0.020496603101491928,
          "z": -0.021097717806696892,
          "w": 1
      },
      "rotation": {
          "x": -0.1990451515671097,
          "y": 0.011185749724351263,
          "z": 0.007111727424846033,
          "w": 0.9799006735244982
      },
      "matrix": {
          "0": 0.9996486306190491,
          "1": 0.00948463473469019,
          "2": -0.024752957746386528,
          "3": 0,
          "4": -0.018390512093901634,
          "5": 0.9206609129905701,
          "6": -0.389929860830307,
          "7": 0,
          "8": 0.019090736284852028,
          "9": 0.39024806022644043,
          "10": 0.920511782169342,
          "11": 0,
          "12": 0.002870675176382065,
          "13": 0.020496603101491928,
          "14": -0.021097717806696892,
          "15": 1
      },
      "timestamp": 1637255263590
  },
  {
      "position": {
          "x": -0.015235485509037971,
          "y": 0.0656171590089798,
          "z": -0.0636129230260849,
          "w": 1
      },
      "rotation": {
          "x": -0.1223670374022904,
          "y": 0.008580520538838189,
          "z": -0.010277360439634902,
          "w": 0.9923946083524754
      },
      "matrix": {
          "0": 0.999641478061676,
          "1": -0.022498339414596558,
          "2": -0.014515304006636143,
          "3": 0,
          "4": 0.018298447132110596,
          "5": 0.9698413610458374,
          "6": -0.24304914474487305,
          "7": 0,
          "8": 0.019545745104551315,
          "9": 0.24269640445709229,
          "10": 0.9699053764343262,
          "11": 0,
          "12": -0.015235485509037971,
          "13": 0.0656171590089798,
          "14": -0.0636129230260849,
          "15": 1
      },
      "timestamp": 1637255263896
  },
  {
      "position": {
          "x": -0.04790244251489639,
          "y": 0.103182353079319,
          "z": -0.1128353551030159,
          "w": 1
      },
      "rotation": {
          "x": 0.001185234911350169,
          "y": -0.002334873847844734,
          "z": -0.05760383532623255,
          "w": 0.9983360865650545
      },
      "matrix": {
          "0": 0.9933527112007141,
          "1": -0.11502151191234589,
          "2": 0.00452542956918478,
          "3": 0,
          "4": 0.11501044034957886,
          "5": 0.9933607578277588,
          "6": 0.0026355208829045296,
          "7": 0,
          "8": -0.00479852594435215,
          "9": -0.0020975300576537848,
          "10": 0.9999862909317017,
          "11": 0,
          "12": -0.04790244251489639,
          "13": 0.103182353079319,
          "14": -0.1128353551030159,
          "15": 1
      },
      "timestamp": 1637255264193
  },
  {
      "position": {
          "x": -0.03965139761567116,
          "y": 0.15133824944496155,
          "z": -0.13640902936458588,
          "w": 1
      },
      "rotation": {
          "x": 0.15017961699772225,
          "y": -0.02504727610903436,
          "z": -0.09912534578867396,
          "w": 0.983357962504098
      },
      "matrix": {
          "0": 0.979093611240387,
          "1": -0.20247457921504974,
          "2": 0.019487664103507996,
          "3": 0,
          "4": 0.18742822110652924,
          "5": 0.9352405071258545,
          "6": 0.30032628774642944,
          "7": 0,
          "8": -0.07903409749269485,
          "9": -0.29039499163627625,
          "10": 0.953637421131134,
          "11": 0,
          "12": -0.03965139761567116,
          "13": 0.15133824944496155,
          "14": -0.13640902936458588,
          "15": 1
      },
      "timestamp": 1637255264497
  },
  {
      "position": {
          "x": -0.01828829199075699,
          "y": 0.19173663854599,
          "z": -0.12272923439741135,
          "w": 1
      },
      "rotation": {
          "x": 0.2949943093963839,
          "y": -0.035882852262738706,
          "z": -0.13250493178254477,
          "w": 0.9455861787222486
      },
      "matrix": {
          "0": 0.962309718132019,
          "1": -0.27176013588905334,
          "2": -0.010315743274986744,
          "3": 0,
          "4": 0.22941917181015015,
          "5": 0.7908415794372559,
          "6": 0.5673943758010864,
          "7": 0,
          "8": -0.14603707194328308,
          "9": -0.5483757257461548,
          "10": 0.8233815431594849,
          "11": 0,
          "12": -0.01828829199075699,
          "13": 0.19173663854599,
          "14": -0.12272923439741135,
          "15": 1
      },
      "timestamp": 1637255264792
  },
  {
      "position": {
          "x": -0.011672316119074821,
          "y": 0.22766083478927612,
          "z": -0.12281418591737747,
          "w": 1
      },
      "rotation": {
          "x": 0.4389400272669091,
          "y": -0.04188090730491862,
          "z": -0.13685920180942074,
          "w": 0.8870440806106143
      },
      "matrix": {
          "0": 0.9590311050415039,
          "1": -0.2795667052268982,
          "2": -0.04584554210305214,
          "3": 0,
          "4": 0.2060338407754898,
          "5": 0.5772023797035217,
          "6": 0.7901818156242371,
          "7": 0,
          "8": -0.1944464147090912,
          "9": -0.767254650592804,
          "10": 0.6111552715301514,
          "11": 0,
          "12": -0.011672316119074821,
          "13": 0.22766083478927612,
          "14": -0.12281418591737747,
          "15": 1
      },
      "timestamp": 1637255265091
  },
  {
      "position": {
          "x": 0.005449808202683926,
          "y": 0.2694261968135834,
          "z": -0.11221391707658768,
          "w": 1
      },
      "rotation": {
          "x": 0.4539621868965237,
          "y": -0.06083732077437465,
          "z": -0.12515279815909294,
          "w": 0.8800874560985805
      },
      "matrix": {
          "0": 0.9612711668014526,
          "1": -0.2755264937877655,
          "2": -0.0065449499525129795,
          "3": 0,
          "4": 0.16505509614944458,
          "5": 0.5565102100372314,
          "6": 0.8142807483673096,
          "7": 0,
          "8": -0.22071361541748047,
          "9": -0.7838249206542969,
          "10": 0.580434262752533,
          "11": 0,
          "12": 0.005449808202683926,
          "13": 0.2694261968135834,
          "14": -0.11221391707658768,
          "15": 1
      },
      "timestamp": 1637255265388
  },
  {
      "position": {
          "x": 0.0021138815209269524,
          "y": 0.2563941478729248,
          "z": -0.17124053835868835,
          "w": 1
      },
      "rotation": {
          "x": 0.27427442752920905,
          "y": -0.04047152750374534,
          "z": -0.09241237783724825,
          "w": 0.9563448887757512
      },
      "matrix": {
          "0": 0.9796440005302429,
          "1": -0.19895681738853455,
          "2": 0.026716772466897964,
          "3": 0,
          "4": 0.15455560386180878,
          "5": 0.8324669599533081,
          "6": 0.5320820212364197,
          "7": 0,
          "8": -0.12810218334197998,
          "9": -0.5171217322349548,
          "10": 0.8462711572647095,
          "11": 0,
          "12": 0.0021138815209269524,
          "13": 0.2563941478729248,
          "14": -0.17124053835868835,
          "15": 1
      },
      "timestamp": 1637255265686
  },
  {
      "position": {
          "x": -0.02600192092359066,
          "y": 0.220462828874588,
          "z": -0.25553759932518005,
          "w": 1
      },
      "rotation": {
          "x": 0.062186225248154994,
          "y": 0.00936023054860131,
          "z": -0.03616881243855985,
          "w": 0.9973650668036489
      },
      "matrix": {
          "0": 0.9972084164619446,
          "1": -0.07098286598920822,
          "2": -0.023169538006186485,
          "3": 0,
          "4": 0.07331117242574692,
          "5": 0.9896493554115295,
          "6": 0.12336763739585876,
          "7": 0,
          "8": 0.014172730036079884,
          "9": -0.12472182512283325,
          "10": 0.9920905232429504,
          "11": 0,
          "12": -0.02600192092359066,
          "13": 0.220462828874588,
          "14": -0.25553759932518005,
          "15": 1
      },
      "timestamp": 1637255265996
  },
  {
      "position": {
          "x": -0.05317988991737366,
          "y": 0.11538880318403244,
          "z": -0.30927354097366333,
          "w": 1
      },
      "rotation": {
          "x": -0.12695007081643275,
          "y": 0.024067206297008453,
          "z": -0.010343820304256153,
          "w": 0.9915631369117517
      },
      "matrix": {
          "0": 0.9986275434494019,
          "1": -0.026623768731951714,
          "2": -0.045102011412382126,
          "3": 0,
          "4": 0.014402436092495918,
          "5": 0.9675533771514893,
          "6": -0.252255916595459,
          "7": 0,
          "8": 0.05035460740327835,
          "9": 0.2512601315975189,
          "10": 0.9666088819503784,
          "11": 0,
          "12": -0.05317988991737366,
          "13": 0.11538880318403244,
          "14": -0.30927354097366333,
          "15": 1
      },
      "timestamp": 1637255266293
  },
  {
      "position": {
          "x": -0.08521369099617004,
          "y": 0.015189498662948608,
          "z": -0.3431980311870575,
          "w": 1
      },
      "rotation": {
          "x": -0.2346215990462256,
          "y": 0.07081678701909436,
          "z": -0.003484014347279252,
          "w": 0.9694975758511789
      },
      "matrix": {
          "0": 0.9899457097053528,
          "1": -0.0399857833981514,
          "2": -0.13567855954170227,
          "3": 0,
          "4": -0.026474827900528908,
          "5": 0.8898811340332031,
          "6": -0.45542359352111816,
          "7": 0,
          "8": 0.1389482617378235,
          "9": 0.45443668961524963,
          "10": 0.8798753619194031,
          "11": 0,
          "12": -0.08521369099617004,
          "13": 0.015189498662948608,
          "14": -0.3431980311870575,
          "15": 1
      },
      "timestamp": 1637255266597
  },
  {
      "position": {
          "x": -0.15769481658935547,
          "y": -0.017559072002768517,
          "z": -0.38064342737197876,
          "w": 1
      },
      "rotation": {
          "x": -0.23016368355909378,
          "y": 0.2219050526753701,
          "z": -0.006473960269082724,
          "w": 0.9474919071982013
      },
      "matrix": {
          "0": 0.901432454586029,
          "1": -0.11441701650619507,
          "2": -0.41752633452415466,
          "3": 0,
          "4": -0.08988092839717865,
          "5": 0.8939655423164368,
          "6": -0.43902966380119324,
          "7": 0,
          "8": 0.4234866201877594,
          "9": 0.433283269405365,
          "10": 0.795565664768219,
          "11": 0,
          "12": -0.15769481658935547,
          "13": -0.017559072002768517,
          "14": -0.38064342737197876,
          "15": 1
      },
      "timestamp": 1637255266893
  },
  {
      "position": {
          "x": -0.22282609343528748,
          "y": 0.008600285276770592,
          "z": -0.3903387784957886,
          "w": 1
      },
      "rotation": {
          "x": -0.13648349182441025,
          "y": 0.4546227724609701,
          "z": -0.004950085957900897,
          "w": 0.8801510596871008
      },
      "matrix": {
          "0": 0.5865871906280518,
          "1": -0.13281063735485077,
          "2": -0.7989221215248108,
          "3": 0,
          "4": -0.11538338661193848,
          "5": 0.9626954793930054,
          "6": -0.24475297331809998,
          "7": 0,
          "8": 0.8016245365142822,
          "9": 0.23575130105018616,
          "10": 0.5493807196617126,
          "11": 0,
          "12": -0.22282609343528748,
          "13": 0.008600285276770592,
          "14": -0.3903387784957886,
          "15": 1
      },
      "timestamp": 1637255267193
  },
  {
      "position": {
          "x": -0.2626635730266571,
          "y": 0.029826201498508453,
          "z": -0.353643536567688,
          "w": 1
      },
      "rotation": {
          "x": -0.04379364709895454,
          "y": 0.7025052311585682,
          "z": 0.03598394735729819,
          "w": 0.7094178403460164
      },
      "matrix": {
          "0": 0.01038311142474413,
          "1": -0.010475223883986473,
          "2": -0.9998912215232849,
          "3": 0,
          "4": -0.11258584260940552,
          "5": 0.9935745596885681,
          "6": -0.011578163132071495,
          "7": 0,
          "8": 0.9935877323150635,
          "9": 0.11269381642341614,
          "10": 0.009137033484876156,
          "11": 0,
          "12": -0.2626635730266571,
          "13": 0.029826201498508453,
          "14": -0.353643536567688,
          "15": 1
      },
      "timestamp": 1637255267485
  },
  {
      "position": {
          "x": -0.26036161184310913,
          "y": 0.032541826367378235,
          "z": -0.3468671441078186,
          "w": 1
      },
      "rotation": {
          "x": -0.016074625714786784,
          "y": 0.7384953542354468,
          "z": 0.041392263478858576,
          "w": 0.67279484146721
      },
      "matrix": {
          "0": -0.09417740255594254,
          "1": 0.03195492550730705,
          "2": -0.9950423240661621,
          "3": 0,
          "4": -0.07943907380104065,
          "5": 0.9960565567016602,
          "6": 0.03950614109635353,
          "7": 0,
          "8": 0.9923808574676514,
          "9": 0.0827658399939537,
          "10": -0.09126754850149155,
          "11": 0,
          "12": -0.26036161184310913,
          "13": 0.032541826367378235,
          "14": -0.3468671441078186,
          "15": 1
      },
      "timestamp": 1637255267789
  },
  {
      "position": {
          "x": -0.24510106444358826,
          "y": 0.038284704089164734,
          "z": -0.3640139400959015,
          "w": 1
      },
      "rotation": {
          "x": -0.052167920080824215,
          "y": 0.59253072014148,
          "z": 0.04086493860964419,
          "w": 0.8028174827415568
      },
      "matrix": {
          "0": 0.2944747805595398,
          "1": 0.0037919834721833467,
          "2": -0.9556516408920288,
          "3": 0,
          "4": -0.12743636965751648,
          "5": 0.9912171363830566,
          "6": -0.03533516079187393,
          "7": 0,
          "8": 0.9471243023872375,
          "9": 0.13219010829925537,
          "10": 0.2923716902732849,
          "11": 0,
          "12": -0.24510106444358826,
          "13": 0.038284704089164734,
          "14": -0.3640139400959015,
          "15": 1
      },
      "timestamp": 1637255268028
  },
  {
      "position": {
          "x": -0.24510106444358826,
          "y": 0.038284704089164734,
          "z": -0.3640139400959015,
          "w": 1
      },
      "rotation": {
          "x": -0.052167920080824215,
          "y": 0.59253072014148,
          "z": 0.04086493860964419,
          "w": 0.8028174827415568
      },
      "matrix": {
          "0": 0.2944747805595398,
          "1": 0.0037919834721833467,
          "2": -0.9556516408920288,
          "3": 0,
          "4": -0.12743636965751648,
          "5": 0.9912171363830566,
          "6": -0.03533516079187393,
          "7": 0,
          "8": 0.9471243023872375,
          "9": 0.13219010829925537,
          "10": 0.2923716902732849,
          "11": 0,
          "12": -0.24510106444358826,
          "13": 0.038284704089164734,
          "14": -0.3640139400959015,
          "15": 1
      },
      "timestamp": 1637255268028
  },
  {
      "position": {
          "x": -0.24510106444358826,
          "y": 0.038284704089164734,
          "z": -0.3640139400959015,
          "w": 1
      },
      "rotation": {
          "x": -0.052167920080824215,
          "y": 0.59253072014148,
          "z": 0.04086493860964419,
          "w": 0.8028174827415568
      },
      "matrix": {
          "0": 0.2944747805595398,
          "1": 0.0037919834721833467,
          "2": -0.9556516408920288,
          "3": 0,
          "4": -0.12743636965751648,
          "5": 0.9912171363830566,
          "6": -0.03533516079187393,
          "7": 0,
          "8": 0.9471243023872375,
          "9": 0.13219010829925537,
          "10": 0.2923716902732849,
          "11": 0,
          "12": -0.24510106444358826,
          "13": 0.038284704089164734,
          "14": -0.3640139400959015,
          "15": 1
      },
      "timestamp": 1637255268028
  },
  {
      "position": {
          "x": -0.24510106444358826,
          "y": 0.038284704089164734,
          "z": -0.3640139400959015,
          "w": 1
      },
      "rotation": {
          "x": -0.052167920080824215,
          "y": 0.59253072014148,
          "z": 0.04086493860964419,
          "w": 0.8028174827415568
      },
      "matrix": {
          "0": 0.2944747805595398,
          "1": 0.0037919834721833467,
          "2": -0.9556516408920288,
          "3": 0,
          "4": -0.12743636965751648,
          "5": 0.9912171363830566,
          "6": -0.03533516079187393,
          "7": 0,
          "8": 0.9471243023872375,
          "9": 0.13219010829925537,
          "10": 0.2923716902732849,
          "11": 0,
          "12": -0.24510106444358826,
          "13": 0.038284704089164734,
          "14": -0.3640139400959015,
          "15": 1
      },
      "timestamp": 1637255268028
  },
  {
      "position": {
          "x": -0.24510106444358826,
          "y": 0.038284704089164734,
          "z": -0.3640139400959015,
          "w": 1
      },
      "rotation": {
          "x": -0.052167920080824215,
          "y": 0.59253072014148,
          "z": 0.04086493860964419,
          "w": 0.8028174827415568
      },
      "matrix": {
          "0": 0.2944747805595398,
          "1": 0.0037919834721833467,
          "2": -0.9556516408920288,
          "3": 0,
          "4": -0.12743636965751648,
          "5": 0.9912171363830566,
          "6": -0.03533516079187393,
          "7": 0,
          "8": 0.9471243023872375,
          "9": 0.13219010829925537,
          "10": 0.2923716902732849,
          "11": 0,
          "12": -0.24510106444358826,
          "13": 0.038284704089164734,
          "14": -0.3640139400959015,
          "15": 1
      },
      "timestamp": 1637255268028
  },
  {
      "position": {
          "x": -0.4153929054737091,
          "y": -0.15880201756954193,
          "z": -0.5128859877586365,
          "w": 1
      },
      "rotation": {
          "x": -0.18264729080801634,
          "y": 0.6708890725863722,
          "z": 0.047401132985760396,
          "w": 0.7171477895359895
      },
      "matrix": {
          "0": 0.09532194584608078,
          "1": -0.17708486318588257,
          "2": -0.979568362236023,
          "3": 0,
          "4": -0.31305938959121704,
          "5": 0.9287862181663513,
          "6": -0.19836826622486115,
          "7": 0,
          "8": 0.9449375867843628,
          "9": 0.3255719542503357,
          "10": 0.03309563174843788,
          "11": 0,
          "12": -0.4153929054737091,
          "13": -0.15880201756954193,
          "14": -0.5128859877586365,
          "15": 1
      },
      "timestamp": 1637255269587
  },
  {
      "position": {
          "x": -0.6387889981269836,
          "y": -0.06587770581245422,
          "z": -0.5579297542572021,
          "w": 1
      },
      "rotation": {
          "x": -0.13758355112819082,
          "y": 0.6412551996368914,
          "z": 0.08073734402783661,
          "w": 0.7505624668719706
      },
      "matrix": {
          "0": 0.16454648971557617,
          "1": -0.05525549128651619,
          "2": -0.9848203659057617,
          "3": 0,
          "4": -0.29764917492866516,
          "5": 0.9491044878959656,
          "6": -0.10298360139131546,
          "7": 0,
          "8": 0.9403878450393677,
          "9": 0.31007659435272217,
          "10": 0.13972507417201996,
          "11": 0,
          "12": -0.6387889981269836,
          "13": -0.06587770581245422,
          "14": -0.5579297542572021,
          "15": 1
      },
      "timestamp": 1637255269890
  },
  {
      "position": {
          "x": -0.13983315229415894,
          "y": 0.10194830596446991,
          "z": -0.7640491127967834,
          "w": 1
      },
      "rotation": {
          "x": -0.14076312356512038,
          "y": 0.015550568401270327,
          "z": 0.016504018931835774,
          "w": 0.9897835825197778
      },
      "matrix": {
          "0": 0.9989715814590454,
          "1": 0.02829292044043541,
          "2": -0.035429708659648895,
          "3": 0,
          "4": -0.03704870492219925,
          "5": 0.9598267078399658,
          "6": -0.2781367599964142,
          "7": 0,
          "8": 0.026137078180909157,
          "9": 0.2791633605957031,
          "10": 0.9598878622055054,
          "11": 0,
          "12": -0.13983315229415894,
          "13": 0.10194830596446991,
          "14": -0.7640491127967834,
          "15": 1
      },
      "timestamp": 1637255270187
  },
  {
      "position": {
          "x": -0.17142772674560547,
          "y": 0.016441401094198227,
          "z": -0.7205061316490173,
          "w": 1
      },
      "rotation": {
          "x": -0.21780044642012347,
          "y": 0.021750979083459014,
          "z": 0.03128951812652648,
          "w": 0.9752491099731985
      },
      "matrix": {
          "0": 0.9970957040786743,
          "1": 0.05155540257692337,
          "2": -0.056054987013339996,
          "3": 0,
          "4": -0.07050489634275436,
          "5": 0.9031678438186646,
          "6": -0.4234582185745239,
          "7": 0,
          "8": 0.028795504942536354,
          "9": 0.42618051171302795,
          "10": 0.9041797518730164,
          "11": 0,
          "12": -0.17142772674560547,
          "13": 0.016441401094198227,
          "14": -0.7205061316490173,
          "15": 1
      },
      "timestamp": 1637255270494
  },
  {
      "position": {
          "x": -0.205900639295578,
          "y": -0.04537348449230194,
          "z": -0.7862743139266968,
          "w": 1
      },
      "rotation": {
          "x": -0.25779477756927327,
          "y": -0.001382528655945075,
          "z": 0.02589344791630376,
          "w": 0.9658516814850664
      },
      "matrix": {
          "0": 0.9986552596092224,
          "1": 0.05073127895593643,
          "2": -0.010679756291210651,
          "3": 0,
          "4": -0.049305643886327744,
          "5": 0.8657427430152893,
          "6": -0.4980546236038208,
          "7": 0,
          "8": -0.01602103002369404,
          "9": 0.4979114532470703,
          "10": 0.8670798540115356,
          "11": 0,
          "12": -0.205900639295578,
          "13": -0.04537348449230194,
          "14": -0.7862743139266968,
          "15": 1
      },
      "timestamp": 1637255270789
  },
  {
      "position": {
          "x": -0.23217932879924774,
          "y": -0.06954364478588104,
          "z": -0.9454085826873779,
          "w": 1
      },
      "rotation": {
          "x": -0.266247298670202,
          "y": -0.027097255280592862,
          "z": 0.015069215505220189,
          "w": 0.9634059546479542
      },
      "matrix": {
          "0": 0.9980773329734802,
          "1": 0.04346468672156334,
          "2": 0.0441870391368866,
          "3": 0,
          "4": -0.01460640411823988,
          "5": 0.857770562171936,
          "6": -0.5138251185417175,
          "7": 0,
          "8": -0.06023558974266052,
          "9": 0.5121918320655823,
          "10": 0.8567562103271484,
          "11": 0,
          "12": -0.23217932879924774,
          "13": -0.06954364478588104,
          "14": -0.9454085826873779,
          "15": 1
      },
      "timestamp": 1637255271082
  },
  {
      "position": {
          "x": -0.25377652049064636,
          "y": -0.07498133182525635,
          "z": -1.0328501462936401,
          "w": 1
      },
      "rotation": {
          "x": -0.2554693578527667,
          "y": -0.031608492009276394,
          "z": 0.011065393033701175,
          "w": 0.9662369624001166
      },
      "matrix": {
          "0": 0.9977568984031677,
          "1": 0.037533584982156754,
          "2": 0.055428847670555115,
          "3": 0,
          "4": -0.005233582574874163,
          "5": 0.8692259192466736,
          "6": -0.4943873882293701,
          "7": 0,
          "8": -0.06673632562160492,
          "9": 0.49298834800720215,
          "10": 0.8674726486206055,
          "11": 0,
          "12": -0.25377652049064636,
          "13": -0.07498133182525635,
          "14": -1.0328501462936401,
          "15": 1
      },
      "timestamp": 1637255271383
  },
  {
      "position": {
          "x": -0.20007772743701935,
          "y": -0.05706024169921875,
          "z": -1.1416507959365845,
          "w": 1
      },
      "rotation": {
          "x": -0.23202009828835451,
          "y": -0.036967586621414056,
          "z": -0.0002970375587407957,
          "w": 0.9720082218265128
      },
      "matrix": {
          "0": 0.9972665905952454,
          "1": 0.01657699979841709,
          "2": 0.07200343161821365,
          "3": 0,
          "4": 0.01773189939558506,
          "5": 0.8923331499099731,
          "6": -0.4510289132595062,
          "7": 0,
          "8": -0.07172776013612747,
          "9": 0.4510728418827057,
          "10": 0.8896000981330872,
          "11": 0,
          "12": -0.20007772743701935,
          "13": -0.05706024169921875,
          "14": -1.1416507959365845,
          "15": 1
      },
      "timestamp": 1637255271699
  },
  {
      "position": {
          "x": -0.15118008852005005,
          "y": -0.023677777498960495,
          "z": -1.2250239849090576,
          "w": 1
      },
      "rotation": {
          "x": -0.2061854707012268,
          "y": -0.03472303318528714,
          "z": 0.005917549567451115,
          "w": 0.9778787477214359
      },
      "matrix": {
          "0": 0.9975185990333557,
          "1": 0.025892062112689018,
          "2": 0.06546960771083832,
          "3": 0,
          "4": 0.0027454826049506664,
          "5": 0.9149050712585449,
          "6": -0.40365973114967346,
          "7": 0,
          "8": -0.07035005837678909,
          "9": 0.4028378129005432,
          "10": 0.912563681602478,
          "11": 0,
          "12": -0.15118008852005005,
          "13": -0.023677777498960495,
          "14": -1.2250239849090576,
          "15": 1
      },
      "timestamp": 1637255271999
  },
  {
      "position": {
          "x": -0.15291213989257812,
          "y": -0.010090237483382225,
          "z": -1.2876945734024048,
          "w": 1
      },
      "rotation": {
          "x": -0.1913202488967772,
          "y": -0.03492805808789234,
          "z": 0.018874406463702382,
          "w": 0.9807244005840413
      },
      "matrix": {
          "0": 0.9968475699424744,
          "1": 0.05038607120513916,
          "2": 0.06128748506307602,
          "3": 0,
          "4": -0.023656288161873817,
          "5": 0.9260806441307068,
          "6": -0.37658336758613586,
          "7": 0,
          "8": -0.07573170959949493,
          "9": 0.3739463984966278,
          "10": 0.9243531823158264,
          "11": 0,
          "12": -0.15291213989257812,
          "13": -0.010090237483382225,
          "14": -1.2876945734024048,
          "15": 1
      },
      "timestamp": 1637255272287
  },
  {
      "position": {
          "x": -0.1918216198682785,
          "y": -0.03189289569854736,
          "z": -1.408429741859436,
          "w": 1
      },
      "rotation": {
          "x": -0.21734532956559208,
          "y": -0.05579588840617003,
          "z": 0.02053204031733232,
          "w": 0.9742824343450917
      },
      "matrix": {
          "0": 0.99293053150177,
          "1": 0.06426196545362473,
          "2": 0.099796824157238,
          "3": 0,
          "4": -0.015754058957099915,
          "5": 0.9046788811683655,
          "6": -0.42580267786979675,
          "7": 0,
          "8": -0.11764699965715408,
          "9": 0.4212202727794647,
          "10": 0.8992956280708313,
          "11": 0,
          "12": -0.1918216198682785,
          "13": -0.03189289569854736,
          "14": -1.408429741859436,
          "15": 1
      },
      "timestamp": 1637255272583
  },
  {
      "position": {
          "x": -0.2487896829843521,
          "y": -0.06929991394281387,
          "z": -1.5273693799972534,
          "w": 1
      },
      "rotation": {
          "x": -0.2616667735058743,
          "y": -0.0918082960231688,
          "z": 0.005056649725528292,
          "w": 0.9607685292087274
      },
      "matrix": {
          "0": 0.9830913543701172,
          "1": 0.05776290223002434,
          "2": 0.17376673221588135,
          "3": 0,
          "4": 0.038329821079969406,
          "5": 0.8630098700523376,
          "6": -0.5037308931350708,
          "7": 0,
          "8": -0.17905937135219574,
          "9": 0.5018739700317383,
          "10": 0.8462034463882446,
          "11": 0,
          "12": -0.2487896829843521,
          "13": -0.06929991394281387,
          "14": -1.5273693799972534,
          "15": 1
      },
      "timestamp": 1637255272894
  },
  {
      "position": {
          "x": -0.2764621376991272,
          "y": -0.10759668052196503,
          "z": -1.6322277784347534,
          "w": 1
      },
      "rotation": {
          "x": -0.3021972140418349,
          "y": -0.11714145405025979,
          "z": -0.012022674064035923,
          "w": 0.9459440675202178
      },
      "matrix": {
          "0": 0.972266674041748,
          "1": 0.04805408790707588,
          "2": 0.2288849651813507,
          "3": 0,
          "4": 0.09354519844055176,
          "5": 0.8170645833015442,
          "6": -0.5689066052436829,
          "7": 0,
          "8": -0.214352086186409,
          "9": 0.5745400190353394,
          "10": 0.7899094223976135,
          "11": 0,
          "12": -0.2764621376991272,
          "13": -0.10759668052196503,
          "14": -1.6322277784347534,
          "15": 1
      },
      "timestamp": 1637255273195
  },
  {
      "position": {
          "x": -0.24085186421871185,
          "y": -0.118922159075737,
          "z": -1.7388107776641846,
          "w": 1
      },
      "rotation": {
          "x": -0.29868289833534084,
          "y": -0.19884039025172412,
          "z": -0.052840955931153635,
          "w": 0.9319114007365853
      },
      "matrix": {
          "0": 0.9153406620025635,
          "1": 0.020294269546866417,
          "2": 0.4021686315536499,
          "3": 0,
          "4": 0.21726667881011963,
          "5": 0.8159926533699036,
          "6": -0.5356780886650085,
          "7": 0,
          "8": -0.33903783559799194,
          "9": 0.5777058005332947,
          "10": 0.742501974105835,
          "11": 0,
          "12": -0.24085186421871185,
          "13": -0.118922159075737,
          "14": -1.7388107776641846,
          "15": 1
      },
      "timestamp": 1637255273492
  },
  {
      "position": {
          "x": -0.1843947172164917,
          "y": -0.09734992682933807,
          "z": -1.7902675867080688,
          "w": 1
      },
      "rotation": {
          "x": -0.2848676934710173,
          "y": -0.323037155778195,
          "z": -0.09380167319858555,
          "w": 0.8976071742741267
      },
      "matrix": {
          "0": 0.7736964821815491,
          "1": 0.015651589259505272,
          "2": 0.6333630681037903,
          "3": 0,
          "4": 0.352439820766449,
          "5": 0.8201032876968384,
          "6": -0.4507957100868225,
          "7": 0,
          "8": -0.5264787673950195,
          "9": 0.5720013976097107,
          "10": 0.6289947628974915,
          "11": 0,
          "12": -0.1843947172164917,
          "13": -0.09734992682933807,
          "14": -1.7902675867080688,
          "15": 1
      },
      "timestamp": 1637255273808
  },
  {
      "position": {
          "x": -0.1410658061504364,
          "y": -0.05950072780251503,
          "z": -1.769252061843872,
          "w": 1
      },
      "rotation": {
          "x": -0.2420727340554667,
          "y": -0.47597435663081505,
          "z": -0.11862496345202973,
          "w": 0.8371244359728114
      },
      "matrix": {
          "0": 0.5187530517578125,
          "1": 0.031833115965127945,
          "2": 0.8543312549591064,
          "3": 0,
          "4": 0.4290485382080078,
          "5": 0.8546578288078308,
          "6": -0.2923651337623596,
          "7": 0,
          "8": -0.7394677996635437,
          "9": 0.5182148814201355,
          "10": 0.4296984076499939,
          "11": 0,
          "12": -0.1410658061504364,
          "13": -0.05950072780251503,
          "14": -1.769252061843872,
          "15": 1
      },
      "timestamp": 1637255274100
  },
  {
      "position": {
          "x": -0.16573964059352875,
          "y": -0.03119957447052002,
          "z": -1.7299312353134155,
          "w": 1
      },
      "rotation": {
          "x": -0.17404192206262947,
          "y": -0.6422061946738193,
          "z": -0.15334998919741039,
          "w": 0.7305918105895194
      },
      "matrix": {
          "0": 0.12810994684696198,
          "1": -0.0005308914696797729,
          "2": 0.9917596578598022,
          "3": 0,
          "4": 0.4476141035556793,
          "5": 0.8923863768577576,
          "6": -0.05734248831868172,
          "7": 0,
          "8": -0.8850023150444031,
          "9": 0.45127183198928833,
          "10": 0.11456122994422913,
          "11": 0,
          "12": -0.16573964059352875,
          "13": -0.03119957447052002,
          "14": -1.7299312353134155,
          "15": 1
      },
      "timestamp": 1637255274392
  },
  {
      "position": {
          "x": -0.236480250954628,
          "y": -0.026917314156889915,
          "z": -1.695978045463562,
          "w": 1
      },
      "rotation": {
          "x": -0.13328564360733453,
          "y": -0.758238975565217,
          "z": -0.1736236910126927,
          "w": 0.6141363098377409
      },
      "matrix": {
          "0": -0.21014304459095,
          "1": -0.01113248523324728,
          "2": 0.9776071906089783,
          "3": 0,
          "4": 0.4153819680213928,
          "5": 0.9041795134544373,
          "6": 0.0995854064822197,
          "7": 0,
          "8": -0.8850410580635071,
          "9": 0.42700761556625366,
          "10": -0.18538279831409454,
          "11": 0,
          "12": -0.236480250954628,
          "13": -0.026917314156889915,
          "14": -1.695978045463562,
          "15": 1
      },
      "timestamp": 1637255274693
  },
  {
      "position": {
          "x": -0.2873685657978058,
          "y": -0.0036793025210499763,
          "z": -1.6441559791564941,
          "w": 1
      },
      "rotation": {
          "x": -0.10758314181045504,
          "y": -0.8245979816079961,
          "z": -0.15437903933174152,
          "w": 0.5335083397110293
      },
      "matrix": {
          "0": -0.4075893461704254,
          "1": 0.012700670398771763,
          "2": 0.9130767583847046,
          "3": 0,
          "4": 0.34215065836906433,
          "5": 0.9291859269142151,
          "6": 0.13980832695960999,
          "7": 0,
          "8": -0.8466424345970154,
          "9": 0.3693942725658417,
          "10": -0.3830718398094177,
          "11": 0,
          "12": -0.2873685657978058,
          "13": -0.0036793025210499763,
          "14": -1.6441559791564941,
          "15": 1
      },
      "timestamp": 1637255274997
  },
  {
      "position": {
          "x": -0.33221957087516785,
          "y": 0.01289486326277256,
          "z": -1.5827958583831787,
          "w": 1
      },
      "rotation": {
          "x": -0.09280896173795934,
          "y": -0.8612796303402889,
          "z": -0.14471837031547694,
          "w": 0.4781636626462219
      },
      "matrix": {
          "0": -0.5254919528961182,
          "1": 0.021470801904797554,
          "2": 0.8505274653434753,
          "3": 0,
          "4": 0.29826706647872925,
          "5": 0.9408861994743347,
          "6": 0.1605302393436432,
          "7": 0,
          "8": -0.796802818775177,
          "9": 0.3380417227745056,
          "10": -0.5008321404457092,
          "11": 0,
          "12": -0.33221957087516785,
          "13": 0.01289486326277256,
          "14": -1.5827958583831787,
          "15": 1
      },
      "timestamp": 1637255275286
  },
  {
      "position": {
          "x": -0.363747239112854,
          "y": 0.01867532730102539,
          "z": -1.5288735628128052,
          "w": 1
      },
      "rotation": {
          "x": -0.08034072359424235,
          "y": -0.8896860552952773,
          "z": -0.1440790595888122,
          "w": 0.4257291577205934
      },
      "matrix": {
          "0": -0.6245998740196228,
          "1": 0.020278722047805786,
          "2": 0.7806811332702637,
          "3": 0,
          "4": 0.26563331484794617,
          "5": 0.9455731511116028,
          "6": 0.18796351552009583,
          "7": 0,
          "8": -0.7343794703483582,
          "9": 0.3247770071029663,
          "10": -0.5959915518760681,
          "11": 0,
          "12": -0.363747239112854,
          "13": 0.01867532730102539,
          "14": -1.5288735628128052,
          "15": 1
      },
      "timestamp": 1637255275598
  },
  {
      "position": {
          "x": -0.39406856894493103,
          "y": 0.007903283461928368,
          "z": -1.4861748218536377,
          "w": 1
      },
      "rotation": {
          "x": -0.06254065075781802,
          "y": -0.9147242621209484,
          "z": -0.15774630980978083,
          "w": 0.36672100162313026
      },
      "matrix": {
          "0": -0.7232086658477783,
          "1": -0.0012828680919483304,
          "2": 0.6906282305717468,
          "3": 0,
          "4": 0.23011265695095062,
          "5": 0.9424095153808594,
          "6": 0.24271881580352783,
          "7": 0,
          "8": -0.6511660218238831,
          "9": 0.33445867896080017,
          "10": -0.6812635064125061,
          "11": 0,
          "12": -0.39406856894493103,
          "13": 0.007903283461928368,
          "14": -1.4861748218536377,
          "15": 1
      },
      "timestamp": 1637255275897
  },
  {
      "position": {
          "x": -0.41647547483444214,
          "y": -0.002896009013056755,
          "z": -1.45379638671875,
          "w": 1
      },
      "rotation": {
          "x": -0.06252510267830846,
          "y": -0.9293964678115628,
          "z": -0.17890764357818992,
          "w": 0.3167094444814629
      },
      "matrix": {
          "0": -0.7915711998939514,
          "1": 0.0028977373149245977,
          "2": 0.6110695004463196,
          "3": 0,
          "4": 0.22954465448856354,
          "5": 0.9281653165817261,
          "6": 0.2929477095603943,
          "7": 0,
          "8": -0.5663245916366577,
          "9": 0.3721568286418915,
          "10": -0.7353740930557251,
          "11": 0,
          "12": -0.41647547483444214,
          "13": -0.002896009013056755,
          "14": -1.45379638671875,
          "15": 1
      },
      "timestamp": 1637255276186
  },
  {
      "position": {
          "x": -0.4376436173915863,
          "y": -0.015893185511231422,
          "z": -1.4444857835769653,
          "w": 1
      },
      "rotation": {
          "x": -0.024077619604558013,
          "y": -0.9394806268176532,
          "z": -0.18703893877997213,
          "w": 0.2860294660494783
      },
      "matrix": {
          "0": -0.8352145552635193,
          "1": -0.06175636127591133,
          "2": 0.5464450120925903,
          "3": 0,
          "4": 0.15223820507526398,
          "5": 0.9288734197616577,
          "6": 0.3376651108264923,
          "7": 0,
          "8": -0.5284311771392822,
          "9": 0.36521273851394653,
          "10": -0.7664068341255188,
          "11": 0,
          "12": -0.4376436173915863,
          "13": -0.015893185511231422,
          "14": -1.4444857835769653,
          "15": 1
      },
      "timestamp": 1637255276490
  },
  {
      "position": {
          "x": -0.5627567172050476,
          "y": -0.03777929022908211,
          "z": -1.5315170288085938,
          "w": 1
      },
      "rotation": {
          "x": 0.2358918698123506,
          "y": -0.9218942763467185,
          "z": -0.10236930728869024,
          "w": 0.2898042337869255
      },
      "matrix": {
          "0": -0.7207367420196533,
          "1": -0.49426862597465515,
          "2": 0.4860413372516632,
          "3": 0,
          "4": -0.3756004571914673,
          "5": 0.8677511811256409,
          "6": 0.3254721760749817,
          "7": 0,
          "8": -0.5826336741447449,
          "9": 0.05202251300215721,
          "10": -0.8110677003860474,
          "11": 0,
          "12": -0.5627567172050476,
          "13": -0.03777929022908211,
          "14": -1.5315170288085938,
          "15": 1
      },
      "timestamp": 1637255276790
  },
  {
      "position": {
          "x": -0.6720011830329895,
          "y": -0.08508603274822235,
          "z": -1.5684376955032349,
          "w": 1
      },
      "rotation": {
          "x": 0.4356395337997895,
          "y": -0.8341627376319092,
          "z": 0.058978060023524945,
          "w": 0.33303500142327747
      },
      "matrix": {
          "0": -0.3986116945743561,
          "1": -0.6875048875808716,
          "2": 0.606997013092041,
          "3": 0,
          "4": -0.7660719156265259,
          "5": 0.6134796738624573,
          "6": 0.19177168607711792,
          "7": 0,
          "8": -0.5042243003845215,
          "9": -0.388560950756073,
          "10": -0.7712183594703674,
          "11": 0,
          "12": -0.6720011830329895,
          "13": -0.08508603274822235,
          "14": -1.5684376955032349,
          "15": 1
      },
      "timestamp": 1637255277088
  },
  {
      "position": {
          "x": -0.6796790957450867,
          "y": -0.09916408360004425,
          "z": -1.5729173421859741,
          "w": 1
      },
      "rotation": {
          "x": 0.46206727996451274,
          "y": -0.803412051539032,
          "z": 0.07197339938856845,
          "w": 0.36856849296771726
      },
      "matrix": {
          "0": -0.30130210518836975,
          "1": -0.6894063949584961,
          "2": 0.6587376594543457,
          "3": 0,
          "4": -0.7955149412155151,
          "5": 0.5626274943351746,
          "6": 0.22495806217193604,
          "7": 0,
          "8": -0.5257114171981812,
          "9": -0.45625537633895874,
          "10": -0.7179539203643799,
          "11": 0,
          "12": -0.6796790957450867,
          "13": -0.09916408360004425,
          "14": -1.5729173421859741,
          "15": 1
      },
      "timestamp": 1637255277389
  },
  {
      "position": {
          "x": -0.6656767725944519,
          "y": -0.07556706666946411,
          "z": -1.572355031967163,
          "w": 1
      },
      "rotation": {
          "x": 0.42901045256451625,
          "y": -0.8174616279502713,
          "z": 0.06492994894645834,
          "w": 0.37880155774375013
      },
      "matrix": {
          "0": -0.34491875767707825,
          "1": -0.6522079110145569,
          "2": 0.6750226020812988,
          "3": 0,
          "4": -0.7505902051925659,
          "5": 0.6234683394432068,
          "6": 0.2188640534877777,
          "7": 0,
          "8": -0.5636001229286194,
          "9": -0.4311750531196594,
          "10": -0.7045868039131165,
          "11": 0,
          "12": -0.6656767725944519,
          "13": -0.07556706666946411,
          "14": -1.572355031967163,
          "15": 1
      },
      "timestamp": 1637255277687
  },
  {
      "position": {
          "x": -0.6652535200119019,
          "y": -0.08117794990539551,
          "z": -1.5714466571807861,
          "w": 1
      },
      "rotation": {
          "x": 0.4196420885989874,
          "y": -0.8042331987225383,
          "z": 0.07762386246938408,
          "w": 0.4136230355337186
      },
      "matrix": {
          "0": -0.30563297867774963,
          "1": -0.6107661128044128,
          "2": 0.7304471731185913,
          "3": 0,
          "4": -0.7391942143440247,
          "5": 0.6357501745223999,
          "6": 0.22229182720184326,
          "7": 0,
          "8": -0.6001502275466919,
          "9": -0.47200262546539307,
          "10": -0.6457809805870056,
          "11": 0,
          "12": -0.6652535200119019,
          "13": -0.08117794990539551,
          "14": -1.5714466571807861,
          "15": 1
      },
      "timestamp": 1637255277991
  },
  {
      "position": {
          "x": -0.6573385000228882,
          "y": -0.07553969323635101,
          "z": -1.5713151693344116,
          "w": 1
      },
      "rotation": {
          "x": 0.4055261820866276,
          "y": -0.8130251683389762,
          "z": 0.07475467172628944,
          "w": 0.4110356801358217
      },
      "matrix": {
          "0": -0.33319640159606934,
          "1": -0.5979523658752441,
          "2": 0.7289947271347046,
          "3": 0,
          "4": -0.720859706401825,
          "5": 0.6599204540252686,
          "6": 0.2118166834115982,
          "7": 0,
          "8": -0.6077347993850708,
          "9": -0.45492634177207947,
          "10": -0.6509228944778442,
          "11": 0,
          "12": -0.6573385000228882,
          "13": -0.07553969323635101,
          "14": -1.5713151693344116,
          "15": 1
      },
      "timestamp": 1637255278291
  },
  {
      "position": {
          "x": -0.6523357033729553,
          "y": -0.07776758074760437,
          "z": -1.5710415840148926,
          "w": 1
      },
      "rotation": {
          "x": 0.4034046702124736,
          "y": -0.8144719757623424,
          "z": 0.06463376068521481,
          "w": 0.4119739672943403
      },
      "matrix": {
          "0": -0.3350841999053955,
          "1": -0.6038686633110046,
          "2": 0.7232295274734497,
          "3": 0,
          "4": -0.7103783488273621,
          "5": 0.6661743521690369,
          "6": 0.22709953784942627,
          "7": 0,
          "8": -0.618935227394104,
          "9": -0.43766915798187256,
          "10": -0.6521997451782227,
          "11": 0,
          "12": -0.6523357033729553,
          "13": -0.07776758074760437,
          "14": -1.5710415840148926,
          "15": 1
      },
      "timestamp": 1637255278581
  },
  {
      "position": {
          "x": -0.6151620149612427,
          "y": -0.07458645850419998,
          "z": -1.5578535795211792,
          "w": 1
      },
      "rotation": {
          "x": 0.3657607896160702,
          "y": -0.8265535995291358,
          "z": -0.0017492887511909136,
          "w": 0.4278143661376076
      },
      "matrix": {
          "0": -0.3663877844810486,
          "1": -0.6061384677886963,
          "2": 0.7059432864189148,
          "3": 0,
          "4": -0.6031450033187866,
          "5": 0.7324320077896118,
          "6": 0.31584712862968445,
          "7": 0,
          "8": -0.7085025310516357,
          "9": -0.3100636303424835,
          "10": -0.6339435577392578,
          "11": 0,
          "12": -0.6151620149612427,
          "13": -0.07458645850419998,
          "14": -1.5578535795211792,
          "15": 1
      },
      "timestamp": 1637255278886
  },
  {
      "position": {
          "x": -0.379120409488678,
          "y": -0.05297103524208069,
          "z": -1.5489082336425781,
          "w": 1
      },
      "rotation": {
          "x": -0.020513753853430412,
          "y": -0.8069410229522954,
          "z": -0.30127922254594014,
          "w": 0.5075984647747253
      },
      "matrix": {
          "0": -0.4838458299636841,
          "1": -0.2727508842945099,
          "2": 0.8315645456314087,
          "3": 0,
          "4": 0.3389644920825958,
          "5": 0.8176199793815613,
          "6": 0.46540361642837524,
          "7": 0,
          "8": -0.8068430423736572,
          "9": 0.5070546269416809,
          "10": -0.30314910411834717,
          "11": 0,
          "12": -0.379120409488678,
          "13": -0.05297103524208069,
          "14": -1.5489082336425781,
          "15": 1
      },
      "timestamp": 1637255279186
  },
  {
      "position": {
          "x": -0.2676165997982025,
          "y": -0.09579288214445114,
          "z": -1.5712037086486816,
          "w": 1
      },
      "rotation": {
          "x": -0.1904496217488826,
          "y": -0.7494275521473013,
          "z": -0.33781707203511485,
          "w": 0.5366254853245731
      },
      "matrix": {
          "0": -0.35152408480644226,
          "1": -0.07710611820220947,
          "2": 0.9329981803894043,
          "3": 0,
          "4": 0.6480188965797424,
          "5": 0.6992171406745911,
          "6": 0.30193859338760376,
          "7": 0,
          "8": -0.6756495833396912,
          "9": 0.7107390761375427,
          "10": -0.19582544267177582,
          "11": 0,
          "12": -0.2676165997982025,
          "13": -0.09579288214445114,
          "14": -1.5712037086486816,
          "15": 1
      },
      "timestamp": 1637255279482
  },
  {
      "position": {
          "x": -0.23813815414905548,
          "y": -0.13981105387210846,
          "z": -1.5574365854263306,
          "w": 1
      },
      "rotation": {
          "x": -0.21846051344465778,
          "y": -0.7411007262123538,
          "z": -0.41764758636580235,
          "w": 0.4781372305895432
      },
      "matrix": {
          "0": -0.44731947779655457,
          "1": -0.07558321207761765,
          "2": 0.8911744952201843,
          "3": 0,
          "4": 0.7231881022453308,
          "5": 0.5556909441947937,
          "6": 0.41012972593307495,
          "7": 0,
          "8": -0.526216447353363,
          "9": 0.8279460072517395,
          "10": -0.1939103901386261,
          "11": 0,
          "12": -0.23813815414905548,
          "13": -0.13981105387210846,
          "14": -1.5574365854263306,
          "15": 1
      },
      "timestamp": 1637255279802
  },
  {
      "position": {
          "x": -0.22502478957176208,
          "y": -0.14352373778820038,
          "z": -1.521120548248291,
          "w": 1
      },
      "rotation": {
          "x": -0.22603721711621994,
          "y": -0.7194440377073771,
          "z": -0.4178850483509434,
          "w": 0.5066355094645371
      },
      "matrix": {
          "0": -0.3844551742076874,
          "1": -0.09818852692842484,
          "2": 0.9179067015647888,
          "3": 0,
          "4": 0.7486729621887207,
          "5": 0.5485584735870361,
          "6": 0.3722529411315918,
          "7": 0,
          "8": -0.5400763750076294,
          "9": 0.8303267359733582,
          "10": -0.13738490641117096,
          "11": 0,
          "12": -0.22502478957176208,
          "13": -0.14352373778820038,
          "14": -1.521120548248291,
          "15": 1
      },
      "timestamp": 1637255280084
  },
  {
      "position": {
          "x": -0.19544832408428192,
          "y": -0.13235589861869812,
          "z": -1.4922308921813965,
          "w": 1
      },
      "rotation": {
          "x": -0.29246781555405854,
          "y": -0.6774814550111242,
          "z": -0.4049318598334697,
          "w": 0.5399181825729289
      },
      "matrix": {
          "0": -0.24590182304382324,
          "1": -0.04097709804773331,
          "2": 0.9684280157089233,
          "3": 0,
          "4": 0.8335431218147278,
          "5": 0.5009855031967163,
          "6": 0.23285037279129028,
          "7": 0,
          "8": -0.4947098195552826,
          "9": 0.864484965801239,
          "10": -0.0890369638800621,
          "11": 0,
          "12": -0.19544832408428192,
          "13": -0.13235589861869812,
          "14": -1.4922308921813965,
          "15": 1
      },
      "timestamp": 1637255280393
  },
  {
      "position": {
          "x": -0.17734025418758392,
          "y": -0.11945340782403946,
          "z": -1.4830548763275146,
          "w": 1
      },
      "rotation": {
          "x": -0.27781337461296174,
          "y": -0.692563192987473,
          "z": -0.34914831674719976,
          "w": 0.5668080852614502
      },
      "matrix": {
          "0": -0.20309662818908691,
          "1": -0.010993541218340397,
          "2": 0.9790968894958496,
          "3": 0,
          "4": 0.7806068062782288,
          "5": 0.6018303632736206,
          "6": 0.1686808466911316,
          "7": 0,
          "8": -0.5911046266555786,
          "9": 0.7985482811927795,
          "10": -0.11364804953336716,
          "11": 0,
          "12": -0.17734025418758392,
          "13": -0.11945340782403946,
          "14": -1.4830548763275146,
          "15": 1
      },
      "timestamp": 1637255280690
  },
  {
      "position": {
          "x": -0.09443868696689606,
          "y": -0.12238366901874542,
          "z": -1.4978440999984741,
          "w": 1
      },
      "rotation": {
          "x": -0.28975083571249527,
          "y": -0.6986764506901164,
          "z": -0.29956608875883023,
          "w": 0.5815116756529558
      },
      "matrix": {
          "0": -0.1557772010564804,
          "1": 0.056481797248125076,
          "2": 0.9861757755279541,
          "3": 0,
          "4": 0.7532864212989807,
          "5": 0.6526091694831848,
          "6": 0.08161274343729019,
          "7": 0,
          "8": -0.6389776468276978,
          "9": 0.7555864453315735,
          "10": -0.14420852065086365,
          "11": 0,
          "12": -0.09443868696689606,
          "13": -0.12238366901874542,
          "14": -1.4978440999984741,
          "15": 1
      },
      "timestamp": 1637255280984
  },
  {
      "position": {
          "x": 0.0017030956223607063,
          "y": -0.1312052309513092,
          "z": -1.5343036651611328,
          "w": 1
      },
      "rotation": {
          "x": -0.337337103944775,
          "y": -0.5693906023671262,
          "z": -0.2773825755607051,
          "w": 0.6964602838737203
      },
      "matrix": {
          "0": 0.19770647585391998,
          "1": -0.0022187407594174147,
          "2": 0.9802586436271667,
          "3": 0,
          "4": 0.7705250382423401,
          "5": 0.6185251474380493,
          "6": -0.15400563180446625,
          "7": 0,
          "8": -0.6059728860855103,
          "9": 0.785761833190918,
          "10": 0.1239960566163063,
          "11": 0,
          "12": 0.0017030956223607063,
          "13": -0.1312052309513092,
          "14": -1.5343036651611328,
          "15": 1
      },
      "timestamp": 1637255281288
  },
  {
      "position": {
          "x": -0.04223020002245903,
          "y": -0.1391572207212448,
          "z": -1.6330450773239136,
          "w": 1
      },
      "rotation": {
          "x": -0.3598556466980509,
          "y": -0.4160410180891207,
          "z": -0.20965332846479318,
          "w": 0.8083682741613064
      },
      "matrix": {
          "0": 0.5659106969833374,
          "1": -0.039524778723716736,
          "2": 0.8235185742378235,
          "3": 0,
          "4": 0.6383836269378662,
          "5": 0.6530987620353699,
          "6": -0.40734294056892395,
          "7": 0,
          "8": -0.5217387676239014,
          "9": 0.7562405467033386,
          "10": 0.39482757449150085,
          "11": 0,
          "12": -0.04223020002245903,
          "13": -0.1391572207212448,
          "14": -1.6330450773239136,
          "15": 1
      },
      "timestamp": 1637255281579
  },
  {
      "position": {
          "x": -0.17103007435798645,
          "y": -0.16453973948955536,
          "z": -1.7347079515457153,
          "w": 1
      },
      "rotation": {
          "x": -0.39636396903126636,
          "y": -0.28128151160842085,
          "z": -0.16032717604160288,
          "w": 0.8591108845216594
      },
      "matrix": {
          "0": 0.7903518080711365,
          "1": -0.05249793082475662,
          "2": 0.6103998422622681,
          "3": 0,
          "4": 0.4984574019908905,
          "5": 0.6343815922737122,
          "6": -0.5908470153808594,
          "7": 0,
          "8": -0.3562081754207611,
          "9": 0.7712353467941284,
          "10": 0.527552604675293,
          "11": 0,
          "12": -0.17103007435798645,
          "13": -0.16453973948955536,
          "14": -1.7347079515457153,
          "15": 1
      },
      "timestamp": 1637255281881
  },
  {
      "position": {
          "x": -0.3123313784599304,
          "y": -0.14057263731956482,
          "z": -1.8685030937194824,
          "w": 1
      },
      "rotation": {
          "x": -0.4038666106284228,
          "y": -0.18434629369674693,
          "z": -0.09304859883274155,
          "w": 0.8912071381418836
      },
      "matrix": {
          "0": 0.9147167801856995,
          "1": -0.016948524862527847,
          "2": 0.40373989939689636,
          "3": 0,
          "4": 0.31475377082824707,
          "5": 0.6564674377441406,
          "6": -0.6855512857437134,
          "7": 0,
          "8": -0.2534230053424835,
          "9": 0.754163920879364,
          "10": 0.6058164238929749,
          "11": 0,
          "12": -0.3123313784599304,
          "13": -0.14057263731956482,
          "14": -1.8685030937194824,
          "15": 1
      },
      "timestamp": 1637255282180
  },
  {
      "position": {
          "x": -0.496751606464386,
          "y": -0.12521257996559143,
          "z": -2.058852434158325,
          "w": 1
      },
      "rotation": {
          "x": -0.3995892603643166,
          "y": -0.0779218761736337,
          "z": -0.028489191451713917,
          "w": 0.9129320731497536
      },
      "matrix": {
          "0": 0.986233115196228,
          "1": 0.010256096720695496,
          "2": 0.1650427132844925,
          "3": 0,
          "4": 0.11429090797901154,
          "5": 0.6790335178375244,
          "6": -0.725155770778656,
          "7": 0,
          "8": -0.11950678378343582,
          "9": 0.7340354919433594,
          "10": 0.6685131192207336,
          "11": 0,
          "12": -0.496751606464386,
          "13": -0.12521257996559143,
          "14": -2.058852434158325,
          "15": 1
      },
      "timestamp": 1637255282484
  },
  {
      "position": {
          "x": -0.6211744546890259,
          "y": -0.09928230941295624,
          "z": -2.1943838596343994,
          "w": 1
      },
      "rotation": {
          "x": -0.38138132314432877,
          "y": -0.024498297293024128,
          "z": 0.013648063125634602,
          "w": 0.9239923431280924
      },
      "matrix": {
          "0": 0.998427152633667,
          "1": 0.04390779882669449,
          "2": 0.03486224636435509,
          "3": 0,
          "4": -0.006535021588206291,
          "5": 0.7087240219116211,
          "6": -0.7054555416107178,
          "7": 0,
          "8": -0.0556827113032341,
          "9": 0.7041181325912476,
          "10": 0.7078962326049805,
          "11": 0,
          "12": -0.6211744546890259,
          "13": -0.09928230941295624,
          "14": -2.1943838596343994,
          "15": 1
      },
      "timestamp": 1637255282789
  },
  {
      "position": {
          "x": -0.5411992073059082,
          "y": -0.1454569399356842,
          "z": -2.2800862789154053,
          "w": 1
      },
      "rotation": {
          "x": -0.42299959930451014,
          "y": -0.012267244969795801,
          "z": 0.016741036250652003,
          "w": 0.9058921521871847
      },
      "matrix": {
          "0": 0.9991385340690613,
          "1": 0.040709227323532104,
          "2": 0.008062698878347874,
          "3": 0,
          "4": -0.019953064620494843,
          "5": 0.6415821313858032,
          "6": -0.766794741153717,
          "7": 0,
          "8": -0.03638850897550583,
          "9": 0.7659732699394226,
          "10": 0.6418416500091553,
          "11": 0,
          "12": -0.5411992073059082,
          "13": -0.1454569399356842,
          "14": -2.2800862789154053,
          "15": 1
      },
      "timestamp": 1637255283090
  },
  {
      "position": {
          "x": -0.4873354136943817,
          "y": -0.1630069762468338,
          "z": -2.514449119567871,
          "w": 1
      },
      "rotation": {
          "x": -0.4327478338349091,
          "y": -0.00611357326805792,
          "z": 0.025758444471541186,
          "w": 0.9011262059620154
      },
      "matrix": {
          "0": 0.9985982775688171,
          "1": 0.051714491099119186,
          "2": -0.011275620199739933,
          "3": 0,
          "4": -0.04113194718956947,
          "5": 0.6241316199302673,
          "6": -0.780235767364502,
          "7": 0,
          "8": -0.03331202641129494,
          "9": 0.7796058654785156,
          "10": 0.6253838539123535,
          "11": 0,
          "12": -0.4873354136943817,
          "13": -0.1630069762468338,
          "14": -2.514449119567871,
          "15": 1
      },
      "timestamp": 1637255283388
  },
  {
      "position": {
          "x": -0.48148635029792786,
          "y": -0.12575745582580566,
          "z": -2.743649482727051,
          "w": 1
      },
      "rotation": {
          "x": -0.4077849057346831,
          "y": 0.07333904501037766,
          "z": 0.044961117408501526,
          "w": 0.9090166956955743
      },
      "matrix": {
          "0": 0.9851997494697571,
          "1": 0.02192770130932331,
          "2": -0.17000176012516022,
          "3": 0,
          "4": -0.14155393838882446,
          "5": 0.6633799076080322,
          "6": -0.734771728515625,
          "7": 0,
          "8": 0.09666388481855392,
          "9": 0.7479614019393921,
          "10": 0.6566656827926636,
          "11": 0,
          "12": -0.48148635029792786,
          "13": -0.12575745582580566,
          "14": -2.743649482727051,
          "15": 1
      },
      "timestamp": 1637255283692
  },
  {
      "position": {
          "x": -0.43996912240982056,
          "y": -0.146098330616951,
          "z": -2.9745893478393555,
          "w": 1
      },
      "rotation": {
          "x": -0.3896340719904834,
          "y": 0.06972621245062317,
          "z": 0.03517779663664981,
          "w": 0.9176524766300126
      },
      "matrix": {
          "0": 0.9878015518188477,
          "1": 0.010226568207144737,
          "2": -0.15538179874420166,
          "3": 0,
          "4": -0.11889740079641342,
          "5": 0.6938956379890442,
          "6": -0.7101917266845703,
          "7": 0,
          "8": 0.10055593401193619,
          "9": 0.7200030088424683,
          "10": 0.6866471171379089,
          "11": 0,
          "12": -0.43996912240982056,
          "13": -0.146098330616951,
          "14": -2.9745893478393555,
          "15": 1
      },
      "timestamp": 1637255283990
  },
  {
      "position": {
          "x": -0.3257036805152893,
          "y": -0.1598426103591919,
          "z": -3.239135265350342,
          "w": 1
      },
      "rotation": {
          "x": -0.445431801583361,
          "y": -0.010136054813084808,
          "z": -0.029848719715415126,
          "w": 0.894760763814763
      },
      "matrix": {
          "0": 0.9980126023292542,
          "1": -0.04438508301973343,
          "2": 0.04472982510924339,
          "3": 0,
          "4": 0.062444768846035004,
          "5": 0.6013990640640259,
          "6": -0.7965046167373657,
          "7": 0,
          "8": 0.008452462032437325,
          "9": 0.7977148294448853,
          "10": 0.6029754877090454,
          "11": 0,
          "12": -0.3257036805152893,
          "13": -0.1598426103591919,
          "14": -3.239135265350342,
          "15": 1
      },
      "timestamp": 1637255284282
  },
  {
      "position": {
          "x": -0.18124426901340485,
          "y": -0.2143113613128662,
          "z": -3.468332529067993,
          "w": 1
      },
      "rotation": {
          "x": -0.5725913638430346,
          "y": 0.08990100930240913,
          "z": -0.08589240628521289,
          "w": 0.810357595831197
      },
      "matrix": {
          "0": 0.9690806269645691,
          "1": -0.24216021597385406,
          "2": -0.04734143242239952,
          "3": 0,
          "4": 0.03625403717160225,
          "5": 0.3295232355594635,
          "6": -0.9434511065483093,
          "7": 0,
          "8": 0.24406644701957703,
          "9": 0.9125638604164124,
          "10": 0.3281138837337494,
          "11": 0,
          "12": -0.18124426901340485,
          "13": -0.2143113613128662,
          "14": -3.468332529067993,
          "15": 1
      },
      "timestamp": 1637255284580
  },
  {
      "position": {
          "x": 0.04111814871430397,
          "y": -0.20699617266654968,
          "z": -3.6291663646698,
          "w": 1
      },
      "rotation": {
          "x": -0.5378588844170968,
          "y": -0.036053066127599086,
          "z": -0.10091291633178168,
          "w": 0.8361964961621221
      },
      "matrix": {
          "0": 0.9770334959030151,
          "1": -0.12998312711715698,
          "2": 0.16884870827198029,
          "3": 0,
          "4": 0.20754896104335785,
          "5": 0.4010487496852875,
          "6": -0.8922348618507385,
          "7": 0,
          "8": 0.048258956521749496,
          "9": 0.9067877531051636,
          "10": 0.418815940618515,
          "11": 0,
          "12": 0.04111814871430397,
          "13": -0.20699617266654968,
          "14": -3.6291663646698,
          "15": 1
      },
      "timestamp": 1637255284883
  },
  {
      "position": {
          "x": 0.24489805102348328,
          "y": -0.1673852950334549,
          "z": -3.7199172973632812,
          "w": 1
      },
      "rotation": {
          "x": -0.46091704352649304,
          "y": -0.1871143669634313,
          "z": -0.13956232536964397,
          "w": 0.8561927645104745
      },
      "matrix": {
          "0": 0.8910211324691772,
          "1": -0.0664961040019989,
          "2": 0.449065238237381,
          "3": 0,
          "4": 0.4114729166030884,
          "5": 0.536155641078949,
          "6": -0.7370393872261047,
          "7": 0,
          "8": -0.19175860285758972,
          "9": 0.8414958715438843,
          "10": 0.5050873756408691,
          "11": 0,
          "12": 0.24489805102348328,
          "13": -0.1673852950334549,
          "14": -3.7199172973632812,
          "15": 1
      },
      "timestamp": 1637255285180
  },
  {
      "position": {
          "x": 0.4140526354312897,
          "y": -0.19298961758613586,
          "z": -3.79145884513855,
          "w": 1
      },
      "rotation": {
          "x": -0.49127414646561385,
          "y": -0.2688164932072241,
          "z": -0.18129717361187317,
          "w": 0.8084050598769155
      },
      "matrix": {
          "0": 0.7897380590438843,
          "1": -0.028997918590903282,
          "2": 0.612758457660675,
          "3": 0,
          "4": 0.5572482943534851,
          "5": 0.4515620768070221,
          "6": -0.6968256235122681,
          "7": 0,
          "8": -0.2564919888973236,
          "9": 0.8917683362960815,
          "10": 0.37277480959892273,
          "11": 0,
          "12": 0.4140526354312897,
          "13": -0.19298961758613586,
          "14": -3.79145884513855,
          "15": 1
      },
      "timestamp": 1637255285486
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  },
  {
      "position": {
          "x": 0.4323136508464813,
          "y": -0.1955285668373108,
          "z": -3.797057867050171,
          "w": 1
      },
      "rotation": {
          "x": -0.48867862489909575,
          "y": -0.2845777931182276,
          "z": -0.18786529000038552,
          "w": 0.8030661953063142
      },
      "matrix": {
          "0": 0.7674441933631897,
          "1": -0.023602357134222984,
          "2": 0.6406810879707336,
          "3": 0,
          "4": 0.5798707008361816,
          "5": 0.4517996311187744,
          "6": -0.6779578924179077,
          "7": 0,
          "8": -0.27345800399780273,
          "9": 0.8918070793151855,
          "10": 0.36041736602783203,
          "11": 0,
          "12": 0.4323136508464813,
          "13": -0.1955285668373108,
          "14": -3.797057867050171,
          "15": 1
      },
      "timestamp": 1637255285533
  }
]
export function Migration() {
  const canvasWrapperRef = useRef<HTMLDivElement>(null);
  let threeScene: THREE.Scene;
  let viewerCopy: Cognite3DViewer;
  useEffect(() => {
    const gui = new dat.GUI({ width: Math.min(500, 0.8 * window.innerWidth) });
    let viewer: Cognite3DViewer;

    function createGeometryFilter(input: string | null): { center: THREE.Vector3, size: THREE.Vector3 } | undefined {
      if (input === null) return undefined;
      const parsed = JSON.parse(input) as { center: THREE.Vector3, size: THREE.Vector3 };
      return { center: new THREE.Vector3().copy(parsed.center), size: new THREE.Vector3().copy(parsed.size) };
    }

    async function main() {
      const url = new URL(window.location.href);
      const urlParams = url.searchParams;
      const project = urlParams.get('project');
      const geometryFilterInput = urlParams.get('geometryFilter');
      const geometryFilter = createGeometryFilter(geometryFilterInput);
      const modelUrl = urlParams.get('modelUrl');

      const environmentParam = urlParams.get('env');
      if (!modelUrl && !(environmentParam && project)) {
        throw Error('Must specify URL parameters "project" and "env", or "modelUrl"');
      }

      const progress = (itemsLoaded: number, itemsRequested: number, itemsCulled: number) => {
        guiState.debug.loadedSectors.statistics.culledCount = itemsCulled;
        if (itemsLoaded === 0 || itemsLoaded === itemsRequested) {
          console.log(`loaded ${itemsLoaded}/${itemsRequested} (culled: ${itemsCulled})`);
        }
      };

      // Login
      const client = new CogniteClient({ appId: 'cognite.reveal.example' });
      let viewerOptions: Cognite3DViewerOptions = {
        sdk: client,
        domElement: canvasWrapperRef.current!,
        onLoading: progress,
        logMetrics: false,
        antiAliasingHint: (urlParams.get('antialias') || undefined) as any,
        ssaoQualityHint: (urlParams.get('ssao') || undefined) as any
      };

      if (project && environmentParam) {
        await authenticateSDKWithEnvironment(client, project, environmentParam);
      } else if (modelUrl !== null) {
        viewerOptions = {
          ...viewerOptions,
          // @ts-expect-error
          _localModels: true
        };
      } else {
        throw new Error('Must either provide URL parameters "env", "project", ' +
          '"modelId" and "revisionId" to load model from CDF ' +
          '"or "modelUrl" to load model from URL.');
      }

      // Prepare viewer
      viewer = new Cognite3DViewer(viewerOptions);
      (window as any).viewer = viewer;

      viewerCopy = viewer;

      threeScene = viewer.getScene();
      // Configure connection to the phone
      const peer = new Peer('RevealHackathonTestPeerId1_1034')

      peer.on('connection', (connection) => {
        console.log('Connection established!');
        connection.on('data', (data) => {
          //const cube = threeScene.getObjectByName('testCube');

          console.log(data);
        });
      });

      const controlsOptions: CameraControlsOptions = {
        onClickTargetChange: false,
        mouseWheelAction: 'zoomToCursor',
      }

      viewer.setCameraControlsOptions(controlsOptions);

      const totalBounds = new THREE.Box3();

      const pointCloudParams = {
        pointSize: 1.0,
        budget: 2_000_000,
        pointColorType: PotreePointColorType.Rgb,
        pointShape: PotreePointShape.Circle,
        apply: () => {
          viewer.pointCloudBudget = { numberOfPoints: pointCloudParams.budget };
          pointCloudModels.forEach(model => {
            model.pointSize = pointCloudParams.pointSize;
            model.pointColorType = pointCloudParams.pointColorType;
            model.pointShape = pointCloudParams.pointShape;
          });
        }
      };

      async function addModel(options: AddModelOptions) {
        try {
          const model = options.localPath !== undefined ? await viewer.addCadModel(options) : await viewer.addModel(options);
                    const mat = new THREE.Matrix4();
          mat.set(1,
            0,
            0,
            0,
            0,
            2.220446049250313e-16,
            -1,
            0,
            0,
            1,
            2.220446049250313e-16,
            0,
            0,
            0,
            0,
            1);
          const rotation = new THREE.Matrix4().makeRotationX(Math.PI / 2);
          const transform = model.getModelTransformation();
          transform.multiply(rotation);
          model.setModelTransformation(transform);
          //model.setModelTransformation(mat);
          const bounds = model.getModelBoundingBox();
          totalBounds.expandByPoint(bounds.min);
          totalBounds.expandByPoint(bounds.max);
          clippingUi.updateWorldBounds(totalBounds);

          viewer.loadCameraFromModel(model);
          if (model instanceof Cognite3DModel) {
            cadModels.push(model);
          } else if (model instanceof CognitePointCloudModel) {
            pointCloudModels.push(model);
            pointCloudParams.apply();
          }
          if (createGeometryFilterFromState(guiState.geometryFilter) === undefined) {
            createGeometryFilterStateFromBounds(bounds, guiState.geometryFilter);
            geometryFilterGui.updateDisplay();
          }
        } catch (e) {
          console.error(e);
          alert(`Model ID is invalid or is not supported`);
        }
      }

      // Add GUI for loading models and such
      const cadModels: Cognite3DModel[] = [];
      const pointCloudModels: CognitePointCloudModel[] = [];
      const guiState = {
        modelId: 0,
        revisionId: 0,
        geometryFilter:
          geometryFilter !== undefined
            ? { ...geometryFilter, enabled: true }
            : { center: new THREE.Vector3(), size: new THREE.Vector3(), enabled: false },
        antiAliasing: urlParams.get('antialias'),
        ssaoQuality: urlParams.get('ssao'),
        debug: {
          stats: {
            drawCalls: 0,
            points: 0,
            triangles: 0,
            geometries: 0,
            textures: 0,
            renderTime: 0
          },
          loadedSectors: {
            options: {
              showSimpleSectors: true,
              showDetailedSectors: true,
              showDiscardedSectors: false,
              colorBy: 'lod',
              leafsOnly: false,
              sectorPathFilterRegex: '^.*/$'
            } as DebugLoadedSectorsToolOptions,
            tool: new DebugLoadedSectorsTool(viewer),
            statistics: {
              insideSectors: 0,
              maxSectorDepth: 0,
              maxSectorDepthOfInsideSectors: 0,
              simpleSectorCount: 0,
              detailedSectorCount: 0,
              culledCount: 0,
              forceDetailedSectorCount: 0,
              downloadSizeMb: 0
            }
          },
          suspendLoading: false,
          ghostAllNodes: false,
          hideAllNodes: false
        },
        showCameraTool: new DebugCameraTool(viewer),
        renderMode: 'Color',
        controls: {
          mouseWheelAction: 'zoomToCursor',
          onClickTargetChange: true
        },
        debugRenderStageTimings: false
      };
      const guiActions = {
        addModel: () =>
          addModel({
            modelId: guiState.modelId,
            revisionId: guiState.revisionId,
            geometryFilter: guiState.geometryFilter.enabled ? createGeometryFilterFromState(guiState.geometryFilter) : undefined
          }),
        fitToModel: () => {
          const model = cadModels[0] || pointCloudModels[0];
          viewer.fitCameraToModel(model);
        },
        showSectorBoundingBoxes: () => {
          const { tool, options } = guiState.debug.loadedSectors;
          tool.setOptions(options);
          if (cadModels.length > 0) {
            tool.showSectorBoundingBoxes(cadModels[0]);
          }
        },
        showCameraHelper: () => {
          guiState.showCameraTool.showCameraHelper();
        },
        showBoundsForAllGeometries: () => {
          cadModels.forEach(m => showBoundsForAllGeometries(m));
        },
        applyGeometryFilter: () => {
          urlParams.set('geometryFilter', JSON.stringify(guiState.geometryFilter));
          window.location.href = url.toString();
        },
        resetGeometryFilter: () => {
          urlParams.delete('geometryFilter');
          window.location.href = url.toString();
        }
      };

      const modelGui = gui.addFolder('Model');
      modelGui.add(guiState, 'modelId').name('Model ID');
      modelGui.add(guiState, 'revisionId').name('Revision ID');
      modelGui.add(guiActions, 'addModel').name('Load model');
      modelGui.add(guiActions, 'fitToModel').name('Fit camera');
      initialCadBudgetUi(viewer, gui.addFolder('CAD budget'));

      const geometryFilterGui = modelGui.addFolder('Geometry Filter');
      let geometryFilterPreview: THREE.Object3D | undefined = undefined;
      function updateGeometryFilterPreview() {
        if (geometryFilterPreview) {
          viewer.removeObject3D(geometryFilterPreview);
        }
        const geometryFilter = createGeometryFilterFromState(guiState.geometryFilter);
        if (geometryFilter) {
          geometryFilterPreview = new THREE.Box3Helper(geometryFilter.boundingBox, new THREE.Color('cyan'));
          viewer.addObject3D(geometryFilterPreview);
        }
      }
      geometryFilterGui.add(guiState.geometryFilter.center, 'x', -1000, 1000, 1).name('CenterX').onChange(updateGeometryFilterPreview);
      geometryFilterGui.add(guiState.geometryFilter.center, 'y', -1000, 1000, 1).name('CenterY').onChange(updateGeometryFilterPreview);
      geometryFilterGui.add(guiState.geometryFilter.center, 'z', -1000, 1000, 1).name('CenterZ').onChange(updateGeometryFilterPreview);
      geometryFilterGui.add(guiState.geometryFilter.size, 'x', 0, 100, 1).name('SizeX').onChange(updateGeometryFilterPreview);
      geometryFilterGui.add(guiState.geometryFilter.size, 'y', 0, 100, 1).name('SizeY').onChange(updateGeometryFilterPreview);
      geometryFilterGui.add(guiState.geometryFilter.size, 'z', 0, 100, 1).name('SizeZ').onChange(updateGeometryFilterPreview);
      geometryFilterGui.add(guiState.geometryFilter, 'enabled').name('Apply to new models?');
      geometryFilterGui.add(guiActions, 'applyGeometryFilter').name('Apply and reload');
      geometryFilterGui.add(guiActions, 'resetGeometryFilter').name('Reset and reload');

      const renderGui = gui.addFolder('Rendering');
      const renderModes = ['Color', 'Normal', 'TreeIndex', 'PackColorAndNormal', 'Depth', 'Effects', 'Ghost', 'LOD', 'DepthBufferOnly (N/A)', 'GeometryType'];
      renderGui.add(guiState, 'renderMode', renderModes).name('Render mode').onFinishChange(value => {
        const renderMode = renderModes.indexOf(value) + 1;
        cadModels.forEach(m => {
          const cadNode: CadNode = (m as any).cadNode;
          cadNode.renderMode = renderMode;
        });
        viewer.requestRedraw();
      });
      renderGui.add(guiState, 'antiAliasing',
        [
          'disabled', 'fxaa', 'msaa4', 'msaa8', 'msaa16',
          'msaa4+fxaa', 'msaa8+fxaa', 'msaa16+fxaa'
        ]).name('Anti-alias').onFinishChange(v => {
          urlParams.set('antialias', v);
          window.location.href = url.toString();
        });
      renderGui.add(guiState, 'ssaoQuality',
        [
          'disabled', 'medium', 'high', 'veryhigh'
        ]).name('SSAO').onFinishChange(v => {
          urlParams.set('ssao', v);
          window.location.href = url.toString();
        });
      renderGui.add(guiState, 'debugRenderStageTimings')
        .name('Debug timings')
        .onChange(enabled => {
          (viewer as any).revealManager.debugRenderTiming = enabled;
        });

      const debugGui = gui.addFolder('Debug');
      const debugStatsGui = debugGui.addFolder('Statistics');
      debugStatsGui.add(guiState.debug.stats, 'drawCalls').name('Draw Calls');
      debugStatsGui.add(guiState.debug.stats, 'points').name('Points');
      debugStatsGui.add(guiState.debug.stats, 'triangles').name('Triangles');
      debugStatsGui.add(guiState.debug.stats, 'geometries').name('Geometries');
      debugStatsGui.add(guiState.debug.stats, 'textures').name('Textures');
      debugStatsGui.add(guiState.debug.stats, 'renderTime').name('Ms/frame');

      viewer.on('sceneRendered', sceneRenderedEventArgs => {
        guiState.debug.stats.drawCalls = sceneRenderedEventArgs.renderer.info.render.calls;
        guiState.debug.stats.points = sceneRenderedEventArgs.renderer.info.render.points;
        guiState.debug.stats.triangles = sceneRenderedEventArgs.renderer.info.render.triangles;
        guiState.debug.stats.geometries = sceneRenderedEventArgs.renderer.info.memory.geometries;
        guiState.debug.stats.textures = sceneRenderedEventArgs.renderer.info.memory.textures;
        guiState.debug.stats.renderTime = sceneRenderedEventArgs.renderTime;
        debugStatsGui.updateDisplay();
      });

      const debugSectorsGui = debugGui.addFolder('Loaded sectors');

      debugSectorsGui.add(guiState.debug.loadedSectors.options, 'colorBy', ['lod', 'depth', 'loadedTimestamp', 'random']).name('Color by');
      debugSectorsGui.add(guiState.debug.loadedSectors.options, 'leafsOnly').name('Leaf nodes only');
      debugSectorsGui.add(guiState.debug.loadedSectors.options, 'showSimpleSectors').name('Show simple sectors');
      debugSectorsGui.add(guiState.debug.loadedSectors.options, 'showDetailedSectors').name('Show detailed sectors');
      debugSectorsGui.add(guiState.debug.loadedSectors.options, 'showDiscardedSectors').name('Show discarded sectors');
      debugSectorsGui.add(guiState.debug.loadedSectors.options, 'sectorPathFilterRegex').name('Sectors path filter');
      debugSectorsGui.add(guiActions, 'showSectorBoundingBoxes').name('Show sectors');
      debugSectorsGui.add(guiState.debug.loadedSectors.statistics, 'insideSectors').name('# sectors@camera');
      debugSectorsGui.add(guiState.debug.loadedSectors.statistics, 'maxSectorDepthOfInsideSectors').name('Max sector depth@camera');
      debugSectorsGui.add(guiState.debug.loadedSectors.statistics, 'maxSectorDepth').name('Max sector tree depth');
      debugSectorsGui.add(guiState.debug.loadedSectors.statistics, 'simpleSectorCount').name('# simple sectors');
      debugSectorsGui.add(guiState.debug.loadedSectors.statistics, 'detailedSectorCount').name('# detailed sectors');
      debugSectorsGui.add(guiState.debug.loadedSectors.statistics, 'forceDetailedSectorCount').name('# force detailed sectors');
      debugSectorsGui.add(guiState.debug.loadedSectors.statistics, 'culledCount').name('# culled sectors');
      debugSectorsGui.add(guiState.debug.loadedSectors.statistics, 'downloadSizeMb').name('Download size (Mb)');

      setInterval(() => {
        let insideSectors = 0;
        let maxInsideDepth = -1;
        let maxDepth = -1;
        const cameraPosition = viewer.getCameraPosition();
        cadModels.forEach(m => {
          m.traverse(x => {
            // Hacky way to access internals of SectorNode
            const depth = (x.hasOwnProperty('depth') && typeof (x as any).depth === 'number') ? (x as any).depth as number : 0;
            if (x.hasOwnProperty('bounds') && (x as any).bounds instanceof THREE.Box3 && (x as any).bounds.containsPoint(cameraPosition)) {
              insideSectors++;
              maxInsideDepth = Math.max(maxInsideDepth, depth);
            }
            maxDepth = Math.max(maxDepth, depth);
          })
        });
        guiState.debug.loadedSectors.statistics.insideSectors = insideSectors;
        guiState.debug.loadedSectors.statistics.maxSectorDepth = maxDepth;
        guiState.debug.loadedSectors.statistics.maxSectorDepthOfInsideSectors = maxInsideDepth;
        // @ts-expect-error
        const loadedStats = viewer.revealManager.cadLoadedStatistics;
        guiState.debug.loadedSectors.statistics.simpleSectorCount = loadedStats.simpleSectorCount;
        guiState.debug.loadedSectors.statistics.detailedSectorCount = loadedStats.detailedSectorCount;
        guiState.debug.loadedSectors.statistics.forceDetailedSectorCount = loadedStats.forcedDetailedSectorCount;
        guiState.debug.loadedSectors.statistics.downloadSizeMb = loadedStats.downloadSize / 1024 / 1024;

        debugSectorsGui.updateDisplay();
      }, 500);

      debugGui.add(guiActions, 'showCameraHelper').name('Show camera');
      debugGui.add(guiActions, 'showBoundsForAllGeometries').name('Show geometry bounds');
      debugGui.add(guiState.debug, 'suspendLoading').name('Suspend loading').onFinishChange(suspend => {
        try {
          // @ts-expect-error
          viewer.revealManager._cadManager._cadModelUpdateHandler.updateLoadingHints({ suspendLoading: suspend })
        }
        catch (error) {
          alert('Could not toggle suspend loading, check console for error');
          throw error;
        }
      });
      debugGui.add(guiState.debug, 'ghostAllNodes').name('Ghost all nodes').onFinishChange(ghost => {
        cadModels.forEach(m => m.setDefaultNodeAppearance({ renderGhosted: ghost }));
      });
      debugGui.add(guiState.debug, 'hideAllNodes').name('Hide all nodes').onFinishChange(hide => {
        cadModels.forEach(m => m.setDefaultNodeAppearance({ visible: !hide }));
      });

      const clippingUi = new ClippingUI(gui.addFolder('Slicing'), planes => viewer.setSlicingPlanes(planes));


      const pcSettings = gui.addFolder('Point clouds');
      pcSettings.add(pointCloudParams, 'budget', 0, 20_000_000, 100_000).onFinishChange(() => pointCloudParams.apply());
      pcSettings.add(pointCloudParams, 'pointSize', 0, 20, 0.25).onFinishChange(() => pointCloudParams.apply());
      pcSettings.add(pointCloudParams, 'pointColorType', {
        Rgb: PotreePointColorType.Rgb,
        Depth: PotreePointColorType.Depth,
        Height: PotreePointColorType.Height,
        PointIndex: PotreePointColorType.PointIndex,
        LevelOfDetail: PotreePointColorType.LevelOfDetail,
        Classification: PotreePointColorType.Classification,
      }).onFinishChange(valueStr => {
        pointCloudParams.pointColorType = parseInt(valueStr, 10);
        pointCloudParams.apply()
      });
      pcSettings.add(pointCloudParams, 'pointShape', {
        Circle: PotreePointShape.Circle,
        Square: PotreePointShape.Square
      }).onFinishChange(valueStr => {
        pointCloudParams.pointShape = parseInt(valueStr, 10);
        pointCloudParams.apply()
      });

      // Load model if provided by URL
      const modelIdStr = urlParams.get('modelId');
      const revisionIdStr = urlParams.get('revisionId');
      if (modelIdStr && revisionIdStr) {
        const modelId = Number.parseInt(modelIdStr, 10);
        const revisionId = Number.parseInt(revisionIdStr, 10);
        await addModel({ modelId, revisionId, geometryFilter: createGeometryFilterFromState(guiState.geometryFilter) });
      } else if (modelUrl) {
        await addModel({ modelId: -1, revisionId: -1, localPath: modelUrl, geometryFilter: createGeometryFilterFromState(guiState.geometryFilter) })
      }

      const selectedSet = new TreeIndexNodeCollection([]);

      let expandTool: ExplodedViewTool | null;
      let explodeSlider: dat.GUIController | null;

      const assetExplode = gui.addFolder('Asset Inspect');

      const explodeParams = { explodeFactor: 0.0, rootTreeIndex: 0 };
      const explodeActions = {
        selectAssetTreeIndex: async () => {
          if (expandTool) {
            explodeActions.reset();
          }

          const rootTreeIndex = explodeParams.rootTreeIndex;
          const treeIndices = await cadModels[0].getSubtreeTreeIndices(rootTreeIndex);
          cadModels[0].setDefaultNodeAppearance({ visible: false });
          const explodeSet = new TreeIndexNodeCollection(treeIndices);
          cadModels[0].assignStyledNodeCollection(explodeSet, { visible: true });

          const rootBoundingBox = await cadModels[0].getBoundingBoxByTreeIndex(rootTreeIndex);
          viewer.fitCameraToBoundingBox(rootBoundingBox, 0);

          expandTool = new ExplodedViewTool(rootTreeIndex, cadModels[0]);

          await expandTool.readyPromise;

          explodeSlider = assetExplode
            .add(explodeParams, 'explodeFactor', 0, 1)
            .name('Explode Factor')
            .step(0.01)
            .onChange(p => {
              expandTool!.expand(p);
            });
        },
        reset: () => {
          expandTool?.reset();
          cadModels[0].setDefaultNodeAppearance({ visible: true });
          cadModels[0].removeAllStyledNodeCollections();
          explodeParams.explodeFactor = 0;
          expandTool = null;
          if (explodeSlider) {
            assetExplode.remove(explodeSlider);
            explodeSlider = null;
          }
        }
      };
      assetExplode.add(explodeParams, 'rootTreeIndex').name('Tree index');
      assetExplode.add(explodeActions, 'selectAssetTreeIndex').name('Inspect tree index');

      assetExplode.add(explodeActions, 'reset').name('Reset');

      const controlsGui = gui.addFolder('Camera controls');
      const mouseWheelActionTypes = ['zoomToCursor', 'zoomPastCursor', 'zoomToTarget'];
      controlsGui.add(guiState.controls, 'mouseWheelAction', mouseWheelActionTypes).name('Mouse wheel action type').onFinishChange(value => {
        viewer.setCameraControlsOptions({ ...viewer.getCameraControlsOptions(), mouseWheelAction: value });
      });
      controlsGui.add(guiState.controls, 'onClickTargetChange').name('Change camera target on mouse click').onFinishChange(value => {
        viewer.setCameraControlsOptions({ ...viewer.getCameraControlsOptions(), onClickTargetChange: value });
      });

      const overlayTool = new HtmlOverlayTool(viewer);
      new AxisViewTool(viewer);

      // add a cube!
      const geometry = new THREE.BoxGeometry(2, 2, 2);
      const material = new THREE.MeshBasicMaterial({ color: 'purple' });
      const cube = new THREE.Mesh(geometry, material);
      cube.name = 'cameraCube';
      viewer.getScene().add(cube);

      viewer.on('click', async event => {
        const { offsetX, offsetY } = event;
        console.log('2D coordinates', event);
        const intersection = await viewer.getIntersectionFromPixel(offsetX, offsetY);
        if (intersection !== null) {
          console.log(intersection);
          switch (intersection.type) {
            case 'cad':
              {
                const { treeIndex, point} = intersection;
                console.log(`Clicked node with treeIndex ${treeIndex} at`, point);
                const overlayHtml = document.createElement('div');
                overlayHtml.innerText = `Node ${treeIndex}`;
                overlayHtml.style.cssText = 'background: white; position: absolute; pointer-events: none; user-select: none;'; // possibly need to add other browsers prefixes
                overlayTool.add(overlayHtml, point);

                // highlight the object
                selectedSet.updateSet(new IndexSet([treeIndex]));

              }
              break;
            case 'pointcloud':
              {
                const { pointIndex, point } = intersection;
                console.log(`Clicked point with pointIndex ${pointIndex} at`, point);
                const sphere = new THREE.Mesh(new THREE.SphereBufferGeometry(0.1), new THREE.MeshBasicMaterial({ color: 'red' }));
                sphere.position.copy(point);
                viewer.addObject3D(sphere);
              }
              break;
          }
        }
      });
    }

    function showBoundsForAllGeometries(model: Cognite3DModel) {
      const boxes = new THREE.Group();
      model.getModelTransformation(boxes.matrix);
      boxes.matrixWorldNeedsUpdate = true;

      model.traverse(x => {
        if (x instanceof THREE.Mesh) {
          const mesh = x;
          const geometry: THREE.BufferGeometry = mesh.geometry;

          if (geometry.boundingBox !== null) {
            const box = geometry.boundingBox.clone();
            box.applyMatrix4(mesh.matrixWorld);

            const boxHelper = new THREE.Box3Helper(box);
            boxes.add(boxHelper);
          }
        }
      });
      viewer.addObject3D(boxes);
    }

    main();

    return () => {
      gui.destroy();
      viewer?.dispose();
    };
  });

  const handleCameraData = (data: MotionData) => {
    let obj: THREE.Object3D | undefined;
    if (threeScene) obj = threeScene.getObjectByName('cameraCube');
    const m = data.matrix;
    obj?.position.set(data.position.x, data.position.y, data.position.z);
    obj?.updateMatrix();
    obj?.updateMatrixWorld();
    console.log(data.position);
    const controls = viewerCopy.getControls();
    const pos = new THREE.Vector3(data.position.x, data.position.y+0.4, data.position.z);
    viewerCopy.getControls().setState(pos, controls.getState().target);
    const quat = new THREE.Quaternion(data.rotation.x, data.rotation.y, data.rotation.z, data.rotation.w);
    viewerCopy.getCamera().rotation.setFromQuaternion(quat);
    //obj?.matrix.set(m[0], m[1], m[2], m[3], m[4], m[5], m[6], m[7], m[8], m[9], m[10], m[11], m[12], m[13], m[14], m[15]);
  };

  const canvasStyle = {
    height: "600px"
  }

  return (
  <div>
      <CanvasWrapper ref={canvasWrapperRef} style={canvasStyle}/>
      <Player isPlaying={false} startTime={phoneCameraData[0].timestamp} seekTime={phoneCameraData[0].timestamp} endTime={phoneCameraData[49].timestamp} motionData={phoneCameraData} handleNewData={handleCameraData} ></Player>
  </div>);
}

function createGeometryFilterStateFromBounds(bounds: THREE.Box3, out: { center: THREE.Vector3, size: THREE.Vector3 }) {
  bounds.getCenter(out.center);
  bounds.getSize(out.size);
  return out;
}

function createGeometryFilterFromState(state: { center: THREE.Vector3, size: THREE.Vector3 }): { boundingBox: THREE.Box3, isBoundingBoxInModelCoordinates: true } | undefined {
  state.size.clamp(new THREE.Vector3(), new THREE.Vector3(Infinity, Infinity, Infinity));
  if (state.size.equals(new THREE.Vector3())) {
    return undefined;
  }
  return { boundingBox: new THREE.Box3().setFromCenterAndSize(state.center, state.size), isBoundingBoxInModelCoordinates: true };
}
