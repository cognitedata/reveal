---
id: pointcloud-styling
title: Pointcloud styling
description: Usage of the styling API for pointcloud models
---

`@cognite/reveal` supports styling individual objects within a point cloud.

import { DemoWrapper } from '@site/versioned_docs/version-4.x/components/DemoWrapper';

<DemoWrapper name="Cognite3DViewerDemo" modelType="pointcloud" />

In this context, a _stylable object_ represents some volume in space. Styling an object results in all points that lie within the corresponding volume to attain the assigned style.

Stylable objects must be supplied separately from the model itself. Upon adding a new point cloud model to the viewer, Reveal will automatically fetch data describing the point cloud objects from CDFs annotations API, if any are available. To get the number of fetched stylable objects, use the property `model.stylableObjectCount`, where `model` is a `CognitePointCloudModel`.

Point cloud objects can be styled with a `PointCloudAppearance` object, containing the following attributes:

| Field                      | Field type                      | Description                                                                           |
|----------------------------|---------------------------------|---------------------------------------------------------------------------------------|
| `color`                    | `[number, number, number]?`     | Override color by setting RGB values in range [0,255]. `[0, 0, 0]` means no override. |
| `visible`                  | `boolean?`                      | When false, stylable object will be invisible. Default value is `true`.               |

To assign a style to one or more stylable objects, you must first create an instance of the abstract class `PointCloudObjectCollection`. The only implementation of this class provided by Reveal is `AnnotationIdPointCloudObjectCollection`, which is initialized with a list of annotation IDs corresponding to stylable objects. To see all available annotation IDs associated with the model, you may use the method `model.traverseStylableObjects`.

To color all objects red:

```js runnable-4x
const annotationIds = [];

model.traverseStylableObjects(annotationMetadata => annotationIds.push(annotationMetadata.annotationId));

const objectCollection = new AnnotationIdPointCloudObjectCollection(annotationIds);
const appearance = { color: [255, 0, 0] };

model.assignStyledObjectCollection(objectCollection, appearance);
```

Use the property `model.styledCollections` to get a list of all object collections and their assigned style registered on the model.

## Default Appearance

It is also possible to set a default appearance for the point cloud using the `model.setDefaultPointCloudAppearance`. The following example makes all annotated objects visible, while hiding everything else:

```js runnable-4x
const annotationIds = [];

model.traverseStylableObjects(annotationMetadata => annotationIds.push(annotationMetadata.annotationId));

const objectCollection = new AnnotationIdPointCloudObjectCollection(annotationIds);
const appearance = { visible: true };

model.assignStyledObjectCollection(objectCollection, appearance);
model.setDefaultPointCloudAppearance({ visible: false });
```

Like in CAD styling, stylable objects that are part of multiple styled object collections will attain the appearance of the object set whose first style assignment was last.

## Unassigning Styled Object Collections

To revert an assignment of a style to an object collection, you may use `model.unassignStyledObjectCollection`, using the `PointCloudObjectCollection` as argument. To unassign all styled object collections at once, use `model.removeAllStyledCollections`
