{"ast":null,"code":"export const getCursorPosition = (chartRef, event) => {\n  if (!chartRef.current) {\n    return undefined;\n  }\n  const chartBounds = chartRef.current.getBoundingClientRect();\n  const {\n    offsetParent\n  } = chartRef.current;\n  let x = event.clientX - chartBounds.left;\n  let y = event.clientY - chartBounds.top;\n  const transform = offsetParent && getComputedStyle(offsetParent).transform;\n  if (!transform || transform === 'none') {\n    return {\n      x,\n      y\n    };\n  }\n  const scaleX = parseFloat(transform.split(',')[0].slice(7));\n  const scaleY = parseFloat(transform.split(',')[3]);\n  x /= scaleX;\n  y /= scaleY;\n  return {\n    x,\n    y\n  };\n};","map":{"version":3,"names":["getCursorPosition","chartRef","event","current","undefined","chartBounds","getBoundingClientRect","offsetParent","x","clientX","left","y","clientY","top","transform","getComputedStyle","scaleX","parseFloat","split","slice","scaleY"],"sources":["/Volumes/csvol/fusion/libs/shared/plotting-components/src/LineChart/utils/getCursorPosition.ts"],"sourcesContent":["import { RefObject } from 'react';\n\nexport const getCursorPosition = (\n  chartRef: RefObject<HTMLDivElement>,\n  event: MouseEvent\n) => {\n  if (!chartRef.current) {\n    return undefined;\n  }\n\n  const chartBounds = chartRef.current.getBoundingClientRect();\n  const { offsetParent } = chartRef.current;\n  let x = event.clientX - chartBounds.left;\n  let y = event.clientY - chartBounds.top;\n  const transform = offsetParent && getComputedStyle(offsetParent).transform;\n  if (!transform || transform === 'none') {\n    return { x, y };\n  }\n\n  const scaleX = parseFloat(transform.split(',')[0].slice(7));\n  const scaleY = parseFloat(transform.split(',')[3]);\n\n  x /= scaleX;\n  y /= scaleY;\n\n  return { x, y };\n};\n"],"mappings":"AAEA,OAAO,MAAMA,iBAAiB,GAAG,CAC/BC,QAAmC,EACnCC,KAAiB,KACd;EACH,IAAI,CAACD,QAAQ,CAACE,OAAO,EAAE;IACrB,OAAOC,SAAS;EAClB;EAEA,MAAMC,WAAW,GAAGJ,QAAQ,CAACE,OAAO,CAACG,qBAAqB,EAAE;EAC5D,MAAM;IAAEC;EAAa,CAAC,GAAGN,QAAQ,CAACE,OAAO;EACzC,IAAIK,CAAC,GAAGN,KAAK,CAACO,OAAO,GAAGJ,WAAW,CAACK,IAAI;EACxC,IAAIC,CAAC,GAAGT,KAAK,CAACU,OAAO,GAAGP,WAAW,CAACQ,GAAG;EACvC,MAAMC,SAAS,GAAGP,YAAY,IAAIQ,gBAAgB,CAACR,YAAY,CAAC,CAACO,SAAS;EAC1E,IAAI,CAACA,SAAS,IAAIA,SAAS,KAAK,MAAM,EAAE;IACtC,OAAO;MAAEN,CAAC;MAAEG;IAAE,CAAC;EACjB;EAEA,MAAMK,MAAM,GAAGC,UAAU,CAACH,SAAS,CAACI,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;EAC3D,MAAMC,MAAM,GAAGH,UAAU,CAACH,SAAS,CAACI,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;EAElDV,CAAC,IAAIQ,MAAM;EACXL,CAAC,IAAIS,MAAM;EAEX,OAAO;IAAEZ,CAAC;IAAEG;EAAE,CAAC;AACjB,CAAC"},"metadata":{},"sourceType":"module"}