{"ast":null,"code":"var _s = $RefreshSig$();\n// https://stackoverflow.com/a/75101934/218198\nimport { useMemo, useSyncExternalStore } from 'react';\nfunction subscribe(callback) {\n  window.addEventListener('resize', callback);\n  return () => {\n    window.removeEventListener('resize', callback);\n  };\n}\nexport function useDimensions(ref) {\n  _s();\n  const dimensions = useSyncExternalStore(subscribe, () => JSON.stringify({\n    width: ref.current?.offsetWidth ?? 0,\n    height: ref.current?.offsetHeight ?? 0\n  }));\n  return useMemo(() => JSON.parse(dimensions), [dimensions]);\n}\n_s(useDimensions, \"zw7rwNBLaJeGhOUG5VJ6ttPTMOo=\", false, function () {\n  return [useSyncExternalStore];\n});","map":{"version":3,"names":["useMemo","useSyncExternalStore","subscribe","callback","window","addEventListener","removeEventListener","useDimensions","ref","dimensions","JSON","stringify","width","current","offsetWidth","height","offsetHeight","parse"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/core/src/hooks/useDimensions.ts"],"sourcesContent":["// https://stackoverflow.com/a/75101934/218198\nimport { RefObject, useMemo, useSyncExternalStore } from 'react';\n\nfunction subscribe(callback: (e: Event) => void) {\n  window.addEventListener('resize', callback);\n  return () => {\n    window.removeEventListener('resize', callback);\n  };\n}\n\nexport function useDimensions(ref: RefObject<HTMLElement>) {\n  const dimensions = useSyncExternalStore(subscribe, () =>\n    JSON.stringify({\n      width: ref.current?.offsetWidth ?? 0,\n      height: ref.current?.offsetHeight ?? 0,\n    })\n  );\n  return useMemo(() => JSON.parse(dimensions), [dimensions]);\n}\n"],"mappings":";AAAA;AACA,SAAoBA,OAAO,EAAEC,oBAAoB,QAAQ,OAAO;AAEhE,SAASC,SAAS,CAACC,QAA4B,EAAE;EAC/CC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEF,QAAQ,CAAC;EAC3C,OAAO,MAAM;IACXC,MAAM,CAACE,mBAAmB,CAAC,QAAQ,EAAEH,QAAQ,CAAC;EAChD,CAAC;AACH;AAEA,OAAO,SAASI,aAAa,CAACC,GAA2B,EAAE;EAAA;EACzD,MAAMC,UAAU,GAAGR,oBAAoB,CAACC,SAAS,EAAE,MACjDQ,IAAI,CAACC,SAAS,CAAC;IACbC,KAAK,EAAEJ,GAAG,CAACK,OAAO,EAAEC,WAAW,IAAI,CAAC;IACpCC,MAAM,EAAEP,GAAG,CAACK,OAAO,EAAEG,YAAY,IAAI;EACvC,CAAC,CAAC,CACH;EACD,OAAOhB,OAAO,CAAC,MAAMU,IAAI,CAACO,KAAK,CAACR,UAAU,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;AAC5D;AAAC,GAReF,aAAa;EAAA,QACRN,oBAAoB;AAAA"},"metadata":{},"sourceType":"module"}