{"ast":null,"code":"var _jsxFileName = \"/Volumes/csvol/fusion/libs/shared/cdf-utilities/src/components/CodeEditor/index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo } from 'react';\nimport styled from 'styled-components';\nimport ReactCodeMirror from '@uiw/react-codemirror';\nimport { getExtensions } from './extensions';\nimport { editorStyle, getTheme } from './theme';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CodeEditor = ({\n  autoFocus = true,\n  disabled,\n  extensions = [],\n  onRun,\n  theme,\n  ...props\n}) => {\n  _s();\n  const memoizedExtensions = useMemo(() => {\n    return [...getExtensions({\n      onRun\n    }, disabled), ...extensions];\n  }, [disabled, extensions, onRun]);\n  return /*#__PURE__*/_jsxDEV(StyledCodeMirror, {\n    ...props,\n    autoFocus: autoFocus && !disabled,\n    editable: !disabled,\n    readOnly: disabled,\n    basicSetup: false,\n    indentWithTab: false,\n    extensions: memoizedExtensions,\n    theme: getTheme(theme)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(CodeEditor, \"yzKw4XTeKSshWl6M8YivCqLHy/c=\");\n_c = CodeEditor;\nconst StyledCodeMirror = /*#__PURE__*/styled(ReactCodeMirror).withConfig({\n  displayName: \"CodeEditor__StyledCodeMirror\",\n  componentId: \"wamwu7-0\"\n})([\"flex-grow:1;flex-basis:0;height:100%;min-height:0;&&{\", \";}\"], editorStyle());\n_c2 = StyledCodeMirror;\nvar _c, _c2;\n$RefreshReg$(_c, \"CodeEditor\");\n$RefreshReg$(_c2, \"StyledCodeMirror\");","map":{"version":3,"names":["React","useMemo","styled","ReactCodeMirror","getExtensions","editorStyle","getTheme","CodeEditor","autoFocus","disabled","extensions","onRun","theme","props","memoizedExtensions","StyledCodeMirror"],"sources":["/Volumes/csvol/fusion/libs/shared/cdf-utilities/src/components/CodeEditor/index.tsx"],"sourcesContent":["import React, { ComponentProps, useMemo } from 'react';\n\nimport styled from 'styled-components';\n\nimport ReactCodeMirror from '@uiw/react-codemirror';\n\nimport { CommandFunction, getExtensions } from './extensions';\nimport { editorStyle, getTheme } from './theme';\n\nexport type CodeEditorTheme = 'light' | 'dark';\n\nexport type CodeEditorProps = {\n  disabled?: boolean;\n  /**\n   * This function needs to be memoized - issues like CDFUX-1782 occurs otherwise\n   */\n  onRun?: CommandFunction;\n  theme?: CodeEditorTheme;\n} & Omit<\n  ComponentProps<typeof ReactCodeMirror>,\n  | 'basicSetup'\n  | 'contentEditable'\n  | 'editable'\n  | 'indentWithTab'\n  | 'readOnly'\n  | 'theme'\n>;\n\nexport const CodeEditor = ({\n  autoFocus = true,\n  disabled,\n  extensions = [],\n  onRun,\n  theme,\n  ...props\n}: CodeEditorProps): JSX.Element => {\n  const memoizedExtensions = useMemo(() => {\n    return [...getExtensions({ onRun }, disabled), ...extensions];\n  }, [disabled, extensions, onRun]);\n\n  return (\n    <StyledCodeMirror\n      {...props}\n      autoFocus={autoFocus && !disabled}\n      editable={!disabled}\n      readOnly={disabled}\n      basicSetup={false}\n      indentWithTab={false}\n      extensions={memoizedExtensions}\n      theme={getTheme(theme)}\n    />\n  );\n};\n\nconst StyledCodeMirror = styled(ReactCodeMirror)`\n  flex-grow: 1;\n  flex-basis: 0;\n  height: 100%;\n  min-height: 0;\n\n  && {\n    ${editorStyle()};\n  }\n`;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAoBC,OAAO,QAAQ,OAAO;AAEtD,OAAOC,MAAM,MAAM,mBAAmB;AAEtC,OAAOC,eAAe,MAAM,uBAAuB;AAEnD,SAA0BC,aAAa,QAAQ,cAAc;AAC7D,SAASC,WAAW,EAAEC,QAAQ,QAAQ,SAAS;AAAC;AAqBhD,OAAO,MAAMC,UAAU,GAAG,CAAC;EACzBC,SAAS,GAAG,IAAI;EAChBC,QAAQ;EACRC,UAAU,GAAG,EAAE;EACfC,KAAK;EACLC,KAAK;EACL,GAAGC;AACY,CAAC,KAAkB;EAAA;EAClC,MAAMC,kBAAkB,GAAGb,OAAO,CAAC,MAAM;IACvC,OAAO,CAAC,GAAGG,aAAa,CAAC;MAAEO;IAAM,CAAC,EAAEF,QAAQ,CAAC,EAAE,GAAGC,UAAU,CAAC;EAC/D,CAAC,EAAE,CAACD,QAAQ,EAAEC,UAAU,EAAEC,KAAK,CAAC,CAAC;EAEjC,oBACE,QAAC,gBAAgB;IAAA,GACXE,KAAK;IACT,SAAS,EAAEL,SAAS,IAAI,CAACC,QAAS;IAClC,QAAQ,EAAE,CAACA,QAAS;IACpB,QAAQ,EAAEA,QAAS;IACnB,UAAU,EAAE,KAAM;IAClB,aAAa,EAAE,KAAM;IACrB,UAAU,EAAEK,kBAAmB;IAC/B,KAAK,EAAER,QAAQ,CAACM,KAAK;EAAE;IAAA;IAAA;IAAA;EAAA,QACvB;AAEN,CAAC;AAAC,GAxBWL,UAAU;AAAA,KAAVA,UAAU;AA0BvB,MAAMQ,gBAAgB,gBAAGb,MAAM,CAACC,eAAe,CAAC;EAAA;EAAA;AAAA,oEAO1CE,WAAW,EAAE,CAElB;AAAC,MATIU,gBAAgB;AAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module"}