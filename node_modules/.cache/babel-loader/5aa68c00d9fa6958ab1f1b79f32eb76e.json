{"ast":null,"code":"import { getDocumentsAggregate } from './getDocumentsAggregate';\nexport const getDocumentsMetadataValuesAggregate = (sdk, metadataKey, filters = {}) => {\n  return getDocumentsAggregate(sdk, {\n    ...filters,\n    aggregate: 'uniqueValues',\n    properties: [{\n      property: ['sourceFile', 'metadata', metadataKey]\n    }]\n  }).then(({\n    items\n  }) => {\n    return items.map(item => {\n      return {\n        ...item,\n        value: item.values[0]\n      };\n    });\n  });\n};","map":{"version":3,"names":["getDocumentsAggregate","getDocumentsMetadataValuesAggregate","sdk","metadataKey","filters","aggregate","properties","property","then","items","map","item","value","values"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/documents/service/network/getDocumentsMetadataValuesAggregate.ts"],"sourcesContent":["import { CogniteClient } from '@cognite/sdk';\n\nimport {\n  EventsAggregateUniqueValuesResponse,\n  EventsMetadataAggregateResponse,\n} from '../../../events';\nimport { DocumentsAggregateFilters } from '../types';\n\nimport { getDocumentsAggregate } from './getDocumentsAggregate';\n\nexport const getDocumentsMetadataValuesAggregate = (\n  sdk: CogniteClient,\n  metadataKey: string,\n  filters: DocumentsAggregateFilters = {}\n): Promise<EventsMetadataAggregateResponse[]> => {\n  return getDocumentsAggregate<EventsAggregateUniqueValuesResponse>(sdk, {\n    ...filters,\n    aggregate: 'uniqueValues',\n    properties: [\n      {\n        property: ['sourceFile', 'metadata', metadataKey],\n      },\n    ],\n  }).then(({ items }) => {\n    return items.map((item) => {\n      return {\n        ...item,\n        value: item.values[0],\n      };\n    });\n  });\n};\n"],"mappings":"AAQA,SAASA,qBAAqB,QAAQ,yBAAyB;AAE/D,OAAO,MAAMC,mCAAmC,GAAG,CACjDC,GAAkB,EAClBC,WAAmB,EACnBC,OAAkC,GAAG,CAAC,CAAC,KACQ;EAC/C,OAAOJ,qBAAqB,CAAsCE,GAAG,EAAE;IACrE,GAAGE,OAAO;IACVC,SAAS,EAAE,cAAc;IACzBC,UAAU,EAAE,CACV;MACEC,QAAQ,EAAE,CAAC,YAAY,EAAE,UAAU,EAAEJ,WAAW;IAClD,CAAC;EAEL,CAAC,CAAC,CAACK,IAAI,CAAC,CAAC;IAAEC;EAAM,CAAC,KAAK;IACrB,OAAOA,KAAK,CAACC,GAAG,CAAEC,IAAI,IAAK;MACzB,OAAO;QACL,GAAGA,IAAI;QACPC,KAAK,EAAED,IAAI,CAACE,MAAM,CAAC,CAAC;MACtB,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module"}