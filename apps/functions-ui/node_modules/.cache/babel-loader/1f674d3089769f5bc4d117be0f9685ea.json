{"ast":null,"code":"import { EMPTY_OBJECT } from '@data-exploration-lib/core';\nimport { getSequencesAggregate } from './getSequencesAggregate';\nexport const getSequencesMetadataKeysAggregate = (sdk, filters = EMPTY_OBJECT) => {\n  return getSequencesAggregate(sdk, {\n    ...filters,\n    aggregate: 'uniqueProperties',\n    path: ['metadata']\n  }).then(({\n    items\n  }) => {\n    return items.map(({\n      count,\n      values\n    }) => {\n      const metadataKey = values[0].property[1];\n      return {\n        count,\n        value: metadataKey,\n        values: [metadataKey]\n      };\n    });\n  });\n};","map":{"version":3,"names":["EMPTY_OBJECT","getSequencesAggregate","getSequencesMetadataKeysAggregate","sdk","filters","aggregate","path","then","items","map","count","values","metadataKey","property","value"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/sequence/service/network/getSequencesMetadataKeyAggregate.ts"],"sourcesContent":["import { CogniteClient } from '@cognite/sdk';\n\nimport { EMPTY_OBJECT } from '@data-exploration-lib/core';\n\nimport {\n  SequencesAggregateFilters,\n  SequencesMetadataAggregateResponse,\n  SequencesAggregateUniquePropertiesResponse,\n  SequenceMetadataProperty,\n} from '../types';\n\nimport { getSequencesAggregate } from './getSequencesAggregate';\n\nexport const getSequencesMetadataKeysAggregate = (\n  sdk: CogniteClient,\n  filters: SequencesAggregateFilters = EMPTY_OBJECT\n): Promise<SequencesMetadataAggregateResponse[]> => {\n  return getSequencesAggregate<SequencesAggregateUniquePropertiesResponse>(\n    sdk,\n    {\n      ...filters,\n      aggregate: 'uniqueProperties',\n      path: ['metadata'],\n    }\n  ).then(({ items }) => {\n    return items.map(({ count, values }) => {\n      const metadataKey = (values[0].property as SequenceMetadataProperty)[1];\n      return {\n        count,\n        value: metadataKey,\n        values: [metadataKey],\n      };\n    });\n  });\n};\n"],"mappings":"AAEA,SAASA,YAAY,QAAQ,4BAA4B;AASzD,SAASC,qBAAqB,QAAQ,yBAAyB;AAE/D,OAAO,MAAMC,iCAAiC,GAAG,CAC/CC,GAAkB,EAClBC,OAAkC,GAAGJ,YAAY,KACC;EAClD,OAAOC,qBAAqB,CAC1BE,GAAG,EACH;IACE,GAAGC,OAAO;IACVC,SAAS,EAAE,kBAAkB;IAC7BC,IAAI,EAAE,CAAC,UAAU;EACnB,CAAC,CACF,CAACC,IAAI,CAAC,CAAC;IAAEC;EAAM,CAAC,KAAK;IACpB,OAAOA,KAAK,CAACC,GAAG,CAAC,CAAC;MAAEC,KAAK;MAAEC;IAAO,CAAC,KAAK;MACtC,MAAMC,WAAW,GAAID,MAAM,CAAC,CAAC,CAAC,CAACE,QAAQ,CAA8B,CAAC,CAAC;MACvE,OAAO;QACLH,KAAK;QACLI,KAAK,EAAEF,WAAW;QAClBD,MAAM,EAAE,CAACC,WAAW;MACtB,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module"}