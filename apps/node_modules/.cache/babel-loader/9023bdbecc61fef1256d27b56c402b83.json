{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useQuery } from '@tanstack/react-query';\nimport { useSDK } from '@cognite/sdk-provider';\nconst getRevisionKey = id => ['cdf', '3d', 'model', id, 'revisions'];\nexport const use3DRevisionsQuery = (modelId, opts) => {\n  _s();\n  const sdk = useSDK();\n  return useQuery(getRevisionKey(modelId), () => modelId ? sdk.revisions3D.list(modelId).autoPagingToArray({\n    limit: -1\n  }).then(res => res.map((r, rIndex) => ({\n    ...r,\n    index: res.length - rIndex\n  }))) : [], opts);\n};\n_s(use3DRevisionsQuery, \"PmNYcoJFBmvG9WfZuMOcBXEzd1A=\", false, function () {\n  return [useSDK, useQuery];\n});","map":{"version":3,"names":["useQuery","useSDK","getRevisionKey","id","use3DRevisionsQuery","modelId","opts","sdk","revisions3D","list","autoPagingToArray","limit","then","res","map","r","rIndex","index","length"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/threeD/internal/queries/use3DRevisionsQuery.ts"],"sourcesContent":["import { useQuery } from '@tanstack/react-query';\n\nimport { useSDK } from '@cognite/sdk-provider';\n\nimport { Revision3DWithIndex, RevisionOpts } from '../types';\n\nconst getRevisionKey = (id?: number) => ['cdf', '3d', 'model', id, 'revisions'];\nexport const use3DRevisionsQuery = <T = Revision3DWithIndex[]>(\n  modelId?: number,\n  opts?: Omit<RevisionOpts<T>, 'queryKey' | 'queryFn'>\n) => {\n  const sdk = useSDK();\n\n  return useQuery(\n    getRevisionKey(modelId),\n    () =>\n      modelId\n        ? sdk.revisions3D\n            .list(modelId)\n            .autoPagingToArray({ limit: -1 })\n            .then((res) =>\n              res.map((r, rIndex) => ({ ...r, index: res.length - rIndex }))\n            )\n        : [],\n    opts\n  );\n};\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,uBAAuB;AAEhD,SAASC,MAAM,QAAQ,uBAAuB;AAI9C,MAAMC,cAAc,GAAIC,EAAW,IAAK,CAAC,KAAK,EAAE,IAAI,EAAE,OAAO,EAAEA,EAAE,EAAE,WAAW,CAAC;AAC/E,OAAO,MAAMC,mBAAmB,GAAG,CACjCC,OAAgB,EAChBC,IAAoD,KACjD;EAAA;EACH,MAAMC,GAAG,GAAGN,MAAM,EAAE;EAEpB,OAAOD,QAAQ,CACbE,cAAc,CAACG,OAAO,CAAC,EACvB,MACEA,OAAO,GACHE,GAAG,CAACC,WAAW,CACZC,IAAI,CAACJ,OAAO,CAAC,CACbK,iBAAiB,CAAC;IAAEC,KAAK,EAAE,CAAC;EAAE,CAAC,CAAC,CAChCC,IAAI,CAAEC,GAAG,IACRA,GAAG,CAACC,GAAG,CAAC,CAACC,CAAC,EAAEC,MAAM,MAAM;IAAE,GAAGD,CAAC;IAAEE,KAAK,EAAEJ,GAAG,CAACK,MAAM,GAAGF;EAAO,CAAC,CAAC,CAAC,CAC/D,GACH,EAAE,EACRV,IAAI,CACL;AACH,CAAC;AAAC,GAnBWF,mBAAmB;EAAA,QAIlBH,MAAM,EAEXD,QAAQ;AAAA"},"metadata":{},"sourceType":"module"}