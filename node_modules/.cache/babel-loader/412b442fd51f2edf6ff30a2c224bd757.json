{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useQuery } from '@tanstack/react-query';\nimport { useSDK } from '@cognite/sdk-provider';\nimport { queryKeys } from '../../../queryKeys';\nimport { getDatasetsList } from '../network';\nexport const useDatasetsListQuery = ({\n  filter,\n  limit,\n  filterArchivedItems\n}, options) => {\n  _s();\n  const sdk = useSDK();\n  return useQuery(queryKeys.listDatasets(filter, limit), () => getDatasetsList(sdk, {\n    filter,\n    limit\n  }), {\n    select: datasets => filterArchivedItems ? datasets.filter(item => {\n      if (item?.metadata && item.metadata['archived'] === 'true') return false;\n      return true;\n    }) : datasets,\n    ...options\n  });\n};\n_s(useDatasetsListQuery, \"PmNYcoJFBmvG9WfZuMOcBXEzd1A=\", false, function () {\n  return [useSDK, useQuery];\n});","map":{"version":3,"names":["useQuery","useSDK","queryKeys","getDatasetsList","useDatasetsListQuery","filter","limit","filterArchivedItems","options","sdk","listDatasets","select","datasets","item","metadata"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/dataSets/service/queries/useDatasetsListQuery.ts"],"sourcesContent":["import { useQuery, UseQueryOptions } from '@tanstack/react-query';\n\nimport { DataSet, DataSetFilter } from '@cognite/sdk';\nimport { useSDK } from '@cognite/sdk-provider';\n\nimport { queryKeys } from '../../../queryKeys';\nimport { getDatasetsList } from '../network';\n\nexport const useDatasetsListQuery = (\n  {\n    filter,\n    limit,\n    filterArchivedItems,\n  }: {\n    filter?: DataSetFilter;\n    limit?: number;\n    filterArchivedItems?: boolean;\n  },\n  options?: Omit<UseQueryOptions<DataSet[], any, DataSet[]>, 'queryFn'>\n) => {\n  const sdk = useSDK();\n\n  return useQuery(\n    queryKeys.listDatasets(filter, limit),\n    () =>\n      getDatasetsList(sdk, {\n        filter,\n        limit,\n      }),\n    {\n      select: (datasets) =>\n        filterArchivedItems\n          ? datasets.filter((item) => {\n              if (item?.metadata && item.metadata['archived'] === 'true')\n                return false;\n              return true;\n            })\n          : datasets,\n      ...(options as any),\n    }\n  );\n};\n"],"mappings":";AAAA,SAASA,QAAQ,QAAyB,uBAAuB;AAGjE,SAASC,MAAM,QAAQ,uBAAuB;AAE9C,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,eAAe,QAAQ,YAAY;AAE5C,OAAO,MAAMC,oBAAoB,GAAG,CAClC;EACEC,MAAM;EACNC,KAAK;EACLC;AAKF,CAAC,EACDC,OAAqE,KAClE;EAAA;EACH,MAAMC,GAAG,GAAGR,MAAM,EAAE;EAEpB,OAAOD,QAAQ,CACbE,SAAS,CAACQ,YAAY,CAACL,MAAM,EAAEC,KAAK,CAAC,EACrC,MACEH,eAAe,CAACM,GAAG,EAAE;IACnBJ,MAAM;IACNC;EACF,CAAC,CAAC,EACJ;IACEK,MAAM,EAAGC,QAAQ,IACfL,mBAAmB,GACfK,QAAQ,CAACP,MAAM,CAAEQ,IAAI,IAAK;MACxB,IAAIA,IAAI,EAAEC,QAAQ,IAAID,IAAI,CAACC,QAAQ,CAAC,UAAU,CAAC,KAAK,MAAM,EACxD,OAAO,KAAK;MACd,OAAO,IAAI;IACb,CAAC,CAAC,GACFF,QAAQ;IACd,GAAIJ;EACN,CAAC,CACF;AACH,CAAC;AAAC,GAjCWJ,oBAAoB;EAAA,QAYnBH,MAAM,EAEXD,QAAQ;AAAA"},"metadata":{},"sourceType":"module"}