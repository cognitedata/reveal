{"ast":null,"code":"import { getTimeseriesAggregate } from './getTimeseriesAggregate';\nexport const getTimeseriesMetadataKeysAggregate = (sdk, filters = {}) => {\n  return getTimeseriesAggregate(sdk, {\n    ...filters,\n    aggregate: 'uniqueProperties',\n    path: ['metadata']\n  }).then(({\n    items\n  }) => {\n    return items.map(({\n      count,\n      values: [value]\n    }) => {\n      const metadataKey = value.property[1];\n      return {\n        count,\n        value: metadataKey,\n        values: [metadataKey]\n      };\n    });\n  });\n};","map":{"version":3,"names":["getTimeseriesAggregate","getTimeseriesMetadataKeysAggregate","sdk","filters","aggregate","path","then","items","map","count","values","value","metadataKey","property"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/timeseries/service/network/getTimeseriesMetadataKeysAggregate.ts"],"sourcesContent":["import { CogniteClient } from '@cognite/sdk';\n\nimport {\n  TimeseriesAggregateFilters,\n  TimeseriesAggregateUniquePropertiesResponse,\n  TimeseriesMetadataAggregateResponse,\n  TimeseriesMetadataProperty,\n} from '../types';\n\nimport { getTimeseriesAggregate } from './getTimeseriesAggregate';\n\nexport const getTimeseriesMetadataKeysAggregate = (\n  sdk: CogniteClient,\n  filters: TimeseriesAggregateFilters = {}\n): Promise<TimeseriesMetadataAggregateResponse[]> => {\n  return getTimeseriesAggregate<TimeseriesAggregateUniquePropertiesResponse>(\n    sdk,\n    {\n      ...filters,\n      aggregate: 'uniqueProperties',\n      path: ['metadata'],\n    }\n  ).then(({ items }) => {\n    return items.map(({ count, values: [value] }) => {\n      const metadataKey = (value.property as TimeseriesMetadataProperty)[1];\n      return {\n        count,\n        value: metadataKey,\n        values: [metadataKey],\n      };\n    });\n  });\n};\n"],"mappings":"AASA,SAASA,sBAAsB,QAAQ,0BAA0B;AAEjE,OAAO,MAAMC,kCAAkC,GAAG,CAChDC,GAAkB,EAClBC,OAAmC,GAAG,CAAC,CAAC,KACW;EACnD,OAAOH,sBAAsB,CAC3BE,GAAG,EACH;IACE,GAAGC,OAAO;IACVC,SAAS,EAAE,kBAAkB;IAC7BC,IAAI,EAAE,CAAC,UAAU;EACnB,CAAC,CACF,CAACC,IAAI,CAAC,CAAC;IAAEC;EAAM,CAAC,KAAK;IACpB,OAAOA,KAAK,CAACC,GAAG,CAAC,CAAC;MAAEC,KAAK;MAAEC,MAAM,EAAE,CAACC,KAAK;IAAE,CAAC,KAAK;MAC/C,MAAMC,WAAW,GAAID,KAAK,CAACE,QAAQ,CAAgC,CAAC,CAAC;MACrE,OAAO;QACLJ,KAAK;QACLE,KAAK,EAAEC,WAAW;QAClBF,MAAM,EAAE,CAACE,WAAW;MACtB,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module"}