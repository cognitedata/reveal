{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMemo } from 'react';\nimport { DEFAULT_GLOBAL_TABLE_RESULT_LIMIT } from '../../../constants';\nimport { useAssetsListQuery } from '../../service';\nimport { mapFiltersToAssetsAdvancedFilters, mapInternalFilterToAssetFilter, mapTableSortByToAssetSortFields } from '../transformers';\nexport const useAssetsSearchResultQuery = ({\n  query,\n  assetFilter = {},\n  sortBy,\n  limit = DEFAULT_GLOBAL_TABLE_RESULT_LIMIT\n}, options, searchConfig) => {\n  _s();\n  const advancedFilter = useMemo(() => mapFiltersToAssetsAdvancedFilters(assetFilter, query, searchConfig), [assetFilter, query, searchConfig]);\n  const filter = useMemo(() => mapInternalFilterToAssetFilter(assetFilter), [assetFilter]);\n  const sort = useMemo(() => mapTableSortByToAssetSortFields(sortBy), [sortBy]);\n  return useAssetsListQuery({\n    filter,\n    advancedFilter,\n    sort,\n    limit\n  }, {\n    ...options,\n    keepPreviousData: true\n  });\n};\n_s(useAssetsSearchResultQuery, \"wbdfXUd+OsGHJ5VIvBcbfP1qTQU=\", false, function () {\n  return [useAssetsListQuery];\n});","map":{"version":3,"names":["useMemo","DEFAULT_GLOBAL_TABLE_RESULT_LIMIT","useAssetsListQuery","mapFiltersToAssetsAdvancedFilters","mapInternalFilterToAssetFilter","mapTableSortByToAssetSortFields","useAssetsSearchResultQuery","query","assetFilter","sortBy","limit","options","searchConfig","advancedFilter","filter","sort","keepPreviousData"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/assets/internal/queries/useAssetsSearchResultQuery.ts"],"sourcesContent":["import { useMemo } from 'react';\n\nimport { UseInfiniteQueryOptions } from '@tanstack/react-query';\n\nimport {\n  AssetConfigType,\n  InternalAssetFilters,\n} from '@data-exploration-lib/core';\n\nimport { DEFAULT_GLOBAL_TABLE_RESULT_LIMIT } from '../../../constants';\nimport { TableSortBy } from '../../../types';\nimport { useAssetsListQuery } from '../../service';\nimport {\n  mapFiltersToAssetsAdvancedFilters,\n  mapInternalFilterToAssetFilter,\n  mapTableSortByToAssetSortFields,\n} from '../transformers';\n\nexport const useAssetsSearchResultQuery = (\n  {\n    query,\n    assetFilter = {},\n    sortBy,\n    limit = DEFAULT_GLOBAL_TABLE_RESULT_LIMIT,\n  }: {\n    query?: string;\n    assetFilter: InternalAssetFilters;\n    sortBy?: TableSortBy[];\n    limit?: number;\n  },\n  options?: UseInfiniteQueryOptions,\n  searchConfig?: AssetConfigType\n) => {\n  const advancedFilter = useMemo(\n    () => mapFiltersToAssetsAdvancedFilters(assetFilter, query, searchConfig),\n    [assetFilter, query, searchConfig]\n  );\n\n  const filter = useMemo(\n    () => mapInternalFilterToAssetFilter(assetFilter),\n    [assetFilter]\n  );\n\n  const sort = useMemo(() => mapTableSortByToAssetSortFields(sortBy), [sortBy]);\n\n  return useAssetsListQuery(\n    {\n      filter,\n      advancedFilter,\n      sort,\n      limit,\n    },\n    {\n      ...options,\n      keepPreviousData: true,\n    }\n  );\n};\n"],"mappings":";AAAA,SAASA,OAAO,QAAQ,OAAO;AAS/B,SAASC,iCAAiC,QAAQ,oBAAoB;AAEtE,SAASC,kBAAkB,QAAQ,eAAe;AAClD,SACEC,iCAAiC,EACjCC,8BAA8B,EAC9BC,+BAA+B,QAC1B,iBAAiB;AAExB,OAAO,MAAMC,0BAA0B,GAAG,CACxC;EACEC,KAAK;EACLC,WAAW,GAAG,CAAC,CAAC;EAChBC,MAAM;EACNC,KAAK,GAAGT;AAMV,CAAC,EACDU,OAAiC,EACjCC,YAA8B,KAC3B;EAAA;EACH,MAAMC,cAAc,GAAGb,OAAO,CAC5B,MAAMG,iCAAiC,CAACK,WAAW,EAAED,KAAK,EAAEK,YAAY,CAAC,EACzE,CAACJ,WAAW,EAAED,KAAK,EAAEK,YAAY,CAAC,CACnC;EAED,MAAME,MAAM,GAAGd,OAAO,CACpB,MAAMI,8BAA8B,CAACI,WAAW,CAAC,EACjD,CAACA,WAAW,CAAC,CACd;EAED,MAAMO,IAAI,GAAGf,OAAO,CAAC,MAAMK,+BAA+B,CAACI,MAAM,CAAC,EAAE,CAACA,MAAM,CAAC,CAAC;EAE7E,OAAOP,kBAAkB,CACvB;IACEY,MAAM;IACND,cAAc;IACdE,IAAI;IACJL;EACF,CAAC,EACD;IACE,GAAGC,OAAO;IACVK,gBAAgB,EAAE;EACpB,CAAC,CACF;AACH,CAAC;AAAC,GAvCWV,0BAA0B;EAAA,QA2B9BJ,kBAAkB;AAAA"},"metadata":{},"sourceType":"module"}