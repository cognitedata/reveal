{"ast":null,"code":"var _jsxFileName = \"/Volumes/csvol/fusion/apps/functions-ui/src/components/FunctionModals/FunctionCallResponseModal.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Modal, Alert } from 'antd';\nimport { useResponse } from 'utils/hooks';\nimport { Icon, Button } from '@cognite/cogs.js';\nimport ErrorFeedback from '../components/Common/atoms/ErrorFeedback';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ModalBody({\n  response,\n  error,\n  fetched\n}) {\n  if (!fetched) {\n    return /*#__PURE__*/_jsxDEV(\"em\", {\n      children: \"Fetching logs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Alert, {\n      type: \"error\",\n      icon: /*#__PURE__*/_jsxDEV(Icon, {\n        type: \"ErrorFilled\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 15\n      }, this),\n      message: \"Error\",\n      description: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"There was an error fetching the function response.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ErrorFeedback, {\n          error: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this);\n  }\n  if (!response) {\n    return /*#__PURE__*/_jsxDEV(\"em\", {\n      children: \"No response found for this function\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"pre\", {\n    children: JSON.stringify(response, null, 4)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 10\n  }, this);\n}\n_c = ModalBody;\nexport default function ViewResponseModal({\n  id,\n  callId,\n  onCancel\n}) {\n  _s();\n  const {\n    data: response,\n    error,\n    isFetched\n  } = useResponse({\n    id,\n    callId\n  });\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    visible: true,\n    title: \"Call response\",\n    footer: [/*#__PURE__*/_jsxDEV(Button, {\n      icon: \"CloseLarge\",\n      onClick: onCancel,\n      style: {\n        /** Padding needed because of inconsistent icon sizes in cogs * */\n        paddingTop: 10\n      },\n      children: \"Close\"\n    }, \"close\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)],\n    width: 900,\n    onCancel: onCancel,\n    children: /*#__PURE__*/_jsxDEV(ModalBody, {\n      response: response,\n      error: error,\n      fetched: isFetched\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(ViewResponseModal, \"gbRzuJ2DETvNazOVQW/yVE8hjQs=\", false, function () {\n  return [useResponse];\n});\n_c2 = ViewResponseModal;\nvar _c, _c2;\n$RefreshReg$(_c, \"ModalBody\");\n$RefreshReg$(_c2, \"ViewResponseModal\");","map":{"version":3,"names":["React","Modal","Alert","useResponse","Icon","Button","ErrorFeedback","ModalBody","response","error","fetched","JSON","stringify","ViewResponseModal","id","callId","onCancel","data","isFetched","paddingTop"],"sources":["/Volumes/csvol/fusion/apps/functions-ui/src/components/FunctionModals/FunctionCallResponseModal.tsx"],"sourcesContent":["import React from 'react';\n\nimport { Modal, Alert } from 'antd';\nimport { CallResponse } from 'types/Types';\nimport { useResponse } from 'utils/hooks';\n\nimport { Icon, Button } from '@cognite/cogs.js';\n\nimport ErrorFeedback from '../components/Common/atoms/ErrorFeedback';\n\ntype Props = {\n  onCancel: () => void;\n  id: number;\n  callId: number;\n};\n\ntype BodyProps = {\n  response?: CallResponse;\n  error?: any;\n  fetched: boolean;\n};\nfunction ModalBody({ response, error, fetched }: BodyProps) {\n  if (!fetched) {\n    return <em>Fetching logs</em>;\n  }\n  if (error) {\n    return (\n      <Alert\n        type=\"error\"\n        icon={<Icon type=\"ErrorFilled\" />}\n        message=\"Error\"\n        description={\n          <>\n            <p>There was an error fetching the function response.</p>\n            <ErrorFeedback error={error} />\n          </>\n        }\n      />\n    );\n  }\n\n  if (!response) {\n    return <em>No response found for this function</em>;\n  }\n\n  return <pre>{JSON.stringify(response, null, 4)}</pre>;\n}\n\nexport default function ViewResponseModal({ id, callId, onCancel }: Props) {\n  const {\n    data: response,\n    error,\n    isFetched,\n  } = useResponse({\n    id,\n    callId,\n  });\n\n  return (\n    <Modal\n      visible\n      title=\"Call response\"\n      footer={[\n        <Button\n          key=\"close\"\n          icon=\"CloseLarge\"\n          onClick={onCancel}\n          style={{\n            /** Padding needed because of inconsistent icon sizes in cogs * */\n            paddingTop: 10,\n          }}\n        >\n          Close\n        </Button>,\n      ]}\n      width={900}\n      onCancel={onCancel}\n    >\n      <ModalBody response={response} error={error} fetched={isFetched} />\n    </Modal>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,KAAK,EAAEC,KAAK,QAAQ,MAAM;AAEnC,SAASC,WAAW,QAAQ,aAAa;AAEzC,SAASC,IAAI,EAAEC,MAAM,QAAQ,kBAAkB;AAE/C,OAAOC,aAAa,MAAM,0CAA0C;AAAC;AAAA;AAarE,SAASC,SAAS,CAAC;EAAEC,QAAQ;EAAEC,KAAK;EAAEC;AAAmB,CAAC,EAAE;EAC1D,IAAI,CAACA,OAAO,EAAE;IACZ,oBAAO;MAAA,UAAI;IAAa;MAAA;MAAA;MAAA;IAAA,QAAK;EAC/B;EACA,IAAID,KAAK,EAAE;IACT,oBACE,QAAC,KAAK;MACJ,IAAI,EAAC,OAAO;MACZ,IAAI,eAAE,QAAC,IAAI;QAAC,IAAI,EAAC;MAAa;QAAA;QAAA;QAAA;MAAA,QAAI;MAClC,OAAO,EAAC,OAAO;MACf,WAAW,eACT;QAAA,wBACE;UAAA,UAAG;QAAkD;UAAA;UAAA;UAAA;QAAA,QAAI,eACzD,QAAC,aAAa;UAAC,KAAK,EAAEA;QAAM;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;IAElC;MAAA;MAAA;MAAA;IAAA,QACD;EAEN;EAEA,IAAI,CAACD,QAAQ,EAAE;IACb,oBAAO;MAAA,UAAI;IAAmC;MAAA;MAAA;MAAA;IAAA,QAAK;EACrD;EAEA,oBAAO;IAAA,UAAMG,IAAI,CAACC,SAAS,CAACJ,QAAQ,EAAE,IAAI,EAAE,CAAC;EAAC;IAAA;IAAA;IAAA;EAAA,QAAO;AACvD;AAAC,KAzBQD,SAAS;AA2BlB,eAAe,SAASM,iBAAiB,CAAC;EAAEC,EAAE;EAAEC,MAAM;EAAEC;AAAgB,CAAC,EAAE;EAAA;EACzE,MAAM;IACJC,IAAI,EAAET,QAAQ;IACdC,KAAK;IACLS;EACF,CAAC,GAAGf,WAAW,CAAC;IACdW,EAAE;IACFC;EACF,CAAC,CAAC;EAEF,oBACE,QAAC,KAAK;IACJ,OAAO;IACP,KAAK,EAAC,eAAe;IACrB,MAAM,EAAE,cACN,QAAC,MAAM;MAEL,IAAI,EAAC,YAAY;MACjB,OAAO,EAAEC,QAAS;MAClB,KAAK,EAAE;QACL;QACAG,UAAU,EAAE;MACd,CAAE;MAAA,UACH;IAED,GATM,OAAO;MAAA;MAAA;MAAA;IAAA,QASJ,CACT;IACF,KAAK,EAAE,GAAI;IACX,QAAQ,EAAEH,QAAS;IAAA,uBAEnB,QAAC,SAAS;MAAC,QAAQ,EAAER,QAAS;MAAC,KAAK,EAAEC,KAAM;MAAC,OAAO,EAAES;IAAU;MAAA;MAAA;MAAA;IAAA;EAAG;IAAA;IAAA;IAAA;EAAA,QAC7D;AAEZ;AAAC,GAjCuBL,iBAAiB;EAAA,QAKnCV,WAAW;AAAA;AAAA,MALOU,iBAAiB;AAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module"}