{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useContext } from 'react';\nimport debounce from 'lodash/debounce';\nimport noop from 'lodash/noop';\nimport { AppContext } from '../contexts';\nexport const useMetrics = () => {\n  _s();\n  const context = useContext(AppContext);\n  const trackUsage = context?.trackUsage;\n  if (!trackUsage) return noop;\n  return trackUsage;\n};\n\n// INFO: `useDebounceTrackUsage` is copied from the old components repo.\n_s(useMetrics, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const useDebouncedMetrics = (duration = 300) => {\n  _s2();\n  const trackUsage = useMetrics();\n  return debounce((trackText, metadata) => {\n    trackUsage(trackText, metadata);\n  }, duration);\n};\n_s2(useDebouncedMetrics, \"jj1/g9ctEWigWHkNWC2ew/DXzYY=\", false, function () {\n  return [useMetrics];\n});","map":{"version":3,"names":["useContext","debounce","noop","AppContext","useMetrics","context","trackUsage","useDebouncedMetrics","duration","trackText","metadata"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/core/src/hooks/useMetrics.ts"],"sourcesContent":["import { useContext } from 'react';\n\nimport debounce from 'lodash/debounce';\nimport noop from 'lodash/noop';\n\nimport { AppContext } from '../contexts';\n\nexport type MetricsMetadata = {\n  [key: string]: any;\n};\n\nexport const useMetrics = () => {\n  const context = useContext(AppContext);\n  const trackUsage = context?.trackUsage;\n\n  if (!trackUsage) return noop;\n\n  return trackUsage;\n};\n\n// INFO: `useDebounceTrackUsage` is copied from the old components repo.\nexport const useDebouncedMetrics = (duration = 300) => {\n  const trackUsage = useMetrics();\n  return debounce((trackText: string, metadata: MetricsMetadata) => {\n    trackUsage(trackText, metadata);\n  }, duration);\n};\n"],"mappings":";;AAAA,SAASA,UAAU,QAAQ,OAAO;AAElC,OAAOC,QAAQ,MAAM,iBAAiB;AACtC,OAAOC,IAAI,MAAM,aAAa;AAE9B,SAASC,UAAU,QAAQ,aAAa;AAMxC,OAAO,MAAMC,UAAU,GAAG,MAAM;EAAA;EAC9B,MAAMC,OAAO,GAAGL,UAAU,CAACG,UAAU,CAAC;EACtC,MAAMG,UAAU,GAAGD,OAAO,EAAEC,UAAU;EAEtC,IAAI,CAACA,UAAU,EAAE,OAAOJ,IAAI;EAE5B,OAAOI,UAAU;AACnB,CAAC;;AAED;AAAA,GATaF,UAAU;AAUvB,OAAO,MAAMG,mBAAmB,GAAG,CAACC,QAAQ,GAAG,GAAG,KAAK;EAAA;EACrD,MAAMF,UAAU,GAAGF,UAAU,EAAE;EAC/B,OAAOH,QAAQ,CAAC,CAACQ,SAAiB,EAAEC,QAAyB,KAAK;IAChEJ,UAAU,CAACG,SAAS,EAAEC,QAAQ,CAAC;EACjC,CAAC,EAAEF,QAAQ,CAAC;AACd,CAAC;AAAC,IALWD,mBAAmB;EAAA,QACXH,UAAU;AAAA"},"metadata":{},"sourceType":"module"}