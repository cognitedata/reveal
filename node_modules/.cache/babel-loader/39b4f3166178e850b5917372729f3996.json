{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useInfiniteQuery } from '@tanstack/react-query';\nimport { useSDK } from '@cognite/sdk-provider';\nimport { DEFAULT_GLOBAL_TABLE_RESULT_LIMIT } from '../../../constants';\nimport { queryKeys } from '../../../queryKeys';\nimport { search } from '../network/search';\nexport const useDocumentSearchQuery = ({\n  filter,\n  limit,\n  sort,\n  highlight = true\n} = {}, options = {}) => {\n  _s();\n  const sdk = useSDK();\n  const localLimit = limit || DEFAULT_GLOBAL_TABLE_RESULT_LIMIT;\n  return useInfiniteQuery(queryKeys.documentsSearch(filter, localLimit, sort), ({\n    pageParam\n  }) => search({\n    limit: localLimit,\n    filter,\n    sort,\n    highlight,\n    cursor: pageParam\n  }, sdk), {\n    getNextPageParam: lastPage => {\n      return lastPage?.nextCursor;\n    },\n    ...options\n  });\n};\n_s(useDocumentSearchQuery, \"d6A0fwr4GOP6j8hbc2RI8uLwBLI=\", false, function () {\n  return [useSDK, useInfiniteQuery];\n});","map":{"version":3,"names":["useInfiniteQuery","useSDK","DEFAULT_GLOBAL_TABLE_RESULT_LIMIT","queryKeys","search","useDocumentSearchQuery","filter","limit","sort","highlight","options","sdk","localLimit","documentsSearch","pageParam","cursor","getNextPageParam","lastPage","nextCursor"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/documents/service/queries/useDocumentSearchQuery.ts"],"sourcesContent":["import {\n  useInfiniteQuery,\n  UseInfiniteQueryOptions,\n} from '@tanstack/react-query';\n\nimport { DocumentFilter, DocumentSortItem } from '@cognite/sdk';\nimport { useSDK } from '@cognite/sdk-provider';\n\nimport { DEFAULT_GLOBAL_TABLE_RESULT_LIMIT } from '../../../constants';\nimport { queryKeys } from '../../../queryKeys';\nimport { search } from '../network/search';\n\nexport const useDocumentSearchQuery = (\n  {\n    filter,\n    limit,\n    sort,\n    highlight = true,\n  }: {\n    filter?: DocumentFilter;\n    limit?: number;\n    sort?: DocumentSortItem[];\n    highlight?: boolean;\n  } = {},\n  options: UseInfiniteQueryOptions = {}\n) => {\n  const sdk = useSDK();\n\n  const localLimit = limit || DEFAULT_GLOBAL_TABLE_RESULT_LIMIT;\n\n  return useInfiniteQuery(\n    queryKeys.documentsSearch(filter, localLimit, sort),\n    ({ pageParam }) =>\n      search(\n        {\n          limit: localLimit,\n          filter,\n          sort,\n          highlight,\n          cursor: pageParam,\n        },\n        sdk\n      ),\n    {\n      getNextPageParam: (lastPage) => {\n        return lastPage?.nextCursor;\n      },\n      ...(options as any),\n    }\n  );\n};\n"],"mappings":";AAAA,SACEA,gBAAgB,QAEX,uBAAuB;AAG9B,SAASC,MAAM,QAAQ,uBAAuB;AAE9C,SAASC,iCAAiC,QAAQ,oBAAoB;AACtE,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,MAAM,QAAQ,mBAAmB;AAE1C,OAAO,MAAMC,sBAAsB,GAAG,CACpC;EACEC,MAAM;EACNC,KAAK;EACLC,IAAI;EACJC,SAAS,GAAG;AAMd,CAAC,GAAG,CAAC,CAAC,EACNC,OAAgC,GAAG,CAAC,CAAC,KAClC;EAAA;EACH,MAAMC,GAAG,GAAGV,MAAM,EAAE;EAEpB,MAAMW,UAAU,GAAGL,KAAK,IAAIL,iCAAiC;EAE7D,OAAOF,gBAAgB,CACrBG,SAAS,CAACU,eAAe,CAACP,MAAM,EAAEM,UAAU,EAAEJ,IAAI,CAAC,EACnD,CAAC;IAAEM;EAAU,CAAC,KACZV,MAAM,CACJ;IACEG,KAAK,EAAEK,UAAU;IACjBN,MAAM;IACNE,IAAI;IACJC,SAAS;IACTM,MAAM,EAAED;EACV,CAAC,EACDH,GAAG,CACJ,EACH;IACEK,gBAAgB,EAAGC,QAAQ,IAAK;MAC9B,OAAOA,QAAQ,EAAEC,UAAU;IAC7B,CAAC;IACD,GAAIR;EACN,CAAC,CACF;AACH,CAAC;AAAC,GAtCWL,sBAAsB;EAAA,QAcrBJ,MAAM,EAIXD,gBAAgB;AAAA"},"metadata":{},"sourceType":"module"}