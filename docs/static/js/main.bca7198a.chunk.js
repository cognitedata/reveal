/*! For license information please see main.bca7198a.chunk.js.LICENSE.txt */
(this["webpackJsonpsubsurface-visualizer-standalone"]=this["webpackJsonpsubsurface-visualizer-standalone"]||[]).push([[0],{288:function(e,t,r){e.exports=r(355)},295:function(e,t,r){},296:function(e,t,r){},355:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),o=r(12),a=r.n(o),s=(r(295),r(281)),c=r(282),l=(r(296),r(57)),u=r(56),d=r(180),p=r(64),h=r(372),f=r(71),g=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):u.d)(u.a.apply(void 0,[l.NodeVisualizerMiddleware])),m=Object(u.e)(Object(u.c)(Object(c.a)({},l.NodeVisualizerReducer)),g),y=Object(p.a)({palette:{primary:{main:f.a[300]},secondary:{main:f.a[50]}},typography:{htmlFontSize:16,fontSize:12,h2:{fontSize:14},body1:{fontSize:12}}});var v=function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),r=t[0],o=t[1],a=l.Modules.instance;return a.add(new l.ThreeModule),Object(n.useEffect)((function(){a.add(new l.SyntheticSubSurfaceModule),a.install();var e=a.createRoot();return o(e),function(){a.clearModules()}}),[]),i.a.createElement("div",{className:"App"},i.a.createElement(d.Provider,{store:m},i.a.createElement(h.a,{theme:y},i.a.createElement(l.NodeVisualizer,{root:r}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},57:function(module,exports,__webpack_require__){var _slicedToArray=__webpack_require__(297),_get=__webpack_require__(301),_getPrototypeOf=__webpack_require__(166),_regeneratorRuntime=__webpack_require__(303),_asyncToGenerator=__webpack_require__(305),_construct=__webpack_require__(306),_createForOfIteratorHelper=__webpack_require__(307),_toConsumableArray=__webpack_require__(308),_createClass=__webpack_require__(312),_defineProperty=__webpack_require__(313),_assertThisInitialized=__webpack_require__(259),_classCallCheck=__webpack_require__(314),_inherits=__webpack_require__(315),_createSuper=__webpack_require__(316),t;window,t=function(__WEBPACK_EXTERNAL_MODULE__1__,__WEBPACK_EXTERNAL_MODULE__31__,__WEBPACK_EXTERNAL_MODULE__54__,__WEBPACK_EXTERNAL_MODULE__55__,__WEBPACK_EXTERNAL_MODULE__56__,__WEBPACK_EXTERNAL_MODULE__60__,__WEBPACK_EXTERNAL_MODULE__94__,__WEBPACK_EXTERNAL_MODULE__95__,__WEBPACK_EXTERNAL_MODULE__141__,__WEBPACK_EXTERNAL_MODULE__142__,__WEBPACK_EXTERNAL_MODULE__143__,__WEBPACK_EXTERNAL_MODULE__221__,__WEBPACK_EXTERNAL_MODULE__223__,__WEBPACK_EXTERNAL_MODULE__273__,__WEBPACK_EXTERNAL_MODULE__274__,__WEBPACK_EXTERNAL_MODULE__275__,__WEBPACK_EXTERNAL_MODULE__276__,__WEBPACK_EXTERNAL_MODULE__277__,__WEBPACK_EXTERNAL_MODULE__278__,__WEBPACK_EXTERNAL_MODULE__279__,__WEBPACK_EXTERNAL_MODULE__280__,__WEBPACK_EXTERNAL_MODULE__281__,__WEBPACK_EXTERNAL_MODULE__282__,__WEBPACK_EXTERNAL_MODULE__283__,__WEBPACK_EXTERNAL_MODULE__284__,__WEBPACK_EXTERNAL_MODULE__285__,__WEBPACK_EXTERNAL_MODULE__286__,__WEBPACK_EXTERNAL_MODULE__287__,__WEBPACK_EXTERNAL_MODULE__288__,__WEBPACK_EXTERNAL_MODULE__289__,__WEBPACK_EXTERNAL_MODULE__290__,__WEBPACK_EXTERNAL_MODULE__293__,__WEBPACK_EXTERNAL_MODULE__294__){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=487)}([function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"h",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"g",(function(){return u})),r.d(t,"e",(function(){return d}));var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function s(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}function d(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.create,Object.create},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__1__},function(e,t,r){"use strict";var n;r.r(t),r.d(t,"ACESFilmicToneMapping",(function(){return ne})),r.d(t,"AddEquation",(function(){return E})),r.d(t,"AddOperation",(function(){return K})),r.d(t,"AdditiveAnimationBlendMode",(function(){return Qt})),r.d(t,"AdditiveBlending",(function(){return A})),r.d(t,"AlphaFormat",(function(){return De})),r.d(t,"AlwaysDepth",(function(){return V})),r.d(t,"AlwaysStencilFunc",(function(){return _r})),r.d(t,"AmbientLight",(function(){return xd})),r.d(t,"AmbientLightProbe",(function(){return Vd})),r.d(t,"AnimationClip",(function(){return Bu})),r.d(t,"AnimationLoader",(function(){return Lu})),r.d(t,"AnimationMixer",(function(){return bp})),r.d(t,"AnimationObjectGroup",(function(){return yp})),r.d(t,"AnimationUtils",(function(){return fu})),r.d(t,"ArcCurve",(function(){return Vu})),r.d(t,"ArrayCamera",(function(){return Fs})),r.d(t,"ArrowHelper",(function(){return sh})),r.d(t,"Audio",(function(){return $d})),r.d(t,"AudioAnalyser",(function(){return op})),r.d(t,"AudioContext",(function(){return jd})),r.d(t,"AudioListener",(function(){return Kd})),r.d(t,"AudioLoader",(function(){return zd})),r.d(t,"AxesHelper",(function(){return ch})),r.d(t,"AxisHelper",(function(){return rf})),r.d(t,"BackSide",(function(){return m})),r.d(t,"BasicDepthPacking",(function(){return or})),r.d(t,"BasicShadowMap",(function(){return d})),r.d(t,"BinaryTextureLoader",(function(){return cf})),r.d(t,"Bone",(function(){return fc})),r.d(t,"BooleanKeyframeTrack",(function(){return xu})),r.d(t,"BoundingBoxHelper",(function(){return nf})),r.d(t,"Box2",(function(){return Rp})),r.d(t,"Box3",(function(){return Gn})),r.d(t,"Box3Helper",(function(){return rh})),r.d(t,"BoxBufferGeometry",(function(){return vo})),r.d(t,"BoxGeometry",(function(){return yo})),r.d(t,"BoxHelper",(function(){return th})),r.d(t,"BufferAttribute",(function(){return Ti})),r.d(t,"BufferGeometry",(function(){return Wi})),r.d(t,"BufferGeometryLoader",(function(){return Rd})),r.d(t,"ByteType",(function(){return Ee})),r.d(t,"Cache",(function(){return Mu})),r.d(t,"Camera",(function(){return wo})),r.d(t,"CameraHelper",(function(){return Kp})),r.d(t,"CanvasRenderer",(function(){return df})),r.d(t,"CanvasTexture",(function(){return jc})),r.d(t,"CatmullRomCurve3",(function(){return Yu})),r.d(t,"CineonToneMapping",(function(){return re})),r.d(t,"CircleBufferGeometry",(function(){return tu})),r.d(t,"CircleGeometry",(function(){return eu})),r.d(t,"ClampToEdgeWrapping",(function(){return he})),r.d(t,"Clock",(function(){return Qd})),r.d(t,"ClosedSplineCurve3",(function(){return $h})),r.d(t,"Color",(function(){return gi})),r.d(t,"ColorKeyframeTrack",(function(){return Su})),r.d(t,"CompressedTexture",(function(){return Gc})),r.d(t,"CompressedTextureLoader",(function(){return Pu})),r.d(t,"ConeBufferGeometry",(function(){return $l})),r.d(t,"ConeGeometry",(function(){return Kl})),r.d(t,"CubeCamera",(function(){return To})),r.d(t,"CubeGeometry",(function(){return yo})),r.d(t,"CubeReflectionMapping",(function(){return ae})),r.d(t,"CubeRefractionMapping",(function(){return se})),r.d(t,"CubeTexture",(function(){return qo})),r.d(t,"CubeTextureLoader",(function(){return Gu})),r.d(t,"CubeUVReflectionMapping",(function(){return ue})),r.d(t,"CubeUVRefractionMapping",(function(){return de})),r.d(t,"CubicBezierCurve",(function(){return $u})),r.d(t,"CubicBezierCurve3",(function(){return ed})),r.d(t,"CubicInterpolant",(function(){return mu})),r.d(t,"CullFaceBack",(function(){return c})),r.d(t,"CullFaceFront",(function(){return l})),r.d(t,"CullFaceFrontBack",(function(){return u})),r.d(t,"CullFaceNone",(function(){return s})),r.d(t,"Curve",(function(){return zu})),r.d(t,"CurvePath",(function(){return sd})),r.d(t,"CustomBlending",(function(){return T})),r.d(t,"CustomToneMapping",(function(){return ie})),r.d(t,"CylinderBufferGeometry",(function(){return ql})),r.d(t,"CylinderGeometry",(function(){return Jl})),r.d(t,"Cylindrical",(function(){return Ep})),r.d(t,"DataTexture",(function(){return Bo})),r.d(t,"DataTexture2DArray",(function(){return Ko})),r.d(t,"DataTexture3D",(function(){return $o})),r.d(t,"DataTextureLoader",(function(){return Du})),r.d(t,"DecrementStencilOp",(function(){return hr})),r.d(t,"DecrementWrapStencilOp",(function(){return gr})),r.d(t,"DefaultLoadingManager",(function(){return Ou})),r.d(t,"DepthFormat",(function(){return Ve})),r.d(t,"DepthStencilFormat",(function(){return We})),r.d(t,"DepthTexture",(function(){return zc})),r.d(t,"DirectionalLight",(function(){return bd})),r.d(t,"DirectionalLightHelper",(function(){return Yp})),r.d(t,"DirectionalLightShadow",(function(){return vd})),r.d(t,"DiscreteInterpolant",(function(){return vu})),r.d(t,"DodecahedronBufferGeometry",(function(){return el})),r.d(t,"DodecahedronGeometry",(function(){return $c})),r.d(t,"DoubleSide",(function(){return y})),r.d(t,"DstAlphaFactor",(function(){return D})),r.d(t,"DstColorFactor",(function(){return G})),r.d(t,"DynamicBufferAttribute",(function(){return Vh})),r.d(t,"DynamicCopyUsage",(function(){return Ir})),r.d(t,"DynamicDrawUsage",(function(){return Er})),r.d(t,"DynamicReadUsage",(function(){return Mr})),r.d(t,"EdgesGeometry",(function(){return Yl})),r.d(t,"EdgesHelper",(function(){return of})),r.d(t,"EllipseCurve",(function(){return ku})),r.d(t,"EqualDepth",(function(){return X})),r.d(t,"EqualStencilFunc",(function(){return br})),r.d(t,"EquirectangularReflectionMapping",(function(){return ce})),r.d(t,"EquirectangularRefractionMapping",(function(){return le})),r.d(t,"Euler",(function(){return ln})),r.d(t,"EventDispatcher",(function(){return Nr})),r.d(t,"ExtrudeBufferGeometry",(function(){return Ll})),r.d(t,"ExtrudeGeometry",(function(){return Nl})),r.d(t,"Face3",(function(){return bi})),r.d(t,"Face4",(function(){return Rh})),r.d(t,"FaceColors",(function(){return Ih})),r.d(t,"FileLoader",(function(){return Nu})),r.d(t,"FlatShading",(function(){return v})),r.d(t,"Float32Attribute",(function(){return qh})),r.d(t,"Float32BufferAttribute",(function(){return Fi})),r.d(t,"Float64Attribute",(function(){return Kh})),r.d(t,"Float64BufferAttribute",(function(){return Ni})),r.d(t,"FloatType",(function(){return Oe})),r.d(t,"Fog",(function(){return zs})),r.d(t,"FogExp2",(function(){return js})),r.d(t,"Font",(function(){return Dd})),r.d(t,"FontLoader",(function(){return Gd})),r.d(t,"FrontSide",(function(){return g})),r.d(t,"Frustum",(function(){return Co})),r.d(t,"GammaEncoding",(function(){return $t})),r.d(t,"Geometry",(function(){return mo})),r.d(t,"GeometryUtils",(function(){return uf})),r.d(t,"GreaterDepth",(function(){return Z})),r.d(t,"GreaterEqualDepth",(function(){return Q})),r.d(t,"GreaterEqualStencilFunc",(function(){return wr})),r.d(t,"GreaterStencilFunc",(function(){return Sr})),r.d(t,"GridHelper",(function(){return Wp})),r.d(t,"Group",(function(){return Ns})),r.d(t,"HalfFloatType",(function(){return Ie})),r.d(t,"HemisphereLight",(function(){return dd})),r.d(t,"HemisphereLightHelper",(function(){return Vp})),r.d(t,"HemisphereLightProbe",(function(){return kd})),r.d(t,"IcosahedronBufferGeometry",(function(){return Kc})),r.d(t,"IcosahedronGeometry",(function(){return qc})),r.d(t,"ImageBitmapLoader",(function(){return Ld})),r.d(t,"ImageLoader",(function(){return Uu})),r.d(t,"ImageUtils",(function(){return kr})),r.d(t,"ImmediateRenderObject",(function(){return Ip})),r.d(t,"IncrementStencilOp",(function(){return pr})),r.d(t,"IncrementWrapStencilOp",(function(){return fr})),r.d(t,"InstancedBufferAttribute",(function(){return Bd})),r.d(t,"InstancedBufferGeometry",(function(){return Ed})),r.d(t,"InstancedInterleavedBuffer",(function(){return Sp})),r.d(t,"InstancedMesh",(function(){return bc})),r.d(t,"Int16Attribute",(function(){return Qh})),r.d(t,"Int16BufferAttribute",(function(){return Mi})),r.d(t,"Int32Attribute",(function(){return Yh})),r.d(t,"Int32BufferAttribute",(function(){return Oi})),r.d(t,"Int8Attribute",(function(){return Wh})),r.d(t,"Int8BufferAttribute",(function(){return Ei})),r.d(t,"IntType",(function(){return Me})),r.d(t,"InterleavedBuffer",(function(){return ks})),r.d(t,"InterleavedBufferAttribute",(function(){return Hs})),r.d(t,"Interpolant",(function(){return gu})),r.d(t,"InterpolateDiscrete",(function(){return jt})),r.d(t,"InterpolateLinear",(function(){return zt})),r.d(t,"InterpolateSmooth",(function(){return kt})),r.d(t,"InvertStencilOp",(function(){return mr})),r.d(t,"JSONLoader",(function(){return pf})),r.d(t,"KeepStencilOp",(function(){return ur})),r.d(t,"KeyframeTrack",(function(){return bu})),r.d(t,"LOD",(function(){return lc})),r.d(t,"LatheBufferGeometry",(function(){return Hl})),r.d(t,"LatheGeometry",(function(){return Wl})),r.d(t,"Layers",(function(){return un})),r.d(t,"LensFlare",(function(){return ff})),r.d(t,"LessDepth",(function(){return W})),r.d(t,"LessEqualDepth",(function(){return H})),r.d(t,"LessEqualStencilFunc",(function(){return xr})),r.d(t,"LessStencilFunc",(function(){return vr})),r.d(t,"Light",(function(){return ud})),r.d(t,"LightProbe",(function(){return wd})),r.d(t,"LightShadow",(function(){return pd})),r.d(t,"Line",(function(){return Ec})),r.d(t,"Line3",(function(){return Op})),r.d(t,"LineBasicMaterial",(function(){return xc})),r.d(t,"LineCurve",(function(){return td})),r.d(t,"LineCurve3",(function(){return rd})),r.d(t,"LineDashedMaterial",(function(){return pu})),r.d(t,"LineLoop",(function(){return Cc})),r.d(t,"LinePieces",(function(){return Ch})),r.d(t,"LineSegments",(function(){return Mc})),r.d(t,"LineStrip",(function(){return Mh})),r.d(t,"LinearEncoding",(function(){return qt})),r.d(t,"LinearFilter",(function(){return xe})),r.d(t,"LinearInterpolant",(function(){return yu})),r.d(t,"LinearMipMapLinearFilter",(function(){return _e})),r.d(t,"LinearMipMapNearestFilter",(function(){return Ae})),r.d(t,"LinearMipmapLinearFilter",(function(){return we})),r.d(t,"LinearMipmapNearestFilter",(function(){return Se})),r.d(t,"LinearToneMapping",(function(){return ee})),r.d(t,"Loader",(function(){return Iu})),r.d(t,"LoaderUtils",(function(){return Td})),r.d(t,"LoadingManager",(function(){return Cu})),r.d(t,"LogLuvEncoding",(function(){return tr})),r.d(t,"LoopOnce",(function(){return Dt})),r.d(t,"LoopPingPong",(function(){return Gt})),r.d(t,"LoopRepeat",(function(){return Ut})),r.d(t,"LuminanceAlphaFormat",(function(){return ze})),r.d(t,"LuminanceFormat",(function(){return je})),r.d(t,"MOUSE",(function(){return o})),r.d(t,"Material",(function(){return Si})),r.d(t,"MaterialLoader",(function(){return _d})),r.d(t,"Math",(function(){return Gr})),r.d(t,"MathUtils",(function(){return Gr})),r.d(t,"Matrix3",(function(){return zr})),r.d(t,"Matrix4",(function(){return an})),r.d(t,"MaxEquation",(function(){return C})),r.d(t,"Mesh",(function(){return co})),r.d(t,"MeshBasicMaterial",(function(){return Ai})),r.d(t,"MeshDepthMaterial",(function(){return Bs})),r.d(t,"MeshDistanceMaterial",(function(){return Rs})),r.d(t,"MeshFaceMaterial",(function(){return Nh})),r.d(t,"MeshLambertMaterial",(function(){return uu})),r.d(t,"MeshMatcapMaterial",(function(){return du})),r.d(t,"MeshNormalMaterial",(function(){return lu})),r.d(t,"MeshPhongMaterial",(function(){return su})),r.d(t,"MeshPhysicalMaterial",(function(){return au})),r.d(t,"MeshStandardMaterial",(function(){return ou})),r.d(t,"MeshToonMaterial",(function(){return cu})),r.d(t,"MinEquation",(function(){return M})),r.d(t,"MirroredRepeatWrapping",(function(){return fe})),r.d(t,"MixOperation",(function(){return q})),r.d(t,"MultiMaterial",(function(){return Lh})),r.d(t,"MultiplyBlending",(function(){return _})),r.d(t,"MultiplyOperation",(function(){return J})),r.d(t,"NearestFilter",(function(){return ge})),r.d(t,"NearestMipMapLinearFilter",(function(){return be})),r.d(t,"NearestMipMapNearestFilter",(function(){return ye})),r.d(t,"NearestMipmapLinearFilter",(function(){return ve})),r.d(t,"NearestMipmapNearestFilter",(function(){return me})),r.d(t,"NeverDepth",(function(){return k})),r.d(t,"NeverStencilFunc",(function(){return yr})),r.d(t,"NoBlending",(function(){return x})),r.d(t,"NoColors",(function(){return Oh})),r.d(t,"NoToneMapping",(function(){return $})),r.d(t,"NormalAnimationBlendMode",(function(){return Xt})),r.d(t,"NormalBlending",(function(){return S})),r.d(t,"NotEqualDepth",(function(){return Y})),r.d(t,"NotEqualStencilFunc",(function(){return Ar})),r.d(t,"NumberKeyframeTrack",(function(){return Au})),r.d(t,"Object3D",(function(){return _n})),r.d(t,"ObjectLoader",(function(){return Cd})),r.d(t,"ObjectSpaceNormalMap",(function(){return cr})),r.d(t,"OctahedronBufferGeometry",(function(){return Jc})),r.d(t,"OctahedronGeometry",(function(){return Yc})),r.d(t,"OneFactor",(function(){return I})),r.d(t,"OneMinusDstAlphaFactor",(function(){return U})),r.d(t,"OneMinusDstColorFactor",(function(){return j})),r.d(t,"OneMinusSrcAlphaFactor",(function(){return P})),r.d(t,"OneMinusSrcColorFactor",(function(){return N})),r.d(t,"OrthographicCamera",(function(){return yd})),r.d(t,"PCFShadowMap",(function(){return p})),r.d(t,"PCFSoftShadowMap",(function(){return h})),r.d(t,"PMREMGenerator",(function(){return Ah})),r.d(t,"ParametricBufferGeometry",(function(){return Wc})),r.d(t,"ParametricGeometry",(function(){return Vc})),r.d(t,"Particle",(function(){return Dh})),r.d(t,"ParticleBasicMaterial",(function(){return jh})),r.d(t,"ParticleSystem",(function(){return Uh})),r.d(t,"ParticleSystemMaterial",(function(){return zh})),r.d(t,"Path",(function(){return cd})),r.d(t,"PerspectiveCamera",(function(){return _o})),r.d(t,"Plane",(function(){return ei})),r.d(t,"PlaneBufferGeometry",(function(){return Lo})),r.d(t,"PlaneGeometry",(function(){return No})),r.d(t,"PlaneHelper",(function(){return nh})),r.d(t,"PointCloud",(function(){return Ph})),r.d(t,"PointCloudMaterial",(function(){return Gh})),r.d(t,"PointLight",(function(){return md})),r.d(t,"PointLightHelper",(function(){return Gp})),r.d(t,"Points",(function(){return Pc})),r.d(t,"PointsMaterial",(function(){return Oc})),r.d(t,"PolarGridHelper",(function(){return Hp})),r.d(t,"PolyhedronBufferGeometry",(function(){return Xc})),r.d(t,"PolyhedronGeometry",(function(){return Hc})),r.d(t,"PositionalAudio",(function(){return ip})),r.d(t,"PropertyBinding",(function(){return mp})),r.d(t,"PropertyMixer",(function(){return ap})),r.d(t,"QuadraticBezierCurve",(function(){return nd})),r.d(t,"QuadraticBezierCurve3",(function(){return id})),r.d(t,"Quaternion",(function(){return Zr})),r.d(t,"QuaternionKeyframeTrack",(function(){return _u})),r.d(t,"QuaternionLinearInterpolant",(function(){return wu})),r.d(t,"REVISION",(function(){return i})),r.d(t,"RGBADepthPacking",(function(){return ar})),r.d(t,"RGBAFormat",(function(){return Ge})),r.d(t,"RGBAIntegerFormat",(function(){return Je})),r.d(t,"RGBA_ASTC_10x10_Format",(function(){return bt})),r.d(t,"RGBA_ASTC_10x5_Format",(function(){return mt})),r.d(t,"RGBA_ASTC_10x6_Format",(function(){return yt})),r.d(t,"RGBA_ASTC_10x8_Format",(function(){return vt})),r.d(t,"RGBA_ASTC_12x10_Format",(function(){return xt})),r.d(t,"RGBA_ASTC_12x12_Format",(function(){return St})),r.d(t,"RGBA_ASTC_4x4_Format",(function(){return ct})),r.d(t,"RGBA_ASTC_5x4_Format",(function(){return lt})),r.d(t,"RGBA_ASTC_5x5_Format",(function(){return ut})),r.d(t,"RGBA_ASTC_6x5_Format",(function(){return dt})),r.d(t,"RGBA_ASTC_6x6_Format",(function(){return pt})),r.d(t,"RGBA_ASTC_8x5_Format",(function(){return ht})),r.d(t,"RGBA_ASTC_8x6_Format",(function(){return ft})),r.d(t,"RGBA_ASTC_8x8_Format",(function(){return gt})),r.d(t,"RGBA_BPTC_Format",(function(){return At})),r.d(t,"RGBA_ETC2_EAC_Format",(function(){return st})),r.d(t,"RGBA_PVRTC_2BPPV1_Format",(function(){return it})),r.d(t,"RGBA_PVRTC_4BPPV1_Format",(function(){return nt})),r.d(t,"RGBA_S3TC_DXT1_Format",(function(){return Ke})),r.d(t,"RGBA_S3TC_DXT3_Format",(function(){return $e})),r.d(t,"RGBA_S3TC_DXT5_Format",(function(){return et})),r.d(t,"RGBDEncoding",(function(){return ir})),r.d(t,"RGBEEncoding",(function(){return er})),r.d(t,"RGBEFormat",(function(){return ke})),r.d(t,"RGBFormat",(function(){return Ue})),r.d(t,"RGBIntegerFormat",(function(){return Ye})),r.d(t,"RGBM16Encoding",(function(){return nr})),r.d(t,"RGBM7Encoding",(function(){return rr})),r.d(t,"RGB_ETC1_Format",(function(){return ot})),r.d(t,"RGB_ETC2_Format",(function(){return at})),r.d(t,"RGB_PVRTC_2BPPV1_Format",(function(){return rt})),r.d(t,"RGB_PVRTC_4BPPV1_Format",(function(){return tt})),r.d(t,"RGB_S3TC_DXT1_Format",(function(){return qe})),r.d(t,"RGFormat",(function(){return Qe})),r.d(t,"RGIntegerFormat",(function(){return Ze})),r.d(t,"RawShaderMaterial",(function(){return iu})),r.d(t,"Ray",(function(){return Jn})),r.d(t,"Raycaster",(function(){return Ap})),r.d(t,"RectAreaLight",(function(){return Sd})),r.d(t,"RedFormat",(function(){return He})),r.d(t,"RedIntegerFormat",(function(){return Xe})),r.d(t,"ReinhardToneMapping",(function(){return te})),r.d(t,"RepeatWrapping",(function(){return pe})),r.d(t,"ReplaceStencilOp",(function(){return dr})),r.d(t,"ReverseSubtractEquation",(function(){return R})),r.d(t,"RingBufferGeometry",(function(){return Vl})),r.d(t,"RingGeometry",(function(){return kl})),r.d(t,"SRGB8_ALPHA8_ASTC_10x10_Format",(function(){return Nt})),r.d(t,"SRGB8_ALPHA8_ASTC_10x5_Format",(function(){return Ot})),r.d(t,"SRGB8_ALPHA8_ASTC_10x6_Format",(function(){return It})),r.d(t,"SRGB8_ALPHA8_ASTC_10x8_Format",(function(){return Ft})),r.d(t,"SRGB8_ALPHA8_ASTC_12x10_Format",(function(){return Lt})),r.d(t,"SRGB8_ALPHA8_ASTC_12x12_Format",(function(){return Pt})),r.d(t,"SRGB8_ALPHA8_ASTC_4x4_Format",(function(){return wt})),r.d(t,"SRGB8_ALPHA8_ASTC_5x4_Format",(function(){return _t})),r.d(t,"SRGB8_ALPHA8_ASTC_5x5_Format",(function(){return Tt})),r.d(t,"SRGB8_ALPHA8_ASTC_6x5_Format",(function(){return Et})),r.d(t,"SRGB8_ALPHA8_ASTC_6x6_Format",(function(){return Bt})),r.d(t,"SRGB8_ALPHA8_ASTC_8x5_Format",(function(){return Rt})),r.d(t,"SRGB8_ALPHA8_ASTC_8x6_Format",(function(){return Mt})),r.d(t,"SRGB8_ALPHA8_ASTC_8x8_Format",(function(){return Ct})),r.d(t,"Scene",(function(){return Tn})),r.d(t,"SceneUtils",(function(){return hf})),r.d(t,"ShaderChunk",(function(){return Po})),r.d(t,"ShaderLib",(function(){return Do})),r.d(t,"ShaderMaterial",(function(){return Ao})),r.d(t,"ShadowMaterial",(function(){return nu})),r.d(t,"Shape",(function(){return ld})),r.d(t,"ShapeBufferGeometry",(function(){return Ql})),r.d(t,"ShapeGeometry",(function(){return Xl})),r.d(t,"ShapePath",(function(){return Pd})),r.d(t,"ShapeUtils",(function(){return Ol})),r.d(t,"ShortType",(function(){return Be})),r.d(t,"Skeleton",(function(){return hc})),r.d(t,"SkeletonHelper",(function(){return Up})),r.d(t,"SkinnedMesh",(function(){return uc})),r.d(t,"SmoothShading",(function(){return b})),r.d(t,"Sphere",(function(){return kn})),r.d(t,"SphereBufferGeometry",(function(){return zl})),r.d(t,"SphereGeometry",(function(){return jl})),r.d(t,"Spherical",(function(){return Tp})),r.d(t,"SphericalHarmonics3",(function(){return Ad})),r.d(t,"Spline",(function(){return tf})),r.d(t,"SplineCurve",(function(){return od})),r.d(t,"SplineCurve3",(function(){return ef})),r.d(t,"SpotLight",(function(){return fd})),r.d(t,"SpotLightHelper",(function(){return Np})),r.d(t,"SpotLightShadow",(function(){return hd})),r.d(t,"Sprite",(function(){return oc})),r.d(t,"SpriteMaterial",(function(){return Xs})),r.d(t,"SrcAlphaFactor",(function(){return L})),r.d(t,"SrcAlphaSaturateFactor",(function(){return z})),r.d(t,"SrcColorFactor",(function(){return F})),r.d(t,"StaticCopyUsage",(function(){return Or})),r.d(t,"StaticDrawUsage",(function(){return Tr})),r.d(t,"StaticReadUsage",(function(){return Rr})),r.d(t,"StereoCamera",(function(){return Xd})),r.d(t,"StreamCopyUsage",(function(){return Fr})),r.d(t,"StreamDrawUsage",(function(){return Br})),r.d(t,"StreamReadUsage",(function(){return Cr})),r.d(t,"StringKeyframeTrack",(function(){return Tu})),r.d(t,"SubtractEquation",(function(){return B})),r.d(t,"SubtractiveBlending",(function(){return w})),r.d(t,"TOUCH",(function(){return a})),r.d(t,"TangentSpaceNormalMap",(function(){return sr})),r.d(t,"TetrahedronBufferGeometry",(function(){return Zc})),r.d(t,"TetrahedronGeometry",(function(){return Qc})),r.d(t,"TextBufferGeometry",(function(){return Gl})),r.d(t,"TextGeometry",(function(){return Ul})),r.d(t,"Texture",(function(){return Wr})),r.d(t,"TextureLoader",(function(){return ju})),r.d(t,"TorusBufferGeometry",(function(){return al})),r.d(t,"TorusGeometry",(function(){return ol})),r.d(t,"TorusKnotBufferGeometry",(function(){return il})),r.d(t,"TorusKnotGeometry",(function(){return nl})),r.d(t,"Triangle",(function(){return di})),r.d(t,"TriangleFanDrawMode",(function(){return Jt})),r.d(t,"TriangleStripDrawMode",(function(){return Yt})),r.d(t,"TrianglesDrawMode",(function(){return Zt})),r.d(t,"TubeBufferGeometry",(function(){return rl})),r.d(t,"TubeGeometry",(function(){return tl})),r.d(t,"UVMapping",(function(){return oe})),r.d(t,"Uint16Attribute",(function(){return Zh})),r.d(t,"Uint16BufferAttribute",(function(){return Ci})),r.d(t,"Uint32Attribute",(function(){return Jh})),r.d(t,"Uint32BufferAttribute",(function(){return Ii})),r.d(t,"Uint8Attribute",(function(){return Hh})),r.d(t,"Uint8BufferAttribute",(function(){return Bi})),r.d(t,"Uint8ClampedAttribute",(function(){return Xh})),r.d(t,"Uint8ClampedBufferAttribute",(function(){return Ri})),r.d(t,"Uniform",(function(){return xp})),r.d(t,"UniformsLib",(function(){return Oo})),r.d(t,"UniformsUtils",(function(){return So})),r.d(t,"UnsignedByteType",(function(){return Te})),r.d(t,"UnsignedInt248Type",(function(){return Pe})),r.d(t,"UnsignedIntType",(function(){return Ce})),r.d(t,"UnsignedShort4444Type",(function(){return Fe})),r.d(t,"UnsignedShort5551Type",(function(){return Ne})),r.d(t,"UnsignedShort565Type",(function(){return Le})),r.d(t,"UnsignedShortType",(function(){return Re})),r.d(t,"VSMShadowMap",(function(){return f})),r.d(t,"Vector2",(function(){return jr})),r.d(t,"Vector3",(function(){return qr})),r.d(t,"Vector4",(function(){return Hr})),r.d(t,"VectorKeyframeTrack",(function(){return Eu})),r.d(t,"Vertex",(function(){return kh})),r.d(t,"VertexColors",(function(){return Fh})),r.d(t,"VideoTexture",(function(){return Uc})),r.d(t,"WebGL1Renderer",(function(){return Gs})),r.d(t,"WebGLCubeRenderTarget",(function(){return Eo})),r.d(t,"WebGLMultisampleRenderTarget",(function(){return Qr})),r.d(t,"WebGLRenderTarget",(function(){return Xr})),r.d(t,"WebGLRenderTargetCube",(function(){return lf})),r.d(t,"WebGLRenderer",(function(){return Us})),r.d(t,"WebGLUtils",(function(){return Is})),r.d(t,"WireframeGeometry",(function(){return kc})),r.d(t,"WireframeHelper",(function(){return af})),r.d(t,"WrapAroundEnding",(function(){return Ht})),r.d(t,"XHRLoader",(function(){return sf})),r.d(t,"ZeroCurvatureEnding",(function(){return Vt})),r.d(t,"ZeroFactor",(function(){return O})),r.d(t,"ZeroSlopeEnding",(function(){return Wt})),r.d(t,"ZeroStencilOp",(function(){return lr})),r.d(t,"sRGBEncoding",(function(){return Kt})),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t});var i="119",o={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},a={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},s=0,c=1,l=2,u=3,d=0,p=1,h=2,f=3,g=0,m=1,y=2,v=1,b=2,x=0,S=1,A=2,w=3,_=4,T=5,E=100,B=101,R=102,M=103,C=104,O=200,I=201,F=202,N=203,L=204,P=205,D=206,U=207,G=208,j=209,z=210,k=0,V=1,W=2,H=3,X=4,Q=5,Z=6,Y=7,J=0,q=1,K=2,$=0,ee=1,te=2,re=3,ne=4,ie=5,oe=300,ae=301,se=302,ce=303,le=304,ue=306,de=307,pe=1e3,he=1001,fe=1002,ge=1003,me=1004,ye=1004,ve=1005,be=1005,xe=1006,Se=1007,Ae=1007,we=1008,_e=1008,Te=1009,Ee=1010,Be=1011,Re=1012,Me=1013,Ce=1014,Oe=1015,Ie=1016,Fe=1017,Ne=1018,Le=1019,Pe=1020,De=1021,Ue=1022,Ge=1023,je=1024,ze=1025,ke=Ge,Ve=1026,We=1027,He=1028,Xe=1029,Qe=1030,Ze=1031,Ye=1032,Je=1033,qe=33776,Ke=33777,$e=33778,et=33779,tt=35840,rt=35841,nt=35842,it=35843,ot=36196,at=37492,st=37496,ct=37808,lt=37809,ut=37810,dt=37811,pt=37812,ht=37813,ft=37814,gt=37815,mt=37816,yt=37817,vt=37818,bt=37819,xt=37820,St=37821,At=36492,wt=37840,_t=37841,Tt=37842,Et=37843,Bt=37844,Rt=37845,Mt=37846,Ct=37847,Ot=37848,It=37849,Ft=37850,Nt=37851,Lt=37852,Pt=37853,Dt=2200,Ut=2201,Gt=2202,jt=2300,zt=2301,kt=2302,Vt=2400,Wt=2401,Ht=2402,Xt=2500,Qt=2501,Zt=0,Yt=1,Jt=2,qt=3e3,Kt=3001,$t=3007,er=3002,tr=3003,rr=3004,nr=3005,ir=3006,or=3200,ar=3201,sr=0,cr=1,lr=0,ur=7680,dr=7681,pr=7682,hr=7683,fr=34055,gr=34056,mr=5386,yr=512,vr=513,br=514,xr=515,Sr=516,Ar=517,wr=518,_r=519,Tr=35044,Er=35048,Br=35040,Rr=35045,Mr=35049,Cr=35041,Or=35046,Ir=35050,Fr=35042;function Nr(){}Object.assign(Nr.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var r=this._listeners[e];if(void 0!==r){var n=r.indexOf(t);-1!==n&&r.splice(n,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var r=t.slice(0),n=0,i=r.length;n<i;n++)r[n].call(this,e)}}}});for(var Lr=[],Pr=0;Pr<256;Pr++)Lr[Pr]=(Pr<16?"0":"")+Pr.toString(16);var Dr,Ur=1234567,Gr={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(Lr[255&e]+Lr[e>>8&255]+Lr[e>>16&255]+Lr[e>>24&255]+"-"+Lr[255&t]+Lr[t>>8&255]+"-"+Lr[t>>16&15|64]+Lr[t>>24&255]+"-"+Lr[63&r|128]+Lr[r>>8&255]+"-"+Lr[r>>16&255]+Lr[r>>24&255]+Lr[255&n]+Lr[n>>8&255]+Lr[n>>16&255]+Lr[n>>24&255]).toUpperCase()},clamp:function(e,t,r){return Math.max(t,Math.min(r,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,r,n,i){return n+(e-t)*(i-n)/(r-t)},lerp:function(e,t,r){return(1-r)*e+r*t},smoothstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},smootherstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(Ur=e%2147483647),((Ur=16807*Ur%2147483647)-1)/2147483646},degToRad:function(e){return e*Gr.DEG2RAD},radToDeg:function(e){return e*Gr.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,r,n,i){var o=Math.cos,a=Math.sin,s=o(r/2),c=a(r/2),l=o((t+n)/2),u=a((t+n)/2),d=o((t-n)/2),p=a((t-n)/2),h=o((n-t)/2),f=a((n-t)/2);switch(i){case"XYX":e.set(s*u,c*d,c*p,s*l);break;case"YZY":e.set(c*p,s*u,c*d,s*l);break;case"ZXZ":e.set(c*d,c*p,s*u,s*l);break;case"XZX":e.set(s*u,c*f,c*h,s*l);break;case"YXY":e.set(c*h,s*u,c*f,s*l);break;case"ZYZ":e.set(c*f,c*h,s*u,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}};function jr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=e,this.y=t}function zr(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(jr.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(jr.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,r=this.y,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6],this.y=n[1]*t+n[4]*r+n[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*r-o*n+e.x,this.y=i*n+o*r+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}}),Object.assign(zr.prototype,{isMatrix3:!0,set:function(e,t,r,n,i,o,a,s,c){var l=this.elements;return l[0]=e,l[1]=n,l[2]=a,l[3]=t,l[4]=i,l[5]=s,l[6]=r,l[7]=o,l[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this},extractBasis:function(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var r=e.elements,n=t.elements,i=this.elements,o=r[0],a=r[3],s=r[6],c=r[1],l=r[4],u=r[7],d=r[2],p=r[5],h=r[8],f=n[0],g=n[3],m=n[6],y=n[1],v=n[4],b=n[7],x=n[2],S=n[5],A=n[8];return i[0]=o*f+a*y+s*x,i[3]=o*g+a*v+s*S,i[6]=o*m+a*b+s*A,i[1]=c*f+l*y+u*x,i[4]=c*g+l*v+u*S,i[7]=c*m+l*b+u*A,i[2]=d*f+p*y+h*x,i[5]=d*g+p*v+h*S,i[8]=d*m+p*b+h*A,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],l=e[8];return t*o*l-t*a*c-r*i*l+r*a*s+n*i*c-n*o*s},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var r=e.elements,n=this.elements,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],l=r[5],u=r[6],d=r[7],p=r[8],h=p*c-l*d,f=l*u-p*s,g=d*s-c*u,m=i*h+o*f+a*g;if(0===m)return this.set(0,0,0,0,0,0,0,0,0);var y=1/m;return n[0]=h*y,n[1]=(a*d-p*o)*y,n[2]=(l*o-a*c)*y,n[3]=f*y,n[4]=(p*i-a*u)*y,n[5]=(a*s-l*i)*y,n[6]=g*y,n[7]=(o*u-d*i)*y,n[8]=(c*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,r,n,i,o,a){var s=Math.cos(i),c=Math.sin(i);this.set(r*s,r*c,-r*(s*o+c*a)+o+e,-n*c,n*s,-n*(-c*o+s*a)+a+t,0,0,1)},scale:function(e,t){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this},rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=this.elements,i=n[0],o=n[3],a=n[6],s=n[1],c=n[4],l=n[7];return n[0]=t*i+r*s,n[3]=t*o+r*c,n[6]=t*a+r*l,n[1]=-r*i+t*s,n[4]=-r*o+t*c,n[7]=-r*a+t*l,this},translate:function(e,t){var r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this},equals:function(e){for(var t=this.elements,r=e.elements,n=0;n<9;n++)if(t[n]!==r[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var r=0;r<9;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}});var kr={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Dr&&(Dr=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Dr.width=e.width,Dr.height=e.height;var r=Dr.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Dr}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},Vr=0;function Wr(e,t,r,n,i,o,a,s,c,l){Object.defineProperty(this,"id",{value:Vr++}),this.uuid=Gr.generateUUID(),this.name="",this.image=void 0!==e?e:Wr.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:Wr.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:he,this.wrapT=void 0!==n?n:he,this.magFilter=void 0!==i?i:xe,this.minFilter=void 0!==o?o:we,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:Ge,this.internalFormat=null,this.type=void 0!==s?s:Te,this.offset=new jr(0,0),this.repeat=new jr(1,1),this.center=new jr(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new zr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:qt,this.version=0,this.onUpdate=null}function Hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.x=e,this.y=t,this.z=r,this.w=n}function Xr(e,t,r){this.width=e,this.height=t,this.scissor=new Hr(0,0,e,t),this.scissorTest=!1,this.viewport=new Hr(0,0,e,t),r=r||{},this.texture=new Wr(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:xe,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}function Qr(e,t,r){Xr.call(this,e,t,r),this.samples=4}function Zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._x=e,this._y=t,this._z=r,this._w=n}Wr.DEFAULT_IMAGE=void 0,Wr.DEFAULT_MAPPING=oe,Wr.prototype=Object.assign(Object.create(Nr.prototype),{constructor:Wr,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var n=this.image;if(void 0===n.uuid&&(n.uuid=Gr.generateUUID()),!t&&void 0===e.images[n.uuid]){var i;if(Array.isArray(n)){i=[];for(var o=0,a=n.length;o<a;o++)i.push(kr.getDataURL(n[o]))}else i=kr.getDataURL(n);e.images[n.uuid]={uuid:n.uuid,url:i}}r.image=n.uuid}return t||(e.textures[this.uuid]=r),r},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==oe)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case pe:e.x=e.x-Math.floor(e.x);break;case he:e.x=e.x<0?0:1;break;case fe:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case pe:e.y=e.y-Math.floor(e.y);break;case he:e.y=e.y<0?0:1;break;case fe:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(Wr.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.defineProperties(Hr.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(Hr.prototype,{isVector4:!0,set:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*n+o[12]*i,this.y=o[1]*t+o[5]*r+o[9]*n+o[13]*i,this.z=o[2]*t+o[6]*r+o[10]*n+o[14]*i,this.w=o[3]*t+o[7]*r+o[11]*n+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,r,n,i,o=e.elements,a=o[0],s=o[4],c=o[8],l=o[1],u=o[5],d=o[9],p=o[2],h=o[6],f=o[10];if(Math.abs(s-l)<.01&&Math.abs(c-p)<.01&&Math.abs(d-h)<.01){if(Math.abs(s+l)<.1&&Math.abs(c+p)<.1&&Math.abs(d+h)<.1&&Math.abs(a+u+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var g=(a+1)/2,m=(u+1)/2,y=(f+1)/2,v=(s+l)/4,b=(c+p)/4,x=(d+h)/4;return g>m&&g>y?g<.01?(r=0,n=.707106781,i=.707106781):(n=v/(r=Math.sqrt(g)),i=b/r):m>y?m<.01?(r=.707106781,n=0,i=.707106781):(r=v/(n=Math.sqrt(m)),i=x/n):y<.01?(r=.707106781,n=.707106781,i=0):(r=b/(i=Math.sqrt(y)),n=x/i),this.set(r,n,i,t),this}var S=Math.sqrt((h-d)*(h-d)+(c-p)*(c-p)+(l-s)*(l-s));return Math.abs(S)<.001&&(S=1),this.x=(h-d)/S,this.y=(c-p)/S,this.z=(l-s)/S,this.w=Math.acos((a+u+f-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),Xr.prototype=Object.assign(Object.create(Nr.prototype),{constructor:Xr,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Qr.prototype=Object.assign(Object.create(Xr.prototype),{constructor:Qr,isWebGLMultisampleRenderTarget:!0,copy:function(e){return Xr.prototype.copy.call(this,e),this.samples=e.samples,this}}),Object.assign(Zr,{slerp:function(e,t,r,n){return r.copy(e).slerp(t,n)},slerpFlat:function(e,t,r,n,i,o,a){var s=r[n+0],c=r[n+1],l=r[n+2],u=r[n+3],d=i[o+0],p=i[o+1],h=i[o+2],f=i[o+3];if(u!==f||s!==d||c!==p||l!==h){var g=1-a,m=s*d+c*p+l*h+u*f,y=m>=0?1:-1,v=1-m*m;if(v>Number.EPSILON){var b=Math.sqrt(v),x=Math.atan2(b,m*y);g=Math.sin(g*x)/b,a=Math.sin(a*x)/b}var S=a*y;if(s=s*g+d*S,c=c*g+p*S,l=l*g+h*S,u=u*g+f*S,g===1-a){var A=1/Math.sqrt(s*s+c*c+l*l+u*u);s*=A,c*=A,l*=A,u*=A}}e[t]=s,e[t+1]=c,e[t+2]=l,e[t+3]=u},multiplyQuaternionsFlat:function(e,t,r,n,i,o){var a=r[n],s=r[n+1],c=r[n+2],l=r[n+3],u=i[o],d=i[o+1],p=i[o+2],h=i[o+3];return e[t]=a*h+l*u+s*p-c*d,e[t+1]=s*h+l*d+c*u-a*p,e[t+2]=c*h+l*p+a*d-s*u,e[t+3]=l*h-a*u-s*d-c*p,e}}),Object.defineProperties(Zr.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(Zr.prototype,{isQuaternion:!0,set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=e._x,n=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,c=a(r/2),l=a(n/2),u=a(i/2),d=s(r/2),p=s(n/2),h=s(i/2);switch(o){case"XYZ":this._x=d*l*u+c*p*h,this._y=c*p*u-d*l*h,this._z=c*l*h+d*p*u,this._w=c*l*u-d*p*h;break;case"YXZ":this._x=d*l*u+c*p*h,this._y=c*p*u-d*l*h,this._z=c*l*h-d*p*u,this._w=c*l*u+d*p*h;break;case"ZXY":this._x=d*l*u-c*p*h,this._y=c*p*u+d*l*h,this._z=c*l*h+d*p*u,this._w=c*l*u-d*p*h;break;case"ZYX":this._x=d*l*u-c*p*h,this._y=c*p*u+d*l*h,this._z=c*l*h-d*p*u,this._w=c*l*u+d*p*h;break;case"YZX":this._x=d*l*u+c*p*h,this._y=c*p*u+d*l*h,this._z=c*l*h-d*p*u,this._w=c*l*u-d*p*h;break;case"XZY":this._x=d*l*u-c*p*h,this._y=c*p*u-d*l*h,this._z=c*l*h+d*p*u,this._w=c*l*u+d*p*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t=e.elements,r=t[0],n=t[4],i=t[8],o=t[1],a=t[5],s=t[9],c=t[2],l=t[6],u=t[10],d=r+a+u;if(d>0){var p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(l-s)*p,this._y=(i-c)*p,this._z=(o-n)*p}else if(r>a&&r>u){var h=2*Math.sqrt(1+r-a-u);this._w=(l-s)/h,this._x=.25*h,this._y=(n+o)/h,this._z=(i+c)/h}else if(a>u){var f=2*Math.sqrt(1+a-r-u);this._w=(i-c)/f,this._x=(n+o)/f,this._y=.25*f,this._z=(s+l)/f}else{var g=2*Math.sqrt(1+u-r-a);this._w=(o-n)/g,this._x=(i+c)/g,this._y=(s+l)/g,this._z=.25*g}return this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var r=e.dot(t)+1;return r<1e-6?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(Gr.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var r=this.angleTo(e);if(0===r)return this;var n=Math.min(1,t/r);return this.slerp(e,n),this},identity:function(){return this.set(0,0,0,1)},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var r=e._x,n=e._y,i=e._z,o=e._w,a=t._x,s=t._y,c=t._z,l=t._w;return this._x=r*l+o*a+n*c-i*s,this._y=n*l+o*s+i*a-r*c,this._z=i*l+o*c+r*s-n*a,this._w=o*l-r*a-n*s-i*c,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*e._w+r*e._x+n*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var c=1-t;return this._w=c*o+t*this._w,this._x=c*r+t*this._x,this._y=c*n+t*this._y,this._z=c*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),u=Math.atan2(l,a),d=Math.sin((1-t)*u)/l,p=Math.sin(t*u)/l;return this._w=o*d+this._w*p,this._x=r*d+this._x*p,this._y=n*d+this._y*p,this._z=i*d+this._z*p,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var Yr=new qr,Jr=new Zr;function qr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=e,this.y=t,this.z=r}Object.assign(qr.prototype,{isVector3:!0,set:function(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Jr.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(Jr.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6]*n,this.y=i[1]*t+i[4]*r+i[7]*n,this.z=i[2]*t+i[5]*r+i[8]*n,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements,o=1/(i[3]*t+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*t+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*t+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*t+i[6]*r+i[10]*n+i[14])*o,this},applyQuaternion:function(e){var t=this.x,r=this.y,n=this.z,i=e.x,o=e.y,a=e.z,s=e.w,c=s*t+o*n-a*r,l=s*r+a*t-i*n,u=s*n+i*r-o*t,d=-i*t-o*r-a*n;return this.x=c*s+d*-i+l*-a-u*-o,this.y=l*s+d*-o+u*-i-c*-a,this.z=u*s+d*-a+c*-o-l*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n,this.y=i[1]*t+i[5]*r+i[9]*n,this.z=i[2]*t+i[6]*r+i[10]*n,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var r=e.x,n=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this},projectOnVector:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)},projectOnPlane:function(e){return Yr.copy(this).projectOnVector(e),this.sub(Yr)},reflect:function(e){return this.sub(Yr.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var r=this.dot(e)/t;return Math.acos(Gr.clamp(r,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y,n=this.z-e.z;return t*t+r*r+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,r){var n=Math.sin(t)*e;return this.x=n*Math.sin(r),this.y=Math.cos(t)*e,this.z=n*Math.cos(r),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=n,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,3*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});var Kr=new qr,$r=new an,en=new qr(0,0,0),tn=new qr(1,1,1),rn=new qr,nn=new qr,on=new qr;function an(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(an.prototype,{isMatrix4:!0,set:function(e,t,r,n,i,o,a,s,c,l,u,d,p,h,f,g){var m=this.elements;return m[0]=e,m[4]=t,m[8]=r,m[12]=n,m[1]=i,m[5]=o,m[9]=a,m[13]=s,m[2]=c,m[6]=l,m[10]=u,m[14]=d,m[3]=p,m[7]=h,m[11]=f,m[15]=g,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new an).fromArray(this.elements)},copy:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this},copyPosition:function(e){var t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this},extractBasis:function(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,r=e.elements,n=1/Kr.setFromMatrixColumn(e,0).length(),i=1/Kr.setFromMatrixColumn(e,1).length(),o=1/Kr.setFromMatrixColumn(e,2).length();return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,r=e.x,n=e.y,i=e.z,o=Math.cos(r),a=Math.sin(r),s=Math.cos(n),c=Math.sin(n),l=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){var d=o*l,p=o*u,h=a*l,f=a*u;t[0]=s*l,t[4]=-s*u,t[8]=c,t[1]=p+h*c,t[5]=d-f*c,t[9]=-a*s,t[2]=f-d*c,t[6]=h+p*c,t[10]=o*s}else if("YXZ"===e.order){var g=s*l,m=s*u,y=c*l,v=c*u;t[0]=g+v*a,t[4]=y*a-m,t[8]=o*c,t[1]=o*u,t[5]=o*l,t[9]=-a,t[2]=m*a-y,t[6]=v+g*a,t[10]=o*s}else if("ZXY"===e.order){var b=s*l,x=s*u,S=c*l,A=c*u;t[0]=b-A*a,t[4]=-o*u,t[8]=S+x*a,t[1]=x+S*a,t[5]=o*l,t[9]=A-b*a,t[2]=-o*c,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var w=o*l,_=o*u,T=a*l,E=a*u;t[0]=s*l,t[4]=T*c-_,t[8]=w*c+E,t[1]=s*u,t[5]=E*c+w,t[9]=_*c-T,t[2]=-c,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var B=o*s,R=o*c,M=a*s,C=a*c;t[0]=s*l,t[4]=C-B*u,t[8]=M*u+R,t[1]=u,t[5]=o*l,t[9]=-a*l,t[2]=-c*l,t[6]=R*u+M,t[10]=B-C*u}else if("XZY"===e.order){var O=o*s,I=o*c,F=a*s,N=a*c;t[0]=s*l,t[4]=-u,t[8]=c*l,t[1]=O*u+N,t[5]=o*l,t[9]=I*u-F,t[2]=F*u-I,t[6]=a*l,t[10]=N*u+O}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(en,e,tn)},lookAt:function(e,t,r){var n=this.elements;return on.subVectors(e,t),0===on.lengthSq()&&(on.z=1),on.normalize(),rn.crossVectors(r,on),0===rn.lengthSq()&&(1===Math.abs(r.z)?on.x+=1e-4:on.z+=1e-4,on.normalize(),rn.crossVectors(r,on)),rn.normalize(),nn.crossVectors(on,rn),n[0]=rn.x,n[4]=nn.x,n[8]=on.x,n[1]=rn.y,n[5]=nn.y,n[9]=on.y,n[2]=rn.z,n[6]=nn.z,n[10]=on.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var r=e.elements,n=t.elements,i=this.elements,o=r[0],a=r[4],s=r[8],c=r[12],l=r[1],u=r[5],d=r[9],p=r[13],h=r[2],f=r[6],g=r[10],m=r[14],y=r[3],v=r[7],b=r[11],x=r[15],S=n[0],A=n[4],w=n[8],_=n[12],T=n[1],E=n[5],B=n[9],R=n[13],M=n[2],C=n[6],O=n[10],I=n[14],F=n[3],N=n[7],L=n[11],P=n[15];return i[0]=o*S+a*T+s*M+c*F,i[4]=o*A+a*E+s*C+c*N,i[8]=o*w+a*B+s*O+c*L,i[12]=o*_+a*R+s*I+c*P,i[1]=l*S+u*T+d*M+p*F,i[5]=l*A+u*E+d*C+p*N,i[9]=l*w+u*B+d*O+p*L,i[13]=l*_+u*R+d*I+p*P,i[2]=h*S+f*T+g*M+m*F,i[6]=h*A+f*E+g*C+m*N,i[10]=h*w+f*B+g*O+m*L,i[14]=h*_+f*R+g*I+m*P,i[3]=y*S+v*T+b*M+x*F,i[7]=y*A+v*E+b*C+x*N,i[11]=y*w+v*B+b*O+x*L,i[15]=y*_+v*R+b*I+x*P,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){var e=this.elements,t=e[0],r=e[4],n=e[8],i=e[12],o=e[1],a=e[5],s=e[9],c=e[13],l=e[2],u=e[6],d=e[10],p=e[14];return e[3]*(+i*s*u-n*c*u-i*a*d+r*c*d+n*a*p-r*s*p)+e[7]*(+t*s*p-t*c*d+i*o*d-n*o*p+n*c*l-i*s*l)+e[11]*(+t*c*u-t*a*p-i*o*u+r*o*p+i*a*l-r*c*l)+e[15]*(-n*a*l-t*s*u+t*a*d+n*o*u-r*o*d+r*s*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,r){var n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");var r=this.elements,n=e.elements,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],l=n[5],u=n[6],d=n[7],p=n[8],h=n[9],f=n[10],g=n[11],m=n[12],y=n[13],v=n[14],b=n[15],x=h*v*d-y*f*d+y*u*g-l*v*g-h*u*b+l*f*b,S=m*f*d-p*v*d-m*u*g+c*v*g+p*u*b-c*f*b,A=p*y*d-m*h*d+m*l*g-c*y*g-p*l*b+c*h*b,w=m*h*u-p*y*u-m*l*f+c*y*f+p*l*v-c*h*v,_=i*x+o*S+a*A+s*w;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var T=1/_;return r[0]=x*T,r[1]=(y*f*s-h*v*s-y*a*g+o*v*g+h*a*b-o*f*b)*T,r[2]=(l*v*s-y*u*s+y*a*d-o*v*d-l*a*b+o*u*b)*T,r[3]=(h*u*s-l*f*s-h*a*d+o*f*d+l*a*g-o*u*g)*T,r[4]=S*T,r[5]=(p*v*s-m*f*s+m*a*g-i*v*g-p*a*b+i*f*b)*T,r[6]=(m*u*s-c*v*s-m*a*d+i*v*d+c*a*b-i*u*b)*T,r[7]=(c*f*s-p*u*s+p*a*d-i*f*d-c*a*g+i*u*g)*T,r[8]=A*T,r[9]=(m*h*s-p*y*s-m*o*g+i*y*g+p*o*b-i*h*b)*T,r[10]=(c*y*s-m*l*s+m*o*d-i*y*d-c*o*b+i*l*b)*T,r[11]=(p*l*s-c*h*s-p*o*d+i*h*d+c*o*g-i*l*g)*T,r[12]=w*T,r[13]=(p*y*a-m*h*a+m*o*f-i*y*f-p*o*v+i*h*v)*T,r[14]=(m*l*a-c*y*a-m*o*u+i*y*u+c*o*v-i*l*v)*T,r[15]=(c*h*a-p*l*a+p*o*u-i*h*u-c*o*f+i*l*f)*T,this},scale:function(e){var t=this.elements,r=e.x,n=e.y,i=e.z;return t[0]*=r,t[4]*=n,t[8]*=i,t[1]*=r,t[5]*=n,t[9]*=i,t[2]*=r,t[6]*=n,t[10]*=i,t[3]*=r,t[7]*=n,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,n))},makeTranslation:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=1-r,o=e.x,a=e.y,s=e.z,c=i*o,l=i*a;return this.set(c*o+r,c*a-n*s,c*s+n*a,0,c*a+n*s,l*a+r,l*s-n*o,0,c*s-n*a,l*s+n*o,i*s*s+r,0,0,0,0,1),this},makeScale:function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this},makeShear:function(e,t,r){return this.set(1,t,r,0,e,1,r,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,r){var n=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,c=i+i,l=o+o,u=a+a,d=i*c,p=i*l,h=i*u,f=o*l,g=o*u,m=a*u,y=s*c,v=s*l,b=s*u,x=r.x,S=r.y,A=r.z;return n[0]=(1-(f+m))*x,n[1]=(p+b)*x,n[2]=(h-v)*x,n[3]=0,n[4]=(p-b)*S,n[5]=(1-(d+m))*S,n[6]=(g+y)*S,n[7]=0,n[8]=(h+v)*A,n[9]=(g-y)*A,n[10]=(1-(d+f))*A,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this},decompose:function(e,t,r){var n=this.elements,i=Kr.set(n[0],n[1],n[2]).length(),o=Kr.set(n[4],n[5],n[6]).length(),a=Kr.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),e.x=n[12],e.y=n[13],e.z=n[14],$r.copy(this);var s=1/i,c=1/o,l=1/a;return $r.elements[0]*=s,$r.elements[1]*=s,$r.elements[2]*=s,$r.elements[4]*=c,$r.elements[5]*=c,$r.elements[6]*=c,$r.elements[8]*=l,$r.elements[9]*=l,$r.elements[10]*=l,t.setFromRotationMatrix($r),r.x=i,r.y=o,r.z=a,this},makePerspective:function(e,t,r,n,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),c=2*i/(r-n),l=(t+e)/(t-e),u=(r+n)/(r-n),d=-(o+i)/(o-i),p=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,r,n,i,o){var a=this.elements,s=1/(t-e),c=1/(r-n),l=1/(o-i),u=(t+e)*s,d=(r+n)*c,p=(o+i)*l;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,r=e.elements,n=0;n<16;n++)if(t[n]!==r[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var r=0;r<16;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}});var sn=new an,cn=new Zr;function ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ln.DefaultOrder;this._x=e,this._y=t,this._z=r,this._order=n}function un(){this.mask=1}ln.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],ln.DefaultOrder="XYZ",Object.defineProperties(ln.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(ln.prototype,{isEuler:!0,set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._order=n||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,r){var n=Gr.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],c=i[1],l=i[5],u=i[9],d=i[2],p=i[6],h=i[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,l),this._z=0);break;case"YXZ":this._x=Math.asin(-n(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(n(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-n(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,h),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-n(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(p,l),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==r&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,r){return sn.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sn,t,r)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return cn.setFromEuler(this),this.setFromQuaternion(cn,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new qr(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(un.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!=(this.mask&e.mask)}});var dn=0,pn=new qr,hn=new Zr,fn=new an,gn=new qr,mn=new qr,yn=new qr,vn=new Zr,bn=new qr(1,0,0),xn=new qr(0,1,0),Sn=new qr(0,0,1),An={type:"added"},wn={type:"removed"};function _n(){Object.defineProperty(this,"id",{value:dn++}),this.uuid=Gr.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=_n.DefaultUp.clone();var e=new qr,t=new ln,r=new Zr,n=new qr(1,1,1);t._onChange((function(){r.setFromEuler(t,!1)})),r._onChange((function(){t.setFromQuaternion(r,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new an},normalMatrix:{value:new zr}}),this.matrix=new an,this.matrixWorld=new an,this.matrixAutoUpdate=_n.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new un,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Tn(){_n.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}_n.DefaultUp=new qr(0,1,0),_n.DefaultMatrixAutoUpdate=!0,_n.prototype=Object.assign(Object.create(Nr.prototype),{constructor:_n,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return hn.setFromAxisAngle(e,t),this.quaternion.multiply(hn),this},rotateOnWorldAxis:function(e,t){return hn.setFromAxisAngle(e,t),this.quaternion.premultiply(hn),this},rotateX:function(e){return this.rotateOnAxis(bn,e)},rotateY:function(e){return this.rotateOnAxis(xn,e)},rotateZ:function(e){return this.rotateOnAxis(Sn,e)},translateOnAxis:function(e,t){return pn.copy(e).applyQuaternion(this.quaternion),this.position.add(pn.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(bn,e)},translateY:function(e){return this.translateOnAxis(xn,e)},translateZ:function(e){return this.translateOnAxis(Sn,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(fn.getInverse(this.matrixWorld))},lookAt:function(e,t,r){e.isVector3?gn.copy(e):gn.set(e,t,r);var n=this.parent;this.updateWorldMatrix(!0,!1),mn.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fn.lookAt(mn,gn,this.up):fn.lookAt(gn,mn,this.up),this.quaternion.setFromRotationMatrix(fn),n&&(fn.extractRotation(n.matrixWorld),hn.setFromRotationMatrix(fn),this.quaternion.premultiply(hn.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(An)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var r=this.children.indexOf(e);return-1!==r&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(wn)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),fn.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),fn.multiply(e.parent.matrixWorld)),e.applyMatrix4(fn),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new qr),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new Zr),this.updateMatrixWorld(!0),this.matrixWorld.decompose(mn,e,yn),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new qr),this.updateMatrixWorld(!0),this.matrixWorld.decompose(mn,vn,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new qr),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var n=this.children,i=0,o=n.length;i<o;i++)n[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"==typeof e,r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var n={};function i(t,r){return void 0===t[r.uuid]&&(t[r.uuid]=r.toJSON(e)),r.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){n.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,c=a.length;s<c;s++){var l=a[s];i(e.shapes,l)}else i(e.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var u=[],d=0,p=this.material.length;d<p;d++)u.push(i(e.materials,this.material[d]));n.material=u}else n.material=i(e.materials,this.material);if(this.children.length>0){n.children=[];for(var h=0;h<this.children.length;h++)n.children.push(this.children[h].toJSON(e).object)}if(t){var f=b(e.geometries),g=b(e.materials),m=b(e.textures),y=b(e.images),v=b(e.shapes);f.length>0&&(r.geometries=f),g.length>0&&(r.materials=g),m.length>0&&(r.textures=m),y.length>0&&(r.images=y),v.length>0&&(r.shapes=v)}return r.object=n,r;function b(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var r=0;r<e.children.length;r++){var n=e.children[r];this.add(n.clone())}return this}}),Tn.prototype=Object.assign(Object.create(_n.prototype),{constructor:Tn,isScene:!0,copy:function(e,t){return _n.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=_n.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var En=[new qr,new qr,new qr,new qr,new qr,new qr,new qr,new qr],Bn=new qr,Rn=new Gn,Mn=new qr,Cn=new qr,On=new qr,In=new qr,Fn=new qr,Nn=new qr,Ln=new qr,Pn=new qr,Dn=new qr,Un=new qr;function Gn(e,t){this.min=void 0!==e?e:new qr(1/0,1/0,1/0),this.max=void 0!==t?t:new qr(-1/0,-1/0,-1/0)}function jn(e,t,r,n,i){for(var o=0,a=e.length-3;o<=a;o+=3){Un.fromArray(e,o);var s=i.x*Math.abs(Un.x)+i.y*Math.abs(Un.y)+i.z*Math.abs(Un.z),c=t.dot(Un),l=r.dot(Un),u=n.dot(Un);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>s)return!1}return!0}Object.assign(Gn.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.length;s<c;s+=3){var l=e[s],u=e[s+1],d=e[s+2];l<t&&(t=l),u<r&&(r=u),d<n&&(n=d),l>i&&(i=l),u>o&&(o=u),d>a&&(a=d)}return this.min.set(t,r,n),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.count;s<c;s++){var l=e.getX(s),u=e.getY(s),d=e.getZ(s);l<t&&(t=l),u<r&&(r=u),d<n&&(n=d),l>i&&(i=l),u>o&&(o=u),d>a&&(a=d)}return this.min.set(t,r,n),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var r=Bn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new qr),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new qr),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Rn.copy(t.boundingBox),Rn.applyMatrix4(e.matrixWorld),this.union(Rn));for(var r=e.children,n=0,i=r.length;n<i;n++)this.expandByObject(r[n]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new qr),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Bn),Bn.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(Ln),Pn.subVectors(this.max,Ln),Mn.subVectors(e.a,Ln),Cn.subVectors(e.b,Ln),On.subVectors(e.c,Ln),In.subVectors(Cn,Mn),Fn.subVectors(On,Cn),Nn.subVectors(Mn,On);var t=[0,-In.z,In.y,0,-Fn.z,Fn.y,0,-Nn.z,Nn.y,In.z,0,-In.x,Fn.z,0,-Fn.x,Nn.z,0,-Nn.x,-In.y,In.x,0,-Fn.y,Fn.x,0,-Nn.y,Nn.x,0];return!!jn(t,Mn,Cn,On,Pn)&&!!jn(t=[1,0,0,0,1,0,0,0,1],Mn,Cn,On,Pn)&&(Dn.crossVectors(In,Fn),jn(t=[Dn.x,Dn.y,Dn.z],Mn,Cn,On,Pn))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new qr),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Bn.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(Bn).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()||(En[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),En[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),En[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),En[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),En[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),En[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),En[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),En[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(En)),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var zn=new Gn;function kn(e,t){this.center=void 0!==e?e:new qr,this.radius=void 0!==t?t:-1}Object.assign(kn.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var r=this.center;void 0!==t?r.copy(t):zn.setFromPoints(e).getCenter(r);for(var n=0,i=0,o=e.length;i<o;i++)n=Math.max(n,r.distanceToSquared(e[i]));return this.radius=Math.sqrt(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var r=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new qr),t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Gn),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var Vn=new qr,Wn=new qr,Hn=new qr,Xn=new qr,Qn=new qr,Zn=new qr,Yn=new qr;function Jn(e,t){this.origin=void 0!==e?e:new qr,this.direction=void 0!==t?t:new qr(0,0,-1)}Object.assign(Jn.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new qr),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,Vn)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new qr),t.subVectors(e,this.origin);var r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=Vn.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Vn.copy(this.direction).multiplyScalar(t).add(this.origin),Vn.distanceToSquared(e))},distanceSqToSegment:function(e,t,r,n){Wn.copy(e).add(t).multiplyScalar(.5),Hn.copy(t).sub(e).normalize(),Xn.copy(this.origin).sub(Wn);var i,o,a,s,c=.5*e.distanceTo(t),l=-this.direction.dot(Hn),u=Xn.dot(this.direction),d=-Xn.dot(Hn),p=Xn.lengthSq(),h=Math.abs(1-l*l);if(h>0)if(o=l*u-d,s=c*h,(i=l*d-u)>=0)if(o>=-s)if(o<=s){var f=1/h;a=(i*=f)*(i+l*(o*=f)+2*u)+o*(l*i+o+2*d)+p}else o=c,a=-(i=Math.max(0,-(l*o+u)))*i+o*(o+2*d)+p;else o=-c,a=-(i=Math.max(0,-(l*o+u)))*i+o*(o+2*d)+p;else o<=-s?a=-(i=Math.max(0,-(-l*c+u)))*i+(o=i>0?-c:Math.min(Math.max(-c,-d),c))*(o+2*d)+p:o<=s?(i=0,a=(o=Math.min(Math.max(-c,-d),c))*(o+2*d)+p):a=-(i=Math.max(0,-(l*c+u)))*i+(o=i>0?c:Math.min(Math.max(-c,-d),c))*(o+2*d)+p;else o=l>0?-c:c,a=-(i=Math.max(0,-(l*o+u)))*i+o*(o+2*d)+p;return r&&r.copy(this.direction).multiplyScalar(i).add(this.origin),n&&n.copy(Hn).multiplyScalar(o).add(Wn),a},intersectSphere:function(e,t){Vn.subVectors(e.center,this.origin);var r=Vn.dot(this.direction),n=Vn.dot(Vn)-r*r,i=e.radius*e.radius;if(n>i)return null;var o=Math.sqrt(i-n),a=r-o,s=r+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null},intersectPlane:function(e,t){var r=this.distanceToPlane(e);return null===r?null:this.at(r,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var r,n,i,o,a,s,c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,n=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,n=(e.min.x-d.x)*c),l>=0?(i=(e.min.y-d.y)*l,o=(e.max.y-d.y)*l):(i=(e.max.y-d.y)*l,o=(e.min.y-d.y)*l),r>o||i>n?null:((i>r||r!=r)&&(r=i),(o<n||n!=n)&&(n=o),u>=0?(a=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),r>s||a>n?null:((a>r||r!=r)&&(r=a),(s<n||n!=n)&&(n=s),n<0?null:this.at(r>=0?r:n,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,Vn)},intersectTriangle:function(e,t,r,n,i){Qn.subVectors(t,e),Zn.subVectors(r,e),Yn.crossVectors(Qn,Zn);var o,a=this.direction.dot(Yn);if(a>0){if(n)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Xn.subVectors(this.origin,e);var s=o*this.direction.dot(Zn.crossVectors(Xn,Zn));if(s<0)return null;var c=o*this.direction.dot(Qn.cross(Xn));if(c<0)return null;if(s+c>a)return null;var l=-o*Xn.dot(Yn);return l<0?null:this.at(l/a,i)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var qn=new qr,Kn=new qr,$n=new zr;function ei(e,t){this.normal=void 0!==e?e:new qr(1,0,0),this.constant=void 0!==t?t:0}Object.assign(ei.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,r,n){return this.normal.set(e,t,r),this.constant=n,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,r){var n=qn.subVectors(r,t).cross(Kn.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new qr),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new qr);var r=e.delta(qn),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/n;return i<0||i>1?void 0:t.copy(r).multiplyScalar(i).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new qr),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var r=t||$n.getNormalMatrix(e),n=this.coplanarPoint(qn).applyMatrix4(e),i=this.normal.applyMatrix3(r).normalize();return this.constant=-n.dot(i),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var ti=new qr,ri=new qr,ni=new qr,ii=new qr,oi=new qr,ai=new qr,si=new qr,ci=new qr,li=new qr,ui=new qr;function di(e,t,r){this.a=void 0!==e?e:new qr,this.b=void 0!==t?t:new qr,this.c=void 0!==r?r:new qr}Object.assign(di,{getNormal:function(e,t,r,n){void 0===n&&(console.warn("THREE.Triangle: .getNormal() target is now required"),n=new qr),n.subVectors(r,t),ti.subVectors(e,t),n.cross(ti);var i=n.lengthSq();return i>0?n.multiplyScalar(1/Math.sqrt(i)):n.set(0,0,0)},getBarycoord:function(e,t,r,n,i){ti.subVectors(n,t),ri.subVectors(r,t),ni.subVectors(e,t);var o=ti.dot(ti),a=ti.dot(ri),s=ti.dot(ni),c=ri.dot(ri),l=ri.dot(ni),u=o*c-a*a;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new qr),0===u)return i.set(-2,-1,-1);var d=1/u,p=(c*s-a*l)*d,h=(o*l-a*s)*d;return i.set(1-p-h,h,p)},containsPoint:function(e,t,r,n){return di.getBarycoord(e,t,r,n,ii),ii.x>=0&&ii.y>=0&&ii.x+ii.y<=1},getUV:function(e,t,r,n,i,o,a,s){return this.getBarycoord(e,t,r,n,ii),s.set(0,0),s.addScaledVector(i,ii.x),s.addScaledVector(o,ii.y),s.addScaledVector(a,ii.z),s},isFrontFacing:function(e,t,r,n){return ti.subVectors(r,t),ri.subVectors(e,t),ti.cross(ri).dot(n)<0}}),Object.assign(di.prototype,{set:function(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this},setFromPointsAndIndices:function(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return ti.subVectors(this.c,this.b),ri.subVectors(this.a,this.b),.5*ti.cross(ri).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new qr),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return di.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new ei),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return di.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,r,n,i){return di.getUV(e,this.a,this.b,this.c,t,r,n,i)},containsPoint:function(e){return di.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return di.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new qr);var r,n,i=this.a,o=this.b,a=this.c;oi.subVectors(o,i),ai.subVectors(a,i),ci.subVectors(e,i);var s=oi.dot(ci),c=ai.dot(ci);if(s<=0&&c<=0)return t.copy(i);li.subVectors(e,o);var l=oi.dot(li),u=ai.dot(li);if(l>=0&&u<=l)return t.copy(o);var d=s*u-l*c;if(d<=0&&s>=0&&l<=0)return r=s/(s-l),t.copy(i).addScaledVector(oi,r);ui.subVectors(e,a);var p=oi.dot(ui),h=ai.dot(ui);if(h>=0&&p<=h)return t.copy(a);var f=p*c-s*h;if(f<=0&&c>=0&&h<=0)return n=c/(c-h),t.copy(i).addScaledVector(ai,n);var g=l*h-p*u;if(g<=0&&u-l>=0&&p-h>=0)return si.subVectors(a,o),n=(u-l)/(u-l+(p-h)),t.copy(o).addScaledVector(si,n);var m=1/(g+f+d);return r=f*m,n=d*m,t.copy(i).addScaledVector(oi,r).addScaledVector(ai,n)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var pi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hi={h:0,s:0,l:0},fi={h:0,s:0,l:0};function gi(e,t,r){return void 0===t&&void 0===r?this.set(e):this.setRGB(e,t,r)}function mi(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+6*(t-e)*(2/3-r):e}function yi(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function vi(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function bi(e,t,r,n,i,o){this.a=e,this.b=t,this.c=r,this.normal=n&&n.isVector3?n:new qr,this.vertexNormals=Array.isArray(n)?n:[],this.color=i&&i.isColor?i:new gi,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}Object.assign(gi.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,r){return this.r=e,this.g=t,this.b=r,this},setHSL:function(e,t,r){if(e=Gr.euclideanModulo(e,1),t=Gr.clamp(t,0,1),r=Gr.clamp(r,0,1),0===t)this.r=this.g=this.b=r;else{var n=r<=.5?r*(1+t):r+t-r*t,i=2*r-n;this.r=mi(i,n,e+1/3),this.g=mi(i,n,e),this.b=mi(i,n,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var n,i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(a,s,c)}}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=r[1],u=l.length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){var t=pi[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var r=t>0?1/t:1;return this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=yi(e.r),this.g=yi(e.g),this.b=yi(e.b),this},copyLinearToSRGB:function(e){return this.r=vi(e.r),this.g=vi(e.g),this.b=vi(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,r,n=this.r,i=this.g,o=this.b,a=Math.max(n,i,o),s=Math.min(n,i,o),c=(s+a)/2;if(s===a)t=0,r=0;else{var l=a-s;switch(r=c<=.5?l/(a+s):l/(2-a-s),a){case n:t=(i-o)/l+(i<o?6:0);break;case i:t=(o-n)/l+2;break;case o:t=(n-i)/l+4}t/=6}return e.h=t,e.s=r,e.l=c,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,r){return this.getHSL(hi),hi.h+=e,hi.s+=t,hi.l+=r,this.setHSL(hi.h,hi.s,hi.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(hi),e.getHSL(fi);var r=Gr.lerp(hi.h,fi.h,t),n=Gr.lerp(hi.s,fi.s,t),i=Gr.lerp(hi.l,fi.l,t);return this.setHSL(r,n,i),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},fromBufferAttribute:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this},toJSON:function(){return this.getHex()}}),gi.NAMES=pi,Object.assign(bi.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,r=e.vertexNormals.length;t<r;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var n=0,i=e.vertexColors.length;n<i;n++)this.vertexColors[n]=e.vertexColors[n].clone();return this}});var xi=0;function Si(){Object.defineProperty(this,"id",{value:xi++}),this.uuid=Gr.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=S,this.side=g,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=L,this.blendDst=P,this.blendEquation=E,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=H,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=_r,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ur,this.stencilZFail=ur,this.stencilZPass=ur,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Ai(e){Si.call(this),this.type="MeshBasicMaterial",this.color=new gi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=J,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}Si.prototype=Object.assign(Object.create(Nr.prototype),{constructor:Si,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0!==r)if("shading"!==t){var n=this[t];void 0!==n?n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===v;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(r.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,r.reflectivity=this.reflectivity,r.refractionRatio=this.refractionRatio,void 0!==this.combine&&(r.combine=this.combine),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==S&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),this.side!==g&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.morphNormals&&(r.morphNormals=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t){var i=n(e.textures),o=n(e.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,r=null;if(null!==t){var n=t.length;r=new Array(n);for(var i=0;i!==n;++i)r[i]=t[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Si.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Ai.prototype=Object.create(Si.prototype),Ai.prototype.constructor=Ai,Ai.prototype.isMeshBasicMaterial=!0,Ai.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var wi=new qr,_i=new jr;function Ti(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=Tr,this.updateRange={offset:0,count:-1},this.version=0}function Ei(e,t,r){Ti.call(this,new Int8Array(e),t,r)}function Bi(e,t,r){Ti.call(this,new Uint8Array(e),t,r)}function Ri(e,t,r){Ti.call(this,new Uint8ClampedArray(e),t,r)}function Mi(e,t,r){Ti.call(this,new Int16Array(e),t,r)}function Ci(e,t,r){Ti.call(this,new Uint16Array(e),t,r)}function Oi(e,t,r){Ti.call(this,new Int32Array(e),t,r)}function Ii(e,t,r){Ti.call(this,new Uint32Array(e),t,r)}function Fi(e,t,r){Ti.call(this,new Float32Array(e),t,r)}function Ni(e,t,r){Ti.call(this,new Float64Array(e),t,r)}function Li(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Pi(e){if(0===e.length)return-1/0;for(var t=e[0],r=1,n=e.length;r<n;++r)e[r]>t&&(t=e[r]);return t}Object.defineProperty(Ti.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ti.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.itemSize,r*=t.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[e+n]=t.array[r+n];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),o=new gi),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),o=new jr),t[r++]=o.x,t[r++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),o=new qr),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),o=new Hr),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z,t[r++]=o.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(var t=0,r=this.count;t<r;t++)_i.fromBufferAttribute(this,t),_i.applyMatrix3(e),this.setXY(t,_i.x,_i.y);else if(3===this.itemSize)for(var n=0,i=this.count;n<i;n++)wi.fromBufferAttribute(this,n),wi.applyMatrix3(e),this.setXYZ(n,wi.x,wi.y,wi.z);return this},applyMatrix4:function(e){for(var t=0,r=this.count;t<r;t++)wi.x=this.getX(t),wi.y=this.getY(t),wi.z=this.getZ(t),wi.applyMatrix4(e),this.setXYZ(t,wi.x,wi.y,wi.z);return this},applyNormalMatrix:function(e){for(var t=0,r=this.count;t<r;t++)wi.x=this.getX(t),wi.y=this.getY(t),wi.z=this.getZ(t),wi.applyNormalMatrix(e),this.setXYZ(t,wi.x,wi.y,wi.z);return this},transformDirection:function(e){for(var t=0,r=this.count;t<r;t++)wi.x=this.getX(t),wi.y=this.getY(t),wi.z=this.getZ(t),wi.transformDirection(e),this.setXYZ(t,wi.x,wi.y,wi.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Ei.prototype=Object.create(Ti.prototype),Ei.prototype.constructor=Ei,Bi.prototype=Object.create(Ti.prototype),Bi.prototype.constructor=Bi,Ri.prototype=Object.create(Ti.prototype),Ri.prototype.constructor=Ri,Mi.prototype=Object.create(Ti.prototype),Mi.prototype.constructor=Mi,Ci.prototype=Object.create(Ti.prototype),Ci.prototype.constructor=Ci,Oi.prototype=Object.create(Ti.prototype),Oi.prototype.constructor=Oi,Ii.prototype=Object.create(Ti.prototype),Ii.prototype.constructor=Ii,Fi.prototype=Object.create(Ti.prototype),Fi.prototype.constructor=Fi,Ni.prototype=Object.create(Ti.prototype),Ni.prototype.constructor=Ni,Object.assign(Li.prototype,{computeGroups:function(e){var t,r,n=[],i=void 0,o=e.faces;for(r=0;r<o.length;r++){var a=o[r];a.materialIndex!==i&&(i=a.materialIndex,void 0!==t&&(t.count=3*r-t.start,n.push(t)),t={start:3*r,materialIndex:i})}void 0!==t&&(t.count=3*r-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,r=e.faces,n=e.vertices,i=e.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=e.morphTargets,c=s.length;if(c>0){t=[];for(var l=0;l<c;l++)t[l]={name:s[l].name,data:[]};this.morphTargets.position=t}var u,d=e.morphNormals,p=d.length;if(p>0){u=[];for(var h=0;h<p;h++)u[h]={name:d[h].name,data:[]};this.morphTargets.normal=u}var f=e.skinIndices,g=e.skinWeights,m=f.length===n.length,y=g.length===n.length;n.length>0&&0===r.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var v=0;v<r.length;v++){var b=r[v];this.vertices.push(n[b.a],n[b.b],n[b.c]);var x=b.vertexNormals;if(3===x.length)this.normals.push(x[0],x[1],x[2]);else{var S=b.normal;this.normals.push(S,S,S)}var A=b.vertexColors;if(3===A.length)this.colors.push(A[0],A[1],A[2]);else{var w=b.color;this.colors.push(w,w,w)}if(!0===o){var _=i[0][v];void 0!==_?this.uvs.push(_[0],_[1],_[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",v),this.uvs.push(new jr,new jr,new jr))}if(!0===a){var T=i[1][v];void 0!==T?this.uvs2.push(T[0],T[1],T[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",v),this.uvs2.push(new jr,new jr,new jr))}for(var E=0;E<c;E++){var B=s[E].vertices;t[E].data.push(B[b.a],B[b.b],B[b.c])}for(var R=0;R<p;R++){var M=d[R].vertexNormals[v];u[R].data.push(M.a,M.b,M.c)}m&&this.skinIndices.push(f[b.a],f[b.b],f[b.c]),y&&this.skinWeights.push(g[b.a],g[b.b],g[b.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var Di=1,Ui=new an,Gi=new _n,ji=new qr,zi=new Gn,ki=new Gn,Vi=new qr;function Wi(){Object.defineProperty(this,"id",{value:Di+=2}),this.uuid=Gr.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Wi.prototype=Object.assign(Object.create(Nr.prototype),{constructor:Wi,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Pi(e)>65535?Ii:Ci)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,r){this.groups.push({start:e,count:t,materialIndex:void 0!==r?r:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var r=this.attributes.normal;if(void 0!==r){var n=(new zr).getNormalMatrix(e);r.applyNormalMatrix(n),r.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return Ui.makeRotationX(e),this.applyMatrix4(Ui),this},rotateY:function(e){return Ui.makeRotationY(e),this.applyMatrix4(Ui),this},rotateZ:function(e){return Ui.makeRotationZ(e),this.applyMatrix4(Ui),this},translate:function(e,t,r){return Ui.makeTranslation(e,t,r),this.applyMatrix4(Ui),this},scale:function(e,t,r){return Ui.makeScale(e,t,r),this.applyMatrix4(Ui),this},lookAt:function(e){return Gi.lookAt(e),Gi.updateMatrix(),this.applyMatrix4(Gi.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ji).negate(),this.translate(ji.x,ji.y,ji.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var r=new Fi(3*t.vertices.length,3),n=new Fi(3*t.colors.length,3);if(this.setAttribute("position",r.copyVector3sArray(t.vertices)),this.setAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new Fi(t.lineDistances.length,1);this.setAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Fi(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var r=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(r=void 0,t.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(t);r.verticesNeedUpdate=t.verticesNeedUpdate,r.normalsNeedUpdate=t.normalsNeedUpdate,r.colorsNeedUpdate=t.colorsNeedUpdate,r.uvsNeedUpdate=t.uvsNeedUpdate,r.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=r}if(!0===t.verticesNeedUpdate){var n=this.attributes.position;void 0!==n&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1}if(!0===t.normalsNeedUpdate){var i=this.attributes.normal;void 0!==i&&(i.copyVector3sArray(t.normals),i.needsUpdate=!0),t.normalsNeedUpdate=!1}if(!0===t.colorsNeedUpdate){var o=this.attributes.color;void 0!==o&&(o.copyColorsArray(t.colors),o.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){var a=this.attributes.uv;void 0!==a&&(a.copyVector2sArray(t.uvs),a.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){var s=this.attributes.lineDistance;void 0!==s&&(s.copyArray(t.lineDistances),s.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Li).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new Ti(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var r=new Float32Array(3*e.normals.length);this.setAttribute("normal",new Ti(r,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var n=new Float32Array(3*e.colors.length);this.setAttribute("color",new Ti(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new Ti(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new Ti(o,2).copyVector2sArray(e.uvs2))}for(var a in this.groups=e.groups,e.morphTargets){for(var s=[],c=e.morphTargets[a],l=0,u=c.length;l<u;l++){var d=c[l],p=new Fi(3*d.data.length,3);p.name=d.name,s.push(p.copyVector3sArray(d.data))}this.morphAttributes[a]=s}if(e.skinIndices.length>0){var h=new Fi(4*e.skinIndices.length,4);this.setAttribute("skinIndex",h.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var f=new Fi(4*e.skinWeights.length,4);this.setAttribute("skinWeight",f.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Gn);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var r=0,n=t.length;r<n;r++){var i=t[r];zi.setFromBufferAttribute(i),this.morphTargetsRelative?(Vi.addVectors(this.boundingBox.min,zi.min),this.boundingBox.expandByPoint(Vi),Vi.addVectors(this.boundingBox.max,zi.max),this.boundingBox.expandByPoint(Vi)):(this.boundingBox.expandByPoint(zi.min),this.boundingBox.expandByPoint(zi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new kn);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var r=this.boundingSphere.center;if(zi.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++){var o=t[n];ki.setFromBufferAttribute(o),this.morphTargetsRelative?(Vi.addVectors(zi.min,ki.min),zi.expandByPoint(Vi),Vi.addVectors(zi.max,ki.max),zi.expandByPoint(Vi)):(zi.expandByPoint(ki.min),zi.expandByPoint(ki.max))}zi.getCenter(r);for(var a=0,s=0,c=e.count;s<c;s++)Vi.fromBufferAttribute(e,s),a=Math.max(a,r.distanceToSquared(Vi));if(t)for(var l=0,u=t.length;l<u;l++)for(var d=t[l],p=this.morphTargetsRelative,h=0,f=d.count;h<f;h++)Vi.fromBufferAttribute(d,h),p&&(ji.fromBufferAttribute(e,h),Vi.add(ji)),a=Math.max(a,r.distanceToSquared(Vi));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var r=this.getAttribute("normal");if(void 0===r)r=new Ti(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(var n=0,i=r.count;n<i;n++)r.setXYZ(n,0,0,0);var o=new qr,a=new qr,s=new qr,c=new qr,l=new qr,u=new qr,d=new qr,p=new qr;if(e)for(var h=0,f=e.count;h<f;h+=3){var g=e.getX(h+0),m=e.getX(h+1),y=e.getX(h+2);o.fromBufferAttribute(t,g),a.fromBufferAttribute(t,m),s.fromBufferAttribute(t,y),d.subVectors(s,a),p.subVectors(o,a),d.cross(p),c.fromBufferAttribute(r,g),l.fromBufferAttribute(r,m),u.fromBufferAttribute(r,y),c.add(d),l.add(d),u.add(d),r.setXYZ(g,c.x,c.y,c.z),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(var v=0,b=t.count;v<b;v+=3)o.fromBufferAttribute(t,v+0),a.fromBufferAttribute(t,v+1),s.fromBufferAttribute(t,v+2),d.subVectors(s,a),p.subVectors(o,a),d.cross(p),r.setXYZ(v+0,d.x,d.y,d.z),r.setXYZ(v+1,d.x,d.y,d.z),r.setXYZ(v+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var r=this.attributes;for(var n in r)if(void 0!==e.attributes[n])for(var i=r[n].array,o=e.attributes[n],a=o.array,s=o.itemSize*t,c=Math.min(a.length,i.length-s),l=0,u=s;l<c;l++,u++)i[u]=a[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,r=e.count;t<r;t++)Vi.fromBufferAttribute(e,t),Vi.normalize(),e.setXYZ(t,Vi.x,Vi.y,Vi.z)},toNonIndexed:function(){function e(e,t){for(var r=e.array,n=e.itemSize,i=e.normalized,o=new r.constructor(t.length*n),a=0,s=0,c=0,l=t.length;c<l;c++){a=t[c]*n;for(var u=0;u<n;u++)o[s++]=r[a++]}return new Ti(o,n,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Wi,r=this.index.array,n=this.attributes;for(var i in n){var o=e(n[i],r);t.setAttribute(i,o)}var a=this.morphAttributes;for(var s in a){for(var c=[],l=a[s],u=0,d=l.length;u<d;u++){var p=e(l[u],r);c.push(p)}t.morphAttributes[s]=c}t.morphTargetsRelative=this.morphTargetsRelative;for(var h=this.groups,f=0,g=h.length;f<g;f++){var m=h[f];t.addGroup(m.start,m.count,m.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}e.data={attributes:{}};var n=this.index;null!==n&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});var i=this.attributes;for(var o in i){var a=i[o],s=a.toJSON(e.data);""!==a.name&&(s.name=a.name),e.data.attributes[o]=s}var c={},l=!1;for(var u in this.morphAttributes){for(var d=this.morphAttributes[u],p=[],h=0,f=d.length;h<f;h++){var g=d[h],m=g.toJSON(e.data);""!==g.name&&(m.name=g.name),p.push(m)}p.length>0&&(c[u]=p,l=!0)}l&&(e.data.morphAttributes=c,e.data.morphTargetsRelative=this.morphTargetsRelative);var y=this.groups;y.length>0&&(e.data.groups=JSON.parse(JSON.stringify(y)));var v=this.boundingSphere;return null!==v&&(e.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),e},clone:function(){return(new Wi).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var r=e.index;null!==r&&this.setIndex(r.clone(t));var n=e.attributes;for(var i in n){var o=n[i];this.setAttribute(i,o.clone(t))}var a=e.morphAttributes;for(var s in a){for(var c=[],l=a[s],u=0,d=l.length;u<d;u++)c.push(l[u].clone(t));this.morphAttributes[s]=c}this.morphTargetsRelative=e.morphTargetsRelative;for(var p=e.groups,h=0,f=p.length;h<f;h++){var g=p[h];this.addGroup(g.start,g.count,g.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var y=e.boundingSphere;return null!==y&&(this.boundingSphere=y.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Hi=new an,Xi=new Jn,Qi=new kn,Zi=new qr,Yi=new qr,Ji=new qr,qi=new qr,Ki=new qr,$i=new qr,eo=new qr,to=new qr,ro=new qr,no=new jr,io=new jr,oo=new jr,ao=new qr,so=new qr;function co(e,t){_n.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Wi,this.material=void 0!==t?t:new Ai,this.updateMorphTargets()}function lo(e,t,r,n,i,o,a,s){if(null===(t.side===m?n.intersectTriangle(a,o,i,!0,s):n.intersectTriangle(i,o,a,t.side!==y,s)))return null;so.copy(s),so.applyMatrix4(e.matrixWorld);var c=r.ray.origin.distanceTo(so);return c<r.near||c>r.far?null:{distance:c,point:so.clone(),object:e}}function uo(e,t,r,n,i,o,a,s,c,l,u,d){Zi.fromBufferAttribute(i,l),Yi.fromBufferAttribute(i,u),Ji.fromBufferAttribute(i,d);var p=e.morphTargetInfluences;if(t.morphTargets&&o&&p){eo.set(0,0,0),to.set(0,0,0),ro.set(0,0,0);for(var h=0,f=o.length;h<f;h++){var g=p[h],m=o[h];0!==g&&(qi.fromBufferAttribute(m,l),Ki.fromBufferAttribute(m,u),$i.fromBufferAttribute(m,d),a?(eo.addScaledVector(qi,g),to.addScaledVector(Ki,g),ro.addScaledVector($i,g)):(eo.addScaledVector(qi.sub(Zi),g),to.addScaledVector(Ki.sub(Yi),g),ro.addScaledVector($i.sub(Ji),g)))}Zi.add(eo),Yi.add(to),Ji.add(ro)}e.isSkinnedMesh&&(e.boneTransform(l,Zi),e.boneTransform(u,Yi),e.boneTransform(d,Ji));var y=lo(e,t,r,n,Zi,Yi,Ji,ao);if(y){s&&(no.fromBufferAttribute(s,l),io.fromBufferAttribute(s,u),oo.fromBufferAttribute(s,d),y.uv=di.getUV(ao,Zi,Yi,Ji,no,io,oo,new jr)),c&&(no.fromBufferAttribute(c,l),io.fromBufferAttribute(c,u),oo.fromBufferAttribute(c,d),y.uv2=di.getUV(ao,Zi,Yi,Ji,no,io,oo,new jr));var v=new bi(l,u,d);di.getNormal(Zi,Yi,Ji,v.normal),y.face=v}return y}co.prototype=Object.assign(Object.create(_n.prototype),{constructor:co,isMesh:!0,copy:function(e){return _n.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,r=Object.keys(t);if(r.length>0){var n=t[r[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=n.length;i<o;i++){var a=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var r,n=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===n.boundingSphere&&n.computeBoundingSphere(),Qi.copy(n.boundingSphere),Qi.applyMatrix4(o),!1!==e.ray.intersectsSphere(Qi)&&(Hi.getInverse(o),Xi.copy(e.ray).applyMatrix4(Hi),null===n.boundingBox||!1!==Xi.intersectsBox(n.boundingBox))))if(n.isBufferGeometry){var a=n.index,s=n.attributes.position,c=n.morphAttributes.position,l=n.morphTargetsRelative,u=n.attributes.uv,d=n.attributes.uv2,p=n.groups,h=n.drawRange;if(null!==a)if(Array.isArray(i))for(var f=0,g=p.length;f<g;f++)for(var m=p[f],y=i[m.materialIndex],v=Math.max(m.start,h.start),b=Math.min(m.start+m.count,h.start+h.count);v<b;v+=3){var x=a.getX(v),S=a.getX(v+1),A=a.getX(v+2);(r=uo(this,y,e,Xi,s,c,l,u,d,x,S,A))&&(r.faceIndex=Math.floor(v/3),r.face.materialIndex=m.materialIndex,t.push(r))}else for(var w=Math.max(0,h.start),_=Math.min(a.count,h.start+h.count);w<_;w+=3){var T=a.getX(w),E=a.getX(w+1),B=a.getX(w+2);(r=uo(this,i,e,Xi,s,c,l,u,d,T,E,B))&&(r.faceIndex=Math.floor(w/3),t.push(r))}else if(void 0!==s)if(Array.isArray(i))for(var R=0,M=p.length;R<M;R++)for(var C=p[R],O=i[C.materialIndex],I=Math.max(C.start,h.start),F=Math.min(C.start+C.count,h.start+h.count);I<F;I+=3)(r=uo(this,O,e,Xi,s,c,l,u,d,I,I+1,I+2))&&(r.faceIndex=Math.floor(I/3),r.face.materialIndex=C.materialIndex,t.push(r));else for(var N=Math.max(0,h.start),L=Math.min(s.count,h.start+h.count);N<L;N+=3)(r=uo(this,i,e,Xi,s,c,l,u,d,N,N+1,N+2))&&(r.faceIndex=Math.floor(N/3),t.push(r))}else if(n.isGeometry){var P,D=Array.isArray(i),U=n.vertices,G=n.faces,j=n.faceVertexUvs[0];j.length>0&&(P=j);for(var z=0,k=G.length;z<k;z++){var V=G[z],W=D?i[V.materialIndex]:i;if(void 0!==W){var H=U[V.a],X=U[V.b],Q=U[V.c];if(r=lo(this,W,e,Xi,H,X,Q,ao)){if(P&&P[z]){var Z=P[z];no.copy(Z[0]),io.copy(Z[1]),oo.copy(Z[2]),r.uv=di.getUV(ao,H,X,Q,no,io,oo,new jr)}r.face=V,r.faceIndex=z,t.push(r)}}}}}});var po=0,ho=new an,fo=new _n,go=new qr;function mo(){Object.defineProperty(this,"id",{value:po+=2}),this.uuid=Gr.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}mo.prototype=Object.assign(Object.create(Nr.prototype),{constructor:mo,isGeometry:!0,applyMatrix4:function(e){for(var t=(new zr).getNormalMatrix(e),r=0,n=this.vertices.length;r<n;r++)this.vertices[r].applyMatrix4(e);for(var i=0,o=this.faces.length;i<o;i++){var a=this.faces[i];a.normal.applyMatrix3(t).normalize();for(var s=0,c=a.vertexNormals.length;s<c;s++)a.vertexNormals[s].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return ho.makeRotationX(e),this.applyMatrix4(ho),this},rotateY:function(e){return ho.makeRotationY(e),this.applyMatrix4(ho),this},rotateZ:function(e){return ho.makeRotationZ(e),this.applyMatrix4(ho),this},translate:function(e,t,r){return ho.makeTranslation(e,t,r),this.applyMatrix4(ho),this},scale:function(e,t,r){return ho.makeScale(e,t,r),this.applyMatrix4(ho),this},lookAt:function(e){return fo.lookAt(e),fo.updateMatrix(),this.applyMatrix4(fo.matrix),this},fromBufferGeometry:function(e){var t=this,r=null!==e.index?e.index:void 0,n=e.attributes;if(void 0===n.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var i=n.position,o=n.normal,a=n.color,s=n.uv,c=n.uv2;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var l=0;l<i.count;l++)t.vertices.push((new qr).fromBufferAttribute(i,l)),void 0!==a&&t.colors.push((new gi).fromBufferAttribute(a,l));function u(e,r,n,i){var l=void 0===a?[]:[t.colors[e].clone(),t.colors[r].clone(),t.colors[n].clone()],u=new bi(e,r,n,void 0===o?[]:[(new qr).fromBufferAttribute(o,e),(new qr).fromBufferAttribute(o,r),(new qr).fromBufferAttribute(o,n)],l,i);t.faces.push(u),void 0!==s&&t.faceVertexUvs[0].push([(new jr).fromBufferAttribute(s,e),(new jr).fromBufferAttribute(s,r),(new jr).fromBufferAttribute(s,n)]),void 0!==c&&t.faceVertexUvs[1].push([(new jr).fromBufferAttribute(c,e),(new jr).fromBufferAttribute(c,r),(new jr).fromBufferAttribute(c,n)])}var d=e.groups;if(d.length>0)for(var p=0;p<d.length;p++)for(var h=d[p],f=h.start,g=f,m=f+h.count;g<m;g+=3)void 0!==r?u(r.getX(g),r.getX(g+1),r.getX(g+2),h.materialIndex):u(g,g+1,g+2,h.materialIndex);else if(void 0!==r)for(var y=0;y<r.count;y+=3)u(r.getX(y),r.getX(y+1),r.getX(y+2));else for(var v=0;v<i.count;v+=3)u(v,v+1,v+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(go).negate(),this.translate(go.x,go.y,go.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,r=0===t?1:1/t,n=new an;return n.set(r,0,0,-r*e.x,0,r,0,-r*e.y,0,0,r,-r*e.z,0,0,0,1),this.applyMatrix4(n),this},computeFaceNormals:function(){for(var e=new qr,t=new qr,r=0,n=this.faces.length;r<n;r++){var i=this.faces[r],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);for(var t=new Array(this.vertices.length),r=0,n=this.vertices.length;r<n;r++)t[r]=new qr;if(e)for(var i=new qr,o=new qr,a=0,s=this.faces.length;a<s;a++){var c=this.faces[a],l=this.vertices[c.a],u=this.vertices[c.b],d=this.vertices[c.c];i.subVectors(d,u),o.subVectors(l,u),i.cross(o),t[c.a].add(i),t[c.b].add(i),t[c.c].add(i)}else{this.computeFaceNormals();for(var p=0,h=this.faces.length;p<h;p++){var f=this.faces[p];t[f.a].add(f.normal),t[f.b].add(f.normal),t[f.c].add(f.normal)}}for(var g=0,m=this.vertices.length;g<m;g++)t[g].normalize();for(var y=0,v=this.faces.length;y<v;y++){var b=this.faces[y],x=b.vertexNormals;3===x.length?(x[0].copy(t[b.a]),x[1].copy(t[b.b]),x[2].copy(t[b.c])):(x[0]=t[b.a].clone(),x[1]=t[b.b].clone(),x[2]=t[b.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(var e=0,t=this.faces.length;e<t;e++){var r=this.faces[e],n=r.vertexNormals;3===n.length?(n[0].copy(r.normal),n[1].copy(r.normal),n[2].copy(r.normal)):(n[0]=r.normal.clone(),n[1]=r.normal.clone(),n[2]=r.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var e=0,t=this.faces.length;e<t;e++){var r=this.faces[e];r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]);for(var n=0,i=r.vertexNormals.length;n<i;n++)r.__originalVertexNormals[n]?r.__originalVertexNormals[n].copy(r.vertexNormals[n]):r.__originalVertexNormals[n]=r.vertexNormals[n].clone()}var o=new mo;o.faces=this.faces;for(var a=0,s=this.morphTargets.length;a<s;a++){if(!this.morphNormals[a]){this.morphNormals[a]={},this.morphNormals[a].faceNormals=[],this.morphNormals[a].vertexNormals=[];for(var c=this.morphNormals[a].faceNormals,l=this.morphNormals[a].vertexNormals,u=0,d=this.faces.length;u<d;u++){var p=new qr,h={a:new qr,b:new qr,c:new qr};c.push(p),l.push(h)}}var f=this.morphNormals[a];o.vertices=this.morphTargets[a].vertices,o.computeFaceNormals(),o.computeVertexNormals();for(var g=0,m=this.faces.length;g<m;g++){var y=this.faces[g],v=f.faceNormals[g],b=f.vertexNormals[g];v.copy(y.normal),b.a.copy(y.vertexNormals[0]),b.b.copy(y.vertexNormals[1]),b.c.copy(y.vertexNormals[2])}}for(var x=0,S=this.faces.length;x<S;x++){var A=this.faces[x];A.normal=A.__originalFaceNormal,A.vertexNormals=A.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Gn),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new kn),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,r){if(e&&e.isGeometry){var n,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,c=e.faces,l=this.colors,u=e.colors;void 0===r&&(r=0),void 0!==t&&(n=(new zr).getNormalMatrix(t));for(var d=0,p=a.length;d<p;d++){var h=a[d].clone();void 0!==t&&h.applyMatrix4(t),o.push(h)}for(var f=0,g=u.length;f<g;f++)l.push(u[f].clone());for(var m=0,y=c.length;m<y;m++){var v=void 0,b=void 0,x=void 0,S=c[m],A=S.vertexNormals,w=S.vertexColors;(v=new bi(S.a+i,S.b+i,S.c+i)).normal.copy(S.normal),void 0!==n&&v.normal.applyMatrix3(n).normalize();for(var _=0,T=A.length;_<T;_++)b=A[_].clone(),void 0!==n&&b.applyMatrix3(n).normalize(),v.vertexNormals.push(b);v.color.copy(S.color);for(var E=0,B=w.length;E<B;E++)x=w[E],v.vertexColors.push(x.clone());v.materialIndex=S.materialIndex+r,s.push(v)}for(var R=0,M=e.faceVertexUvs.length;R<M;R++){var C=e.faceVertexUvs[R];void 0===this.faceVertexUvs[R]&&(this.faceVertexUvs[R]=[]);for(var O=0,I=C.length;O<I;O++){for(var F=C[O],N=[],L=0,P=F.length;L<P;L++)N.push(F[L].clone());this.faceVertexUvs[R].push(N)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){for(var e={},t=[],r=[],n=Math.pow(10,4),i=0,o=this.vertices.length;i<o;i++){var a=this.vertices[i],s=Math.round(a.x*n)+"_"+Math.round(a.y*n)+"_"+Math.round(a.z*n);void 0===e[s]?(e[s]=i,t.push(this.vertices[i]),r[i]=t.length-1):r[i]=r[e[s]]}for(var c=[],l=0,u=this.faces.length;l<u;l++){var d=this.faces[l];d.a=r[d.a],d.b=r[d.b],d.c=r[d.c];for(var p=[d.a,d.b,d.c],h=0;h<3;h++)if(p[h]===p[(h+1)%3]){c.push(l);break}}for(var f=c.length-1;f>=0;f--){var g=c[f];this.faces.splice(g,1);for(var m=0,y=this.faceVertexUvs.length;m<y;m++)this.faceVertexUvs[m].splice(g,1)}var v=this.vertices.length-t.length;return this.vertices=t,v},setFromPoints:function(e){this.vertices=[];for(var t=0,r=e.length;t<r;t++){var n=e[t];this.vertices.push(new qr(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,r=0;r<t;r++)e[r]._id=r;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var n,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(n=[]),a&&a.length===t&&(i=[]);for(var s=0;s<t;s++){var c=e[s]._id;n&&n.push(o[c]),i&&i.push(a[c])}n&&(this.faceVertexUvs[0]=n),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}for(var n=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];n.push(o.x,o.y,o.z)}for(var a=[],s=[],c={},l=[],u={},d=[],p={},h=0;h<this.faces.length;h++){var f=this.faces[h],g=void 0!==this.faceVertexUvs[0][h],m=f.normal.length()>0,y=f.vertexNormals.length>0,v=1!==f.color.r||1!==f.color.g||1!==f.color.b,b=f.vertexColors.length>0,x=0;if(x=_(x,0,0),x=_(x,1,!0),x=_(x,2,!1),x=_(x,3,g),x=_(x,4,m),x=_(x,5,y),x=_(x,6,v),x=_(x,7,b),a.push(x),a.push(f.a,f.b,f.c),a.push(f.materialIndex),g){var S=this.faceVertexUvs[0][h];a.push(B(S[0]),B(S[1]),B(S[2]))}if(m&&a.push(T(f.normal)),y){var A=f.vertexNormals;a.push(T(A[0]),T(A[1]),T(A[2]))}if(v&&a.push(E(f.color)),b){var w=f.vertexColors;a.push(E(w[0]),E(w[1]),E(w[2]))}}function _(e,t,r){return r?e|1<<t:e&~(1<<t)}function T(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==c[t]||(c[t]=s.length/3,s.push(e.x,e.y,e.z)),c[t]}function E(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==u[t]||(u[t]=l.length,l.push(e.getHex())),u[t]}function B(e){var t=e.x.toString()+e.y.toString();return void 0!==p[t]||(p[t]=d.length/2,d.push(e.x,e.y)),p[t]}return e.data={},e.data.vertices=n,e.data.normals=s,l.length>0&&(e.data.colors=l),d.length>0&&(e.data.uvs=[d]),e.data.faces=a,e},clone:function(){return(new mo).copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;for(var t=e.vertices,r=0,n=t.length;r<n;r++)this.vertices.push(t[r].clone());for(var i=e.colors,o=0,a=i.length;o<a;o++)this.colors.push(i[o].clone());for(var s=e.faces,c=0,l=s.length;c<l;c++)this.faces.push(s[c].clone());for(var u=0,d=e.faceVertexUvs.length;u<d;u++){var p=e.faceVertexUvs[u];void 0===this.faceVertexUvs[u]&&(this.faceVertexUvs[u]=[]);for(var h=0,f=p.length;h<f;h++){for(var g=p[h],m=[],y=0,v=g.length;y<v;y++){var b=g[y];m.push(b.clone())}this.faceVertexUvs[u].push(m)}}for(var x=e.morphTargets,S=0,A=x.length;S<A;S++){var w={};if(w.name=x[S].name,void 0!==x[S].vertices){w.vertices=[];for(var _=0,T=x[S].vertices.length;_<T;_++)w.vertices.push(x[S].vertices[_].clone())}if(void 0!==x[S].normals){w.normals=[];for(var E=0,B=x[S].normals.length;E<B;E++)w.normals.push(x[S].normals[E].clone())}this.morphTargets.push(w)}for(var R=e.morphNormals,M=0,C=R.length;M<C;M++){var O={};if(void 0!==R[M].vertexNormals){O.vertexNormals=[];for(var I=0,F=R[M].vertexNormals.length;I<F;I++){var N=R[M].vertexNormals[I],L={};L.a=N.a.clone(),L.b=N.b.clone(),L.c=N.c.clone(),O.vertexNormals.push(L)}}if(void 0!==R[M].faceNormals){O.faceNormals=[];for(var P=0,D=R[M].faceNormals.length;P<D;P++)O.faceNormals.push(R[M].faceNormals[P].clone())}this.morphNormals.push(O)}for(var U=e.skinWeights,G=0,j=U.length;G<j;G++)this.skinWeights.push(U[G].clone());for(var z=e.skinIndices,k=0,V=z.length;k<V;k++)this.skinIndices.push(z[k].clone());for(var W=e.lineDistances,H=0,X=W.length;H<X;H++)this.lineDistances.push(W[H]);var Q=e.boundingBox;null!==Q&&(this.boundingBox=Q.clone());var Z=e.boundingSphere;return null!==Z&&(this.boundingSphere=Z.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var yo=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,i,o,a,s){var c;return _classCallCheck(this,r),(c=t.call(this)).type="BoxGeometry",c.parameters={width:e,height:n,depth:i,widthSegments:o,heightSegments:a,depthSegments:s},c.fromBufferGeometry(new vo(e,n,i,o,a,s)),c.mergeVertices(),c}return r}(mo),vo=function(e){_inherits(r,e);var t=_createSuper(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;_classCallCheck(this,r),(e=t.call(this)).type="BoxBufferGeometry",e.parameters={width:n,height:i,depth:o,widthSegments:a,heightSegments:s,depthSegments:c};var l=_assertThisInitialized(e);a=Math.floor(a),s=Math.floor(s),c=Math.floor(c);var u=[],d=[],p=[],h=[],f=0,g=0;function m(e,t,r,n,i,o,a,s,c,m,y){for(var v=o/c,b=a/m,x=o/2,S=a/2,A=s/2,w=c+1,_=m+1,T=0,E=0,B=new qr,R=0;R<_;R++)for(var M=R*b-S,C=0;C<w;C++){var O=C*v-x;B[e]=O*n,B[t]=M*i,B[r]=A,d.push(B.x,B.y,B.z),B[e]=0,B[t]=0,B[r]=s>0?1:-1,p.push(B.x,B.y,B.z),h.push(C/c),h.push(1-R/m),T+=1}for(var I=0;I<m;I++)for(var F=0;F<c;F++){var N=f+F+w*I,L=f+F+w*(I+1),P=f+(F+1)+w*(I+1),D=f+(F+1)+w*I;u.push(N,L,D),u.push(L,P,D),E+=6}l.addGroup(g,E,y),g+=E,f+=T}return m("z","y","x",-1,-1,o,i,n,c,s,0),m("z","y","x",1,-1,o,i,-n,c,s,1),m("x","z","y",1,1,n,o,i,a,c,2),m("x","z","y",1,-1,n,o,-i,a,c,3),m("x","y","z",1,-1,n,i,o,a,s,4),m("x","y","z",-1,-1,n,i,-o,a,s,5),e.setIndex(u),e.setAttribute("position",new Fi(d,3)),e.setAttribute("normal",new Fi(p,3)),e.setAttribute("uv",new Fi(h,2)),e}return r}(Wi);function bo(e){var t={};for(var r in e)for(var n in t[r]={},e[r]){var i=e[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[r][n]=i.clone():Array.isArray(i)?t[r][n]=i.slice():t[r][n]=i}return t}function xo(e){for(var t={},r=0;r<e.length;r++){var n=bo(e[r]);for(var i in n)t[i]=n[i]}return t}var So={clone:bo,merge:xo};function Ao(e){Si.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function wo(){_n.call(this),this.type="Camera",this.matrixWorldInverse=new an,this.projectionMatrix=new an,this.projectionMatrixInverse=new an}function _o(e,t,r,n){wo.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function To(e,t,r){if(_n.call(this),this.type="CubeCamera",!0===r.isWebGLCubeRenderTarget){this.renderTarget=r;var n=new _o(90,1,e,t);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new qr(1,0,0)),this.add(n);var i=new _o(90,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new qr(-1,0,0)),this.add(i);var o=new _o(90,1,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new qr(0,1,0)),this.add(o);var a=new _o(90,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new qr(0,-1,0)),this.add(a);var s=new _o(90,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new qr(0,0,1)),this.add(s);var c=new _o(90,1,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new qr(0,0,-1)),this.add(c),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var l=e.xr.enabled,u=e.getRenderTarget();e.xr.enabled=!1;var d=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,n),e.setRenderTarget(r,1),e.render(t,i),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,s),r.texture.generateMipmaps=d,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.xr.enabled=l},this.clear=function(e,t,n,i){for(var o=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(r,a),e.clear(t,n,i);e.setRenderTarget(o)}}else console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.")}function Eo(e,t,r){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r),Xr.call(this,e,e,t)}function Bo(e,t,r,n,i,o,a,s,c,l,u,d){Wr.call(this,null,o,a,s,c,l,n,i,u,d),this.image={data:e||null,width:t||1,height:r||1},this.magFilter=void 0!==c?c:ge,this.minFilter=void 0!==l?l:ge,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Ao.prototype=Object.create(Si.prototype),Ao.prototype.constructor=Ao,Ao.prototype.isShaderMaterial=!0,Ao.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=bo(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this},Ao.prototype.toJSON=function(e){var t=Si.prototype.toJSON.call(this,e);for(var r in t.uniforms={},this.uniforms){var n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},wo.prototype=Object.assign(Object.create(_n.prototype),{constructor:wo,isCamera:!0,copy:function(e,t){return _n.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new qr),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){_n.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){_n.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),_o.prototype=Object.assign(Object.create(wo.prototype),{constructor:_o,isPerspectiveCamera:!0,copy:function(e,t){return wo.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Gr.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Gr.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Gr.RAD2DEG*Math.atan(Math.tan(.5*Gr.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,r,n,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Gr.DEG2RAD*this.fov)/this.zoom,r=2*t,n=this.aspect*r,i=-.5*n,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*n/a,t-=o.offsetY*r/s,n*=o.width/a,r*=o.height/s}var c=this.filmOffset;0!==c&&(i+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+n,t,t-r,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=_n.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),To.prototype=Object.create(_n.prototype),To.prototype.constructor=To,Eo.prototype=Object.create(Xr.prototype),Eo.prototype.constructor=Eo,Eo.prototype.isWebGLCubeRenderTarget=!0,Eo.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=Ge,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var r=new Tn,n="\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",i="\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",o=new Ao({name:"CubemapFromEquirect",uniforms:bo({tEquirect:{value:null}}),vertexShader:n,fragmentShader:i,side:m,blending:x});o.uniforms.tEquirect.value=t;var a=new co(new vo(5,5,5),o);return r.add(a),new To(1,10,this).update(e,r),a.geometry.dispose(),a.material.dispose(),this},Bo.prototype=Object.create(Wr.prototype),Bo.prototype.constructor=Bo,Bo.prototype.isDataTexture=!0;var Ro=new kn,Mo=new qr;function Co(e,t,r,n,i,o){this.planes=[void 0!==e?e:new ei,void 0!==t?t:new ei,void 0!==r?r:new ei,void 0!==n?n:new ei,void 0!==i?i:new ei,void 0!==o?o:new ei]}Object.assign(Co.prototype,{set:function(e,t,r,n,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(n),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,r=0;r<6;r++)t[r].copy(e.planes[r]);return this},setFromProjectionMatrix:function(e){var t=this.planes,r=e.elements,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c=r[5],l=r[6],u=r[7],d=r[8],p=r[9],h=r[10],f=r[11],g=r[12],m=r[13],y=r[14],v=r[15];return t[0].setComponents(a-n,u-s,f-d,v-g).normalize(),t[1].setComponents(a+n,u+s,f+d,v+g).normalize(),t[2].setComponents(a+i,u+c,f+p,v+m).normalize(),t[3].setComponents(a-i,u-c,f-p,v-m).normalize(),t[4].setComponents(a-o,u-l,f-h,v-y).normalize(),t[5].setComponents(a+o,u+l,f+h,v+y).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Ro.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ro)},intersectsSprite:function(e){return Ro.center.set(0,0,0),Ro.radius=.7071067811865476,Ro.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ro)},intersectsSphere:function(e){for(var t=this.planes,r=e.center,n=-e.radius,i=0;i<6;i++)if(t[i].distanceToPoint(r)<n)return!1;return!0},intersectsBox:function(e){for(var t=this.planes,r=0;r<6;r++){var n=t[r];if(Mo.x=n.normal.x>0?e.max.x:e.min.x,Mo.y=n.normal.y>0?e.max.y:e.min.y,Mo.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(Mo)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}});var Oo={common:{diffuse:{value:new gi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new zr},uv2Transform:{value:new zr},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new jr(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new gi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new gi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new zr}},sprite:{diffuse:{value:new gi(15658734)},opacity:{value:1},center:{value:new jr(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new zr}}};function Io(){var e=null,t=!1,r=null,n=null;function i(t,o){r(t,o),n=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==r&&(n=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(e){r=e},setContext:function(t){e=t}}}function Fo(e,t){var r=t.isWebGL2,n=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),n.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var r=n.get(t);r&&(e.deleteBuffer(r.buffer),n.delete(t))},update:function(t,i){t.isInterleavedBufferAttribute&&(t=t.data);var o=n.get(t);void 0===o?n.set(t,function(t,r){var n=t.array,i=t.usage,o=e.createBuffer();e.bindBuffer(r,o),e.bufferData(r,n,i),t.onUploadCallback();var a=5126;return n instanceof Float32Array?a=5126:n instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):n instanceof Uint16Array?a=5123:n instanceof Int16Array?a=5122:n instanceof Uint32Array?a=5125:n instanceof Int32Array?a=5124:n instanceof Int8Array?a=5120:n instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:n.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(function(t,n,i){var o=n.array,a=n.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(r?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}(o.buffer,t,i),o.version=t.version)}}}function No(e,t,r,n){mo.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n},this.fromBufferGeometry(new Lo(e,t,r,n)),this.mergeVertices()}function Lo(e,t,r,n){Wi.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n};for(var i=(e=e||1)/2,o=(t=t||1)/2,a=Math.floor(r)||1,s=Math.floor(n)||1,c=a+1,l=s+1,u=e/a,d=t/s,p=[],h=[],f=[],g=[],m=0;m<l;m++)for(var y=m*d-o,v=0;v<c;v++){var b=v*u-i;h.push(b,-y,0),f.push(0,0,1),g.push(v/a),g.push(1-m/s)}for(var x=0;x<s;x++)for(var S=0;S<a;S++){var A=S+c*x,w=S+c*(x+1),_=S+1+c*(x+1),T=S+1+c*x;p.push(A,w,T),p.push(w,_,T)}this.setIndex(p),this.setAttribute("position",new Fi(h,3)),this.setAttribute("normal",new Fi(f,3)),this.setAttribute("uv",new Fi(g,2))}No.prototype=Object.create(mo.prototype),No.prototype.constructor=No,Lo.prototype=Object.create(Wi.prototype),Lo.prototype.constructor=Lo;var Po={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {\n      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {\n      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {\n      uv = vec2(direction.x, direction.y) / abs(direction.z);    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Do={basic:{uniforms:xo([Oo.common,Oo.specularmap,Oo.envmap,Oo.aomap,Oo.lightmap,Oo.fog]),vertexShader:Po.meshbasic_vert,fragmentShader:Po.meshbasic_frag},lambert:{uniforms:xo([Oo.common,Oo.specularmap,Oo.envmap,Oo.aomap,Oo.lightmap,Oo.emissivemap,Oo.fog,Oo.lights,{emissive:{value:new gi(0)}}]),vertexShader:Po.meshlambert_vert,fragmentShader:Po.meshlambert_frag},phong:{uniforms:xo([Oo.common,Oo.specularmap,Oo.envmap,Oo.aomap,Oo.lightmap,Oo.emissivemap,Oo.bumpmap,Oo.normalmap,Oo.displacementmap,Oo.fog,Oo.lights,{emissive:{value:new gi(0)},specular:{value:new gi(1118481)},shininess:{value:30}}]),vertexShader:Po.meshphong_vert,fragmentShader:Po.meshphong_frag},standard:{uniforms:xo([Oo.common,Oo.envmap,Oo.aomap,Oo.lightmap,Oo.emissivemap,Oo.bumpmap,Oo.normalmap,Oo.displacementmap,Oo.roughnessmap,Oo.metalnessmap,Oo.fog,Oo.lights,{emissive:{value:new gi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Po.meshphysical_vert,fragmentShader:Po.meshphysical_frag},toon:{uniforms:xo([Oo.common,Oo.aomap,Oo.lightmap,Oo.emissivemap,Oo.bumpmap,Oo.normalmap,Oo.displacementmap,Oo.gradientmap,Oo.fog,Oo.lights,{emissive:{value:new gi(0)}}]),vertexShader:Po.meshtoon_vert,fragmentShader:Po.meshtoon_frag},matcap:{uniforms:xo([Oo.common,Oo.bumpmap,Oo.normalmap,Oo.displacementmap,Oo.fog,{matcap:{value:null}}]),vertexShader:Po.meshmatcap_vert,fragmentShader:Po.meshmatcap_frag},points:{uniforms:xo([Oo.points,Oo.fog]),vertexShader:Po.points_vert,fragmentShader:Po.points_frag},dashed:{uniforms:xo([Oo.common,Oo.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Po.linedashed_vert,fragmentShader:Po.linedashed_frag},depth:{uniforms:xo([Oo.common,Oo.displacementmap]),vertexShader:Po.depth_vert,fragmentShader:Po.depth_frag},normal:{uniforms:xo([Oo.common,Oo.bumpmap,Oo.normalmap,Oo.displacementmap,{opacity:{value:1}}]),vertexShader:Po.normal_vert,fragmentShader:Po.normal_frag},sprite:{uniforms:xo([Oo.sprite,Oo.fog]),vertexShader:Po.sprite_vert,fragmentShader:Po.sprite_frag},background:{uniforms:{uvTransform:{value:new zr},t2D:{value:null}},vertexShader:Po.background_vert,fragmentShader:Po.background_frag},cube:{uniforms:xo([Oo.envmap,{opacity:{value:1}}]),vertexShader:Po.cube_vert,fragmentShader:Po.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Po.equirect_vert,fragmentShader:Po.equirect_frag},distanceRGBA:{uniforms:xo([Oo.common,Oo.displacementmap,{referencePosition:{value:new qr},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Po.distanceRGBA_vert,fragmentShader:Po.distanceRGBA_frag},shadow:{uniforms:xo([Oo.lights,Oo.fog,{color:{value:new gi(0)},opacity:{value:1}}]),vertexShader:Po.shadow_vert,fragmentShader:Po.shadow_frag}};function Uo(e,t,r,n){var i,o,a=new gi(0),s=0,c=null,l=0,u=null;function d(e,r){t.buffers.color.setClear(e.r,e.g,e.b,r,n)}return{getClearColor:function(){return a},setClearColor:function(e,t){a.set(e),d(a,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){d(a,s=e)},render:function(t,n,p,h){var f=!0===n.isScene?n.background:null,y=e.xr,v=y.getSession&&y.getSession();if(v&&"additive"===v.environmentBlendMode&&(f=null),null===f?d(a,s):f&&f.isColor&&(d(f,1),h=!0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),f&&(f.isCubeTexture||f.isWebGLCubeRenderTarget||f.mapping===ue)){void 0===o&&((o=new co(new vo(1,1,1),new Ao({name:"BackgroundCubeMaterial",uniforms:bo(Do.cube.uniforms),vertexShader:Do.cube.vertexShader,fragmentShader:Do.cube.fragmentShader,side:m,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,r){this.matrixWorld.copyPosition(r.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(o));var b=f.isWebGLCubeRenderTarget?f.texture:f;o.material.uniforms.envMap.value=b,o.material.uniforms.flipEnvMap.value=b.isCubeTexture?-1:1,c===f&&l===b.version&&u===e.toneMapping||(o.material.needsUpdate=!0,c=f,l=b.version,u=e.toneMapping),t.unshift(o,o.geometry,o.material,0,0,null)}else f&&f.isTexture&&(void 0===i&&((i=new co(new Lo(2,2),new Ao({name:"BackgroundMaterial",uniforms:bo(Do.background.uniforms),vertexShader:Do.background.vertexShader,fragmentShader:Do.background.fragmentShader,side:g,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(i)),i.material.uniforms.t2D.value=f,!0===f.matrixAutoUpdate&&f.updateMatrix(),i.material.uniforms.uvTransform.value.copy(f.matrix),c===f&&l===f.version&&u===e.toneMapping||(i.material.needsUpdate=!0,c=f,l=f.version,u=e.toneMapping),t.unshift(i,i.geometry,i.material,0,0,null))}}}function Go(e,t,r,n){var i=e.getParameter(34921),o=n.isWebGL2?null:t.get("OES_vertex_array_object"),a=n.isWebGL2||null!==o,s={},c=p(null),l=c;function u(t){return n.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function d(t){return n.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function p(e){for(var t=[],r=[],n=[],o=0;o<i;o++)t[o]=0,r[o]=0,n[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:n,object:e,attributes:{}}}function h(){for(var e=l.newAttributes,t=0,r=e.length;t<r;t++)e[t]=0}function f(e){g(e,0)}function g(r,i){var o=l.newAttributes,a=l.enabledAttributes,s=l.attributeDivisors;o[r]=1,0===a[r]&&(e.enableVertexAttribArray(r),a[r]=1),s[r]!==i&&((n.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](r,i),s[r]=i)}function m(){for(var t=l.newAttributes,r=l.enabledAttributes,n=0,i=r.length;n<i;n++)r[n]!==t[n]&&(e.disableVertexAttribArray(n),r[n]=0)}function y(t,r,i,o,a,s){!0!==n.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,r,i,o,a,s):e.vertexAttribIPointer(t,r,i,a,s)}function v(){b(),l!==c&&u((l=c).object)}function b(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function(i,c,d,v,b){var x=!1;if(a){var S=function(t,r,i){var a=!0===i.wireframe,c=s[t.id];void 0===c&&(c={},s[t.id]=c);var l=c[r.id];void 0===l&&(l={},c[r.id]=l);var u=l[a];return void 0===u&&(u=p(n.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),l[a]=u),u}(v,d,c);l!==S&&u((l=S).object),(x=function(e){var t=l.attributes,r=e.attributes;if(Object.keys(t).length!==Object.keys(r).length)return!0;for(var n in r){var i=t[n],o=r[n];if(i.attribute!==o)return!0;if(i.data!==o.data)return!0}return!1}(v))&&function(e){var t={},r=e.attributes;for(var n in r){var i=r[n],o={};o.attribute=i,i.data&&(o.data=i.data),t[n]=o}l.attributes=t}(v)}else{var A=!0===c.wireframe;l.geometry===v.id&&l.program===d.id&&l.wireframe===A||(l.geometry=v.id,l.program=d.id,l.wireframe=A,x=!0)}!0===i.isInstancedMesh&&(x=!0),null!==b&&r.update(b,34963),x&&(function(i,o,a,s){if(!1!==n.isWebGL2||!i.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==t.get("ANGLE_instanced_arrays")){h();var c=s.attributes,l=a.getAttributes(),u=o.defaultAttributeValues;for(var d in l){var p=l[d];if(p>=0){var v=c[d];if(void 0!==v){var b=v.normalized,x=v.itemSize,S=r.get(v);if(void 0===S)continue;var A=S.buffer,w=S.type,_=S.bytesPerElement;if(v.isInterleavedBufferAttribute){var T=v.data,E=T.stride,B=v.offset;T&&T.isInstancedInterleavedBuffer?(g(p,T.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=T.meshPerAttribute*T.count)):f(p),e.bindBuffer(34962,A),y(p,x,w,b,E*_,B*_)}else v.isInstancedBufferAttribute?(g(p,v.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=v.meshPerAttribute*v.count)):f(p),e.bindBuffer(34962,A),y(p,x,w,b,0,0)}else if("instanceMatrix"===d){var R=r.get(i.instanceMatrix);if(void 0===R)continue;var M=R.buffer,C=R.type;g(p+0,1),g(p+1,1),g(p+2,1),g(p+3,1),e.bindBuffer(34962,M),e.vertexAttribPointer(p+0,4,C,!1,64,0),e.vertexAttribPointer(p+1,4,C,!1,64,16),e.vertexAttribPointer(p+2,4,C,!1,64,32),e.vertexAttribPointer(p+3,4,C,!1,64,48)}else if(void 0!==u){var O=u[d];if(void 0!==O)switch(O.length){case 2:e.vertexAttrib2fv(p,O);break;case 3:e.vertexAttrib3fv(p,O);break;case 4:e.vertexAttrib4fv(p,O);break;default:e.vertexAttrib1fv(p,O)}}}}m()}}(i,c,d,v),null!==b&&e.bindBuffer(34963,r.get(b).buffer))},reset:v,resetDefaultState:b,dispose:function(){for(var e in v(),s){var t=s[e];for(var r in t){var n=t[r];for(var i in n)d(n[i].object),delete n[i];delete t[r]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var r in t){var n=t[r];for(var i in n)d(n[i].object),delete n[i];delete t[r]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var r=s[t];if(void 0!==r[e.id]){var n=r[e.id];for(var i in n)d(n[i].object),delete n[i];delete r[e.id]}}},initAttributes:h,enableAttribute:f,disableUnusedAttributes:m}}function jo(e,t,r,n){var i,o=n.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,n){e.drawArrays(i,t,n),r.update(n,i,1)},this.renderInstances=function(n,a,s){if(0!==s){var c,l;if(o)c=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[l](i,n,a,s),r.update(a,i,s)}}}function zo(e,t,r){var n;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,a=void 0!==r.precision?r.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var c=!0===r.logarithmicDepthBuffer,l=e.getParameter(34930),u=e.getParameter(35660),d=e.getParameter(3379),p=e.getParameter(34076),h=e.getParameter(34921),f=e.getParameter(36347),g=e.getParameter(36348),m=e.getParameter(36349),y=u>0,v=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==n)return n;var r=t.get("EXT_texture_filter_anisotropic");return n=null!==r?e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:u,maxTextureSize:d,maxCubemapSize:p,maxAttributes:h,maxVertexUniforms:f,maxVaryings:g,maxFragmentUniforms:m,vertexTextures:y,floatFragmentTextures:v,floatVertexTextures:y&&v,maxSamples:o?e.getParameter(36183):0}}function ko(){var e=this,t=null,r=0,n=!1,i=!1,o=new ei,a=new zr,s={value:null,needsUpdate:!1};function c(){s.value!==t&&(s.value=t,s.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function l(t,r,n,i){var c=null!==t?t.length:0,l=null;if(0!==c){if(l=s.value,!0!==i||null===l){var u=n+4*c,d=r.matrixWorldInverse;a.getNormalMatrix(d),(null===l||l.length<u)&&(l=new Float32Array(u));for(var p=0,h=n;p!==c;++p,h+=4)o.copy(t[p]).applyMatrix4(d,a),o.normal.toArray(l,h),l[h+3]=o.constant}s.value=l,s.needsUpdate=!0}return e.numPlanes=c,e.numIntersection=0,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,o){var a=0!==e.length||i||0!==r||n;return n=i,t=l(e,o,0),r=e.length,a},this.beginShadows=function(){i=!0,l(null)},this.endShadows=function(){i=!1,c()},this.setState=function(e,o,a,u,d,p){if(!n||null===e||0===e.length||i&&!a)i?l(null):c();else{var h=i?0:r,f=4*h,g=d.clippingState||null;s.value=g,g=l(e,u,f,p);for(var m=0;m!==f;++m)g[m]=t[m];d.clippingState=g,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=h}}}function Vo(e){var t={};return{has:function(r){if(void 0!==t[r])return t[r];var n;switch(r){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(r)}return t[r]=n,!!n},get:function(e){return this.has(e)||console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t[e]}}}function Wo(e,t,r,n){var i=new WeakMap,o=new WeakMap;function a(e){var s=e.target,c=i.get(s);for(var l in null!==c.index&&t.remove(c.index),c.attributes)t.remove(c.attributes[l]);s.removeEventListener("dispose",a),i.delete(s);var u=o.get(c);u&&(t.remove(u),o.delete(c)),n.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,r.memory.geometries--}function s(e){var r=[],n=e.index,i=e.attributes.position,a=0;if(null!==n){var s=n.array;a=n.version;for(var c=0,l=s.length;c<l;c+=3){var u=s[c+0],d=s[c+1],p=s[c+2];r.push(u,d,d,p,p,u)}}else{var h=i.array;a=i.version;for(var f=0,g=h.length/3-1;f<g;f+=3){var m=f+0,y=f+1,v=f+2;r.push(m,y,y,v,v,m)}}var b=new(Pi(r)>65535?Ii:Ci)(r,1);b.version=a;var x=o.get(e);x&&t.remove(x),o.set(e,b)}return{get:function(e,t){var n=i.get(t);return n||(t.addEventListener("dispose",a),t.isBufferGeometry?n=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Wi).setFromObject(e)),n=t._bufferGeometry),i.set(t,n),r.memory.geometries++,n)},update:function(e){var r=e.attributes;for(var n in r)t.update(r[n],34962);var i=e.morphAttributes;for(var o in i)for(var a=i[o],s=0,c=a.length;s<c;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var t=o.get(e);if(t){var r=e.index;null!==r&&t.version<r.version&&s(e)}else s(e);return o.get(e)}}}function Ho(e,t,r,n){var i,o,a,s=n.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,n){e.drawElements(i,n,o,t*a),r.update(n,i,1)},this.renderInstances=function(n,c,l){if(0!==l){var u,d;if(s)u=e,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[d](i,c,o,n*a,l),r.update(c,i,l)}}}function Xo(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,r,n){switch(t.calls++,r){case 4:t.triangles+=n*(e/3);break;case 1:t.lines+=n*(e/2);break;case 3:t.lines+=n*(e-1);break;case 2:t.lines+=n*e;break;case 0:t.points+=n*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function Qo(e,t){return e[0]-t[0]}function Zo(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Yo(e){for(var t={},r=new Float32Array(8),n=[],i=0;i<8;i++)n[i]=[i,0];return{update:function(i,o,a,s){var c=i.morphTargetInfluences,l=void 0===c?0:c.length,u=t[o.id];if(void 0===u){u=[];for(var d=0;d<l;d++)u[d]=[d,0];t[o.id]=u}for(var p=0;p<l;p++){var h=u[p];h[0]=p,h[1]=c[p]}u.sort(Zo);for(var f=0;f<8;f++)f<l&&u[f][1]?(n[f][0]=u[f][0],n[f][1]=u[f][1]):(n[f][0]=Number.MAX_SAFE_INTEGER,n[f][1]=0);n.sort(Qo);for(var g=a.morphTargets&&o.morphAttributes.position,m=a.morphNormals&&o.morphAttributes.normal,y=0,v=0;v<8;v++){var b=n[v],x=b[0],S=b[1];x!==Number.MAX_SAFE_INTEGER&&S?(g&&o.getAttribute("morphTarget"+v)!==g[x]&&o.setAttribute("morphTarget"+v,g[x]),m&&o.getAttribute("morphNormal"+v)!==m[x]&&o.setAttribute("morphNormal"+v,m[x]),r[v]=S,y+=S):(g&&void 0!==o.getAttribute("morphTarget"+v)&&o.deleteAttribute("morphTarget"+v),m&&void 0!==o.getAttribute("morphNormal"+v)&&o.deleteAttribute("morphNormal"+v),r[v]=0)}var A=o.morphTargetsRelative?1:1-y;s.getUniforms().setValue(e,"morphTargetBaseInfluence",A),s.getUniforms().setValue(e,"morphTargetInfluences",r)}}}function Jo(e,t,r,n){var i=new WeakMap;return{update:function(e){var o=n.render.frame,a=e.geometry,s=t.get(e,a);return i.get(s)!==o&&(a.isGeometry&&s.updateFromObject(e),t.update(s),i.set(s,o)),e.isInstancedMesh&&r.update(e.instanceMatrix,34962),s},dispose:function(){i=new WeakMap}}}function qo(e,t,r,n,i,o,a,s,c,l){e=void 0!==e?e:[],t=void 0!==t?t:ae,a=void 0!==a?a:Ue,Wr.call(this,e,t,r,n,i,o,a,s,c,l),this.flipY=!1}function Ko(e,t,r,n){Wr.call(this,null),this.image={data:e||null,width:t||1,height:r||1,depth:n||1},this.magFilter=ge,this.minFilter=ge,this.wrapR=he,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function $o(e,t,r,n){Wr.call(this,null),this.image={data:e||null,width:t||1,height:r||1,depth:n||1},this.magFilter=ge,this.minFilter=ge,this.wrapR=he,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Do.physical={uniforms:xo([Do.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new jr(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new gi(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Po.meshphysical_vert,fragmentShader:Po.meshphysical_frag},qo.prototype=Object.create(Wr.prototype),qo.prototype.constructor=qo,qo.prototype.isCubeTexture=!0,Object.defineProperty(qo.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),Ko.prototype=Object.create(Wr.prototype),Ko.prototype.constructor=Ko,Ko.prototype.isDataTexture2DArray=!0,$o.prototype=Object.create(Wr.prototype),$o.prototype.constructor=$o,$o.prototype.isDataTexture3D=!0;var ea=new Wr,ta=new Ko,ra=new $o,na=new qo,ia=[],oa=[],aa=new Float32Array(16),sa=new Float32Array(9),ca=new Float32Array(4);function la(e,t,r){var n=e[0];if(n<=0||n>0)return e;var i=t*r,o=ia[i];if(void 0===o&&(o=new Float32Array(i),ia[i]=o),0!==t){n.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=r,e[a].toArray(o,s)}return o}function ua(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function da(e,t){for(var r=0,n=t.length;r<n;r++)e[r]=t[r]}function pa(e,t){var r=oa[t];void 0===r&&(r=new Int32Array(t),oa[t]=r);for(var n=0;n!==t;++n)r[n]=e.allocateTextureUnit();return r}function ha(e,t){var r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function fa(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(ua(r,t))return;e.uniform2fv(this.addr,t),da(r,t)}}function ga(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(void 0!==t.r)r[0]===t.r&&r[1]===t.g&&r[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(ua(r,t))return;e.uniform3fv(this.addr,t),da(r,t)}}function ma(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z&&r[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(ua(r,t))return;e.uniform4fv(this.addr,t),da(r,t)}}function ya(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(ua(r,t))return;e.uniformMatrix2fv(this.addr,!1,t),da(r,t)}else{if(ua(r,n))return;ca.set(n),e.uniformMatrix2fv(this.addr,!1,ca),da(r,n)}}function va(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(ua(r,t))return;e.uniformMatrix3fv(this.addr,!1,t),da(r,t)}else{if(ua(r,n))return;sa.set(n),e.uniformMatrix3fv(this.addr,!1,sa),da(r,n)}}function ba(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(ua(r,t))return;e.uniformMatrix4fv(this.addr,!1,t),da(r,t)}else{if(ua(r,n))return;aa.set(n),e.uniformMatrix4fv(this.addr,!1,aa),da(r,n)}}function xa(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTexture2D(t||ea,i)}function Sa(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2DArray(t||ta,i)}function Aa(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture3D(t||ra,i)}function wa(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTextureCube(t||na,i)}function _a(e,t){var r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function Ta(e,t){var r=this.cache;ua(r,t)||(e.uniform2iv(this.addr,t),da(r,t))}function Ea(e,t){var r=this.cache;ua(r,t)||(e.uniform3iv(this.addr,t),da(r,t))}function Ba(e,t){var r=this.cache;ua(r,t)||(e.uniform4iv(this.addr,t),da(r,t))}function Ra(e,t){var r=this.cache;r[0]!==t&&(e.uniform1ui(this.addr,t),r[0]=t)}function Ma(e,t){e.uniform1fv(this.addr,t)}function Ca(e,t){e.uniform1iv(this.addr,t)}function Oa(e,t){e.uniform2iv(this.addr,t)}function Ia(e,t){e.uniform3iv(this.addr,t)}function Fa(e,t){e.uniform4iv(this.addr,t)}function Na(e,t){var r=la(t,this.size,2);e.uniform2fv(this.addr,r)}function La(e,t){var r=la(t,this.size,3);e.uniform3fv(this.addr,r)}function Pa(e,t){var r=la(t,this.size,4);e.uniform4fv(this.addr,r)}function Da(e,t){var r=la(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,r)}function Ua(e,t){var r=la(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,r)}function Ga(e,t){var r=la(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,r)}function ja(e,t,r){var n=t.length,i=pa(r,n);e.uniform1iv(this.addr,i);for(var o=0;o!==n;++o)r.safeSetTexture2D(t[o]||ea,i[o])}function za(e,t,r){var n=t.length,i=pa(r,n);e.uniform1iv(this.addr,i);for(var o=0;o!==n;++o)r.safeSetTextureCube(t[o]||na,i[o])}function ka(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return ha;case 35664:return fa;case 35665:return ga;case 35666:return ma;case 35674:return ya;case 35675:return va;case 35676:return ba;case 5124:case 35670:return _a;case 35667:case 35671:return Ta;case 35668:case 35672:return Ea;case 35669:case 35673:return Ba;case 5125:return Ra;case 35678:case 36198:case 36298:case 36306:case 35682:return xa;case 35679:case 36299:case 36307:return Aa;case 35680:case 36300:case 36308:case 36293:return wa;case 36289:case 36303:case 36311:case 36292:return Sa}}(t.type)}function Va(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Ma;case 35664:return Na;case 35665:return La;case 35666:return Pa;case 35674:return Da;case 35675:return Ua;case 35676:return Ga;case 5124:case 35670:return Ca;case 35667:case 35671:return Oa;case 35668:case 35672:return Ia;case 35669:case 35673:return Fa;case 35678:case 36198:case 36298:case 36306:case 35682:return ja;case 35680:case 36300:case 36308:case 36293:return za}}(t.type)}function Wa(e){this.id=e,this.seq=[],this.map={}}Va.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),da(t,e)},Wa.prototype.setValue=function(e,t,r){for(var n=this.seq,i=0,o=n.length;i!==o;++i){var a=n[i];a.setValue(e,t[a.id],r)}};var Ha=/([\w\d_]+)(\])?(\[|\.)?/g;function Xa(e,t){e.seq.push(t),e.map[t.id]=t}function Qa(e,t,r){var n=e.name,i=n.length;for(Ha.lastIndex=0;;){var o=Ha.exec(n),a=Ha.lastIndex,s=o[1],c="]"===o[2],l=o[3];if(c&&(s|=0),void 0===l||"["===l&&a+2===i){Xa(r,void 0===l?new ka(s,e,t):new Va(s,e,t));break}var u=r.map[s];void 0===u&&Xa(r,u=new Wa(s)),r=u}}function Za(e,t){this.seq=[],this.map={};for(var r=e.getProgramParameter(t,35718),n=0;n<r;++n){var i=e.getActiveUniform(t,n);Qa(i,e.getUniformLocation(t,i.name),this)}}function Ya(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}Za.prototype.setValue=function(e,t,r,n){var i=this.map[t];void 0!==i&&i.setValue(e,r,n)},Za.prototype.setOptional=function(e,t,r){var n=t[r];void 0!==n&&this.setValue(e,r,n)},Za.upload=function(e,t,r,n){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=r[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,n)}},Za.seqWithValue=function(e,t){for(var r=[],n=0,i=e.length;n!==i;++n){var o=e[n];o.id in t&&r.push(o)}return r};var Ja=0;function qa(e){switch(e){case qt:return["Linear","( value )"];case Kt:return["sRGB","( value )"];case er:return["RGBE","( value )"];case rr:return["RGBM","( value, 7.0 )"];case nr:return["RGBM","( value, 16.0 )"];case ir:return["RGBD","( value, 256.0 )"];case $t:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case tr:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Ka(e,t,r){var n=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return n&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+r+"\n"+i+function(e){for(var t=e.split("\n"),r=0;r<t.length;r++)t[r]=r+1+": "+t[r];return t.join("\n")}(e.getShaderSource(t))}function $a(e,t){var r=qa(t);return"vec4 "+e+"( vec4 value ) { return "+r[0]+"ToLinear"+r[1]+"; }"}function es(e,t){var r=qa(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function ts(e,t){var r;switch(t){case ee:r="Linear";break;case te:r="Reinhard";break;case re:r="OptimizedCineon";break;case ne:r="ACESFilmic";break;case ie:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),r="Linear"}return"vec3 "+e+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function rs(e){return""!==e}function ns(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function is(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var os=/^[ \t]*#include +<([\w\d./]+)>/gm;function as(e){return e.replace(os,ss)}function ss(e,t){var r=Po[t];if(void 0===r)throw new Error("Can not resolve #include <"+t+">");return as(r)}var cs=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,ls=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function us(e){return e.replace(ls,ps).replace(cs,ds)}function ds(e,t,r,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),ps(0,t,r,n)}function ps(e,t,r,n){for(var i="",o=parseInt(t);o<parseInt(r);o++)i+=n.replace(/\[ i \]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function hs(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function fs(e,t,r,n){var i,o,a=e.getContext(),s=r.defines,c=r.vertexShader,l=r.fragmentShader,u=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===p?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===h?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===f&&(t="SHADOWMAP_TYPE_VSM"),t}(r),d=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case ae:case se:t="ENVMAP_TYPE_CUBE";break;case ue:case de:t="ENVMAP_TYPE_CUBE_UV";break;case ce:case le:t="ENVMAP_TYPE_EQUIREC"}return t}(r),g=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case se:case le:case de:t="ENVMAP_MODE_REFRACTION"}return t}(r),m=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case J:t="ENVMAP_BLENDING_MULTIPLY";break;case q:t="ENVMAP_BLENDING_MIX";break;case K:t="ENVMAP_BLENDING_ADD"}return t}(r),y=e.gammaFactor>0?e.gammaFactor:1,v=r.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(rs).join("\n")}(r),b=function(e){var t=[];for(var r in e){var n=e[r];!1!==n&&t.push("#define "+r+" "+n)}return t.join("\n")}(s),x=a.createProgram();r.isRawShaderMaterial?((i=[b].filter(rs).join("\n")).length>0&&(i+="\n"),(o=[v,b].filter(rs).join("\n")).length>0&&(o+="\n")):(i=[hs(r),"#define SHADER_NAME "+r.shaderName,b,r.instancing?"#define USE_INSTANCING":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+y,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+g:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(rs).join("\n"),o=[v,hs(r),"#define SHADER_NAME "+r.shaderName,b,r.alphaTest?"#define ALPHATEST "+r.alphaTest+(r.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+y,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+d:"",r.envMap?"#define "+g:"",r.envMap?"#define "+m:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.sheen?"#define USE_SHEEN":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==$?"#define TONE_MAPPING":"",r.toneMapping!==$?Po.tonemapping_pars_fragment:"",r.toneMapping!==$?ts("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",Po.encodings_pars_fragment,r.map?$a("mapTexelToLinear",r.mapEncoding):"",r.matcap?$a("matcapTexelToLinear",r.matcapEncoding):"",r.envMap?$a("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMap?$a("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.lightMap?$a("lightMapTexelToLinear",r.lightMapEncoding):"",es("linearToOutputTexel",r.outputEncoding),r.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(rs).join("\n")),c=is(c=ns(c=as(c),r),r),l=is(l=ns(l=as(l),r),r),c=us(c),l=us(l),r.isWebGL2&&!r.isRawShaderMaterial&&(i=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,o=["#version 300 es\n","#define varying in","out highp vec4 pc_fragColor;","#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+o);var S,A,w=o+l,_=Ya(a,35633,i+c),T=Ya(a,35632,w);if(a.attachShader(x,_),a.attachShader(x,T),void 0!==r.index0AttributeName?a.bindAttribLocation(x,0,r.index0AttributeName):!0===r.morphTargets&&a.bindAttribLocation(x,0,"position"),a.linkProgram(x),e.debug.checkShaderErrors){var E=a.getProgramInfoLog(x).trim(),B=a.getShaderInfoLog(_).trim(),R=a.getShaderInfoLog(T).trim(),M=!0,C=!0;if(!1===a.getProgramParameter(x,35714)){M=!1;var O=Ka(a,_,"vertex"),I=Ka(a,T,"fragment");console.error("THREE.WebGLProgram: shader error: ",a.getError(),"35715",a.getProgramParameter(x,35715),"gl.getProgramInfoLog",E,O,I)}else""!==E?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",E):""!==B&&""!==R||(C=!1);C&&(this.diagnostics={runnable:M,programLog:E,vertexShader:{log:B,prefix:i},fragmentShader:{log:R,prefix:o}})}return a.deleteShader(_),a.deleteShader(T),this.getUniforms=function(){return void 0===S&&(S=new Za(a,x)),S},this.getAttributes=function(){return void 0===A&&(A=function(e,t){for(var r={},n=e.getProgramParameter(t,35721),i=0;i<n;i++){var o=e.getActiveAttrib(t,i).name;r[o]=e.getAttribLocation(t,o)}return r}(a,x)),A},this.destroy=function(){n.releaseStatesOfProgram(this),a.deleteProgram(x),this.program=void 0},this.name=r.shaderName,this.id=Ja++,this.cacheKey=t,this.usedTimes=1,this.program=x,this.vertexShader=_,this.fragmentShader=T,this}function gs(e,t,r,n){var i=[],o=r.isWebGL2,a=r.logarithmicDepthBuffer,s=r.floatVertexTextures,c=r.maxVertexUniforms,l=r.vertexTextures,u=r.precision,d={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function h(e){var t;return e?e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=qt,t}return{getParameters:function(n,i,p,f,g,v,b){var x,S,A=f.fog,w=n.isMeshStandardMaterial?f.environment:null,_=n.envMap||w,T=d[n.type],E=b.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(s)return 1024;var r=c,n=Math.floor((r-20)/4),i=Math.min(n,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(b):0;if(null!==n.precision&&(u=r.getMaxPrecision(n.precision))!==n.precision&&console.warn("THREE.WebGLProgram.getParameters:",n.precision,"not supported, using",u,"instead."),T){var B=Do[T];x=B.vertexShader,S=B.fragmentShader}else x=n.vertexShader,S=n.fragmentShader;var R=e.getRenderTarget();return{isWebGL2:o,shaderID:T,shaderName:n.type,vertexShader:x,fragmentShader:S,defines:n.defines,isRawShaderMaterial:n.isRawShaderMaterial,isShaderMaterial:n.isShaderMaterial,precision:u,instancing:!0===b.isInstancedMesh,supportsVertexTextures:l,outputEncoding:null!==R?h(R.texture):e.outputEncoding,map:!!n.map,mapEncoding:h(n.map),matcap:!!n.matcap,matcapEncoding:h(n.matcap),envMap:!!_,envMapMode:_&&_.mapping,envMapEncoding:h(_),envMapCubeUV:!!_&&(_.mapping===ue||_.mapping===de),lightMap:!!n.lightMap,lightMapEncoding:h(n.lightMap),aoMap:!!n.aoMap,emissiveMap:!!n.emissiveMap,emissiveMapEncoding:h(n.emissiveMap),bumpMap:!!n.bumpMap,normalMap:!!n.normalMap,objectSpaceNormalMap:n.normalMapType===cr,tangentSpaceNormalMap:n.normalMapType===sr,clearcoatMap:!!n.clearcoatMap,clearcoatRoughnessMap:!!n.clearcoatRoughnessMap,clearcoatNormalMap:!!n.clearcoatNormalMap,displacementMap:!!n.displacementMap,roughnessMap:!!n.roughnessMap,metalnessMap:!!n.metalnessMap,specularMap:!!n.specularMap,alphaMap:!!n.alphaMap,gradientMap:!!n.gradientMap,sheen:!!n.sheen,transmissionMap:!!n.transmissionMap,combine:n.combine,vertexTangents:n.normalMap&&n.vertexTangents,vertexColors:n.vertexColors,vertexUvs:!!(n.map||n.bumpMap||n.normalMap||n.specularMap||n.alphaMap||n.emissiveMap||n.roughnessMap||n.metalnessMap||n.clearcoatMap||n.clearcoatRoughnessMap||n.clearcoatNormalMap||n.displacementMap||n.transmissionMap),uvsVertexOnly:!(n.map||n.bumpMap||n.normalMap||n.specularMap||n.alphaMap||n.emissiveMap||n.roughnessMap||n.metalnessMap||n.clearcoatNormalMap||n.transmissionMap||!n.displacementMap),fog:!!A,useFog:n.fog,fogExp2:A&&A.isFogExp2,flatShading:n.flatShading,sizeAttenuation:n.sizeAttenuation,logarithmicDepthBuffer:a,skinning:n.skinning&&E>0,maxBones:E,useVertexTexture:s,morphTargets:n.morphTargets,morphNormals:n.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numDirLightShadows:i.directionalShadowMap.length,numPointLightShadows:i.pointShadowMap.length,numSpotLightShadows:i.spotShadowMap.length,numClippingPlanes:g,numClipIntersection:v,dithering:n.dithering,shadowMapEnabled:e.shadowMap.enabled&&p.length>0,shadowMapType:e.shadowMap.type,toneMapping:n.toneMapped?e.toneMapping:$,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:n.premultipliedAlpha,alphaTest:n.alphaTest,doubleSided:n.side===y,flipSided:n.side===m,depthPacking:void 0!==n.depthPacking&&n.depthPacking,index0AttributeName:n.index0AttributeName,extensionDerivatives:n.extensions&&n.extensions.derivatives,extensionFragDepth:n.extensions&&n.extensions.fragDepth,extensionDrawBuffers:n.extensions&&n.extensions.drawBuffers,extensionShaderTextureLOD:n.extensions&&n.extensions.shaderTextureLOD,rendererExtensionFragDepth:o||null!==t.get("EXT_frag_depth"),rendererExtensionDrawBuffers:o||null!==t.get("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:o||null!==t.get("EXT_shader_texture_lod"),customProgramCacheKey:n.customProgramCacheKey()}},getProgramCacheKey:function(t){var r=[];if(t.shaderID?r.push(t.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)r.push(n),r.push(t.defines[n]);if(void 0===t.isRawShaderMaterial){for(var i=0;i<p.length;i++)r.push(t[p[i]]);r.push(e.outputEncoding),r.push(e.gammaFactor)}return r.push(t.customProgramCacheKey),r.join()},getUniforms:function(e){var t,r=d[e.type];if(r){var n=Do[r];t=So.clone(n.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,r){for(var o,a=0,s=i.length;a<s;a++){var c=i[a];if(c.cacheKey===r){++(o=c).usedTimes;break}}return void 0===o&&(o=new fs(e,r,t,n),i.push(o)),o},releaseProgram:function(e){if(0==--e.usedTimes){var t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}},programs:i}}function ms(){var e=new WeakMap;return{get:function(t){var r=e.get(t);return void 0===r&&(r={},e.set(t,r)),r},remove:function(t){e.delete(t)},update:function(t,r,n){e.get(t)[r]=n},dispose:function(){e=new WeakMap}}}function ys(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function vs(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function bs(e){var t=[],r=0,n=[],i=[],o={id:-1};function a(n,i,a,s,c,l){var u=t[r],d=e.get(a);return void 0===u?(u={id:n.id,object:n,geometry:i,material:a,program:d.program||o,groupOrder:s,renderOrder:n.renderOrder,z:c,group:l},t[r]=u):(u.id=n.id,u.object=n,u.geometry=i,u.material=a,u.program=d.program||o,u.groupOrder=s,u.renderOrder=n.renderOrder,u.z=c,u.group=l),r++,u}return{opaque:n,transparent:i,init:function(){r=0,n.length=0,i.length=0},push:function(e,t,r,o,s,c){var l=a(e,t,r,o,s,c);(!0===r.transparent?i:n).push(l)},unshift:function(e,t,r,o,s,c){var l=a(e,t,r,o,s,c);(!0===r.transparent?i:n).unshift(l)},finish:function(){for(var e=r,n=t.length;e<n;e++){var i=t[e];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.program=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||ys),i.length>1&&i.sort(t||vs)}}}function xs(e){var t=new WeakMap;function r(e){var n=e.target;n.removeEventListener("dispose",r),t.delete(n)}return{get:function(n,i){var o,a=t.get(n);return void 0===a?(o=new bs(e),t.set(n,new WeakMap),t.get(n).set(i,o),n.addEventListener("dispose",r)):void 0===(o=a.get(i))&&(o=new bs(e),a.set(i,o)),o},dispose:function(){t=new WeakMap}}}function Ss(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var r;switch(t.type){case"DirectionalLight":r={direction:new qr,color:new gi};break;case"SpotLight":r={position:new qr,direction:new qr,color:new gi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new qr,color:new gi,distance:0,decay:0};break;case"HemisphereLight":r={direction:new qr,skyColor:new gi,groundColor:new gi};break;case"RectAreaLight":r={color:new gi,position:new qr,halfWidth:new qr,halfHeight:new qr}}return e[t.id]=r,r}}}var As=0;function ws(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function _s(){for(var e=new Ss,t=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var r;switch(t.type){case"DirectionalLight":case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new jr};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new jr,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=r,r}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=0;n<9;n++)r.probe.push(new qr);var i=new qr,o=new an,a=new an;return{setup:function(n,s,c){for(var l=0,u=0,d=0,p=0;p<9;p++)r.probe[p].set(0,0,0);var h=0,f=0,g=0,m=0,y=0,v=0,b=0,x=0,S=c.matrixWorldInverse;n.sort(ws);for(var A=0,w=n.length;A<w;A++){var _=n[A],T=_.color,E=_.intensity,B=_.distance,R=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)l+=T.r*E,u+=T.g*E,d+=T.b*E;else if(_.isLightProbe)for(var M=0;M<9;M++)r.probe[M].addScaledVector(_.sh.coefficients[M],E);else if(_.isDirectionalLight){var C=e.get(_);if(C.color.copy(_.color).multiplyScalar(_.intensity),C.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),C.direction.sub(i),C.direction.transformDirection(S),_.castShadow){var O=_.shadow,I=t.get(_);I.shadowBias=O.bias,I.shadowNormalBias=O.normalBias,I.shadowRadius=O.radius,I.shadowMapSize=O.mapSize,r.directionalShadow[h]=I,r.directionalShadowMap[h]=R,r.directionalShadowMatrix[h]=_.shadow.matrix,v++}r.directional[h]=C,h++}else if(_.isSpotLight){var F=e.get(_);if(F.position.setFromMatrixPosition(_.matrixWorld),F.position.applyMatrix4(S),F.color.copy(T).multiplyScalar(E),F.distance=B,F.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),F.direction.sub(i),F.direction.transformDirection(S),F.coneCos=Math.cos(_.angle),F.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),F.decay=_.decay,_.castShadow){var N=_.shadow,L=t.get(_);L.shadowBias=N.bias,L.shadowNormalBias=N.normalBias,L.shadowRadius=N.radius,L.shadowMapSize=N.mapSize,r.spotShadow[g]=L,r.spotShadowMap[g]=R,r.spotShadowMatrix[g]=_.shadow.matrix,x++}r.spot[g]=F,g++}else if(_.isRectAreaLight){var P=e.get(_);P.color.copy(T).multiplyScalar(E),P.position.setFromMatrixPosition(_.matrixWorld),P.position.applyMatrix4(S),a.identity(),o.copy(_.matrixWorld),o.premultiply(S),a.extractRotation(o),P.halfWidth.set(.5*_.width,0,0),P.halfHeight.set(0,.5*_.height,0),P.halfWidth.applyMatrix4(a),P.halfHeight.applyMatrix4(a),r.rectArea[m]=P,m++}else if(_.isPointLight){var D=e.get(_);if(D.position.setFromMatrixPosition(_.matrixWorld),D.position.applyMatrix4(S),D.color.copy(_.color).multiplyScalar(_.intensity),D.distance=_.distance,D.decay=_.decay,_.castShadow){var U=_.shadow,G=t.get(_);G.shadowBias=U.bias,G.shadowNormalBias=U.normalBias,G.shadowRadius=U.radius,G.shadowMapSize=U.mapSize,G.shadowCameraNear=U.camera.near,G.shadowCameraFar=U.camera.far,r.pointShadow[f]=G,r.pointShadowMap[f]=R,r.pointShadowMatrix[f]=_.shadow.matrix,b++}r.point[f]=D,f++}else if(_.isHemisphereLight){var j=e.get(_);j.direction.setFromMatrixPosition(_.matrixWorld),j.direction.transformDirection(S),j.direction.normalize(),j.skyColor.copy(_.color).multiplyScalar(E),j.groundColor.copy(_.groundColor).multiplyScalar(E),r.hemi[y]=j,y++}}r.ambient[0]=l,r.ambient[1]=u,r.ambient[2]=d;var z=r.hash;z.directionalLength===h&&z.pointLength===f&&z.spotLength===g&&z.rectAreaLength===m&&z.hemiLength===y&&z.numDirectionalShadows===v&&z.numPointShadows===b&&z.numSpotShadows===x||(r.directional.length=h,r.spot.length=g,r.rectArea.length=m,r.point.length=f,r.hemi.length=y,r.directionalShadow.length=v,r.directionalShadowMap.length=v,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=x,r.spotShadowMap.length=x,r.directionalShadowMatrix.length=v,r.pointShadowMatrix.length=b,r.spotShadowMatrix.length=x,z.directionalLength=h,z.pointLength=f,z.spotLength=g,z.rectAreaLength=m,z.hemiLength=y,z.numDirectionalShadows=v,z.numPointShadows=b,z.numSpotShadows=x,r.version=As++)},state:r}}function Ts(){var e=new _s,t=[],r=[];return{init:function(){t.length=0,r.length=0},state:{lightsArray:t,shadowsArray:r,lights:e},setupLights:function(n){e.setup(t,r,n)},pushLight:function(e){t.push(e)},pushShadow:function(e){r.push(e)}}}function Es(){var e=new WeakMap;function t(r){var n=r.target;n.removeEventListener("dispose",t),e.delete(n)}return{get:function(r,n){var i;return!1===e.has(r)?(i=new Ts,e.set(r,new WeakMap),e.get(r).set(n,i),r.addEventListener("dispose",t)):!1===e.get(r).has(n)?(i=new Ts,e.get(r).set(n,i)):i=e.get(r).get(n),i},dispose:function(){e=new WeakMap}}}function Bs(e){Si.call(this),this.type="MeshDepthMaterial",this.depthPacking=or,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function Rs(e){Si.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new qr,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}function Ms(e,t,r){var n=new Co,i=new jr,o=new jr,a=new Hr,s=[],c=[],l={},u={0:m,1:g,2:y},d=new Ao({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new jr},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=d.clone();h.defines.HORIZONAL_PASS=1;var v=new Wi;v.setAttribute("position",new Ti(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var b=new co(v,d),S=this;function A(r,n){var i=t.update(b);d.uniforms.shadow_pass.value=r.map.texture,d.uniforms.resolution.value=r.mapSize,d.uniforms.radius.value=r.radius,e.setRenderTarget(r.mapPass),e.clear(),e.renderBufferDirect(n,null,i,d,b,null),h.uniforms.shadow_pass.value=r.mapPass.texture,h.uniforms.resolution.value=r.mapSize,h.uniforms.radius.value=r.radius,e.setRenderTarget(r.map),e.clear(),e.renderBufferDirect(n,null,i,h,b,null)}function w(e,t,r){var n=e<<0|t<<1|r<<2,i=s[n];return void 0===i&&(i=new Bs({depthPacking:ar,morphTargets:e,skinning:t}),s[n]=i),i}function _(e,t,r){var n=e<<0|t<<1|r<<2,i=c[n];return void 0===i&&(i=new Rs({morphTargets:e,skinning:t}),c[n]=i),i}function T(t,r,n,i,o,a,s){var c=null,d=w,p=t.customDepthMaterial;if(!0===i.isPointLight&&(d=_,p=t.customDistanceMaterial),void 0===p){var h=!1;!0===n.morphTargets&&(h=r.morphAttributes&&r.morphAttributes.position&&r.morphAttributes.position.length>0);var g=!1;!0===t.isSkinnedMesh&&(!0===n.skinning?g=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),c=d(h,g,!0===t.isInstancedMesh)}else c=p;if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var m=c.uuid,y=n.uuid,v=l[m];void 0===v&&(v={},l[m]=v);var b=v[y];void 0===b&&(b=c.clone(),v[y]=b),c=b}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=s===f?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:u[n.side],c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,!0===i.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(i.matrixWorld),c.nearDistance=o,c.farDistance=a),c}function E(r,i,o,a,s){if(!1!==r.visible){if(r.layers.test(i.layers)&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&s===f)&&(!r.frustumCulled||n.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,r.matrixWorld);var c=t.update(r),l=r.material;if(Array.isArray(l))for(var u=c.groups,d=0,p=u.length;d<p;d++){var h=u[d],g=l[h.materialIndex];if(g&&g.visible){var m=T(r,c,g,a,o.near,o.far,s);e.renderBufferDirect(o,null,c,m,r,h)}}else if(l.visible){var y=T(r,c,l,a,o.near,o.far,s);e.renderBufferDirect(o,null,c,y,r,null)}}for(var v=r.children,b=0,x=v.length;b<x;b++)E(v[b],i,o,a,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=p,this.render=function(t,s,c){if(!1!==S.enabled&&(!1!==S.autoUpdate||!1!==S.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),p=e.state;p.setBlending(x),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);for(var h=0,g=t.length;h<g;h++){var m=t[h],y=m.shadow;if(!1!==y.autoUpdate||!1!==y.needsUpdate)if(void 0!==y){i.copy(y.mapSize);var v=y.getFrameExtents();if(i.multiply(v),o.copy(y.mapSize),(i.x>r||i.y>r)&&(i.x>r&&(o.x=Math.floor(r/v.x),i.x=o.x*v.x,y.mapSize.x=o.x),i.y>r&&(o.y=Math.floor(r/v.y),i.y=o.y*v.y,y.mapSize.y=o.y)),null===y.map&&!y.isPointLightShadow&&this.type===f){var b={minFilter:xe,magFilter:xe,format:Ge,stencilBuffer:!1};y.map=new Xr(i.x,i.y,b),y.map.texture.name=m.name+".shadowMap",y.mapPass=new Xr(i.x,i.y,b),y.camera.updateProjectionMatrix()}if(null===y.map){var w={minFilter:ge,magFilter:ge,format:Ge,stencilBuffer:!1};y.map=new Xr(i.x,i.y,w),y.map.texture.name=m.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var _=y.getViewportCount(),T=0;T<_;T++){var B=y.getViewport(T);a.set(o.x*B.x,o.y*B.y,o.x*B.z,o.y*B.w),p.viewport(a),y.updateMatrices(m,T),n=y.getFrustum(),E(s,c,y.camera,m,this.type)}y.isPointLightShadow||this.type!==f||A(y,c),y.needsUpdate=!1}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}S.needsUpdate=!1,e.setRenderTarget(l,u,d)}}}function Cs(e,t,r){var n,i,o=r.isWebGL2,a=new function(){var t=!1,r=new Hr,n=null,i=new Hr(0,0,0,0);return{setMask:function(r){n===r||t||(e.colorMask(r,r,r,r),n=r)},setLocked:function(e){t=e},setClear:function(t,n,o,a,s){!0===s&&(t*=a,n*=a,o*=a),r.set(t,n,o,a),!1===i.equals(r)&&(e.clearColor(t,n,o,a),i.copy(r))},reset:function(){t=!1,n=null,i.set(-1,0,0,0)}}},u=new function(){var t=!1,r=null,n=null,i=null;return{setTest:function(e){e?me(2929):ye(2929)},setMask:function(n){r===n||t||(e.depthMask(n),r=n)},setFunc:function(t){if(n!==t){if(t)switch(t){case k:e.depthFunc(512);break;case V:e.depthFunc(519);break;case W:e.depthFunc(513);break;case H:e.depthFunc(515);break;case X:e.depthFunc(514);break;case Q:e.depthFunc(518);break;case Z:e.depthFunc(516);break;case Y:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);n=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,r=null,n=null,i=null}}},d=new function(){var t=!1,r=null,n=null,i=null,o=null,a=null,s=null,c=null,l=null;return{setTest:function(e){t||(e?me(2960):ye(2960))},setMask:function(n){r===n||t||(e.stencilMask(n),r=n)},setFunc:function(t,r,a){n===t&&i===r&&o===a||(e.stencilFunc(t,r,a),n=t,i=r,o=a)},setOp:function(t,r,n){a===t&&s===r&&c===n||(e.stencilOp(t,r,n),a=t,s=r,c=n)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,r=null,n=null,i=null,o=null,a=null,s=null,c=null,l=null}}},p={},h=null,f=null,g=null,v=null,b=null,J=null,q=null,K=null,$=null,ee=!1,te=null,re=null,ne=null,ie=null,oe=null,ae=e.getParameter(35661),se=!1,ce=0,le=e.getParameter(7938);-1!==le.indexOf("WebGL")?(ce=parseFloat(/^WebGL\ ([0-9])/.exec(le)[1]),se=ce>=1):-1!==le.indexOf("OpenGL ES")&&(ce=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(le)[1]),se=ce>=2);var ue=null,de={},pe=new Hr,he=new Hr;function fe(t,r,n){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<n;a++)e.texImage2D(r+a,0,6408,1,1,0,6408,5121,i);return o}var ge={};function me(t){!0!==p[t]&&(e.enable(t),p[t]=!0)}function ye(t){!1!==p[t]&&(e.disable(t),p[t]=!1)}ge[3553]=fe(3553,3553,1),ge[34067]=fe(34067,34069,6),a.setClear(0,0,0,1),u.setClear(1),d.setClear(0),me(2929),u.setFunc(H),Ae(!1),we(c),me(2884),Se(x);var ve=(_defineProperty(n={},E,32774),_defineProperty(n,B,32778),_defineProperty(n,R,32779),n);if(o)ve[M]=32775,ve[C]=32776;else{var be=t.get("EXT_blend_minmax");null!==be&&(ve[M]=be.MIN_EXT,ve[C]=be.MAX_EXT)}var xe=(_defineProperty(i={},O,0),_defineProperty(i,I,1),_defineProperty(i,F,768),_defineProperty(i,L,770),_defineProperty(i,z,776),_defineProperty(i,G,774),_defineProperty(i,D,772),_defineProperty(i,N,769),_defineProperty(i,P,771),_defineProperty(i,j,775),_defineProperty(i,U,773),i);function Se(t,r,n,i,o,a,s,c){if(t!==x){if(f||(me(3042),f=!0),t===T)o=o||r,a=a||n,s=s||i,r===v&&o===q||(e.blendEquationSeparate(ve[r],ve[o]),v=r,q=o),n===b&&i===J&&a===K&&s===$||(e.blendFuncSeparate(xe[n],xe[i],xe[a],xe[s]),b=n,J=i,K=a,$=s),g=t,ee=null;else if(t!==g||c!==ee){if(v===E&&q===E||(e.blendEquation(32774),v=E,q=E),c)switch(t){case S:e.blendFuncSeparate(1,771,1,771);break;case A:e.blendFunc(1,1);break;case w:e.blendFuncSeparate(0,0,769,771);break;case _:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case S:e.blendFuncSeparate(770,771,1,771);break;case A:e.blendFunc(770,1);break;case w:e.blendFunc(0,769);break;case _:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}b=null,J=null,K=null,$=null,g=t,ee=c}}else f&&(ye(3042),f=!1)}function Ae(t){te!==t&&(t?e.frontFace(2304):e.frontFace(2305),te=t)}function we(t){t!==s?(me(2884),t!==re&&(t===c?e.cullFace(1029):t===l?e.cullFace(1028):e.cullFace(1032))):ye(2884),re=t}function _e(t,r,n){t?(me(32823),ie===r&&oe===n||(e.polygonOffset(r,n),ie=r,oe=n)):ye(32823)}function Te(t){void 0===t&&(t=33984+ae-1),ue!==t&&(e.activeTexture(t),ue=t)}return{buffers:{color:a,depth:u,stencil:d},enable:me,disable:ye,useProgram:function(t){return h!==t&&(e.useProgram(t),h=t,!0)},setBlending:Se,setMaterial:function(e,t){e.side===y?ye(2884):me(2884);var r=e.side===m;t&&(r=!r),Ae(r),e.blending===S&&!1===e.transparent?Se(x):Se(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),u.setFunc(e.depthFunc),u.setTest(e.depthTest),u.setMask(e.depthWrite),a.setMask(e.colorWrite);var n=e.stencilWrite;d.setTest(n),n&&(d.setMask(e.stencilWriteMask),d.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),d.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),_e(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:Ae,setCullFace:we,setLineWidth:function(t){t!==ne&&(se&&e.lineWidth(t),ne=t)},setPolygonOffset:_e,setScissorTest:function(e){e?me(3089):ye(3089)},activeTexture:Te,bindTexture:function(t,r){null===ue&&Te();var n=de[ue];void 0===n&&(n={type:void 0,texture:void 0},de[ue]=n),n.type===t&&n.texture===r||(e.bindTexture(t,r||ge[t]),n.type=t,n.texture=r)},unbindTexture:function(){var t=de[ue];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===pe.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),pe.copy(t))},viewport:function(t){!1===he.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),he.copy(t))},reset:function(){p={},ue=null,de={},h=null,g=null,te=null,re=null,a.reset(),u.reset(),d.reset()}}}function Os(e,t,r,n,i,o,a){var s,c,l,u=i.isWebGL2,d=i.maxTextures,p=i.maxCubemapSize,h=i.maxTextureSize,f=i.maxSamples,g=new WeakMap,m=!1;try{m="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function y(e,t){return m?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function v(e,t,r,n){var i=1;if((e.width>n||e.height>n)&&(i=n/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var o=t?Gr.floorPowerOfTwo:Math.floor,a=o(i*e.width),s=o(i*e.height);void 0===l&&(l=y(a,s));var c=r?y(a,s):l;return c.width=a,c.height=s,c.getContext("2d").drawImage(e,0,0,a,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+s+")."),c}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function b(e){return Gr.isPowerOfTwo(e.width)&&Gr.isPowerOfTwo(e.height)}function x(e,t){return e.generateMipmaps&&t&&e.minFilter!==ge&&e.minFilter!==xe}function S(t,r,i,o){e.generateMipmap(t),n.get(r).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function A(r,n,i){if(!1===u)return n;if(null!==r){if(void 0!==e[r])return e[r];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+r+"'")}var o=n;return 6403===n&&(5126===i&&(o=33326),5131===i&&(o=33325),5121===i&&(o=33321)),6407===n&&(5126===i&&(o=34837),5131===i&&(o=34843),5121===i&&(o=32849)),6408===n&&(5126===i&&(o=34836),5131===i&&(o=34842),5121===i&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||t.get("EXT_color_buffer_float"),o}function w(e){return e===ge||e===me||e===ve?9728:9729}function _(t){var r=t.target;r.removeEventListener("dispose",_),function(t){var r=n.get(t);void 0!==r.__webglInit&&(e.deleteTexture(r.__webglTexture),n.remove(t))}(r),r.isVideoTexture&&g.delete(r),a.memory.textures--}function T(t){var r=t.target;r.removeEventListener("dispose",T),function(t){var r=n.get(t),i=n.get(t.texture);if(t){if(void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(var o=0;o<6;o++)e.deleteFramebuffer(r.__webglFramebuffer[o]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[o]);else e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&e.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer&&e.deleteRenderbuffer(r.__webglColorRenderbuffer),r.__webglDepthRenderbuffer&&e.deleteRenderbuffer(r.__webglDepthRenderbuffer);n.remove(t.texture),n.remove(t)}}(r),a.memory.textures--}var E=0;function B(e,t){var i=n.get(e);if(e.isVideoTexture&&function(e){var t=a.render.frame;g.get(e)!==t&&(g.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void N(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}r.activeTexture(33984+t),r.bindTexture(3553,i.__webglTexture)}function R(t,i){if(6===t.image.length){var a=n.get(t);if(t.version>0&&a.__version!==t.version){F(a,t),r.activeTexture(33984+i),r.bindTexture(34067,a.__webglTexture),e.pixelStorei(37440,t.flipY);for(var s=t&&(t.isCompressedTexture||t.image[0].isCompressedTexture),c=t.image[0]&&t.image[0].isDataTexture,l=[],d=0;d<6;d++)l[d]=s||c?c?t.image[d].image:t.image[d]:v(t.image[d],!1,!0,p);var h,f=l[0],g=b(f)||u,m=o.convert(t.format),y=o.convert(t.type),w=A(t.internalFormat,m,y);if(I(34067,t,g),s){for(var _=0;_<6;_++){h=l[_].mipmaps;for(var T=0;T<h.length;T++){var E=h[T];t.format!==Ge&&t.format!==Ue?null!==m?r.compressedTexImage2D(34069+_,T,w,E.width,E.height,0,E.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):r.texImage2D(34069+_,T,w,E.width,E.height,0,m,y,E.data)}}a.__maxMipLevel=h.length-1}else{h=t.mipmaps;for(var B=0;B<6;B++)if(c){r.texImage2D(34069+B,0,w,l[B].width,l[B].height,0,m,y,l[B].data);for(var R=0;R<h.length;R++){var M=h[R].image[B].image;r.texImage2D(34069+B,R+1,w,M.width,M.height,0,m,y,M.data)}}else{r.texImage2D(34069+B,0,w,m,y,l[B]);for(var C=0;C<h.length;C++){var O=h[C];r.texImage2D(34069+B,C+1,w,m,y,O.image[B])}}a.__maxMipLevel=h.length}x(t,g)&&S(34067,t,f.width,f.height),a.__version=t.version,t.onUpdate&&t.onUpdate(t)}else r.activeTexture(33984+i),r.bindTexture(34067,a.__webglTexture)}}function M(e,t){r.activeTexture(33984+t),r.bindTexture(34067,n.get(e).__webglTexture)}var C=(_defineProperty(s={},pe,10497),_defineProperty(s,he,33071),_defineProperty(s,fe,33648),s),O=(_defineProperty(c={},ge,9728),_defineProperty(c,me,9984),_defineProperty(c,ve,9986),_defineProperty(c,xe,9729),_defineProperty(c,Se,9985),_defineProperty(c,we,9987),c);function I(r,o,a){a?(e.texParameteri(r,10242,C[o.wrapS]),e.texParameteri(r,10243,C[o.wrapT]),32879!==r&&35866!==r||e.texParameteri(r,32882,C[o.wrapR]),e.texParameteri(r,10240,O[o.magFilter]),e.texParameteri(r,10241,O[o.minFilter])):(e.texParameteri(r,10242,33071),e.texParameteri(r,10243,33071),32879!==r&&35866!==r||e.texParameteri(r,32882,33071),o.wrapS===he&&o.wrapT===he||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(r,10240,w(o.magFilter)),e.texParameteri(r,10241,w(o.minFilter)),o.minFilter!==ge&&o.minFilter!==xe&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=t.get("EXT_texture_filter_anisotropic");if(s){if(o.type===Oe&&null===t.get("OES_texture_float_linear"))return;if(o.type===Ie&&null===(u||t.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||n.get(o).__currentAnisotropy)&&(e.texParameterf(r,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),n.get(o).__currentAnisotropy=o.anisotropy)}}function F(t,r){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",_),t.__webglTexture=e.createTexture(),a.memory.textures++)}function N(t,n,i){var a=3553;n.isDataTexture2DArray&&(a=35866),n.isDataTexture3D&&(a=32879),F(t,n),r.activeTexture(33984+i),r.bindTexture(a,t.__webglTexture),e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment);var s,c=function(e){return!u&&(e.wrapS!==he||e.wrapT!==he||e.minFilter!==ge&&e.minFilter!==xe)}(n)&&!1===b(n.image),l=v(n.image,c,!1,h),d=b(l)||u,p=o.convert(n.format),f=o.convert(n.type),g=A(n.internalFormat,p,f);I(a,n,d);var m=n.mipmaps;if(n.isDepthTexture)g=6402,u?g=n.type===Oe?36012:n.type===Ce?33190:n.type===Pe?35056:33189:n.type===Oe&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),n.format===Ve&&6402===g&&n.type!==Re&&n.type!==Ce&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=Re,f=o.convert(n.type)),n.format===We&&6402===g&&(g=34041,n.type!==Pe&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=Pe,f=o.convert(n.type))),r.texImage2D(3553,0,g,l.width,l.height,0,p,f,null);else if(n.isDataTexture)if(m.length>0&&d){for(var y=0,w=m.length;y<w;y++)s=m[y],r.texImage2D(3553,y,g,s.width,s.height,0,p,f,s.data);n.generateMipmaps=!1,t.__maxMipLevel=m.length-1}else r.texImage2D(3553,0,g,l.width,l.height,0,p,f,l.data),t.__maxMipLevel=0;else if(n.isCompressedTexture){for(var _=0,T=m.length;_<T;_++)s=m[_],n.format!==Ge&&n.format!==Ue?null!==p?r.compressedTexImage2D(3553,_,g,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texImage2D(3553,_,g,s.width,s.height,0,p,f,s.data);t.__maxMipLevel=m.length-1}else if(n.isDataTexture2DArray)r.texImage3D(35866,0,g,l.width,l.height,l.depth,0,p,f,l.data),t.__maxMipLevel=0;else if(n.isDataTexture3D)r.texImage3D(32879,0,g,l.width,l.height,l.depth,0,p,f,l.data),t.__maxMipLevel=0;else if(m.length>0&&d){for(var E=0,B=m.length;E<B;E++)s=m[E],r.texImage2D(3553,E,g,p,f,s);n.generateMipmaps=!1,t.__maxMipLevel=m.length-1}else r.texImage2D(3553,0,g,p,f,l),t.__maxMipLevel=0;x(n,d)&&S(a,n,l.width,l.height),t.__version=n.version,n.onUpdate&&n.onUpdate(n)}function L(t,i,a,s){var c=o.convert(i.texture.format),l=o.convert(i.texture.type),u=A(i.texture.internalFormat,c,l);r.texImage2D(s,0,u,i.width,i.height,0,c,l,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,s,n.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function P(t,r,n){if(e.bindRenderbuffer(36161,t),r.depthBuffer&&!r.stencilBuffer){var i=33189;if(n){var a=r.depthTexture;a&&a.isDepthTexture&&(a.type===Oe?i=36012:a.type===Ce&&(i=33190));var s=D(r);e.renderbufferStorageMultisample(36161,s,i,r.width,r.height)}else e.renderbufferStorage(36161,i,r.width,r.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(r.depthBuffer&&r.stencilBuffer){if(n){var c=D(r);e.renderbufferStorageMultisample(36161,c,35056,r.width,r.height)}else e.renderbufferStorage(36161,34041,r.width,r.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var l=o.convert(r.texture.format),u=o.convert(r.texture.type),d=A(r.texture.internalFormat,l,u);if(n){var p=D(r);e.renderbufferStorageMultisample(36161,p,d,r.width,r.height)}else e.renderbufferStorage(36161,d,r.width,r.height)}e.bindRenderbuffer(36161,null)}function D(e){return u&&e.isWebGLMultisampleRenderTarget?Math.min(f,e.samples):0}var U=!1,G=!1;this.allocateTextureUnit=function(){var e=E;return e>=d&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+d),E+=1,e},this.resetTextureUnits=function(){E=0},this.setTexture2D=B,this.setTexture2DArray=function(e,t){var i=n.get(e);e.version>0&&i.__version!==e.version?N(i,e,t):(r.activeTexture(33984+t),r.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=n.get(e);e.version>0&&i.__version!==e.version?N(i,e,t):(r.activeTexture(33984+t),r.bindTexture(32879,i.__webglTexture))},this.setTextureCube=R,this.setTextureCubeDynamic=M,this.setupRenderTarget=function(t){var i=n.get(t),s=n.get(t.texture);t.addEventListener("dispose",T),s.__webglTexture=e.createTexture(),a.memory.textures++;var c=!0===t.isWebGLCubeRenderTarget,l=!0===t.isWebGLMultisampleRenderTarget,d=b(t)||u;if(!u||t.texture.format!==Ue||t.texture.type!==Oe&&t.texture.type!==Ie||(t.texture.format=Ge,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),c){i.__webglFramebuffer=[];for(var p=0;p<6;p++)i.__webglFramebuffer[p]=e.createFramebuffer()}else if(i.__webglFramebuffer=e.createFramebuffer(),l)if(u){i.__webglMultisampledFramebuffer=e.createFramebuffer(),i.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,i.__webglColorRenderbuffer);var h=o.convert(t.texture.format),f=o.convert(t.texture.type),g=A(t.texture.internalFormat,h,f),m=D(t);e.renderbufferStorageMultisample(36161,m,g,t.width,t.height),e.bindFramebuffer(36160,i.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,i.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(i.__webglDepthRenderbuffer=e.createRenderbuffer(),P(i.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(c){r.bindTexture(34067,s.__webglTexture),I(34067,t.texture,d);for(var y=0;y<6;y++)L(i.__webglFramebuffer[y],t,36064,34069+y);x(t.texture,d)&&S(34067,t.texture,t.width,t.height),r.bindTexture(34067,null)}else r.bindTexture(3553,s.__webglTexture),I(3553,t.texture,d),L(i.__webglFramebuffer,t,36064,3553),x(t.texture,d)&&S(3553,t.texture,t.width,t.height),r.bindTexture(3553,null);t.depthBuffer&&function(t){var r=n.get(t),i=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),B(r.depthTexture,0);var i=n.get(r.depthTexture).__webglTexture;if(r.depthTexture.format===Ve)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(r.depthTexture.format!==We)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(r.__webglFramebuffer,t)}else if(i){r.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(36160,r.__webglFramebuffer[o]),r.__webglDepthbuffer[o]=e.createRenderbuffer(),P(r.__webglDepthbuffer[o],t,!1)}else e.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=e.createRenderbuffer(),P(r.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(x(t,b(e)||u)){var i=e.isWebGLCubeRenderTarget?34067:3553,o=n.get(t).__webglTexture;r.bindTexture(i,o),S(i,t,e.width,e.height),r.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(u){var r=n.get(t);e.bindFramebuffer(36008,r.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,r.__webglFramebuffer);var i=t.width,o=t.height,a=16384;t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024),e.blitFramebuffer(0,0,i,o,0,0,i,o,a,9728),e.bindFramebuffer(36160,r.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===U&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),U=!0),e=e.texture),B(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===G&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),G=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?R(e,t):M(e,t)}}function Is(e,t,r){var n=r.isWebGL2;return{convert:function(e){var r;if(e===Te)return 5121;if(e===Fe)return 32819;if(e===Ne)return 32820;if(e===Le)return 33635;if(e===Ee)return 5120;if(e===Be)return 5122;if(e===Re)return 5123;if(e===Me)return 5124;if(e===Ce)return 5125;if(e===Oe)return 5126;if(e===Ie)return n?5131:null!==(r=t.get("OES_texture_half_float"))?r.HALF_FLOAT_OES:null;if(e===De)return 6406;if(e===Ue)return 6407;if(e===Ge)return 6408;if(e===je)return 6409;if(e===ze)return 6410;if(e===Ve)return 6402;if(e===We)return 34041;if(e===He)return 6403;if(e===Xe)return 36244;if(e===Qe)return 33319;if(e===Ze)return 33320;if(e===Ye)return 36248;if(e===Je)return 36249;if(e===qe||e===Ke||e===$e||e===et){if(null===(r=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===qe)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Ke)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===$e)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===et)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===tt||e===rt||e===nt||e===it){if(null===(r=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===tt)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===rt)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===nt)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===it)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===ot)return null!==(r=t.get("WEBGL_compressed_texture_etc1"))?r.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===at||e===st)&&null!==(r=t.get("WEBGL_compressed_texture_etc"))){if(e===at)return r.COMPRESSED_RGB8_ETC2;if(e===st)return r.COMPRESSED_RGBA8_ETC2_EAC}return e===ct||e===lt||e===ut||e===dt||e===pt||e===ht||e===ft||e===gt||e===mt||e===yt||e===vt||e===bt||e===xt||e===St||e===wt||e===_t||e===Tt||e===Et||e===Bt||e===Rt||e===Mt||e===Ct||e===Ot||e===It||e===Ft||e===Nt||e===Lt||e===Pt?null!==(r=t.get("WEBGL_compressed_texture_astc"))?e:null:e===At?null!==(r=t.get("EXT_texture_compression_bptc"))?e:null:e===Pe?n?34042:null!==(r=t.get("WEBGL_depth_texture"))?r.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function Fs(e){_o.call(this),this.cameras=e||[]}function Ns(){_n.call(this),this.type="Group"}function Ls(){this._targetRay=null,this._grip=null,this._hand=null}function Ps(e,t){var r=this,n=null,i=1,o=null,a="local-floor",s=null,c=[],l=new Map,u=new _o;u.layers.enable(1),u.viewport=new Hr;var d=new _o;d.layers.enable(2),d.viewport=new Hr;var p=[u,d],h=new Fs;h.layers.enable(1),h.layers.enable(2);var f=null,g=null;function m(e){var t=l.get(e.inputSource);t&&t.dispatchEvent({type:e.type})}function y(){l.forEach((function(e,t){e.disconnect(t)})),l.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),_.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}function v(e){o=e,_.setContext(n),_.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}function b(e){for(var t=n.inputSources,r=0;r<c.length;r++)l.set(t[r],c[r]);for(var i=0;i<e.removed.length;i++){var o=e.removed[i],a=l.get(o);a&&(a.dispatchEvent({type:"disconnected",data:o}),l.delete(o))}for(var s=0;s<e.added.length;s++){var u=e.added[s],d=l.get(u);d&&d.dispatchEvent({type:"connected",data:u})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){var t=c[e];return void 0===t&&(t=new Ls,c[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){var t=c[e];return void 0===t&&(t=new Ls,c[e]=t),t.getGripSpace()},this.getHand=function(e){var t=c[e];return void 0===t&&(t=new Ls,c[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return n},this.setSession=function(e){if(null!==(n=e)){n.addEventListener("select",m),n.addEventListener("selectstart",m),n.addEventListener("selectend",m),n.addEventListener("squeeze",m),n.addEventListener("squeezestart",m),n.addEventListener("squeezeend",m),n.addEventListener("end",y);var r=t.getContextAttributes();!0!==r.xrCompatible&&t.makeXRCompatible();var o={antialias:r.antialias,alpha:r.alpha,depth:r.depth,stencil:r.stencil,framebufferScaleFactor:i},s=new XRWebGLLayer(n,t,o);n.updateRenderState({baseLayer:s}),n.requestReferenceSpace(a).then(v),n.addEventListener("inputsourceschange",b)}};var x=new qr,S=new qr;function A(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}this.getCamera=function(e){h.near=d.near=u.near=e.near,h.far=d.far=u.far=e.far,f===h.near&&g===h.far||(n.updateRenderState({depthNear:h.near,depthFar:h.far}),f=h.near,g=h.far);var t=e.parent,r=h.cameras;A(h,t);for(var i=0;i<r.length;i++)A(r[i],t);e.matrixWorld.copy(h.matrixWorld);for(var o=e.children,a=0,s=o.length;a<s;a++)o[a].updateMatrixWorld(!0);return 2===r.length?function(e,t,r){x.setFromMatrixPosition(t.matrixWorld),S.setFromMatrixPosition(r.matrixWorld);var n=x.distanceTo(S),i=t.projectionMatrix.elements,o=r.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),c=(i[9]+1)/i[5],l=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(o[8]+1)/o[0],p=a*u,h=a*d,f=n/(-u+d),g=f*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(g),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var m=a+f,y=s+f,v=p-g,b=h+(n-g),A=c*s/y*m,w=l*s/y*m;e.projectionMatrix.makePerspective(v,b,A,w,m,y)}(h,u,d):h.projectionMatrix.copy(u.projectionMatrix),h};var w=null,_=new Io;_.setAnimationLoop((function(t,r){if(null!==(s=r.getViewerPose(o))){var i=s.views,a=n.renderState.baseLayer;e.setFramebuffer(a.framebuffer);var l=!1;i.length!==h.cameras.length&&(h.cameras.length=0,l=!0);for(var u=0;u<i.length;u++){var d=i[u],f=a.getViewport(d),g=p[u];g.matrix.fromArray(d.transform.matrix),g.projectionMatrix.fromArray(d.projectionMatrix),g.viewport.set(f.x,f.y,f.width,f.height),0===u&&h.matrix.copy(g.matrix),!0===l&&h.cameras.push(g)}}for(var m=n.inputSources,y=0;y<c.length;y++){var v=c[y],b=m[y];v.update(b,r,o)}w&&w(t,r)})),this.setAnimationLoop=function(e){w=e},this.dispose=function(){}}function Ds(e){function t(t,r,n){t.opacity.value=r.opacity,r.color&&t.diffuse.value.copy(r.color),r.emissive&&t.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(t.map.value=r.map),r.alphaMap&&(t.alphaMap.value=r.alphaMap),r.specularMap&&(t.specularMap.value=r.specularMap);var i,o,a=r.envMap||n;if(a){t.envMap.value=a,t.flipEnvMap.value=a.isCubeTexture?-1:1,t.reflectivity.value=r.reflectivity,t.refractionRatio.value=r.refractionRatio;var s=e.get(a).__maxMipLevel;void 0!==s&&(t.maxMipLevel.value=s)}r.lightMap&&(t.lightMap.value=r.lightMap,t.lightMapIntensity.value=r.lightMapIntensity),r.aoMap&&(t.aoMap.value=r.aoMap,t.aoMapIntensity.value=r.aoMapIntensity),r.map?i=r.map:r.specularMap?i=r.specularMap:r.displacementMap?i=r.displacementMap:r.normalMap?i=r.normalMap:r.bumpMap?i=r.bumpMap:r.roughnessMap?i=r.roughnessMap:r.metalnessMap?i=r.metalnessMap:r.alphaMap?i=r.alphaMap:r.emissiveMap&&(i=r.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix)),r.aoMap?o=r.aoMap:r.lightMap&&(o=r.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),t.uv2Transform.value.copy(o.matrix))}function r(e,t,r){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===m&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===m&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),(t.envMap||r)&&(e.envMapIntensity.value=t.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,n,i,o,a){n.isMeshBasicMaterial?t(e,n):n.isMeshLambertMaterial?(t(e,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,n)):n.isMeshToonMaterial?(t(e,n),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===m&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===m&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshPhongMaterial?(t(e,n),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===m&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===m&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshStandardMaterial?(t(e,n,i),n.isMeshPhysicalMaterial?function(e,t,n){r(e,t,n),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen),t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===m&&e.clearcoatNormalScale.value.negate()),e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap)}(e,n,i):r(e,n,i)):n.isMeshMatcapMaterial?(t(e,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===m&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===m&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshDepthMaterial?(t(e,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshDistanceMaterial?(t(e,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,n)):n.isMeshNormalMaterial?(t(e,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===m&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===m&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,n)):n.isPointsMaterial?function(e,t,r,n){var i;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*n,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?i=t.map:t.alphaMap&&(i=t.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,n,o,a):n.isSpriteMaterial?function(e,t){var r;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?r=t.map:t.alphaMap&&(r=t.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(e,n):n.isShadowMaterial?(e.color.value.copy(n.color),e.opacity.value=n.opacity):n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)}}}function Us(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),r=void 0!==e.context?e.context:null,n=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,c=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,d=null,p=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=qt,this.physicallyCorrectLights=!1,this.toneMapping=$,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var h=this,f=!1,g=null,m=0,y=0,v=null,b=null,x=-1,S=null,A=null,w=new Hr,_=new Hr,T=null,E=t.width,B=t.height,R=1,M=null,C=null,O=new Hr(0,0,E,B),I=new Hr(0,0,E,B),F=!1,N=new Co,L=new ko,P=!1,D=!1,U=new an,G=new qr,j={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function z(){return null===v?R:1}var k,V,W,H,X,Q,Z,Y,J,q,K,ee,te,re,ne,ie,oe,ae,se,ce=r;function le(e,r){for(var n=0;n<e.length;n++){var i=e[n],o=t.getContext(i,r);if(null!==o)return o}return null}try{var ue={alpha:n,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:c,powerPreference:l,failIfMajorPerformanceCaveat:u};if(t.addEventListener("webglcontextlost",ge,!1),t.addEventListener("webglcontextrestored",me,!1),null===ce){var de=["webgl2","webgl","experimental-webgl"];if(!0===h.isWebGL1Renderer&&de.shift(),null===(ce=le(de,ue)))throw le(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ce.getShaderPrecisionFormat&&(ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function pe(){k=new Vo(ce),!1===(V=new zo(ce,k,e)).isWebGL2&&(k.get("WEBGL_depth_texture"),k.get("OES_texture_float"),k.get("OES_texture_half_float"),k.get("OES_texture_half_float_linear"),k.get("OES_standard_derivatives"),k.get("OES_element_index_uint"),k.get("OES_vertex_array_object"),k.get("ANGLE_instanced_arrays")),k.get("OES_texture_float_linear"),ae=new Is(ce,k,V),(W=new Cs(ce,k,V)).scissor(_.copy(I).multiplyScalar(R).floor()),W.viewport(w.copy(O).multiplyScalar(R).floor()),H=new Xo(ce),X=new ms,Q=new Os(ce,k,W,X,V,ae,H),Z=new Fo(ce,V),se=new Go(ce,k,Z,V),Y=new Wo(ce,Z,H,se),J=new Jo(ce,Y,Z,H),ne=new Yo(ce),q=new gs(h,k,V,se),K=new Ds(X),ee=new xs(X),te=new Es,re=new Uo(h,W,J,s),ie=new jo(ce,k,H,V),oe=new Ho(ce,k,H,V),H.programs=q.programs,h.capabilities=V,h.extensions=k,h.properties=X,h.renderLists=ee,h.state=W,h.info=H}pe();var he=new Ps(h,ce);this.xr=he;var fe=new Ms(h,J,V.maxTextureSize);function ge(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),f=!0}function me(){console.log("THREE.WebGLRenderer: Context Restored."),f=!1,pe()}function ye(e){var t=e.target;t.removeEventListener("dispose",ye),function(e){ve(e),X.remove(e)}(t)}function ve(e){var t=X.get(e).program;void 0!==t&&q.releaseProgram(t)}this.shadowMap=fe,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){var e=k.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=k.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(e){void 0!==e&&(R=e,this.setSize(E,B,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new jr),e.set(E,B)},this.setSize=function(e,r,n){he.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(E=e,B=r,t.width=Math.floor(e*R),t.height=Math.floor(r*R),!1!==n&&(t.style.width=e+"px",t.style.height=r+"px"),this.setViewport(0,0,e,r))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new jr),e.set(E*R,B*R).floor()},this.setDrawingBufferSize=function(e,r,n){E=e,B=r,R=n,t.width=Math.floor(e*n),t.height=Math.floor(r*n),this.setViewport(0,0,e,r)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new Hr),e.copy(w)},this.getViewport=function(e){return e.copy(O)},this.setViewport=function(e,t,r,n){e.isVector4?O.set(e.x,e.y,e.z,e.w):O.set(e,t,r,n),W.viewport(w.copy(O).multiplyScalar(R).floor())},this.getScissor=function(e){return e.copy(I)},this.setScissor=function(e,t,r,n){e.isVector4?I.set(e.x,e.y,e.z,e.w):I.set(e,t,r,n),W.scissor(_.copy(I).multiplyScalar(R).floor())},this.getScissorTest=function(){return F},this.setScissorTest=function(e){W.setScissorTest(F=e)},this.setOpaqueSort=function(e){M=e},this.setTransparentSort=function(e){C=e},this.getClearColor=function(){return re.getClearColor()},this.setClearColor=function(){re.setClearColor.apply(re,arguments)},this.getClearAlpha=function(){return re.getClearAlpha()},this.setClearAlpha=function(){re.setClearAlpha.apply(re,arguments)},this.clear=function(e,t,r){var n=0;(void 0===e||e)&&(n|=16384),(void 0===t||t)&&(n|=256),(void 0===r||r)&&(n|=1024),ce.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ge,!1),t.removeEventListener("webglcontextrestored",me,!1),ee.dispose(),te.dispose(),X.dispose(),J.dispose(),se.dispose(),he.dispose(),xe.stop()},this.renderBufferImmediate=function(e,t){se.initAttributes();var r=X.get(e);e.hasPositions&&!r.position&&(r.position=ce.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=ce.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=ce.createBuffer()),e.hasColors&&!r.color&&(r.color=ce.createBuffer());var n=t.getAttributes();e.hasPositions&&(ce.bindBuffer(34962,r.position),ce.bufferData(34962,e.positionArray,35048),se.enableAttribute(n.position),ce.vertexAttribPointer(n.position,3,5126,!1,0,0)),e.hasNormals&&(ce.bindBuffer(34962,r.normal),ce.bufferData(34962,e.normalArray,35048),se.enableAttribute(n.normal),ce.vertexAttribPointer(n.normal,3,5126,!1,0,0)),e.hasUvs&&(ce.bindBuffer(34962,r.uv),ce.bufferData(34962,e.uvArray,35048),se.enableAttribute(n.uv),ce.vertexAttribPointer(n.uv,2,5126,!1,0,0)),e.hasColors&&(ce.bindBuffer(34962,r.color),ce.bufferData(34962,e.colorArray,35048),se.enableAttribute(n.color),ce.vertexAttribPointer(n.color,3,5126,!1,0,0)),se.disableUnusedAttributes(),ce.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,r,n,i,o){null===t&&(t=j);var a=i.isMesh&&i.matrixWorld.determinant()<0,s=Ee(e,t,n,i);W.setMaterial(n,a);var c=r.index,l=r.attributes.position;if(null===c){if(void 0===l||0===l.count)return}else if(0===c.count)return;var u,d=1;!0===n.wireframe&&(c=Y.getWireframeAttribute(r),d=2),(n.morphTargets||n.morphNormals)&&ne.update(i,r,n,s),se.setup(i,n,s,r,c);var p=ie;null!==c&&(u=Z.get(c),(p=oe).setIndex(u));var h=null!==c?c.count:l.count,f=r.drawRange.start*d,g=r.drawRange.count*d,m=null!==o?o.start*d:0,y=null!==o?o.count*d:1/0,v=Math.max(f,m),b=Math.min(h,f+g,m+y)-1,x=Math.max(0,b-v+1);if(0!==x){if(i.isMesh)!0===n.wireframe?(W.setLineWidth(n.wireframeLinewidth*z()),p.setMode(1)):p.setMode(4);else if(i.isLine){var S=n.linewidth;void 0===S&&(S=1),W.setLineWidth(S*z()),i.isLineSegments?p.setMode(1):i.isLineLoop?p.setMode(2):p.setMode(3)}else i.isPoints?p.setMode(0):i.isSprite&&p.setMode(4);if(i.isInstancedMesh)p.renderInstances(v,x,i.count);else if(r.isInstancedBufferGeometry){var A=Math.min(r.instanceCount,r._maxInstanceCount);p.renderInstances(v,x,A)}else p.render(v,x)}},this.compile=function(e,t){(p=te.get(e,t)).init(),e.traverse((function(e){e.isLight&&(p.pushLight(e),e.castShadow&&p.pushShadow(e))})),p.setupLights(t);var r=new WeakMap;e.traverse((function(t){var n=t.material;if(n)if(Array.isArray(n))for(var i=0;i<n.length;i++){var o=n[i];!1===r.has(o)&&(_e(o,e,t),r.set(o))}else!1===r.has(n)&&(_e(n,e,t),r.set(n))}))};var be=null,xe=new Io;function Se(e,t,r,n){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)r=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)p.pushLight(e),e.castShadow&&p.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||N.intersectsSprite(e)){n&&G.setFromMatrixPosition(e.matrixWorld).applyMatrix4(U);var i=J.update(e),o=e.material;o.visible&&d.push(e,i,o,r,G.z,null)}}else if(e.isImmediateRenderObject)n&&G.setFromMatrixPosition(e.matrixWorld).applyMatrix4(U),d.push(e,null,e.material,r,G.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==H.render.frame&&(e.skeleton.update(),e.skeleton.frame=H.render.frame),!e.frustumCulled||N.intersectsObject(e))){n&&G.setFromMatrixPosition(e.matrixWorld).applyMatrix4(U);var a=J.update(e),s=e.material;if(Array.isArray(s))for(var c=a.groups,l=0,u=c.length;l<u;l++){var h=c[l],f=s[h.materialIndex];f&&f.visible&&d.push(e,a,f,r,G.z,h)}else s.visible&&d.push(e,a,s,r,G.z,null)}for(var g=e.children,m=0,y=g.length;m<y;m++)Se(g[m],t,r,n)}}function Ae(e,t,r){for(var n=!0===t.isScene?t.overrideMaterial:null,i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,c=a.geometry,l=null===n?a.material:n,u=a.group;if(r.isArrayCamera){A=r;for(var d=r.cameras,h=0,f=d.length;h<f;h++){var g=d[h];s.layers.test(g.layers)&&(W.viewport(w.copy(g.viewport)),p.setupLights(g),we(s,t,g,c,l,u))}}else A=null,we(s,t,r,c,l,u)}}function we(e,t,r,n,i,o){if(e.onBeforeRender(h,t,r,n,i,o),p=te.get(t,A||r),e.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var a=Ee(r,t,i,e);W.setMaterial(i),se.reset(),function(e,t){e.render((function(e){h.renderBufferImmediate(e,t)}))}(e,a)}else h.renderBufferDirect(r,t,n,i,e,o);e.onAfterRender(h,t,r,n,i,o),p=te.get(t,A||r)}function _e(e,t,r){!0!==t.isScene&&(t=j);var n=X.get(e),i=p.state.lights,o=p.state.shadowsArray,a=i.state.version,s=q.getParameters(e,i.state,o,t,L.numPlanes,L.numIntersection,r),c=q.getProgramCacheKey(s),l=n.program,u=!0;if(void 0===l)e.addEventListener("dispose",ye);else if(l.cacheKey!==c)ve(e);else if(n.lightsStateVersion!==a)n.lightsStateVersion=a,u=!1;else{if(void 0!==s.shaderID)return;u=!1}u&&(s.uniforms=q.getUniforms(e,s),e.onBeforeCompile(s,h),l=q.acquireProgram(s,c),n.program=l,n.uniforms=s.uniforms,n.outputEncoding=s.outputEncoding);var d=l.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var f=0;f<h.maxMorphTargets;f++)d["morphTarget"+f]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var g=0;g<h.maxMorphNormals;g++)d["morphNormal"+g]>=0&&e.numSupportedMorphNormals++}var m=n.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(n.numClippingPlanes=L.numPlanes,n.numIntersection=L.numIntersection,m.clippingPlanes=L.uniform),n.environment=e.isMeshStandardMaterial?t.environment:null,n.fog=t.fog,n.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),n.lightsStateVersion=a,n.needsLights&&(m.ambientLightColor.value=i.state.ambient,m.lightProbe.value=i.state.probe,m.directionalLights.value=i.state.directional,m.directionalLightShadows.value=i.state.directionalShadow,m.spotLights.value=i.state.spot,m.spotLightShadows.value=i.state.spotShadow,m.rectAreaLights.value=i.state.rectArea,m.pointLights.value=i.state.point,m.pointLightShadows.value=i.state.pointShadow,m.hemisphereLights.value=i.state.hemi,m.directionalShadowMap.value=i.state.directionalShadowMap,m.directionalShadowMatrix.value=i.state.directionalShadowMatrix,m.spotShadowMap.value=i.state.spotShadowMap,m.spotShadowMatrix.value=i.state.spotShadowMatrix,m.pointShadowMap.value=i.state.pointShadowMap,m.pointShadowMatrix.value=i.state.pointShadowMatrix);var y=n.program.getUniforms(),v=Za.seqWithValue(y.seq,m);n.uniformsList=v}function Ee(e,t,r,n){!0!==t.isScene&&(t=j),Q.resetTextureUnits();var i=t.fog,o=r.isMeshStandardMaterial?t.environment:null,a=null===v?h.outputEncoding:v.texture.encoding,s=X.get(r),c=p.state.lights;if(!0===P&&(!0===D||e!==S)){var l=e===S&&r.id===x;L.setState(r.clippingPlanes,r.clipIntersection,r.clipShadows,e,s,l)}r.version===s.__version?void 0===s.program||r.fog&&s.fog!==i||s.environment!==o||s.needsLights&&s.lightsStateVersion!==c.state.version?_e(r,t,n):void 0===s.numClippingPlanes||s.numClippingPlanes===L.numPlanes&&s.numIntersection===L.numIntersection?s.outputEncoding!==a&&_e(r,t,n):_e(r,t,n):(_e(r,t,n),s.__version=r.version);var u,d,f=!1,g=!1,m=!1,y=s.program,b=y.getUniforms(),A=s.uniforms;if(W.useProgram(y.program)&&(f=!0,g=!0,m=!0),r.id!==x&&(x=r.id,g=!0),f||S!==e){if(b.setValue(ce,"projectionMatrix",e.projectionMatrix),V.logarithmicDepthBuffer&&b.setValue(ce,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),S!==e&&(S=e,g=!0,m=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var w=b.map.cameraPosition;void 0!==w&&w.setValue(ce,G.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&b.setValue(ce,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||r.skinning)&&b.setValue(ce,"viewMatrix",e.matrixWorldInverse)}if(r.skinning){b.setOptional(ce,n,"bindMatrix"),b.setOptional(ce,n,"bindMatrixInverse");var _=n.skeleton;if(_){var T=_.bones;if(V.floatVertexTextures){if(void 0===_.boneTexture){var E=Math.sqrt(4*T.length);E=Gr.ceilPowerOfTwo(E),E=Math.max(E,4);var M=new Float32Array(E*E*4);M.set(_.boneMatrices);var C=new Bo(M,E,E,Ge,Oe);_.boneMatrices=M,_.boneTexture=C,_.boneTextureSize=E}b.setValue(ce,"boneTexture",_.boneTexture,Q),b.setValue(ce,"boneTextureSize",_.boneTextureSize)}else b.setOptional(ce,_,"boneMatrices")}}return(g||s.receiveShadow!==n.receiveShadow)&&(s.receiveShadow=n.receiveShadow,b.setValue(ce,"receiveShadow",n.receiveShadow)),g&&(b.setValue(ce,"toneMappingExposure",h.toneMappingExposure),s.needsLights&&(d=m,(u=A).ambientLightColor.needsUpdate=d,u.lightProbe.needsUpdate=d,u.directionalLights.needsUpdate=d,u.directionalLightShadows.needsUpdate=d,u.pointLights.needsUpdate=d,u.pointLightShadows.needsUpdate=d,u.spotLights.needsUpdate=d,u.spotLightShadows.needsUpdate=d,u.rectAreaLights.needsUpdate=d,u.hemisphereLights.needsUpdate=d),i&&r.fog&&K.refreshFogUniforms(A,i),K.refreshMaterialUniforms(A,r,o,R,B),void 0!==A.ltc_1&&(A.ltc_1.value=Oo.LTC_1),void 0!==A.ltc_2&&(A.ltc_2.value=Oo.LTC_2),Za.upload(ce,s.uniformsList,A,Q)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Za.upload(ce,s.uniformsList,A,Q),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&b.setValue(ce,"center",n.center),b.setValue(ce,"modelViewMatrix",n.modelViewMatrix),b.setValue(ce,"normalMatrix",n.normalMatrix),b.setValue(ce,"modelMatrix",n.matrixWorld),y}xe.setAnimationLoop((function(e){he.isPresenting||be&&be(e)})),"undefined"!=typeof window&&xe.setContext(window),this.setAnimationLoop=function(e){be=e,he.setAnimationLoop(e),null===e?xe.stop():xe.start()},this.render=function(e,t){var r,n;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),r=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),n=arguments[3]),void 0===t||!0===t.isCamera){if(!0!==f){se.resetDefaultState(),x=-1,S=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===he.enabled&&!0===he.isPresenting&&(t=he.getCamera(t)),!0===e.isScene&&e.onBeforeRender(h,e,t,r||v),(p=te.get(e,t)).init(),U.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),N.setFromProjectionMatrix(U),D=this.localClippingEnabled,P=L.init(this.clippingPlanes,D,t),(d=ee.get(e,t)).init(),Se(e,t,0,h.sortObjects),d.finish(),!0===h.sortObjects&&d.sort(M,C),!0===P&&L.beginShadows();var i=p.state.shadowsArray;fe.render(i,e,t),p.setupLights(t),!0===P&&L.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==r&&this.setRenderTarget(r),re.render(d,e,t,n);var o=d.opaque,a=d.transparent;o.length>0&&Ae(o,e,t),a.length>0&&Ae(a,e,t),!0===e.isScene&&e.onAfterRender(h,e,t),null!==v&&(Q.updateRenderTargetMipmap(v),Q.updateMultisampleRenderTarget(v)),W.buffers.depth.setTest(!0),W.buffers.depth.setMask(!0),W.buffers.color.setMask(!0),W.setPolygonOffset(!1),d=null,p=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){g!==e&&null===v&&ce.bindFramebuffer(36160,e),g=e},this.getActiveCubeFace=function(){return m},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return v},this.setRenderTarget=function(e,t,r){v=e,m=t,y=r,e&&void 0===X.get(e).__webglFramebuffer&&Q.setupRenderTarget(e);var n=g,i=!1;if(e){var o=X.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(n=o[t||0],i=!0):n=e.isWebGLMultisampleRenderTarget?X.get(e).__webglMultisampledFramebuffer:o,w.copy(e.viewport),_.copy(e.scissor),T=e.scissorTest}else w.copy(O).multiplyScalar(R).floor(),_.copy(I).multiplyScalar(R).floor(),T=F;if(b!==n&&(ce.bindFramebuffer(36160,n),b=n),W.viewport(w),W.scissor(_),W.setScissorTest(T),i){var a=X.get(e.texture);ce.framebufferTexture2D(36160,36064,34069+(t||0),a.__webglTexture,r||0)}},this.readRenderTargetPixels=function(e,t,r,n,i,o,a){if(e&&e.isWebGLRenderTarget){var s=X.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){var c=!1;s!==b&&(ce.bindFramebuffer(36160,s),c=!0);try{var l=e.texture,u=l.format,d=l.type;if(u!==Ge&&ae.convert(u)!==ce.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(d===Te||ae.convert(d)===ce.getParameter(35738)||d===Oe&&(V.isWebGL2||k.get("OES_texture_float")||k.get("WEBGL_color_buffer_float"))||d===Ie&&(V.isWebGL2?k.get("EXT_color_buffer_float"):k.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ce.checkFramebufferStatus(36160)?t>=0&&t<=e.width-n&&r>=0&&r<=e.height-i&&ce.readPixels(t,r,n,i,ae.convert(u),ae.convert(d),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{c&&ce.bindFramebuffer(36160,b)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,r){void 0===r&&(r=0);var n=Math.pow(2,-r),i=Math.floor(t.image.width*n),o=Math.floor(t.image.height*n),a=ae.convert(t.format);Q.setTexture2D(t,0),ce.copyTexImage2D(3553,r,a,e.x,e.y,i,o,0),W.unbindTexture()},this.copyTextureToTexture=function(e,t,r,n){void 0===n&&(n=0);var i=t.image.width,o=t.image.height,a=ae.convert(r.format),s=ae.convert(r.type);Q.setTexture2D(r,0),ce.pixelStorei(37440,r.flipY),ce.pixelStorei(37441,r.premultiplyAlpha),ce.pixelStorei(3317,r.unpackAlignment),t.isDataTexture?ce.texSubImage2D(3553,n,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?ce.compressedTexSubImage2D(3553,n,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):ce.texSubImage2D(3553,n,e.x,e.y,a,s,t.image),0===n&&r.generateMipmaps&&ce.generateMipmap(3553),W.unbindTexture()},this.initTexture=function(e){Q.setTexture2D(e,0),W.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Gs(e){Us.call(this,e)}function js(e,t){this.name="",this.color=new gi(e),this.density=void 0!==t?t:25e-5}function zs(e,t,r){this.name="",this.color=new gi(e),this.near=void 0!==t?t:1,this.far=void 0!==r?r:1e3}function ks(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Tr,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Gr.generateUUID()}Bs.prototype=Object.create(Si.prototype),Bs.prototype.constructor=Bs,Bs.prototype.isMeshDepthMaterial=!0,Bs.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Rs.prototype=Object.create(Si.prototype),Rs.prototype.constructor=Rs,Rs.prototype.isMeshDistanceMaterial=!0,Rs.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Fs.prototype=Object.assign(Object.create(_o.prototype),{constructor:Fs,isArrayCamera:!0}),Ns.prototype=Object.assign(Object.create(_n.prototype),{constructor:Ns,isGroup:!0}),Object.assign(Ls.prototype,{constructor:Ls,getHandSpace:function(){if(null===this._hand&&(this._hand=new Ns,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(var e=0;e<=window.XRHand.LITTLE_PHALANX_TIP;e++){var t=new Ns;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Ns,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Ns,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(e,t,r){var n=null,i=null,o=null,a=this._targetRay,s=this._grip,c=this._hand;if(e)if(e.hand){o=!0;for(var l=0;l<=window.XRHand.LITTLE_PHALANX_TIP;l++)if(e.hand[l]){var u=t.getJointPose(e.hand[l],r),d=c.joints[l];null!==u&&(d.matrix.fromArray(u.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.jointRadius=u.radius),d.visible=null!==u;var p=c.joints[window.XRHand.INDEX_PHALANX_TIP],h=c.joints[window.XRHand.THUMB_PHALANX_TIP],f=p.position.distanceTo(h.position);c.inputState.pinching&&f>.025?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=.015&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}}else null!==a&&null!==(n=t.getPose(e.targetRaySpace,r))&&(a.matrix.fromArray(n.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)),null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,r))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale));return null!==a&&(a.visible=null!==n),null!==s&&(s.visible=null!==i),null!==c&&(c.visible=null!==o),this}}),Object.assign(Ps.prototype,Nr.prototype),Gs.prototype=Object.assign(Object.create(Us.prototype),{constructor:Gs,isWebGL1Renderer:!0}),Object.assign(js.prototype,{isFogExp2:!0,clone:function(){return new js(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(zs.prototype,{isFog:!0,clone:function(){return new zs(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(ks.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ks.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.stride,r*=t.stride;for(var n=0,i=this.stride;n<i;n++)this.array[e+n]=t.array[r+n];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Gr.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new ks(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Gr.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var Vs,Ws=new qr;function Hs(e,t,r,n){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=!0===n}function Xs(e){Si.call(this),this.type="SpriteMaterial",this.color=new gi(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.defineProperties(Hs.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}}),Object.assign(Hs.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,r=this.data.count;t<r;t++)Ws.x=this.getX(t),Ws.y=this.getY(t),Ws.z=this.getZ(t),Ws.applyMatrix4(e),this.setXYZ(t,Ws.x,Ws.y,Ws.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this.data.array[e+3]=i,this},clone:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],r=0;r<this.count;r++)for(var n=r*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[n+i]);return new Ti(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Hs(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],r=0;r<this.count;r++)for(var n=r*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[n+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),Xs.prototype=Object.create(Si.prototype),Xs.prototype.constructor=Xs,Xs.prototype.isSpriteMaterial=!0,Xs.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var Qs=new qr,Zs=new qr,Ys=new qr,Js=new jr,qs=new jr,Ks=new an,$s=new qr,ec=new qr,tc=new qr,rc=new jr,nc=new jr,ic=new jr;function oc(e){if(_n.call(this),this.type="Sprite",void 0===Vs){Vs=new Wi;var t=new ks(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Vs.setIndex([0,1,2,0,2,3]),Vs.setAttribute("position",new Hs(t,3,0,!1)),Vs.setAttribute("uv",new Hs(t,2,3,!1))}this.geometry=Vs,this.material=void 0!==e?e:new Xs,this.center=new jr(.5,.5)}function ac(e,t,r,n,i,o){Js.subVectors(e,r).addScalar(.5).multiply(n),void 0!==i?(qs.x=o*Js.x-i*Js.y,qs.y=i*Js.x+o*Js.y):qs.copy(Js),e.copy(t),e.x+=qs.x,e.y+=qs.y,e.applyMatrix4(Ks)}oc.prototype=Object.assign(Object.create(_n.prototype),{constructor:oc,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Zs.setFromMatrixScale(this.matrixWorld),Ks.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ys.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Zs.multiplyScalar(-Ys.z);var r,n,i=this.material.rotation;0!==i&&(n=Math.cos(i),r=Math.sin(i));var o=this.center;ac($s.set(-.5,-.5,0),Ys,o,Zs,r,n),ac(ec.set(.5,-.5,0),Ys,o,Zs,r,n),ac(tc.set(.5,.5,0),Ys,o,Zs,r,n),rc.set(0,0),nc.set(1,0),ic.set(1,1);var a=e.ray.intersectTriangle($s,ec,tc,!1,Qs);if(null!==a||(ac(ec.set(-.5,.5,0),Ys,o,Zs,r,n),nc.set(0,1),null!==(a=e.ray.intersectTriangle($s,tc,ec,!1,Qs)))){var s=e.ray.origin.distanceTo(Qs);s<e.near||s>e.far||t.push({distance:s,point:Qs.clone(),uv:di.getUV(Qs,$s,ec,tc,rc,nc,ic,new jr),face:null,object:this})}},copy:function(e){return _n.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}});var sc=new qr,cc=new qr;function lc(){_n.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function uc(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),co.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new an,this.bindMatrixInverse=new an}lc.prototype=Object.assign(Object.create(_n.prototype),{constructor:lc,isLOD:!0,copy:function(e){_n.prototype.copy.call(this,e,!1);for(var t=e.levels,r=0,n=t.length;r<n;r++){var i=t[r];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);var r,n=this.levels;for(r=0;r<n.length&&!(t<n[r].distance);r++);return n.splice(r,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){var r,n;for(r=1,n=t.length;r<n&&!(e<t[r].distance);r++);return t[r-1].object}return null},raycast:function(e,t){if(this.levels.length>0){sc.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(sc);this.getObjectForDistance(r).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){sc.setFromMatrixPosition(e.matrixWorld),cc.setFromMatrixPosition(this.matrixWorld);var r,n,i=sc.distanceTo(cc)/e.zoom;for(t[0].object.visible=!0,r=1,n=t.length;r<n&&i>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(this._currentLevel=r-1;r<n;r++)t[r].object.visible=!1}},toJSON:function(e){var t=_n.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,n=0,i=r.length;n<i;n++){var o=r[n];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),uc.prototype=Object.assign(Object.create(co.prototype),{constructor:uc,isSkinnedMesh:!0,copy:function(e){return co.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new Hr,t=this.geometry.attributes.skinWeight,r=0,n=t.count;r<n;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){co.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){var e=new qr,t=new Hr,r=new Hr,n=new qr,i=new an;return function(o,a){var s=this.skeleton,c=this.geometry;t.fromBufferAttribute(c.attributes.skinIndex,o),r.fromBufferAttribute(c.attributes.skinWeight,o),e.fromBufferAttribute(c.attributes.position,o).applyMatrix4(this.bindMatrix),a.set(0,0,0);for(var l=0;l<4;l++){var u=r.getComponent(l);if(0!==u){var d=t.getComponent(l);i.multiplyMatrices(s.bones[d].matrixWorld,s.boneInverses[d]),a.addScaledVector(n.copy(e).applyMatrix4(i),u)}}return a.applyMatrix4(this.bindMatrixInverse)}}()});var dc=new an,pc=new an;function hc(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var r=0,n=this.bones.length;r<n;r++)this.boneInverses.push(new an)}}function fc(){_n.call(this),this.type="Bone"}Object.assign(hc.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var r=new an;this.bones[e]&&r.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(r)}},pose:function(){for(var e=0,t=this.bones.length;e<t;e++){var r=this.bones[e];r&&r.matrixWorld.getInverse(this.boneInverses[e])}for(var n=0,i=this.bones.length;n<i;n++){var o=this.bones[n];o&&(o.parent&&o.parent.isBone?(o.matrix.getInverse(o.parent.matrixWorld),o.matrix.multiply(o.matrixWorld)):o.matrix.copy(o.matrixWorld),o.matrix.decompose(o.position,o.quaternion,o.scale))}},update:function(){for(var e=this.bones,t=this.boneInverses,r=this.boneMatrices,n=this.boneTexture,i=0,o=e.length;i<o;i++){var a=e[i]?e[i].matrixWorld:pc;dc.multiplyMatrices(a,t[i]),dc.toArray(r,16*i)}void 0!==n&&(n.needsUpdate=!0)},clone:function(){return new hc(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,r=this.bones.length;t<r;t++){var n=this.bones[t];if(n.name===e)return n}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),fc.prototype=Object.assign(Object.create(_n.prototype),{constructor:fc,isBone:!0});var gc=new an,mc=new an,yc=[],vc=new co;function bc(e,t,r){co.call(this,e,t),this.instanceMatrix=new Ti(new Float32Array(16*r),16),this.count=r,this.frustumCulled=!1}function xc(e){Si.call(this),this.type="LineBasicMaterial",this.color=new gi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}bc.prototype=Object.assign(Object.create(co.prototype),{constructor:bc,isInstancedMesh:!0,copy:function(e){return co.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var r=this.matrixWorld,n=this.count;if(vc.geometry=this.geometry,vc.material=this.material,void 0!==vc.material)for(var i=0;i<n;i++){this.getMatrixAt(i,gc),mc.multiplyMatrices(r,gc),vc.matrixWorld=mc,vc.raycast(e,yc);for(var o=0,a=yc.length;o<a;o++){var s=yc[o];s.instanceId=i,s.object=this,t.push(s)}yc.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),xc.prototype=Object.create(Si.prototype),xc.prototype.constructor=xc,xc.prototype.isLineBasicMaterial=!0,xc.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};var Sc=new qr,Ac=new qr,wc=new an,_c=new Jn,Tc=new kn;function Ec(e,t,r){1===r&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),_n.call(this),this.type="Line",this.geometry=void 0!==e?e:new Wi,this.material=void 0!==t?t:new xc,this.updateMorphTargets()}Ec.prototype=Object.assign(Object.create(_n.prototype),{constructor:Ec,isLine:!0,copy:function(e){return _n.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,r=[0],n=1,i=t.count;n<i;n++)Sc.fromBufferAttribute(t,n-1),Ac.fromBufferAttribute(t,n),r[n]=r[n-1],r[n]+=Sc.distanceTo(Ac);e.setAttribute("lineDistance",new Fi(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices,a=e.lineDistances;a[0]=0;for(var s=1,c=o.length;s<c;s++)a[s]=a[s-1],a[s]+=o[s-1].distanceTo(o[s])}return this},raycast:function(e,t){var r=this.geometry,n=this.matrixWorld,i=e.params.Line.threshold;if(null===r.boundingSphere&&r.computeBoundingSphere(),Tc.copy(r.boundingSphere),Tc.applyMatrix4(n),Tc.radius+=i,!1!==e.ray.intersectsSphere(Tc)){wc.getInverse(n),_c.copy(e.ray).applyMatrix4(wc);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new qr,c=new qr,l=new qr,u=new qr,d=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){var p=r.index,h=r.attributes.position.array;if(null!==p)for(var f=p.array,g=0,m=f.length-1;g<m;g+=d){var y=f[g],v=f[g+1];if(s.fromArray(h,3*y),c.fromArray(h,3*v),!(_c.distanceSqToSegment(s,c,u,l)>a)){u.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(u);b<e.near||b>e.far||t.push({distance:b,point:l.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else for(var x=0,S=h.length/3-1;x<S;x+=d)if(s.fromArray(h,3*x),c.fromArray(h,3*x+3),!(_c.distanceSqToSegment(s,c,u,l)>a)){u.applyMatrix4(this.matrixWorld);var A=e.ray.origin.distanceTo(u);A<e.near||A>e.far||t.push({distance:A,point:l.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else if(r.isGeometry)for(var w=r.vertices,_=w.length,T=0;T<_-1;T+=d)if(!(_c.distanceSqToSegment(w[T],w[T+1],u,l)>a)){u.applyMatrix4(this.matrixWorld);var E=e.ray.origin.distanceTo(u);E<e.near||E>e.far||t.push({distance:E,point:l.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,r=Object.keys(t);if(r.length>0){var n=t[r[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=n.length;i<o;i++){var a=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var Bc=new qr,Rc=new qr;function Mc(e,t){Ec.call(this,e,t),this.type="LineSegments"}function Cc(e,t){Ec.call(this,e,t),this.type="LineLoop"}function Oc(e){Si.call(this),this.type="PointsMaterial",this.color=new gi(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Mc.prototype=Object.assign(Object.create(Ec.prototype),{constructor:Mc,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,r=[],n=0,i=t.count;n<i;n+=2)Bc.fromBufferAttribute(t,n),Rc.fromBufferAttribute(t,n+1),r[n]=0===n?0:r[n-1],r[n+1]=r[n]+Bc.distanceTo(Rc);e.setAttribute("lineDistance",new Fi(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(var o=e.vertices,a=e.lineDistances,s=0,c=o.length;s<c;s+=2)Bc.copy(o[s]),Rc.copy(o[s+1]),a[s]=0===s?0:a[s-1],a[s+1]=a[s]+Bc.distanceTo(Rc);return this}}),Cc.prototype=Object.assign(Object.create(Ec.prototype),{constructor:Cc,isLineLoop:!0}),Oc.prototype=Object.create(Si.prototype),Oc.prototype.constructor=Oc,Oc.prototype.isPointsMaterial=!0,Oc.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var Ic=new an,Fc=new Jn,Nc=new kn,Lc=new qr;function Pc(e,t){_n.call(this),this.type="Points",this.geometry=void 0!==e?e:new Wi,this.material=void 0!==t?t:new Oc,this.updateMorphTargets()}function Dc(e,t,r,n,i,o,a){var s=Fc.distanceSqToPoint(e);if(s<r){var c=new qr;Fc.closestPointToPoint(e,c),c.applyMatrix4(n);var l=i.ray.origin.distanceTo(c);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(s),point:c,index:t,face:null,object:a})}}function Uc(e,t,r,n,i,o,a,s,c){Wr.call(this,e,t,r,n,i,o,a,s,c),this.format=void 0!==a?a:Ue,this.minFilter=void 0!==o?o:xe,this.magFilter=void 0!==i?i:xe,this.generateMipmaps=!1;var l=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){l.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}function Gc(e,t,r,n,i,o,a,s,c,l,u,d){Wr.call(this,null,o,a,s,c,l,n,i,u,d),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function jc(e,t,r,n,i,o,a,s,c){Wr.call(this,e,t,r,n,i,o,a,s,c),this.needsUpdate=!0}function zc(e,t,r,n,i,o,a,s,c,l){if((l=void 0!==l?l:Ve)!==Ve&&l!==We)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&l===Ve&&(r=Re),void 0===r&&l===We&&(r=Pe),Wr.call(this,null,n,i,o,a,s,l,r,c),this.image={width:e,height:t},this.magFilter=void 0!==a?a:ge,this.minFilter=void 0!==s?s:ge,this.flipY=!1,this.generateMipmaps=!1}function kc(e){Wi.call(this),this.type="WireframeGeometry";var t=[],r=[0,0],n={},i=["a","b","c"];if(e&&e.isGeometry){for(var o=e.faces,a=0,s=o.length;a<s;a++)for(var c=o[a],l=0;l<3;l++){var u=c[i[l]],d=c[i[(l+1)%3]];r[0]=Math.min(u,d),r[1]=Math.max(u,d);var p=r[0]+","+r[1];void 0===n[p]&&(n[p]={index1:r[0],index2:r[1]})}for(var h in n){var f=n[h],g=e.vertices[f.index1];t.push(g.x,g.y,g.z),g=e.vertices[f.index2],t.push(g.x,g.y,g.z)}}else if(e&&e.isBufferGeometry){var m=new qr;if(null!==e.index){var y=e.attributes.position,v=e.index,b=e.groups;0===b.length&&(b=[{start:0,count:v.count,materialIndex:0}]);for(var x=0,S=b.length;x<S;++x)for(var A=b[x],w=A.start,_=w,T=w+A.count;_<T;_+=3)for(var E=0;E<3;E++){var B=v.getX(_+E),R=v.getX(_+(E+1)%3);r[0]=Math.min(B,R),r[1]=Math.max(B,R);var M=r[0]+","+r[1];void 0===n[M]&&(n[M]={index1:r[0],index2:r[1]})}for(var C in n){var O=n[C];m.fromBufferAttribute(y,O.index1),t.push(m.x,m.y,m.z),m.fromBufferAttribute(y,O.index2),t.push(m.x,m.y,m.z)}}else for(var I=e.attributes.position,F=0,N=I.count/3;F<N;F++)for(var L=0;L<3;L++){var P=3*F+L;m.fromBufferAttribute(I,P),t.push(m.x,m.y,m.z);var D=3*F+(L+1)%3;m.fromBufferAttribute(I,D),t.push(m.x,m.y,m.z)}}this.setAttribute("position",new Fi(t,3))}function Vc(e,t,r){mo.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:r},this.fromBufferGeometry(new Wc(e,t,r)),this.mergeVertices()}function Wc(e,t,r){Wi.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:r};var n=[],i=[],o=[],a=[],s=1e-5,c=new qr,l=new qr,u=new qr,d=new qr,p=new qr;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var h=t+1,f=0;f<=r;f++)for(var g=f/r,m=0;m<=t;m++){var y=m/t;e(y,g,l),i.push(l.x,l.y,l.z),y-s>=0?(e(y-s,g,u),d.subVectors(l,u)):(e(y+s,g,u),d.subVectors(u,l)),g-s>=0?(e(y,g-s,u),p.subVectors(l,u)):(e(y,g+s,u),p.subVectors(u,l)),c.crossVectors(d,p).normalize(),o.push(c.x,c.y,c.z),a.push(y,g)}for(var v=0;v<r;v++)for(var b=0;b<t;b++){var x=v*h+b,S=v*h+b+1,A=(v+1)*h+b+1,w=(v+1)*h+b;n.push(x,S,w),n.push(S,A,w)}this.setIndex(n),this.setAttribute("position",new Fi(i,3)),this.setAttribute("normal",new Fi(o,3)),this.setAttribute("uv",new Fi(a,2))}function Hc(e,t,r,n){mo.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n},this.fromBufferGeometry(new Xc(e,t,r,n)),this.mergeVertices()}function Xc(e,t,r,n){Wi.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n},r=r||1;var i=[],o=[];function a(e,t,r,n){for(var i=Math.pow(2,n),o=[],a=0;a<=i;a++){o[a]=[];for(var c=e.clone().lerp(r,a/i),l=t.clone().lerp(r,a/i),u=i-a,d=0;d<=u;d++)o[a][d]=0===d&&a===i?c:c.clone().lerp(l,d/u)}for(var p=0;p<i;p++)for(var h=0;h<2*(i-p)-1;h++){var f=Math.floor(h/2);h%2==0?(s(o[p][f+1]),s(o[p+1][f]),s(o[p][f])):(s(o[p][f+1]),s(o[p+1][f+1]),s(o[p+1][f]))}}function s(e){i.push(e.x,e.y,e.z)}function c(t,r){var n=3*t;r.x=e[n+0],r.y=e[n+1],r.z=e[n+2]}function l(e,t,r,n){n<0&&1===e.x&&(o[t]=e.x-1),0===r.x&&0===r.z&&(o[t]=n/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){for(var r=new qr,n=new qr,i=new qr,o=0;o<t.length;o+=3)c(t[o+0],r),c(t[o+1],n),c(t[o+2],i),a(r,n,i,e)}(n=n||0),function(e){for(var t=new qr,r=0;r<i.length;r+=3)t.x=i[r+0],t.y=i[r+1],t.z=i[r+2],t.normalize().multiplyScalar(e),i[r+0]=t.x,i[r+1]=t.y,i[r+2]=t.z}(r),function(){for(var e,t=new qr,r=0;r<i.length;r+=3){t.x=i[r+0],t.y=i[r+1],t.z=i[r+2];var n=u(t)/2/Math.PI+.5,a=(e=t,Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5);o.push(n,1-a)}(function(){for(var e=new qr,t=new qr,r=new qr,n=new qr,a=new jr,s=new jr,c=new jr,d=0,p=0;d<i.length;d+=9,p+=6){e.set(i[d+0],i[d+1],i[d+2]),t.set(i[d+3],i[d+4],i[d+5]),r.set(i[d+6],i[d+7],i[d+8]),a.set(o[p+0],o[p+1]),s.set(o[p+2],o[p+3]),c.set(o[p+4],o[p+5]),n.copy(e).add(t).add(r).divideScalar(3);var h=u(n);l(a,p+0,e,h),l(s,p+2,t,h),l(c,p+4,r,h)}})(),function(){for(var e=0;e<o.length;e+=6){var t=o[e+0],r=o[e+2],n=o[e+4],i=Math.max(t,r,n),a=Math.min(t,r,n);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),r<.2&&(o[e+2]+=1),n<.2&&(o[e+4]+=1))}}()}(),this.setAttribute("position",new Fi(i,3)),this.setAttribute("normal",new Fi(i.slice(),3)),this.setAttribute("uv",new Fi(o,2)),0===n?this.computeVertexNormals():this.normalizeNormals()}function Qc(e,t){mo.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Zc(e,t)),this.mergeVertices()}function Zc(e,t){Xc.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Yc(e,t){mo.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Jc(e,t)),this.mergeVertices()}function Jc(e,t){Xc.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function qc(e,t){mo.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Kc(e,t)),this.mergeVertices()}function Kc(e,t){var r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1];Xc.call(this,n,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function $c(e,t){mo.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new el(e,t)),this.mergeVertices()}function el(e,t){var r=(1+Math.sqrt(5))/2,n=1/r,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n];Xc.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function tl(e,t,r,n,i,o){mo.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:n,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new rl(e,t,r,n,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function rl(e,t,r,n,i){Wi.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:n,closed:i},t=t||64,r=r||1,n=n||8,i=i||!1;var o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a=new qr,s=new qr,c=new jr,l=new qr,u=[],d=[],p=[],h=[];function f(i){l=e.getPointAt(i/t,l);for(var c=o.normals[i],p=o.binormals[i],h=0;h<=n;h++){var f=h/n*Math.PI*2,g=Math.sin(f),m=-Math.cos(f);s.x=m*c.x+g*p.x,s.y=m*c.y+g*p.y,s.z=m*c.z+g*p.z,s.normalize(),d.push(s.x,s.y,s.z),a.x=l.x+r*s.x,a.y=l.y+r*s.y,a.z=l.z+r*s.z,u.push(a.x,a.y,a.z)}}!function(){for(var e=0;e<t;e++)f(e);f(!1===i?t:0),function(){for(var e=0;e<=t;e++)for(var r=0;r<=n;r++)c.x=e/t,c.y=r/n,p.push(c.x,c.y)}(),function(){for(var e=1;e<=t;e++)for(var r=1;r<=n;r++){var i=(n+1)*(e-1)+(r-1),o=(n+1)*e+(r-1),a=(n+1)*e+r,s=(n+1)*(e-1)+r;h.push(i,o,s),h.push(o,a,s)}}()}(),this.setIndex(h),this.setAttribute("position",new Fi(u,3)),this.setAttribute("normal",new Fi(d,3)),this.setAttribute("uv",new Fi(p,2))}function nl(e,t,r,n,i,o,a){mo.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new il(e,t,r,n,i,o)),this.mergeVertices()}function il(e,t,r,n,i,o){Wi.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:i,q:o},e=e||1,t=t||.4,r=Math.floor(r)||64,n=Math.floor(n)||8,i=i||2,o=o||3;for(var a=[],s=[],c=[],l=[],u=new qr,d=new qr,p=new qr,h=new qr,f=new qr,g=new qr,m=new qr,y=0;y<=r;++y){var v=y/r*i*Math.PI*2;M(v,i,o,e,p),M(v+.01,i,o,e,h),g.subVectors(h,p),m.addVectors(h,p),f.crossVectors(g,m),m.crossVectors(f,g),f.normalize(),m.normalize();for(var b=0;b<=n;++b){var x=b/n*Math.PI*2,S=-t*Math.cos(x),A=t*Math.sin(x);u.x=p.x+(S*m.x+A*f.x),u.y=p.y+(S*m.y+A*f.y),u.z=p.z+(S*m.z+A*f.z),s.push(u.x,u.y,u.z),d.subVectors(u,p).normalize(),c.push(d.x,d.y,d.z),l.push(y/r),l.push(b/n)}}for(var w=1;w<=r;w++)for(var _=1;_<=n;_++){var T=(n+1)*(w-1)+(_-1),E=(n+1)*w+(_-1),B=(n+1)*w+_,R=(n+1)*(w-1)+_;a.push(T,E,R),a.push(E,B,R)}function M(e,t,r,n,i){var o=Math.cos(e),a=Math.sin(e),s=r/t*e,c=Math.cos(s);i.x=n*(2+c)*.5*o,i.y=n*(2+c)*a*.5,i.z=n*Math.sin(s)*.5}this.setIndex(a),this.setAttribute("position",new Fi(s,3)),this.setAttribute("normal",new Fi(c,3)),this.setAttribute("uv",new Fi(l,2))}function ol(e,t,r,n,i){mo.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:i},this.fromBufferGeometry(new al(e,t,r,n,i)),this.mergeVertices()}function al(e,t,r,n,i){Wi.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:i},e=e||1,t=t||.4,r=Math.floor(r)||8,n=Math.floor(n)||6,i=i||2*Math.PI;for(var o=[],a=[],s=[],c=[],l=new qr,u=new qr,d=new qr,p=0;p<=r;p++)for(var h=0;h<=n;h++){var f=h/n*i,g=p/r*Math.PI*2;u.x=(e+t*Math.cos(g))*Math.cos(f),u.y=(e+t*Math.cos(g))*Math.sin(f),u.z=t*Math.sin(g),a.push(u.x,u.y,u.z),l.x=e*Math.cos(f),l.y=e*Math.sin(f),d.subVectors(u,l).normalize(),s.push(d.x,d.y,d.z),c.push(h/n),c.push(p/r)}for(var m=1;m<=r;m++)for(var y=1;y<=n;y++){var v=(n+1)*m+y-1,b=(n+1)*(m-1)+y-1,x=(n+1)*(m-1)+y,S=(n+1)*m+y;o.push(v,b,S),o.push(b,x,S)}this.setIndex(o),this.setAttribute("position",new Fi(a,3)),this.setAttribute("normal",new Fi(s,3)),this.setAttribute("uv",new Fi(c,2))}function sl(e,t,r,n,i){var o,a;if(i===function(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,r,n)>0)for(o=t;o<r;o+=n)a=Rl(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=Rl(o,e[o],e[o+1],a);return a&&Al(a,a.next)&&(Ml(a),a=a.next),a}function cl(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!Al(n,n.next)&&0!==Sl(n.prev,n,n.next))n=n.next;else{if(Ml(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function ll(e,t,r,n,i,o,a){if(e){!a&&o&&function(e,t,r,n){var i=e;do{null===i.z&&(i.z=yl(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,o,a,s,c,l=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,s=0,t=0;t<l&&(s++,n=n.nextZ);t++);for(c=l;s>0||c>0&&n;)0!==s&&(0===c||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,c--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(a>1)}(i)}(e,n,i,o);for(var s,c,l=e;e.prev!==e.next;)if(s=e.prev,c=e.next,o?dl(e,n,i,o):ul(e))t.push(s.i/r),t.push(e.i/r),t.push(c.i/r),Ml(e),e=c.next,l=c.next;else if((e=c)===l){a?1===a?ll(e=pl(cl(e),t,r),t,r,n,i,o,2):2===a&&hl(e,t,r,n,i,o):ll(cl(e),t,r,n,i,o,1);break}}}function ul(e){var t=e.prev,r=e,n=e.next;if(Sl(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(bl(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Sl(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function dl(e,t,r,n){var i=e.prev,o=e,a=e.next;if(Sl(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,c=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,d=yl(s,c,t,r,n),p=yl(l,u,t,r,n),h=e.prevZ,f=e.nextZ;h&&h.z>=d&&f&&f.z<=p;){if(h!==e.prev&&h!==e.next&&bl(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Sl(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,f!==e.prev&&f!==e.next&&bl(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Sl(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;h&&h.z>=d;){if(h!==e.prev&&h!==e.next&&bl(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Sl(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;f&&f.z<=p;){if(f!==e.prev&&f!==e.next&&bl(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Sl(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function pl(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!Al(i,o)&&wl(i,n,n.next,o)&&El(i,o)&&El(o,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(o.i/r),Ml(n),Ml(n.next),n=e=o),n=n.next}while(n!==e);return cl(n)}function hl(e,t,r,n,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&xl(a,s)){var c=Bl(a,s);return a=cl(a,a.next),c=cl(c,c.next),ll(a,t,r,n,i,o),void ll(c,t,r,n,i,o)}s=s.next}a=a.next}while(a!==e)}function fl(e,t){return e.x-t.x}function gl(e,t){if(t=function(e,t){var r,n=t,i=e.x,o=e.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===a)return r;var c,l=r,u=r.x,d=r.y,p=1/0;n=r;do{i>=n.x&&n.x>=u&&i!==n.x&&bl(o<d?i:a,o,u,d,o<d?a:i,o,n.x,n.y)&&(c=Math.abs(o-n.y)/(i-n.x),El(n,e)&&(c<p||c===p&&(n.x>r.x||n.x===r.x&&ml(r,n)))&&(r=n,p=c)),n=n.next}while(n!==l);return r}(e,t)){var r=Bl(t,e);cl(t,t.next),cl(r,r.next)}}function ml(e,t){return Sl(e.prev,e,t.prev)<0&&Sl(t.next,e,e.next)<0}function yl(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function vl(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function bl(e,t,r,n,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(n-s)-(r-a)*(t-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function xl(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&wl(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(El(e,t)&&El(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(Sl(e.prev,e,t.prev)||Sl(e,t.prev,t))||Al(e,t)&&Sl(e.prev,e,e.next)>0&&Sl(t.prev,t,t.next)>0)}function Sl(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Al(e,t){return e.x===t.x&&e.y===t.y}function wl(e,t,r,n){var i=Tl(Sl(e,t,r)),o=Tl(Sl(e,t,n)),a=Tl(Sl(r,n,e)),s=Tl(Sl(r,n,t));return i!==o&&a!==s||!(0!==i||!_l(e,r,t))||!(0!==o||!_l(e,n,t))||!(0!==a||!_l(r,e,n))||!(0!==s||!_l(r,t,n))}function _l(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Tl(e){return e>0?1:e<0?-1:0}function El(e,t){return Sl(e.prev,e,e.next)<0?Sl(e,t,e.next)>=0&&Sl(e,e.prev,t)>=0:Sl(e,t,e.prev)<0||Sl(e,e.next,t)<0}function Bl(e,t){var r=new Cl(e.i,e.x,e.y),n=new Cl(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function Rl(e,t,r,n){var i=new Cl(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Ml(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Cl(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Pc.prototype=Object.assign(Object.create(_n.prototype),{constructor:Pc,isPoints:!0,copy:function(e){return _n.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){var r=this.geometry,n=this.matrixWorld,i=e.params.Points.threshold;if(null===r.boundingSphere&&r.computeBoundingSphere(),Nc.copy(r.boundingSphere),Nc.applyMatrix4(n),Nc.radius+=i,!1!==e.ray.intersectsSphere(Nc)){Ic.getInverse(n),Fc.copy(e.ray).applyMatrix4(Ic);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(r.isBufferGeometry){var s=r.index,c=r.attributes.position.array;if(null!==s)for(var l=s.array,u=0,d=l.length;u<d;u++){var p=l[u];Lc.fromArray(c,3*p),Dc(Lc,p,a,n,e,t,this)}else for(var h=0,f=c.length/3;h<f;h++)Lc.fromArray(c,3*h),Dc(Lc,h,a,n,e,t,this)}else for(var g=r.vertices,m=0,y=g.length;m<y;m++)Dc(g[m],m,a,n,e,t,this)}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,r=Object.keys(t);if(r.length>0){var n=t[r[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=n.length;i<o;i++){var a=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),Uc.prototype=Object.assign(Object.create(Wr.prototype),{constructor:Uc,isVideoTexture:!0,update:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Gc.prototype=Object.create(Wr.prototype),Gc.prototype.constructor=Gc,Gc.prototype.isCompressedTexture=!0,jc.prototype=Object.create(Wr.prototype),jc.prototype.constructor=jc,jc.prototype.isCanvasTexture=!0,zc.prototype=Object.create(Wr.prototype),zc.prototype.constructor=zc,zc.prototype.isDepthTexture=!0,kc.prototype=Object.create(Wi.prototype),kc.prototype.constructor=kc,Vc.prototype=Object.create(mo.prototype),Vc.prototype.constructor=Vc,Wc.prototype=Object.create(Wi.prototype),Wc.prototype.constructor=Wc,Hc.prototype=Object.create(mo.prototype),Hc.prototype.constructor=Hc,Xc.prototype=Object.create(Wi.prototype),Xc.prototype.constructor=Xc,Qc.prototype=Object.create(mo.prototype),Qc.prototype.constructor=Qc,Zc.prototype=Object.create(Xc.prototype),Zc.prototype.constructor=Zc,Yc.prototype=Object.create(mo.prototype),Yc.prototype.constructor=Yc,Jc.prototype=Object.create(Xc.prototype),Jc.prototype.constructor=Jc,qc.prototype=Object.create(mo.prototype),qc.prototype.constructor=qc,Kc.prototype=Object.create(Xc.prototype),Kc.prototype.constructor=Kc,$c.prototype=Object.create(mo.prototype),$c.prototype.constructor=$c,el.prototype=Object.create(Xc.prototype),el.prototype.constructor=el,tl.prototype=Object.create(mo.prototype),tl.prototype.constructor=tl,rl.prototype=Object.create(Wi.prototype),rl.prototype.constructor=rl,rl.prototype.toJSON=function(){var e=Wi.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},nl.prototype=Object.create(mo.prototype),nl.prototype.constructor=nl,il.prototype=Object.create(Wi.prototype),il.prototype.constructor=il,ol.prototype=Object.create(mo.prototype),ol.prototype.constructor=ol,al.prototype=Object.create(Wi.prototype),al.prototype.constructor=al;var Ol={area:function(e){for(var t=e.length,r=0,n=t-1,i=0;i<t;n=i++)r+=e[n].x*e[i].y-e[i].x*e[n].y;return.5*r},isClockWise:function(e){return Ol.area(e)<0},triangulateShape:function(e,t){var r=[],n=[],i=[];Il(e),Fl(r,e);var o=e.length;t.forEach(Il);for(var a=0;a<t.length;a++)n.push(o),o+=t[a].length,Fl(r,t[a]);for(var s=function(e,t,r){r=r||2;var n,i,o,a,s,c,l,u=t&&t.length,d=u?t[0]*r:e.length,p=sl(e,0,d,r,!0),h=[];if(!p||p.next===p.prev)return h;if(u&&(p=function(e,t,r,n){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=sl(e,t[i]*n,i<o-1?t[i+1]*n:e.length,n,!1))===a.next&&(a.steiner=!0),s.push(vl(a));for(s.sort(fl),i=0;i<s.length;i++)gl(s[i],r),r=cl(r,r.next);return r}(e,t,p,r)),e.length>80*r){n=o=e[0],i=a=e[1];for(var f=r;f<d;f+=r)(s=e[f])<n&&(n=s),(c=e[f+1])<i&&(i=c),s>o&&(o=s),c>a&&(a=c);l=0!==(l=Math.max(o-n,a-i))?1/l:0}return ll(p,h,r,n,i,l),h}(r,n),c=0;c<s.length;c+=3)i.push(s.slice(c,c+3));return i}};function Il(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Fl(e,t){for(var r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}function Nl(e,t){mo.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Ll(e,t)),this.mergeVertices()}function Ll(e,t){Wi.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var r=this,n=[],i=[],o=0,a=e.length;o<a;o++)s(e[o]);function s(e){var o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,c=void 0!==t.depth?t.depth:100,l=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,d=void 0!==t.bevelSize?t.bevelSize:u-2,p=void 0!==t.bevelOffset?t.bevelOffset:0,h=void 0!==t.bevelSegments?t.bevelSegments:3,f=t.extrudePath,g=void 0!==t.UVGenerator?t.UVGenerator:Pl;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=t.amount);var m,y,v,b,x,S=!1;f&&(m=f.getSpacedPoints(s),S=!0,l=!1,y=f.computeFrenetFrames(s,!1),v=new qr,b=new qr,x=new qr),l||(h=0,u=0,d=0,p=0);var A=e.extractPoints(a),w=A.shape,_=A.holes;if(!Ol.isClockWise(w)){w=w.reverse();for(var T=0,E=_.length;T<E;T++){var B=_[T];Ol.isClockWise(B)&&(_[T]=B.reverse())}}for(var R=Ol.triangulateShape(w,_),M=w,C=0,O=_.length;C<O;C++){var I=_[C];w=w.concat(I)}function F(e,t,r){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(r).add(e)}var N=w.length,L=R.length;function P(e,t,r){var n,i,o,a=e.x-t.x,s=e.y-t.y,c=r.x-e.x,l=r.y-e.y,u=a*a+s*s,d=a*l-s*c;if(Math.abs(d)>Number.EPSILON){var p=Math.sqrt(u),h=Math.sqrt(c*c+l*l),f=t.x-s/p,g=t.y+a/p,m=((r.x-l/h-f)*l-(r.y+c/h-g)*c)/(a*l-s*c),y=(n=f+a*m-e.x)*n+(i=g+s*m-e.y)*i;if(y<=2)return new jr(n,i);o=Math.sqrt(y/2)}else{var v=!1;a>Number.EPSILON?c>Number.EPSILON&&(v=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(v=!0):Math.sign(s)===Math.sign(l)&&(v=!0),v?(n=-s,i=a,o=Math.sqrt(u)):(n=a,i=s,o=Math.sqrt(u/2))}return new jr(n/o,i/o)}for(var D=[],U=0,G=M.length,j=G-1,z=U+1;U<G;U++,j++,z++)j===G&&(j=0),z===G&&(z=0),D[U]=P(M[U],M[j],M[z]);for(var k,V=[],W=D.concat(),H=0,X=_.length;H<X;H++){var Q=_[H];k=[];for(var Z=0,Y=Q.length,J=Y-1,q=Z+1;Z<Y;Z++,J++,q++)J===Y&&(J=0),q===Y&&(q=0),k[Z]=P(Q[Z],Q[J],Q[q]);V.push(k),W=W.concat(k)}for(var K=0;K<h;K++){for(var $=K/h,ee=u*Math.cos($*Math.PI/2),te=d*Math.sin($*Math.PI/2)+p,re=0,ne=M.length;re<ne;re++){var ie=F(M[re],D[re],te);Oe(ie.x,ie.y,-ee)}for(var oe=0,ae=_.length;oe<ae;oe++){var se=_[oe];k=V[oe];for(var ce=0,le=se.length;ce<le;ce++){var ue=F(se[ce],k[ce],te);Oe(ue.x,ue.y,-ee)}}}for(var de=d+p,pe=0;pe<N;pe++){var he=l?F(w[pe],W[pe],de):w[pe];S?(b.copy(y.normals[0]).multiplyScalar(he.x),v.copy(y.binormals[0]).multiplyScalar(he.y),x.copy(m[0]).add(b).add(v),Oe(x.x,x.y,x.z)):Oe(he.x,he.y,0)}for(var fe=1;fe<=s;fe++)for(var ge=0;ge<N;ge++){var me=l?F(w[ge],W[ge],de):w[ge];S?(b.copy(y.normals[fe]).multiplyScalar(me.x),v.copy(y.binormals[fe]).multiplyScalar(me.y),x.copy(m[fe]).add(b).add(v),Oe(x.x,x.y,x.z)):Oe(me.x,me.y,c/s*fe)}for(var ye=h-1;ye>=0;ye--){for(var ve=ye/h,be=u*Math.cos(ve*Math.PI/2),xe=d*Math.sin(ve*Math.PI/2)+p,Se=0,Ae=M.length;Se<Ae;Se++){var we=F(M[Se],D[Se],xe);Oe(we.x,we.y,c+be)}for(var _e=0,Te=_.length;_e<Te;_e++){var Ee=_[_e];k=V[_e];for(var Be=0,Re=Ee.length;Be<Re;Be++){var Me=F(Ee[Be],k[Be],xe);S?Oe(Me.x,Me.y+m[s-1].y,m[s-1].x+be):Oe(Me.x,Me.y,c+be)}}}function Ce(e,t){for(var r=e.length;--r>=0;){var n=r,i=r-1;i<0&&(i=e.length-1);for(var o=0,a=s+2*h;o<a;o++){var c=N*o,l=N*(o+1);Fe(t+n+c,t+i+c,t+i+l,t+n+l)}}}function Oe(e,t,r){o.push(e),o.push(t),o.push(r)}function Ie(e,t,i){Ne(e),Ne(t),Ne(i);var o=n.length/3,a=g.generateTopUV(r,n,o-3,o-2,o-1);Le(a[0]),Le(a[1]),Le(a[2])}function Fe(e,t,i,o){Ne(e),Ne(t),Ne(o),Ne(t),Ne(i),Ne(o);var a=n.length/3,s=g.generateSideWallUV(r,n,a-6,a-3,a-2,a-1);Le(s[0]),Le(s[1]),Le(s[3]),Le(s[1]),Le(s[2]),Le(s[3])}function Ne(e){n.push(o[3*e+0]),n.push(o[3*e+1]),n.push(o[3*e+2])}function Le(e){i.push(e.x),i.push(e.y)}!function(){var e=n.length/3;if(l){for(var t=0,i=N*t,o=0;o<L;o++){var a=R[o];Ie(a[2]+i,a[1]+i,a[0]+i)}i=N*(t=s+2*h);for(var c=0;c<L;c++){var u=R[c];Ie(u[0]+i,u[1]+i,u[2]+i)}}else{for(var d=0;d<L;d++){var p=R[d];Ie(p[2],p[1],p[0])}for(var f=0;f<L;f++){var g=R[f];Ie(g[0]+N*s,g[1]+N*s,g[2]+N*s)}}r.addGroup(e,n.length/3-e,0)}(),function(){var e=n.length/3,t=0;Ce(M,t),t+=M.length;for(var i=0,o=_.length;i<o;i++){var a=_[i];Ce(a,t),t+=a.length}r.addGroup(e,n.length/3-e,1)}()}this.setAttribute("position",new Fi(n,3)),this.setAttribute("uv",new Fi(i,2)),this.computeVertexNormals()}Nl.prototype=Object.create(mo.prototype),Nl.prototype.constructor=Nl,Nl.prototype.toJSON=function(){var e=mo.prototype.toJSON.call(this);return Dl(this.parameters.shapes,this.parameters.options,e)},Ll.prototype=Object.create(Wi.prototype),Ll.prototype.constructor=Ll,Ll.prototype.toJSON=function(){var e=Wi.prototype.toJSON.call(this);return Dl(this.parameters.shapes,this.parameters.options,e)};var Pl={generateTopUV:function(e,t,r,n,i){var o=t[3*r],a=t[3*r+1],s=t[3*n],c=t[3*n+1],l=t[3*i],u=t[3*i+1];return[new jr(o,a),new jr(s,c),new jr(l,u)]},generateSideWallUV:function(e,t,r,n,i,o){var a=t[3*r],s=t[3*r+1],c=t[3*r+2],l=t[3*n],u=t[3*n+1],d=t[3*n+2],p=t[3*i],h=t[3*i+1],f=t[3*i+2],g=t[3*o],m=t[3*o+1],y=t[3*o+2];return Math.abs(s-u)<.01?[new jr(a,1-c),new jr(l,1-d),new jr(p,1-f),new jr(g,1-y)]:[new jr(s,1-c),new jr(u,1-d),new jr(h,1-f),new jr(m,1-y)]}};function Dl(e,t,r){if(r.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var o=e[n];r.shapes.push(o.uuid)}else r.shapes.push(e.uuid);return void 0!==t.extrudePath&&(r.options.extrudePath=t.extrudePath.toJSON()),r}function Ul(e,t){mo.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Gl(e,t)),this.mergeVertices()}function Gl(e,t){var r=(t=t||{}).font;if(!r||!r.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new mo;var n=r.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Ll.call(this,n,t),this.type="TextBufferGeometry"}function jl(e,t,r,n,i,o,a){mo.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new zl(e,t,r,n,i,o,a)),this.mergeVertices()}function zl(e,t,r,n,i,o,a){Wi.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;for(var s=Math.min(o+a,Math.PI),c=0,l=[],u=new qr,d=new qr,p=[],h=[],f=[],g=[],m=0;m<=r;m++){var y=[],v=m/r,b=0;0==m&&0==o?b=.5/t:m==r&&s==Math.PI&&(b=-.5/t);for(var x=0;x<=t;x++){var S=x/t;u.x=-e*Math.cos(n+S*i)*Math.sin(o+v*a),u.y=e*Math.cos(o+v*a),u.z=e*Math.sin(n+S*i)*Math.sin(o+v*a),h.push(u.x,u.y,u.z),d.copy(u).normalize(),f.push(d.x,d.y,d.z),g.push(S+b,1-v),y.push(c++)}l.push(y)}for(var A=0;A<r;A++)for(var w=0;w<t;w++){var _=l[A][w+1],T=l[A][w],E=l[A+1][w],B=l[A+1][w+1];(0!==A||o>0)&&p.push(_,T,B),(A!==r-1||s<Math.PI)&&p.push(T,E,B)}this.setIndex(p),this.setAttribute("position",new Fi(h,3)),this.setAttribute("normal",new Fi(f,3)),this.setAttribute("uv",new Fi(g,2))}function kl(e,t,r,n,i,o){mo.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Vl(e,t,r,n,i,o)),this.mergeVertices()}function Vl(e,t,r,n,i,o){Wi.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,r=void 0!==r?Math.max(3,r):8;for(var a=[],s=[],c=[],l=[],u=e,d=(t-e)/(n=void 0!==n?Math.max(1,n):1),p=new qr,h=new jr,f=0;f<=n;f++){for(var g=0;g<=r;g++){var m=i+g/r*o;p.x=u*Math.cos(m),p.y=u*Math.sin(m),s.push(p.x,p.y,p.z),c.push(0,0,1),h.x=(p.x/t+1)/2,h.y=(p.y/t+1)/2,l.push(h.x,h.y)}u+=d}for(var y=0;y<n;y++)for(var v=y*(r+1),b=0;b<r;b++){var x=b+v,S=x,A=x+r+1,w=x+r+2,_=x+1;a.push(S,A,_),a.push(A,w,_)}this.setIndex(a),this.setAttribute("position",new Fi(s,3)),this.setAttribute("normal",new Fi(c,3)),this.setAttribute("uv",new Fi(l,2))}function Wl(e,t,r,n){mo.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},this.fromBufferGeometry(new Hl(e,t,r,n)),this.mergeVertices()}function Hl(e,t,r,n){Wi.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},t=Math.floor(t)||12,r=r||0,n=n||2*Math.PI,n=Gr.clamp(n,0,2*Math.PI);for(var i=[],o=[],a=[],s=1/t,c=new qr,l=new jr,u=0;u<=t;u++)for(var d=r+u*s*n,p=Math.sin(d),h=Math.cos(d),f=0;f<=e.length-1;f++)c.x=e[f].x*p,c.y=e[f].y,c.z=e[f].x*h,o.push(c.x,c.y,c.z),l.x=u/t,l.y=f/(e.length-1),a.push(l.x,l.y);for(var g=0;g<t;g++)for(var m=0;m<e.length-1;m++){var y=m+g*e.length,v=y,b=y+e.length,x=y+e.length+1,S=y+1;i.push(v,b,S),i.push(b,x,S)}if(this.setIndex(i),this.setAttribute("position",new Fi(o,3)),this.setAttribute("uv",new Fi(a,2)),this.computeVertexNormals(),n===2*Math.PI)for(var A=this.attributes.normal.array,w=new qr,_=new qr,T=new qr,E=t*e.length*3,B=0,R=0;B<e.length;B++,R+=3)w.x=A[R+0],w.y=A[R+1],w.z=A[R+2],_.x=A[E+R+0],_.y=A[E+R+1],_.z=A[E+R+2],T.addVectors(w,_).normalize(),A[R+0]=A[E+R+0]=T.x,A[R+1]=A[E+R+1]=T.y,A[R+2]=A[E+R+2]=T.z}function Xl(e,t){mo.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Ql(e,t)),this.mergeVertices()}function Ql(e,t){Wi.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var r=[],n=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(e))l(e);else for(var c=0;c<e.length;c++)l(e[c]),this.addGroup(a,s,c),a+=s,s=0;function l(e){var a=n.length/3,c=e.extractPoints(t),l=c.shape,u=c.holes;!1===Ol.isClockWise(l)&&(l=l.reverse());for(var d=0,p=u.length;d<p;d++){var h=u[d];!0===Ol.isClockWise(h)&&(u[d]=h.reverse())}for(var f=Ol.triangulateShape(l,u),g=0,m=u.length;g<m;g++){var y=u[g];l=l.concat(y)}for(var v=0,b=l.length;v<b;v++){var x=l[v];n.push(x.x,x.y,0),i.push(0,0,1),o.push(x.x,x.y)}for(var S=0,A=f.length;S<A;S++){var w=f[S],_=w[0]+a,T=w[1]+a,E=w[2]+a;r.push(_,T,E),s+=3}}this.setIndex(r),this.setAttribute("position",new Fi(n,3)),this.setAttribute("normal",new Fi(i,3)),this.setAttribute("uv",new Fi(o,2))}function Zl(e,t){if(t.shapes=[],Array.isArray(e))for(var r=0,n=e.length;r<n;r++){var i=e[r];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function Yl(e,t){Wi.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var r,n,i,o,a=[],s=Math.cos(Gr.DEG2RAD*t),c=[0,0],l={},u=["a","b","c"];e.isBufferGeometry?(o=new mo).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var d=o.vertices,p=o.faces,h=0,f=p.length;h<f;h++)for(var g=p[h],m=0;m<3;m++)r=g[u[m]],n=g[u[(m+1)%3]],c[0]=Math.min(r,n),c[1]=Math.max(r,n),void 0===l[i=c[0]+","+c[1]]?l[i]={index1:c[0],index2:c[1],face1:h,face2:void 0}:l[i].face2=h;for(i in l){var y=l[i];if(void 0===y.face2||p[y.face1].normal.dot(p[y.face2].normal)<=s){var v=d[y.index1];a.push(v.x,v.y,v.z),v=d[y.index2],a.push(v.x,v.y,v.z)}}this.setAttribute("position",new Fi(a,3))}function Jl(e,t,r,n,i,o,a,s){mo.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new ql(e,t,r,n,i,o,a,s)),this.mergeVertices()}function ql(e,t,r,n,i,o,a,s){Wi.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var c=this;e=void 0!==e?e:1,t=void 0!==t?t:1,r=r||1,n=Math.floor(n)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var l=[],u=[],d=[],p=[],h=0,f=[],g=r/2,m=0;function y(r){var i,o,f=new jr,y=new qr,v=0,b=!0===r?e:t,x=!0===r?1:-1;i=h;for(var S=1;S<=n;S++)u.push(0,g*x,0),d.push(0,x,0),p.push(.5,.5),h++;o=h;for(var A=0;A<=n;A++){var w=A/n*s+a,_=Math.cos(w),T=Math.sin(w);y.x=b*T,y.y=g*x,y.z=b*_,u.push(y.x,y.y,y.z),d.push(0,x,0),f.x=.5*_+.5,f.y=.5*T*x+.5,p.push(f.x,f.y),h++}for(var E=0;E<n;E++){var B=i+E,R=o+E;!0===r?l.push(R,R+1,B):l.push(R+1,R,B),v+=3}c.addGroup(m,v,!0===r?1:2),m+=v}!function(){for(var o=new qr,y=new qr,v=0,b=(t-e)/r,x=0;x<=i;x++){for(var S=[],A=x/i,w=A*(t-e)+e,_=0;_<=n;_++){var T=_/n,E=T*s+a,B=Math.sin(E),R=Math.cos(E);y.x=w*B,y.y=-A*r+g,y.z=w*R,u.push(y.x,y.y,y.z),o.set(B,b,R).normalize(),d.push(o.x,o.y,o.z),p.push(T,1-A),S.push(h++)}f.push(S)}for(var M=0;M<n;M++)for(var C=0;C<i;C++){var O=f[C][M],I=f[C+1][M],F=f[C+1][M+1],N=f[C][M+1];l.push(O,I,N),l.push(I,F,N),v+=6}c.addGroup(m,v,0),m+=v}(),!1===o&&(e>0&&y(!0),t>0&&y(!1)),this.setIndex(l),this.setAttribute("position",new Fi(u,3)),this.setAttribute("normal",new Fi(d,3)),this.setAttribute("uv",new Fi(p,2))}function Kl(e,t,r,n,i,o,a){Jl.call(this,0,e,t,r,n,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function $l(e,t,r,n,i,o,a){ql.call(this,0,e,t,r,n,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function eu(e,t,r,n){mo.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},this.fromBufferGeometry(new tu(e,t,r,n)),this.mergeVertices()}function tu(e,t,r,n){Wi.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},e=e||1,t=void 0!==t?Math.max(3,t):8,r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;var i=[],o=[],a=[],s=[],c=new qr,l=new jr;o.push(0,0,0),a.push(0,0,1),s.push(.5,.5);for(var u=0,d=3;u<=t;u++,d+=3){var p=r+u/t*n;c.x=e*Math.cos(p),c.y=e*Math.sin(p),o.push(c.x,c.y,c.z),a.push(0,0,1),l.x=(o[d]/e+1)/2,l.y=(o[d+1]/e+1)/2,s.push(l.x,l.y)}for(var h=1;h<=t;h++)i.push(h,h+1,0);this.setIndex(i),this.setAttribute("position",new Fi(o,3)),this.setAttribute("normal",new Fi(a,3)),this.setAttribute("uv",new Fi(s,2))}Ul.prototype=Object.create(mo.prototype),Ul.prototype.constructor=Ul,Gl.prototype=Object.create(Ll.prototype),Gl.prototype.constructor=Gl,jl.prototype=Object.create(mo.prototype),jl.prototype.constructor=jl,zl.prototype=Object.create(Wi.prototype),zl.prototype.constructor=zl,kl.prototype=Object.create(mo.prototype),kl.prototype.constructor=kl,Vl.prototype=Object.create(Wi.prototype),Vl.prototype.constructor=Vl,Wl.prototype=Object.create(mo.prototype),Wl.prototype.constructor=Wl,Hl.prototype=Object.create(Wi.prototype),Hl.prototype.constructor=Hl,Xl.prototype=Object.create(mo.prototype),Xl.prototype.constructor=Xl,Xl.prototype.toJSON=function(){var e=mo.prototype.toJSON.call(this);return Zl(this.parameters.shapes,e)},Ql.prototype=Object.create(Wi.prototype),Ql.prototype.constructor=Ql,Ql.prototype.toJSON=function(){var e=Wi.prototype.toJSON.call(this);return Zl(this.parameters.shapes,e)},Yl.prototype=Object.create(Wi.prototype),Yl.prototype.constructor=Yl,Jl.prototype=Object.create(mo.prototype),Jl.prototype.constructor=Jl,ql.prototype=Object.create(Wi.prototype),ql.prototype.constructor=ql,Kl.prototype=Object.create(Jl.prototype),Kl.prototype.constructor=Kl,$l.prototype=Object.create(ql.prototype),$l.prototype.constructor=$l,eu.prototype=Object.create(mo.prototype),eu.prototype.constructor=eu,tu.prototype=Object.create(Wi.prototype),tu.prototype.constructor=tu;var ru=Object.freeze({__proto__:null,WireframeGeometry:kc,ParametricGeometry:Vc,ParametricBufferGeometry:Wc,TetrahedronGeometry:Qc,TetrahedronBufferGeometry:Zc,OctahedronGeometry:Yc,OctahedronBufferGeometry:Jc,IcosahedronGeometry:qc,IcosahedronBufferGeometry:Kc,DodecahedronGeometry:$c,DodecahedronBufferGeometry:el,PolyhedronGeometry:Hc,PolyhedronBufferGeometry:Xc,TubeGeometry:tl,TubeBufferGeometry:rl,TorusKnotGeometry:nl,TorusKnotBufferGeometry:il,TorusGeometry:ol,TorusBufferGeometry:al,TextGeometry:Ul,TextBufferGeometry:Gl,SphereGeometry:jl,SphereBufferGeometry:zl,RingGeometry:kl,RingBufferGeometry:Vl,PlaneGeometry:No,PlaneBufferGeometry:Lo,LatheGeometry:Wl,LatheBufferGeometry:Hl,ShapeGeometry:Xl,ShapeBufferGeometry:Ql,ExtrudeGeometry:Nl,ExtrudeBufferGeometry:Ll,EdgesGeometry:Yl,ConeGeometry:Kl,ConeBufferGeometry:$l,CylinderGeometry:Jl,CylinderBufferGeometry:ql,CircleGeometry:eu,CircleBufferGeometry:tu,BoxGeometry:yo,BoxBufferGeometry:vo});function nu(e){Si.call(this),this.type="ShadowMaterial",this.color=new gi(0),this.transparent=!0,this.setValues(e)}function iu(e){Ao.call(this,e),this.type="RawShaderMaterial"}function ou(e){Si.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new gi(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sr,this.normalScale=new jr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function au(e){ou.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new jr(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}function su(e){Si.call(this),this.type="MeshPhongMaterial",this.color=new gi(16777215),this.specular=new gi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sr,this.normalScale=new jr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=J,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function cu(e){Si.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new gi(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sr,this.normalScale=new jr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function lu(e){Si.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sr,this.normalScale=new jr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function uu(e){Si.call(this),this.type="MeshLambertMaterial",this.color=new gi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=J,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function du(e){Si.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new gi(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sr,this.normalScale=new jr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function pu(e){xc.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}nu.prototype=Object.create(Si.prototype),nu.prototype.constructor=nu,nu.prototype.isShadowMaterial=!0,nu.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.color.copy(e.color),this},iu.prototype=Object.create(Ao.prototype),iu.prototype.constructor=iu,iu.prototype.isRawShaderMaterial=!0,ou.prototype=Object.create(Si.prototype),ou.prototype.constructor=ou,ou.prototype.isMeshStandardMaterial=!0,ou.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},au.prototype=Object.create(ou.prototype),au.prototype.constructor=au,au.prototype.isMeshPhysicalMaterial=!0,au.prototype.copy=function(e){return ou.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new gi).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this},su.prototype=Object.create(Si.prototype),su.prototype.constructor=su,su.prototype.isMeshPhongMaterial=!0,su.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},cu.prototype=Object.create(Si.prototype),cu.prototype.constructor=cu,cu.prototype.isMeshToonMaterial=!0,cu.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},lu.prototype=Object.create(Si.prototype),lu.prototype.constructor=lu,lu.prototype.isMeshNormalMaterial=!0,lu.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},uu.prototype=Object.create(Si.prototype),uu.prototype.constructor=uu,uu.prototype.isMeshLambertMaterial=!0,uu.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},du.prototype=Object.create(Si.prototype),du.prototype.constructor=du,du.prototype.isMeshMatcapMaterial=!0,du.prototype.copy=function(e){return Si.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},pu.prototype=Object.create(xc.prototype),pu.prototype.constructor=pu,pu.prototype.isLineDashedMaterial=!0,pu.prototype.copy=function(e){return xc.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var hu=Object.freeze({__proto__:null,ShadowMaterial:nu,SpriteMaterial:Xs,RawShaderMaterial:iu,ShaderMaterial:Ao,PointsMaterial:Oc,MeshPhysicalMaterial:au,MeshStandardMaterial:ou,MeshPhongMaterial:su,MeshToonMaterial:cu,MeshNormalMaterial:lu,MeshLambertMaterial:uu,MeshDepthMaterial:Bs,MeshDistanceMaterial:Rs,MeshBasicMaterial:Ai,MeshMatcapMaterial:du,LineDashedMaterial:pu,LineBasicMaterial:xc,Material:Si}),fu={arraySlice:function(e,t,r){return fu.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==r?r:e.length)):e.slice(t,r)},convertArray:function(e,t,r){return!e||!r&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,r=new Array(t),n=0;n!==t;++n)r[n]=n;return r.sort((function(t,r){return e[t]-e[r]})),r},sortedArray:function(e,t,r){for(var n=e.length,i=new e.constructor(n),o=0,a=0;a!==n;++o)for(var s=r[o]*t,c=0;c!==t;++c)i[a++]=e[s+c];return i},flattenJSON:function(e,t,r,n){for(var i=1,o=e[0];void 0!==o&&void 0===o[n];)o=e[i++];if(void 0!==o){var a=o[n];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[n])&&(t.push(o.time),r.push.apply(r,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[n])&&(t.push(o.time),a.toArray(r,r.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[n])&&(t.push(o.time),r.push(a)),o=e[i++]}while(void 0!==o)}},subclip:function(e,t,r,n,i){i=i||30;var o=e.clone();o.name=t;for(var a=[],s=0;s<o.tracks.length;++s){for(var c=o.tracks[s],l=c.getValueSize(),u=[],d=[],p=0;p<c.times.length;++p){var h=c.times[p]*i;if(!(h<r||h>=n)){u.push(c.times[p]);for(var f=0;f<l;++f)d.push(c.values[p*l+f])}}0!==u.length&&(c.times=fu.convertArray(u,c.times.constructor),c.values=fu.convertArray(d,c.values.constructor),a.push(c))}o.tracks=a;for(var g=1/0,m=0;m<o.tracks.length;++m)g>o.tracks[m].times[0]&&(g=o.tracks[m].times[0]);for(var y=0;y<o.tracks.length;++y)o.tracks[y].shift(-1*g);return o.resetDuration(),o},makeClipAdditive:function(e,t,r,n){void 0===t&&(t=0),void 0===r&&(r=e),(void 0===n||n<=0)&&(n=30);for(var i=e.tracks.length,o=t/n,a=function(t){var n=r.tracks[t],i=n.ValueTypeName;if("bool"===i||"string"===i)return"continue";var a=e.tracks.find((function(e){return e.name===n.name&&e.ValueTypeName===i}));if(void 0===a)return"continue";var s=n.getValueSize(),c=n.times.length-1,l=void 0;if(o<=n.times[0])l=fu.arraySlice(n.values,0,n.valueSize);else if(o>=n.times[c]){var u=c*s;l=fu.arraySlice(n.values,u)}else{var d=n.createInterpolant();d.evaluate(o),l=d.resultBuffer}"quaternion"===i&&new Zr(l[0],l[1],l[2],l[3]).normalize().conjugate().toArray(l);for(var p=a.times.length,h=0;h<p;++h){var f=h*s;if("quaternion"===i)Zr.multiplyQuaternionsFlat(a.values,f,l,0,a.values,f);else for(var g=0;g<s;++g)a.values[f+g]-=l[g]}},s=0;s<i;++s)a(s);return e.blendMode=Qt,e}};function gu(e,t,r,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(r),this.sampleValues=t,this.valueSize=r}function mu(e,t,r,n){gu.call(this,e,t,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function yu(e,t,r,n){gu.call(this,e,t,r,n)}function vu(e,t,r,n){gu.call(this,e,t,r,n)}function bu(e,t,r,n){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=fu.convertArray(t,this.TimeBufferType),this.values=fu.convertArray(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}function xu(e,t,r){bu.call(this,e,t,r)}function Su(e,t,r,n){bu.call(this,e,t,r,n)}function Au(e,t,r,n){bu.call(this,e,t,r,n)}function wu(e,t,r,n){gu.call(this,e,t,r,n)}function _u(e,t,r,n){bu.call(this,e,t,r,n)}function Tu(e,t,r,n){bu.call(this,e,t,r,n)}function Eu(e,t,r,n){bu.call(this,e,t,r,n)}function Bu(e,t,r,n){this.name=e,this.tracks=r,this.duration=void 0!==t?t:-1,this.blendMode=void 0!==n?n:Xt,this.uuid=Gr.generateUUID(),this.duration<0&&this.resetDuration()}function Ru(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Au;case"vector":case"vector2":case"vector3":case"vector4":return Eu;case"color":return Su;case"quaternion":return _u;case"bool":case"boolean":return xu;case"string":return Tu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var r=[],n=[];fu.flattenJSON(e.keys,r,n,"value"),e.times=r,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(gu.prototype,{evaluate:function(e){var t=this.parameterPositions,r=this._cachedIndex,n=t[r],i=t[r-1];e:{t:{var o;r:{n:if(!(e<n)){for(var a=r+2;;){if(void 0===n){if(e<i)break n;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,i)}if(r===a)break;if(i=n,e<(n=t[++r]))break t}o=t.length;break r}if(e>=i)break e;var s=t[1];e<s&&(r=2,i=s);for(var c=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(r===c)break;if(n=i,e>=(i=t[--r-1]))break t}o=r,r=0}for(;r<o;){var l=r+o>>>1;e<t[l]?o=l:r=l+1}if(n=t[r],void 0===(i=t[r-1]))return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,i,e)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,e,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n,o=0;o!==n;++o)t[o]=r[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(gu.prototype,{beforeStart_:gu.prototype.copySampleValue_,afterEnd_:gu.prototype.copySampleValue_}),mu.prototype=Object.assign(Object.create(gu.prototype),{constructor:mu,DefaultSettings_:{endingStart:Vt,endingEnd:Vt},intervalChanged_:function(e,t,r){var n=this.parameterPositions,i=e-2,o=e+1,a=n[i],s=n[o];if(void 0===a)switch(this.getSettings_().endingStart){case Wt:i=e,a=2*t-r;break;case Ht:a=t+n[i=n.length-2]-n[i+1];break;default:i=e,a=r}if(void 0===s)switch(this.getSettings_().endingEnd){case Wt:o=e,s=2*r-t;break;case Ht:o=1,s=r+n[1]-n[0];break;default:o=e-1,s=t}var c=.5*(r-t),l=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(s-r),this._offsetPrev=i*l,this._offsetNext=o*l},interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,l=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,p=this._weightNext,h=(r-t)/(n-t),f=h*h,g=f*h,m=-d*g+2*d*f-d*h,y=(1+d)*g+(-1.5-2*d)*f+(-.5+d)*h+1,v=(-1-p)*g+(1.5+p)*f+.5*h,b=p*g-p*f,x=0;x!==a;++x)i[x]=m*o[l+x]+y*o[c+x]+v*o[s+x]+b*o[u+x];return i}}),yu.prototype=Object.assign(Object.create(gu.prototype),{constructor:yu,interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,l=(r-t)/(n-t),u=1-l,d=0;d!==a;++d)i[d]=o[c+d]*u+o[s+d]*l;return i}}),vu.prototype=Object.assign(Object.create(gu.prototype),{constructor:vu,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(bu,{toJSON:function(e){var t,r=e.constructor;if(void 0!==r.toJSON)t=r.toJSON(e);else{t={name:e.name,times:fu.convertArray(e.times,Array),values:fu.convertArray(e.values,Array)};var n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t}}),Object.assign(bu.prototype,{constructor:bu,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:zt,InterpolantFactoryMethodDiscrete:function(e){return new vu(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new yu(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new mu(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case jt:t=this.InterpolantFactoryMethodDiscrete;break;case zt:t=this.InterpolantFactoryMethodLinear;break;case kt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return jt;case this.InterpolantFactoryMethodLinear:return zt;case this.InterpolantFactoryMethodSmooth:return kt}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]*=e;return this},trim:function(e,t){for(var r=this.times,n=r.length,i=0,o=n-1;i!==n&&r[i]<e;)++i;for(;-1!==o&&r[o]>t;)--o;if(++o,0!==i||o!==n){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=fu.arraySlice(r,i,o),this.values=fu.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var r=this.times,n=this.values,i=r.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=r[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==n&&fu.isTypedArray(n))for(var c=0,l=n.length;c!==l;++c){var u=n[c];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,u),e=!1;break}}return e},optimize:function(){for(var e=fu.arraySlice(this.times),t=fu.arraySlice(this.values),r=this.getValueSize(),n=this.getInterpolation()===kt,i=e.length-1,o=1,a=1;a<i;++a){var s=!1,c=e[a];if(c!==e[a+1]&&(1!==a||c!==c[0]))if(n)s=!0;else for(var l=a*r,u=l-r,d=l+r,p=0;p!==r;++p){var h=t[l+p];if(h!==t[u+p]||h!==t[d+p]){s=!0;break}}if(s){if(a!==o){e[o]=e[a];for(var f=a*r,g=o*r,m=0;m!==r;++m)t[g+m]=t[f+m]}++o}}if(i>0){e[o]=e[i];for(var y=i*r,v=o*r,b=0;b!==r;++b)t[v+b]=t[y+b];++o}return o!==e.length?(this.times=fu.arraySlice(e,0,o),this.values=fu.arraySlice(t,0,o*r)):(this.times=e,this.values=t),this},clone:function(){var e=fu.arraySlice(this.times,0),t=fu.arraySlice(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}),xu.prototype=Object.assign(Object.create(bu.prototype),{constructor:xu,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:jt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Su.prototype=Object.assign(Object.create(bu.prototype),{constructor:Su,ValueTypeName:"color"}),Au.prototype=Object.assign(Object.create(bu.prototype),{constructor:Au,ValueTypeName:"number"}),wu.prototype=Object.assign(Object.create(gu.prototype),{constructor:wu,interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(r-t)/(n-t),c=e*a,l=c+a;c!==l;c+=4)Zr.slerpFlat(i,0,o,c-a,o,c,s);return i}}),_u.prototype=Object.assign(Object.create(bu.prototype),{constructor:_u,ValueTypeName:"quaternion",DefaultInterpolation:zt,InterpolantFactoryMethodLinear:function(e){return new wu(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Tu.prototype=Object.assign(Object.create(bu.prototype),{constructor:Tu,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:jt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Eu.prototype=Object.assign(Object.create(bu.prototype),{constructor:Eu,ValueTypeName:"vector"}),Object.assign(Bu,{parse:function(e){for(var t=[],r=e.tracks,n=1/(e.fps||1),i=0,o=r.length;i!==o;++i)t.push(Ru(r[i]).scale(n));return new Bu(e.name,e.duration,t,e.blendMode)},toJSON:function(e){for(var t=[],r=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,o=r.length;i!==o;++i)t.push(bu.toJSON(r[i]));return n},CreateFromMorphTargetSequence:function(e,t,r,n){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],c=[];s.push((a+i-1)%i,a,(a+1)%i),c.push(0,1,0);var l=fu.getKeyframeOrder(s);s=fu.sortedArray(s,1,l),c=fu.sortedArray(c,1,l),n||0!==s[0]||(s.push(i),c.push(c[0])),o.push(new Au(".morphTargetInfluences["+t[a].name+"]",s,c).scale(1/r))}return new Bu(e,-1,o)},findByName:function(e,t){var r=e;if(!Array.isArray(e)){var n=e;r=n.geometry&&n.geometry.animations||n.animations}for(var i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,r){for(var n={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],c=s.name.match(i);if(c&&c.length>1){var l=c[1],u=n[l];u||(n[l]=u=[]),u.push(s)}}var d=[];for(var p in n)d.push(Bu.CreateFromMorphTargetSequence(p,n[p],t,r));return d},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var r=function(e,t,r,n,i){if(0!==r.length){var o=[],a=[];fu.flattenJSON(r,o,a,n),0!==o.length&&i.push(new e(t,o,a))}},n=[],i=e.name||"default",o=e.fps||30,a=e.blendMode,s=e.length||-1,c=e.hierarchy||[],l=0;l<c.length;l++){var u=c[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){var d={},p=void 0;for(p=0;p<u.length;p++)if(u[p].morphTargets)for(var h=0;h<u[p].morphTargets.length;h++)d[u[p].morphTargets[h]]=-1;for(var f in d){for(var g=[],m=[],y=0;y!==u[p].morphTargets.length;++y){var v=u[p];g.push(v.time),m.push(v.morphTarget===f?1:0)}n.push(new Au(".morphTargetInfluence["+f+"]",g,m))}s=d.length*(o||1)}else{var b=".bones["+t[l].name+"]";r(Eu,b+".position",u,"pos",n),r(_u,b+".quaternion",u,"rot",n),r(Eu,b+".scale",u,"scl",n)}}return 0===n.length?null:new Bu(i,s,n,a)}}),Object.assign(Bu.prototype,{resetDuration:function(){for(var e=0,t=0,r=this.tracks.length;t!==r;++t){var n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Bu(this.name,this.duration,e,this.blendMode)}});var Mu={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Cu(e,t,r){var n=this,i=!1,o=0,a=0,s=void 0,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(e){a++,!1===i&&void 0!==n.onStart&&n.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==n.onProgress&&n.onProgress(e,o,a),o===a&&(i=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(e){void 0!==n.onError&&n.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){var t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(var t=0,r=c.length;t<r;t+=2){var n=c[t],i=c[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}var Ou=new Cu;function Iu(e){this.manager=void 0!==e?e:Ou,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Iu.prototype,{load:function(){},loadAsync:function(e,t){var r=this;return new Promise((function(n,i){r.load(e,n,t,i)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var Fu={};function Nu(e){Iu.call(this,e)}function Lu(e){Iu.call(this,e)}function Pu(e){Iu.call(this,e)}function Du(e){Iu.call(this,e)}function Uu(e){Iu.call(this,e)}function Gu(e){Iu.call(this,e)}function ju(e){Iu.call(this,e)}function zu(){this.type="Curve",this.arcLengthDivisions=200}function ku(e,t,r,n,i,o,a,s){zu.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=r||1,this.yRadius=n||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Vu(e,t,r,n,i,o){ku.call(this,e,t,r,r,n,i,o),this.type="ArcCurve"}function Wu(){var e=0,t=0,r=0,n=0;function i(i,o,a,s){e=i,t=a,r=-3*i+3*o-2*a-s,n=2*i-2*o+a+s}return{initCatmullRom:function(e,t,r,n,o){i(t,r,o*(r-e),o*(n-t))},initNonuniformCatmullRom:function(e,t,r,n,o,a,s){var c=(t-e)/o-(r-e)/(o+a)+(r-t)/a,l=(r-t)/a-(n-t)/(a+s)+(n-r)/s;i(t,r,c*=a,l*=a)},calc:function(i){var o=i*i;return e+t*i+r*o+n*(o*i)}}}Nu.prototype=Object.assign(Object.create(Iu.prototype),{constructor:Nu,load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Mu.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0===Fu[e]){var a,s=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var c=s[1],l=!!s[2],u=s[3];u=decodeURIComponent(u),l&&(u=atob(u));try{var d,p=(this.responseType||"").toLowerCase();switch(p){case"arraybuffer":case"blob":for(var h=new Uint8Array(u.length),f=0;f<u.length;f++)h[f]=u.charCodeAt(f);d="blob"===p?new Blob([h.buffer],{type:c}):h.buffer;break;case"document":var g=new DOMParser;d=g.parseFromString(u,c);break;case"json":d=JSON.parse(u);break;default:d=u}setTimeout((function(){t&&t(d),i.manager.itemEnd(e)}),0)}catch(t){setTimeout((function(){n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{for(var m in Fu[e]=[],Fu[e].push({onLoad:t,onProgress:r,onError:n}),(a=new XMLHttpRequest).open("GET",e,!0),a.addEventListener("load",(function(t){var r=this.response,n=Fu[e];if(delete Fu[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Mu.add(e,r);for(var o=0,a=n.length;o<a;o++){var s=n[o];s.onLoad&&s.onLoad(r)}i.manager.itemEnd(e)}else{for(var c=0,l=n.length;c<l;c++){var u=n[c];u.onError&&u.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),a.addEventListener("progress",(function(t){for(var r=Fu[e],n=0,i=r.length;n<i;n++){var o=r[n];o.onProgress&&o.onProgress(t)}}),!1),a.addEventListener("error",(function(t){var r=Fu[e];delete Fu[e];for(var n=0,o=r.length;n<o;n++){var a=r[n];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),a.addEventListener("abort",(function(t){var r=Fu[e];delete Fu[e];for(var n=0,o=r.length;n<o;n++){var a=r[n];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.overrideMimeType&&a.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)a.setRequestHeader(m,this.requestHeader[m]);a.send(null)}return i.manager.itemStart(e),a}Fu[e].push({onLoad:t,onProgress:r,onError:n})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}}),Lu.prototype=Object.assign(Object.create(Iu.prototype),{constructor:Lu,load:function(e,t,r,n){var i=this,o=new Nu(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.load(e,(function(r){try{t(i.parse(JSON.parse(r)))}catch(t){n?n(t):console.error(t),i.manager.itemError(e)}}),r,n)},parse:function(e){for(var t=[],r=0;r<e.length;r++){var n=Bu.parse(e[r]);t.push(n)}return t}}),Pu.prototype=Object.assign(Object.create(Iu.prototype),{constructor:Pu,load:function(e,t,r,n){var i=this,o=[],a=new Gc;a.image=o;var s=new Nu(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader);var c=0;function l(l){s.load(e[l],(function(e){var r=i.parse(e,!0);o[l]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},6===(c+=1)&&(1===r.mipmapCount&&(a.minFilter=xe),a.format=r.format,a.needsUpdate=!0,t&&t(a))}),r,n)}if(Array.isArray(e))for(var u=0,d=e.length;u<d;++u)l(u);else s.load(e,(function(e){var r=i.parse(e,!0);if(r.isCubemap)for(var n=r.mipmaps.length/r.mipmapCount,s=0;s<n;s++){o[s]={mipmaps:[]};for(var c=0;c<r.mipmapCount;c++)o[s].mipmaps.push(r.mipmaps[s*r.mipmapCount+c]),o[s].format=r.format,o[s].width=r.width,o[s].height=r.height}else a.image.width=r.width,a.image.height=r.height,a.mipmaps=r.mipmaps;1===r.mipmapCount&&(a.minFilter=xe),a.format=r.format,a.needsUpdate=!0,t&&t(a)}),r,n);return a}}),Du.prototype=Object.assign(Object.create(Iu.prototype),{constructor:Du,load:function(e,t,r,n){var i=this,o=new Bo,a=new Nu(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.load(e,(function(e){var r=i.parse(e);r&&(void 0!==r.image?o.image=r.image:void 0!==r.data&&(o.image.width=r.width,o.image.height=r.height,o.image.data=r.data),o.wrapS=void 0!==r.wrapS?r.wrapS:he,o.wrapT=void 0!==r.wrapT?r.wrapT:he,o.magFilter=void 0!==r.magFilter?r.magFilter:xe,o.minFilter=void 0!==r.minFilter?r.minFilter:xe,o.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.format&&(o.format=r.format),void 0!==r.type&&(o.type=r.type),void 0!==r.mipmaps&&(o.mipmaps=r.mipmaps,o.minFilter=we),1===r.mipmapCount&&(o.minFilter=xe),o.needsUpdate=!0,t&&t(o,r))}),r,n),o}}),Uu.prototype=Object.assign(Object.create(Iu.prototype),{constructor:Uu,load:function(e,t,r,n){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Mu.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),Mu.add(e,this),t&&t(this),i.manager.itemEnd(e)}function c(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}),Gu.prototype=Object.assign(Object.create(Iu.prototype),{constructor:Gu,load:function(e,t,r,n){var i=new qo,o=new Uu(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(r){o.load(e[r],(function(e){i.images[r]=e,6===++a&&(i.needsUpdate=!0,t&&t(i))}),void 0,n)}for(var c=0;c<e.length;++c)s(c);return i}}),ju.prototype=Object.assign(Object.create(Iu.prototype),{constructor:ju,load:function(e,t,r,n){var i=new Wr,o=new Uu(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(r){i.image=r;var n=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=n?Ue:Ge,i.needsUpdate=!0,void 0!==t&&t(i)}),r,n),i}}),Object.assign(zu.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var r=this.getUtoTmapping(e);return this.getPoint(r,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,r=[],n=this.getPoint(0),i=0;r.push(0);for(var o=1;o<=e;o++)i+=(t=this.getPoint(o/e)).distanceTo(n),r.push(i),n=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var r,n=this.getLengths(),i=0,o=n.length;r=t||e*n[o-1];for(var a,s=0,c=o-1;s<=c;)if((a=n[i=Math.floor(s+(c-s)/2)]-r)<0)s=i+1;else{if(!(a>0)){c=i;break}c=i-1}if(n[i=c]===r)return i/(o-1);var l=n[i];return(i+(r-l)/(n[i+1]-l))/(o-1)},getTangent:function(e,t){var r=e-1e-4,n=e+1e-4;r<0&&(r=0),n>1&&(n=1);var i=this.getPoint(r),o=this.getPoint(n),a=t||(i.isVector2?new jr:new qr);return a.copy(o).sub(i).normalize(),a},getTangentAt:function(e,t){var r=this.getUtoTmapping(e);return this.getTangent(r,t)},computeFrenetFrames:function(e,t){for(var r=new qr,n=[],i=[],o=[],a=new qr,s=new an,c=0;c<=e;c++){var l=c/e;n[c]=this.getTangentAt(l,new qr),n[c].normalize()}i[0]=new qr,o[0]=new qr;var u=Number.MAX_VALUE,d=Math.abs(n[0].x),p=Math.abs(n[0].y),h=Math.abs(n[0].z);d<=u&&(u=d,r.set(1,0,0)),p<=u&&(u=p,r.set(0,1,0)),h<=u&&r.set(0,0,1),a.crossVectors(n[0],r).normalize(),i[0].crossVectors(n[0],a),o[0].crossVectors(n[0],i[0]);for(var f=1;f<=e;f++){if(i[f]=i[f-1].clone(),o[f]=o[f-1].clone(),a.crossVectors(n[f-1],n[f]),a.length()>Number.EPSILON){a.normalize();var g=Math.acos(Gr.clamp(n[f-1].dot(n[f]),-1,1));i[f].applyMatrix4(s.makeRotationAxis(a,g))}o[f].crossVectors(n[f],i[f])}if(!0===t){var m=Math.acos(Gr.clamp(i[0].dot(i[e]),-1,1));m/=e,n[0].dot(a.crossVectors(i[0],i[e]))>0&&(m=-m);for(var y=1;y<=e;y++)i[y].applyMatrix4(s.makeRotationAxis(n[y],m*y)),o[y].crossVectors(n[y],i[y])}return{tangents:n,normals:i,binormals:o}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),ku.prototype=Object.create(zu.prototype),ku.prototype.constructor=ku,ku.prototype.isEllipseCurve=!0,ku.prototype.getPoint=function(e,t){for(var r=t||new jr,n=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=o?0:n),!0!==this.aClockwise||o||(i===n?i=-n:i-=n);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var l=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=s-this.aX,p=c-this.aY;s=d*l-p*u+this.aX,c=d*u+p*l+this.aY}return r.set(s,c)},ku.prototype.copy=function(e){return zu.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},ku.prototype.toJSON=function(){var e=zu.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},ku.prototype.fromJSON=function(e){return zu.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Vu.prototype=Object.create(ku.prototype),Vu.prototype.constructor=Vu,Vu.prototype.isArcCurve=!0;var Hu=new qr,Xu=new Wu,Qu=new Wu,Zu=new Wu;function Yu(e,t,r,n){zu.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=r||"centripetal",this.tension=void 0!==n?n:.5}function Ju(e,t,r,n,i){var o=.5*(n-t),a=.5*(i-r),s=e*e;return(2*r-2*n+o+a)*(e*s)+(-3*r+3*n-2*o-a)*s+o*e+r}function qu(e,t,r,n){return function(e,t){var r=1-e;return r*r*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,r)+function(e,t){return e*e*t}(e,n)}function Ku(e,t,r,n,i){return function(e,t){var r=1-e;return r*r*r*t}(e,t)+function(e,t){var r=1-e;return 3*r*r*e*t}(e,r)+function(e,t){return 3*(1-e)*e*e*t}(e,n)+function(e,t){return e*e*e*t}(e,i)}function $u(e,t,r,n){zu.call(this),this.type="CubicBezierCurve",this.v0=e||new jr,this.v1=t||new jr,this.v2=r||new jr,this.v3=n||new jr}function ed(e,t,r,n){zu.call(this),this.type="CubicBezierCurve3",this.v0=e||new qr,this.v1=t||new qr,this.v2=r||new qr,this.v3=n||new qr}function td(e,t){zu.call(this),this.type="LineCurve",this.v1=e||new jr,this.v2=t||new jr}function rd(e,t){zu.call(this),this.type="LineCurve3",this.v1=e||new qr,this.v2=t||new qr}function nd(e,t,r){zu.call(this),this.type="QuadraticBezierCurve",this.v0=e||new jr,this.v1=t||new jr,this.v2=r||new jr}function id(e,t,r){zu.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new qr,this.v1=t||new qr,this.v2=r||new qr}function od(e){zu.call(this),this.type="SplineCurve",this.points=e||[]}Yu.prototype=Object.create(zu.prototype),Yu.prototype.constructor=Yu,Yu.prototype.isCatmullRomCurve3=!0,Yu.prototype.getPoint=function(e,t){var r,n,i,o,a=t||new qr,s=this.points,c=s.length,l=(c-(this.closed?0:1))*e,u=Math.floor(l),d=l-u;if(this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/c)+1)*c:0===d&&u===c-1&&(u=c-2,d=1),this.closed||u>0?r=s[(u-1)%c]:(Hu.subVectors(s[0],s[1]).add(s[0]),r=Hu),n=s[u%c],i=s[(u+1)%c],this.closed||u+2<c?o=s[(u+2)%c]:(Hu.subVectors(s[c-1],s[c-2]).add(s[c-1]),o=Hu),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,h=Math.pow(r.distanceToSquared(n),p),f=Math.pow(n.distanceToSquared(i),p),g=Math.pow(i.distanceToSquared(o),p);f<1e-4&&(f=1),h<1e-4&&(h=f),g<1e-4&&(g=f),Xu.initNonuniformCatmullRom(r.x,n.x,i.x,o.x,h,f,g),Qu.initNonuniformCatmullRom(r.y,n.y,i.y,o.y,h,f,g),Zu.initNonuniformCatmullRom(r.z,n.z,i.z,o.z,h,f,g)}else"catmullrom"===this.curveType&&(Xu.initCatmullRom(r.x,n.x,i.x,o.x,this.tension),Qu.initCatmullRom(r.y,n.y,i.y,o.y,this.tension),Zu.initCatmullRom(r.z,n.z,i.z,o.z,this.tension));return a.set(Xu.calc(d),Qu.calc(d),Zu.calc(d)),a},Yu.prototype.copy=function(e){zu.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Yu.prototype.toJSON=function(){var e=zu.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Yu.prototype.fromJSON=function(e){zu.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push((new qr).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},$u.prototype=Object.create(zu.prototype),$u.prototype.constructor=$u,$u.prototype.isCubicBezierCurve=!0,$u.prototype.getPoint=function(e,t){var r=t||new jr,n=this.v0,i=this.v1,o=this.v2,a=this.v3;return r.set(Ku(e,n.x,i.x,o.x,a.x),Ku(e,n.y,i.y,o.y,a.y)),r},$u.prototype.copy=function(e){return zu.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},$u.prototype.toJSON=function(){var e=zu.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},$u.prototype.fromJSON=function(e){return zu.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},ed.prototype=Object.create(zu.prototype),ed.prototype.constructor=ed,ed.prototype.isCubicBezierCurve3=!0,ed.prototype.getPoint=function(e,t){var r=t||new qr,n=this.v0,i=this.v1,o=this.v2,a=this.v3;return r.set(Ku(e,n.x,i.x,o.x,a.x),Ku(e,n.y,i.y,o.y,a.y),Ku(e,n.z,i.z,o.z,a.z)),r},ed.prototype.copy=function(e){return zu.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},ed.prototype.toJSON=function(){var e=zu.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},ed.prototype.fromJSON=function(e){return zu.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},td.prototype=Object.create(zu.prototype),td.prototype.constructor=td,td.prototype.isLineCurve=!0,td.prototype.getPoint=function(e,t){var r=t||new jr;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r},td.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},td.prototype.getTangent=function(e,t){var r=t||new jr;return r.copy(this.v2).sub(this.v1).normalize(),r},td.prototype.copy=function(e){return zu.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},td.prototype.toJSON=function(){var e=zu.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},td.prototype.fromJSON=function(e){return zu.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},rd.prototype=Object.create(zu.prototype),rd.prototype.constructor=rd,rd.prototype.isLineCurve3=!0,rd.prototype.getPoint=function(e,t){var r=t||new qr;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r},rd.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},rd.prototype.copy=function(e){return zu.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},rd.prototype.toJSON=function(){var e=zu.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},rd.prototype.fromJSON=function(e){return zu.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},nd.prototype=Object.create(zu.prototype),nd.prototype.constructor=nd,nd.prototype.isQuadraticBezierCurve=!0,nd.prototype.getPoint=function(e,t){var r=t||new jr,n=this.v0,i=this.v1,o=this.v2;return r.set(qu(e,n.x,i.x,o.x),qu(e,n.y,i.y,o.y)),r},nd.prototype.copy=function(e){return zu.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},nd.prototype.toJSON=function(){var e=zu.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},nd.prototype.fromJSON=function(e){return zu.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},id.prototype=Object.create(zu.prototype),id.prototype.constructor=id,id.prototype.isQuadraticBezierCurve3=!0,id.prototype.getPoint=function(e,t){var r=t||new qr,n=this.v0,i=this.v1,o=this.v2;return r.set(qu(e,n.x,i.x,o.x),qu(e,n.y,i.y,o.y),qu(e,n.z,i.z,o.z)),r},id.prototype.copy=function(e){return zu.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},id.prototype.toJSON=function(){var e=zu.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},id.prototype.fromJSON=function(e){return zu.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},od.prototype=Object.create(zu.prototype),od.prototype.constructor=od,od.prototype.isSplineCurve=!0,od.prototype.getPoint=function(e,t){var r=t||new jr,n=this.points,i=(n.length-1)*e,o=Math.floor(i),a=i-o,s=n[0===o?o:o-1],c=n[o],l=n[o>n.length-2?n.length-1:o+1],u=n[o>n.length-3?n.length-1:o+2];return r.set(Ju(a,s.x,c.x,l.x,u.x),Ju(a,s.y,c.y,l.y,u.y)),r},od.prototype.copy=function(e){zu.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push(n.clone())}return this},od.prototype.toJSON=function(){var e=zu.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var n=this.points[t];e.points.push(n.toArray())}return e},od.prototype.fromJSON=function(e){zu.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push((new jr).fromArray(n))}return this};var ad=Object.freeze({__proto__:null,ArcCurve:Vu,CatmullRomCurve3:Yu,CubicBezierCurve:$u,CubicBezierCurve3:ed,EllipseCurve:ku,LineCurve:td,LineCurve3:rd,QuadraticBezierCurve:nd,QuadraticBezierCurve3:id,SplineCurve:od});function sd(){zu.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function cd(e){sd.call(this),this.type="Path",this.currentPoint=new jr,e&&this.setFromPoints(e)}function ld(e){cd.call(this,e),this.uuid=Gr.generateUUID(),this.type="Shape",this.holes=[]}function ud(e,t){_n.call(this),this.type="Light",this.color=new gi(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function dd(e,t,r){ud.call(this,e,r),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(_n.DefaultUp),this.updateMatrix(),this.groundColor=new gi(t)}function pd(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new jr(512,512),this.map=null,this.mapPass=null,this.matrix=new an,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Co,this._frameExtents=new jr(1,1),this._viewportCount=1,this._viewports=[new Hr(0,0,1,1)]}function hd(){pd.call(this,new _o(50,1,.5,500))}function fd(e,t,r,n,i,o){ud.call(this,e,t),this.type="SpotLight",this.position.copy(_n.DefaultUp),this.updateMatrix(),this.target=new _n,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==r?r:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new hd}function gd(){pd.call(this,new _o(90,1,.5,500)),this._frameExtents=new jr(4,2),this._viewportCount=6,this._viewports=[new Hr(2,1,1,1),new Hr(0,1,1,1),new Hr(3,1,1,1),new Hr(1,1,1,1),new Hr(3,0,1,1),new Hr(1,0,1,1)],this._cubeDirections=[new qr(1,0,0),new qr(-1,0,0),new qr(0,0,1),new qr(0,0,-1),new qr(0,1,0),new qr(0,-1,0)],this._cubeUps=[new qr(0,1,0),new qr(0,1,0),new qr(0,1,0),new qr(0,1,0),new qr(0,0,1),new qr(0,0,-1)]}function md(e,t,r,n){ud.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==r?r:0,this.decay=void 0!==n?n:1,this.shadow=new gd}function yd(e,t,r,n,i,o){wo.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==r?r:1,this.bottom=void 0!==n?n:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function vd(){pd.call(this,new yd(-5,5,5,-5,.5,500))}function bd(e,t){ud.call(this,e,t),this.type="DirectionalLight",this.position.copy(_n.DefaultUp),this.updateMatrix(),this.target=new _n,this.shadow=new vd}function xd(e,t){ud.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Sd(e,t,r,n){ud.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==r?r:10,this.height=void 0!==n?n:10}function Ad(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new qr)}function wd(e,t){ud.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new Ad}function _d(e){Iu.call(this,e),this.textures={}}sd.prototype=Object.assign(Object.create(zu.prototype),{constructor:sd,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new td(t,e))},getPoint:function(e){for(var t=e*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=t){var i=r[n]-t,o=this.curves[n],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}n++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,r=0,n=this.curves.length;r<n;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,r=[],n=0,i=this.curves;n<i.length;n++)for(var o=i[n],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),c=0;c<s.length;c++){var l=s[c];t&&t.equals(l)||(r.push(l),t=l)}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},copy:function(e){zu.prototype.copy.call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=zu.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var n=this.curves[t];e.curves.push(n.toJSON())}return e},fromJSON:function(e){zu.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var n=e.curves[t];this.curves.push((new ad[n.type]).fromJSON(n))}return this}}),cd.prototype=Object.assign(Object.create(sd.prototype),{constructor:cd,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var r=new td(this.currentPoint.clone(),new jr(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,r,n){var i=new nd(this.currentPoint.clone(),new jr(e,t),new jr(r,n));return this.curves.push(i),this.currentPoint.set(r,n),this},bezierCurveTo:function(e,t,r,n,i,o){var a=new $u(this.currentPoint.clone(),new jr(e,t),new jr(r,n),new jr(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this},splineThru:function(e){var t=new od([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,r,n,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,r,n,i,o),this},absarc:function(e,t,r,n,i,o){return this.absellipse(e,t,r,r,n,i,o),this},ellipse:function(e,t,r,n,i,o,a,s){var c=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+c,t+l,r,n,i,o,a,s),this},absellipse:function(e,t,r,n,i,o,a,s){var c=new ku(e,t,r,n,i,o,a,s);if(this.curves.length>0){var l=c.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(c);var u=c.getPoint(1);return this.currentPoint.copy(u),this},copy:function(e){return sd.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=sd.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return sd.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),ld.prototype=Object.assign(Object.create(cd.prototype),{constructor:ld,getPointsHoles:function(e){for(var t=[],r=0,n=this.holes.length;r<n;r++)t[r]=this.holes[r].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){cd.prototype.copy.call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var n=e.holes[t];this.holes.push(n.clone())}return this},toJSON:function(){var e=cd.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var n=this.holes[t];e.holes.push(n.toJSON())}return e},fromJSON:function(e){cd.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var n=e.holes[t];this.holes.push((new cd).fromJSON(n))}return this}}),ud.prototype=Object.assign(Object.create(_n.prototype),{constructor:ud,isLight:!0,copy:function(e){return _n.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=_n.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),dd.prototype=Object.assign(Object.create(ud.prototype),{constructor:dd,isHemisphereLight:!0,copy:function(e){return ud.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(pd.prototype,{_projScreenMatrix:new an,_lightPositionWorld:new qr,_lookTarget:new qr,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,r=this.matrix,n=this._projScreenMatrix,i=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),n.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(n),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),hd.prototype=Object.assign(Object.create(pd.prototype),{constructor:hd,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,r=2*Gr.RAD2DEG*e.angle,n=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;r===t.fov&&n===t.aspect&&i===t.far||(t.fov=r,t.aspect=n,t.far=i,t.updateProjectionMatrix()),pd.prototype.updateMatrices.call(this,e)}}),fd.prototype=Object.assign(Object.create(ud.prototype),{constructor:fd,isSpotLight:!0,copy:function(e){return ud.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),gd.prototype=Object.assign(Object.create(pd.prototype),{constructor:gd,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var r=this.camera,n=this.matrix,i=this._lightPositionWorld,o=this._lookTarget,a=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),r.position.copy(i),o.copy(r.position),o.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(o),r.updateMatrixWorld(),n.makeTranslation(-i.x,-i.y,-i.z),a.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}}),md.prototype=Object.assign(Object.create(ud.prototype),{constructor:md,isPointLight:!0,copy:function(e){return ud.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),yd.prototype=Object.assign(Object.create(wo.prototype),{constructor:yd,isOrthographicCamera:!0,copy:function(e,t){return wo.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,r,n,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-e,o=r+e,a=n+t,s=n-t;if(null!==this.view&&this.view.enabled){var c=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o=(i+=c*this.view.offsetX)+c*this.view.width,s=(a-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=_n.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),vd.prototype=Object.assign(Object.create(pd.prototype),{constructor:vd,isDirectionalLightShadow:!0,updateMatrices:function(e){pd.prototype.updateMatrices.call(this,e)}}),bd.prototype=Object.assign(Object.create(ud.prototype),{constructor:bd,isDirectionalLight:!0,copy:function(e){return ud.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),xd.prototype=Object.assign(Object.create(ud.prototype),{constructor:xd,isAmbientLight:!0}),Sd.prototype=Object.assign(Object.create(ud.prototype),{constructor:Sd,isRectAreaLight:!0,copy:function(e){return ud.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=ud.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(Ad.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var r=e.x,n=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*n),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],r*n*1.092548),t.addScaledVector(o[5],n*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],r*i*1.092548),t.addScaledVector(o[8],.546274*(r*r-n*n)),t},getIrradianceAt:function(e,t){var r=e.x,n=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*n),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*r),t.addScaledVector(o[4],.858086*r*n),t.addScaledVector(o[5],.858086*n*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*r*i),t.addScaledVector(o[8],.429043*(r*r-n*n)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},addScaledSH:function(e,t){for(var r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var r=this.coefficients,n=0;n<9;n++)r[n].fromArray(e,t+3*n);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var r=this.coefficients,n=0;n<9;n++)r[n].toArray(e,t+3*n);return e}}),Object.assign(Ad,{getBasisAt:function(e,t){var r=e.x,n=e.y,i=e.z;t[0]=.282095,t[1]=.488603*n,t[2]=.488603*i,t[3]=.488603*r,t[4]=1.092548*r*n,t[5]=1.092548*n*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*r*i,t[8]=.546274*(r*r-n*n)}}),wd.prototype=Object.assign(Object.create(ud.prototype),{constructor:wd,isLightProbe:!0,copy:function(e){return ud.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){var t=ud.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),_d.prototype=Object.assign(Object.create(Iu.prototype),{constructor:_d,load:function(e,t,r,n){var i=this,o=new Nu(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.load(e,(function(r){try{t(i.parse(JSON.parse(r)))}catch(t){n?n(t):console.error(t),i.manager.itemError(e)}}),r,n)},parse:function(e){var t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var n=new hu[e.type];if(void 0!==e.uuid&&(n.uuid=e.uuid),void 0!==e.name&&(n.name=e.name),void 0!==e.color&&n.color.setHex(e.color),void 0!==e.roughness&&(n.roughness=e.roughness),void 0!==e.metalness&&(n.metalness=e.metalness),void 0!==e.sheen&&(n.sheen=(new gi).setHex(e.sheen)),void 0!==e.emissive&&n.emissive.setHex(e.emissive),void 0!==e.specular&&n.specular.setHex(e.specular),void 0!==e.shininess&&(n.shininess=e.shininess),void 0!==e.clearcoat&&(n.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(n.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(n.fog=e.fog),void 0!==e.flatShading&&(n.flatShading=e.flatShading),void 0!==e.blending&&(n.blending=e.blending),void 0!==e.combine&&(n.combine=e.combine),void 0!==e.side&&(n.side=e.side),void 0!==e.opacity&&(n.opacity=e.opacity),void 0!==e.transparent&&(n.transparent=e.transparent),void 0!==e.alphaTest&&(n.alphaTest=e.alphaTest),void 0!==e.depthTest&&(n.depthTest=e.depthTest),void 0!==e.depthWrite&&(n.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(n.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(n.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(n.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(n.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(n.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(n.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(n.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(n.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(n.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(n.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(n.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(n.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(n.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(n.rotation=e.rotation),1!==e.linewidth&&(n.linewidth=e.linewidth),void 0!==e.dashSize&&(n.dashSize=e.dashSize),void 0!==e.gapSize&&(n.gapSize=e.gapSize),void 0!==e.scale&&(n.scale=e.scale),void 0!==e.polygonOffset&&(n.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(n.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(n.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(n.skinning=e.skinning),void 0!==e.morphTargets&&(n.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(n.morphNormals=e.morphNormals),void 0!==e.dithering&&(n.dithering=e.dithering),void 0!==e.vertexTangents&&(n.vertexTangents=e.vertexTangents),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.toneMapped&&(n.toneMapped=e.toneMapped),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?n.vertexColors=e.vertexColors>0:n.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(n.uniforms[i]={},o.type){case"t":n.uniforms[i].value=r(o.value);break;case"c":n.uniforms[i].value=(new gi).setHex(o.value);break;case"v2":n.uniforms[i].value=(new jr).fromArray(o.value);break;case"v3":n.uniforms[i].value=(new qr).fromArray(o.value);break;case"v4":n.uniforms[i].value=(new Hr).fromArray(o.value);break;case"m3":n.uniforms[i].value=(new zr).fromArray(o.value);case"m4":n.uniforms[i].value=(new an).fromArray(o.value);break;default:n.uniforms[i].value=o.value}}if(void 0!==e.defines&&(n.defines=e.defines),void 0!==e.vertexShader&&(n.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(n.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)n.extensions[a]=e.extensions[a];if(void 0!==e.shading&&(n.flatShading=1===e.shading),void 0!==e.size&&(n.size=e.size),void 0!==e.sizeAttenuation&&(n.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(n.map=r(e.map)),void 0!==e.matcap&&(n.matcap=r(e.matcap)),void 0!==e.alphaMap&&(n.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(n.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(n.bumpScale=e.bumpScale),void 0!==e.normalMap&&(n.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(n.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),n.normalScale=(new jr).fromArray(s)}return void 0!==e.displacementMap&&(n.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(n.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(n.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(n.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(n.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(n.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(n.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(n.specularMap=r(e.specularMap)),void 0!==e.envMap&&(n.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(n.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(n.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(n.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(n.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(n.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(n.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(n.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(n.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(n.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(n.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(n.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(n.clearcoatNormalScale=(new jr).fromArray(e.clearcoatNormalScale)),void 0!==e.transmission&&(n.transmission=e.transmission),void 0!==e.transmissionMap&&(n.transmissionMap=r(e.transmissionMap)),n},setTextures:function(e){return this.textures=e,this}});var Td={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",r=0,n=e.length;r<n;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function Ed(){Wi.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Bd(e,t,r,n){"number"==typeof r&&(n=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Ti.call(this,e,t,r),this.meshPerAttribute=n||1}function Rd(e){Iu.call(this,e)}Ed.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Ed,isInstancedBufferGeometry:!0,copy:function(e){return Wi.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=Wi.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),Bd.prototype=Object.assign(Object.create(Ti.prototype),{constructor:Bd,isInstancedBufferAttribute:!0,copy:function(e){return Ti.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Ti.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Rd.prototype=Object.assign(Object.create(Iu.prototype),{constructor:Rd,load:function(e,t,r,n){var i=this,o=new Nu(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.load(e,(function(r){try{t(i.parse(JSON.parse(r)))}catch(t){n?n(t):console.error(t),i.manager.itemError(e)}}),r,n)},parse:function(e){var t={},r={};function n(e,n){if(void 0!==t[n])return t[n];var i=e.interleavedBuffers[n],o=function(e,t){if(void 0!==r[t])return r[t];var n=e.arrayBuffers[t],i=new Uint32Array(n).buffer;return r[t]=i,i}(e,i.buffer),a=new ks(new Md[i.type](o),i.stride);return a.uuid=i.uuid,t[n]=a,a}var i=e.isInstancedBufferGeometry?new Ed:new Wi,o=e.data.index;if(void 0!==o){var a=new Md[o.type](o.array);i.setIndex(new Ti(a,1))}var s=e.data.attributes;for(var c in s){var l=s[c],u=void 0;if(l.isInterleavedBufferAttribute)u=new Hs(n(e.data,l.data),l.itemSize,l.offset,l.normalized);else{var d=new Md[l.type](l.array);u=new(l.isInstancedBufferAttribute?Bd:Ti)(d,l.itemSize,l.normalized)}void 0!==l.name&&(u.name=l.name),i.setAttribute(c,u)}var p=e.data.morphAttributes;if(p)for(var h in p){for(var f=p[h],g=[],m=0,y=f.length;m<y;m++){var v=f[m],b=void 0;b=v.isInterleavedBufferAttribute?new Hs(n(e.data,v.data),v.itemSize,v.offset,v.normalized):new Ti(new Md[v.type](v.array),v.itemSize,v.normalized),void 0!==v.name&&(b.name=v.name),g.push(b)}i.morphAttributes[h]=g}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var x=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==x)for(var S=0,A=x.length;S!==A;++S){var w=x[S];i.addGroup(w.start,w.count,w.materialIndex)}var _=e.data.boundingSphere;if(void 0!==_){var T=new qr;void 0!==_.center&&T.fromArray(_.center),i.boundingSphere=new kn(T,_.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}});var Md={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Cd(e){Iu.call(this,e)}Cd.prototype=Object.assign(Object.create(Iu.prototype),{constructor:Cd,load:function(e,t,r,n){var i=this,o=""===this.path?Td.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;var a=new Nu(i.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.load(e,(function(r){var o=null;try{o=JSON.parse(r)}catch(t){return void 0!==n&&n(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)}),r,n)},parse:function(e,t){var r=this.parseShape(e.shapes),n=this.parseGeometries(e.geometries,r),i=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,n,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var r=0,n=e.length;r<n;r++){var i=(new ld).fromJSON(e[r]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var r,n={};if(void 0!==e)for(var i=new Rd,o=0,a=e.length;o<a;o++){var s=void 0,c=e[o];switch(c.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new ru[c.type](c.width,c.height,c.widthSegments,c.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new ru[c.type](c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new ru[c.type](c.radius,c.segments,c.thetaStart,c.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new ru[c.type](c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new ru[c.type](c.radius,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new ru[c.type](c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new ru[c.type](c.radius,c.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new ru[c.type](c.innerRadius,c.outerRadius,c.thetaSegments,c.phiSegments,c.thetaStart,c.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new ru[c.type](c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new ru[c.type](c.radius,c.tube,c.tubularSegments,c.radialSegments,c.p,c.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new ru[c.type]((new ad[c.path.type]).fromJSON(c.path),c.tubularSegments,c.radius,c.radialSegments,c.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new ru[c.type](c.points,c.segments,c.phiStart,c.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new ru[c.type](c.vertices,c.indices,c.radius,c.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":r=[];for(var l=0,u=c.shapes.length;l<u;l++){var d=t[c.shapes[l]];r.push(d)}s=new ru[c.type](r,c.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":r=[];for(var p=0,h=c.shapes.length;p<h;p++){var f=t[c.shapes[p]];r.push(f)}var g=c.options.extrudePath;void 0!==g&&(c.options.extrudePath=(new ad[g.type]).fromJSON(g)),s=new ru[c.type](r,c.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(c);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+c.type+'"');continue}s.uuid=c.uuid,void 0!==c.name&&(s.name=c.name),!0===s.isBufferGeometry&&void 0!==c.userData&&(s.userData=c.userData),n[c.uuid]=s}return n},parseMaterials:function(e,t){var r={},n={};if(void 0!==e){var i=new _d;i.setTextures(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];if("MultiMaterial"===s.type){for(var c=[],l=0;l<s.materials.length;l++){var u=s.materials[l];void 0===r[u.uuid]&&(r[u.uuid]=i.parse(u)),c.push(r[u.uuid])}n[s.uuid]=c}else void 0===r[s.uuid]&&(r[s.uuid]=i.parse(s)),n[s.uuid]=r[s.uuid]}}return n},parseAnimations:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],i=Bu.parse(n);void 0!==n.uuid&&(i.uuid=n.uuid),t.push(i)}return t},parseImages:function(e,t){var r,n=this,i={};function o(e){return n.manager.itemStart(e),r.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var a=new Cu(t);(r=new Uu(a)).setCrossOrigin(this.crossOrigin);for(var s=0,c=e.length;s<c;s++){var l=e[s],u=l.url;if(Array.isArray(u)){i[l.uuid]=[];for(var d=0,p=u.length;d<p;d++){var h=u[d],f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h;i[l.uuid].push(o(f))}}else{var g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.resourcePath+l.url;i[l.uuid]=o(g)}}}return i},parseTextures:function(e,t){function r(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var n={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a=e[i],s=void 0;void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image),(s=Array.isArray(t[a.image])?new qo(t[a.image]):new Wr(t[a.image])).needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=r(a.mapping,Id)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.center&&s.center.fromArray(a.center),void 0!==a.rotation&&(s.rotation=a.rotation),void 0!==a.wrap&&(s.wrapS=r(a.wrap[0],Fd),s.wrapT=r(a.wrap[1],Fd)),void 0!==a.format&&(s.format=a.format),void 0!==a.type&&(s.type=a.type),void 0!==a.encoding&&(s.encoding=a.encoding),void 0!==a.minFilter&&(s.minFilter=r(a.minFilter,Nd)),void 0!==a.magFilter&&(s.magFilter=r(a.magFilter,Nd)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),void 0!==a.premultiplyAlpha&&(s.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(s.unpackAlignment=a.unpackAlignment),n[a.uuid]=s}return n},parseObject:function(e,t,r){var n,i,o;function a(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function s(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];void 0===r[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(r[o])}return t}return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]}}switch(e.type){case"Scene":n=new Tn,void 0!==e.background&&Number.isInteger(e.background)&&(n.background=new gi(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?n.fog=new zs(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(n.fog=new js(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":n=new _o(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(n.focus=e.focus),void 0!==e.zoom&&(n.zoom=e.zoom),void 0!==e.filmGauge&&(n.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(n.filmOffset=e.filmOffset),void 0!==e.view&&(n.view=Object.assign({},e.view));break;case"OrthographicCamera":n=new yd(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(n.zoom=e.zoom),void 0!==e.view&&(n.view=Object.assign({},e.view));break;case"AmbientLight":n=new xd(e.color,e.intensity);break;case"DirectionalLight":n=new bd(e.color,e.intensity);break;case"PointLight":n=new md(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":n=new Sd(e.color,e.intensity,e.width,e.height);break;case"SpotLight":n=new fd(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":n=new dd(e.color,e.groundColor,e.intensity);break;case"LightProbe":n=(new wd).fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":n=new co(i=a(e.geometry),o=s(e.material));break;case"InstancedMesh":i=a(e.geometry),o=s(e.material);var c=e.count,l=e.instanceMatrix;(n=new bc(i,o,c)).instanceMatrix=new Ti(new Float32Array(l.array),16);break;case"LOD":n=new lc;break;case"Line":n=new Ec(a(e.geometry),s(e.material),e.mode);break;case"LineLoop":n=new Cc(a(e.geometry),s(e.material));break;case"LineSegments":n=new Mc(a(e.geometry),s(e.material));break;case"PointCloud":case"Points":n=new Pc(a(e.geometry),s(e.material));break;case"Sprite":n=new oc(s(e.material));break;case"Group":n=new Ns;break;default:n=new _n}if(n.uuid=e.uuid,void 0!==e.name&&(n.name=e.name),void 0!==e.matrix?(n.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(n.matrixAutoUpdate=e.matrixAutoUpdate),n.matrixAutoUpdate&&n.matrix.decompose(n.position,n.quaternion,n.scale)):(void 0!==e.position&&n.position.fromArray(e.position),void 0!==e.rotation&&n.rotation.fromArray(e.rotation),void 0!==e.quaternion&&n.quaternion.fromArray(e.quaternion),void 0!==e.scale&&n.scale.fromArray(e.scale)),void 0!==e.castShadow&&(n.castShadow=e.castShadow),void 0!==e.receiveShadow&&(n.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(n.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(n.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(n.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&n.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(n.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.frustumCulled&&(n.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(n.renderOrder=e.renderOrder),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.layers&&(n.layers.mask=e.layers),void 0!==e.children)for(var u=e.children,d=0;d<u.length;d++)n.add(this.parseObject(u[d],t,r));if("LOD"===e.type){void 0!==e.autoUpdate&&(n.autoUpdate=e.autoUpdate);for(var p=e.levels,h=0;h<p.length;h++){var f=p[h],g=n.getObjectByProperty("uuid",f.object);void 0!==g&&n.addLevel(g,f.distance)}}return n}});var Od,Id={UVMapping:oe,CubeReflectionMapping:ae,CubeRefractionMapping:se,EquirectangularReflectionMapping:ce,EquirectangularRefractionMapping:le,CubeUVReflectionMapping:ue,CubeUVRefractionMapping:de},Fd={RepeatWrapping:pe,ClampToEdgeWrapping:he,MirroredRepeatWrapping:fe},Nd={NearestFilter:ge,NearestMipmapNearestFilter:me,NearestMipmapLinearFilter:ve,LinearFilter:xe,LinearMipmapNearestFilter:Se,LinearMipmapLinearFilter:we};function Ld(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Iu.call(this,e),this.options={premultiplyAlpha:"none"}}function Pd(){this.type="ShapePath",this.color=new gi,this.subPaths=[],this.currentPath=null}function Dd(e){this.type="Font",this.data=e}function Ud(e,t,r,n,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a,s,c,l,u,d,p,h,f=new Pd;if(o.o)for(var g=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),m=0,y=g.length;m<y;)switch(g[m++]){case"m":a=g[m++]*t+r,s=g[m++]*t+n,f.moveTo(a,s);break;case"l":a=g[m++]*t+r,s=g[m++]*t+n,f.lineTo(a,s);break;case"q":c=g[m++]*t+r,l=g[m++]*t+n,u=g[m++]*t+r,d=g[m++]*t+n,f.quadraticCurveTo(u,d,c,l);break;case"b":c=g[m++]*t+r,l=g[m++]*t+n,u=g[m++]*t+r,d=g[m++]*t+n,p=g[m++]*t+r,h=g[m++]*t+n,f.bezierCurveTo(u,d,p,h,c,l)}return{offsetX:o.ha*t,path:f}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}function Gd(e){Iu.call(this,e)}Ld.prototype=Object.assign(Object.create(Iu.prototype),{constructor:Ld,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Mu.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;fetch(e).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,i.options)})).then((function(r){Mu.add(e,r),t&&t(r),i.manager.itemEnd(e)})).catch((function(t){n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Object.assign(Pd.prototype,{moveTo:function(e,t){return this.currentPath=new cd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,r,n){return this.currentPath.quadraticCurveTo(e,t,r,n),this},bezierCurveTo:function(e,t,r,n,i,o){return this.currentPath.bezierCurveTo(e,t,r,n,i,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function r(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r],o=new ld;o.curves=i.curves,t.push(o)}return t}function n(e,t){for(var r=t.length,n=!1,i=r-1,o=0;o<r;i=o++){var a=t[i],s=t[o],c=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(a=t[o],c=-c,s=t[i],l=-l),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var u=l*(e.x-a.x)-c*(e.y-a.y);if(0===u)return!0;if(u<0)continue;n=!n}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return n}var i=Ol.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return r(o);var a,s,c,l=[];if(1===o.length)return s=o[0],(c=new ld).curves=s.curves,l.push(c),l;var u=!i(o[0].getPoints());u=e?!u:u;var d,p,h=[],f=[],g=[],m=0;f[m]=void 0,g[m]=[];for(var y=0,v=o.length;y<v;y++)a=i(d=(s=o[y]).getPoints()),(a=e?!a:a)?(!u&&f[m]&&m++,f[m]={s:new ld,p:d},f[m].s.curves=s.curves,u&&m++,g[m]=[]):g[m].push({h:s,p:d[0]});if(!f[0])return r(o);if(f.length>1){for(var b=!1,x=[],S=0,A=f.length;S<A;S++)h[S]=[];for(var w=0,_=f.length;w<_;w++)for(var T=g[w],E=0;E<T.length;E++){for(var B=T[E],R=!0,M=0;M<f.length;M++)n(B.p,f[M].p)&&(w!==M&&x.push({froms:w,tos:M,hole:E}),R?(R=!1,h[M].push(B)):b=!0);R&&h[w].push(B)}x.length>0&&(b||(g=h))}for(var C=0,O=f.length;C<O;C++){c=f[C].s,l.push(c);for(var I=0,F=(p=g[C]).length;I<F;I++)c.holes.push(p[I].h)}return l}}),Object.assign(Dd.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var r=[],n=function(e,t,r){for(var n=Array.from?Array.from(e):String(e).split(""),i=t/r.resolution,o=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*i,a=[],s=0,c=0,l=0;l<n.length;l++){var u=n[l];if("\n"===u)s=0,c-=o;else{var d=Ud(u,i,s,c,r);s+=d.offsetX,a.push(d.path)}}return a}(e,t,this.data),i=0,o=n.length;i<o;i++)Array.prototype.push.apply(r,n[i].toShapes());return r}}),Gd.prototype=Object.assign(Object.create(Iu.prototype),{constructor:Gd,load:function(e,t,r,n){var i=this,o=new Nu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.load(e,(function(e){var r;try{r=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),r=JSON.parse(e.substring(65,e.length-2))}var n=i.parse(r);t&&t(n)}),r,n)},parse:function(e){return new Dd(e)}});var jd={getContext:function(){return void 0===Od&&(Od=new(window.AudioContext||window.webkitAudioContext)),Od},setContext:function(e){Od=e}};function zd(e){Iu.call(this,e)}function kd(e,t,r){wd.call(this,void 0,r);var n=(new gi).set(e),i=(new gi).set(t),o=new qr(n.r,n.g,n.b),a=new qr(i.r,i.g,i.b),s=Math.sqrt(Math.PI),c=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}function Vd(e,t){wd.call(this,void 0,t);var r=(new gi).set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}zd.prototype=Object.assign(Object.create(Iu.prototype),{constructor:zd,load:function(e,t,r,n){var i=this,o=new Nu(i.manager);o.setResponseType("arraybuffer"),o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.load(e,(function(r){try{var o=r.slice(0);jd.getContext().decodeAudioData(o,(function(e){t(e)}))}catch(t){n?n(t):console.error(t),i.manager.itemError(e)}}),r,n)}}),kd.prototype=Object.assign(Object.create(wd.prototype),{constructor:kd,isHemisphereLightProbe:!0,copy:function(e){return wd.prototype.copy.call(this,e),this},toJSON:function(e){return wd.prototype.toJSON.call(this,e)}}),Vd.prototype=Object.assign(Object.create(wd.prototype),{constructor:Vd,isAmbientLightProbe:!0,copy:function(e){return wd.prototype.copy.call(this,e),this},toJSON:function(e){return wd.prototype.toJSON.call(this,e)}});var Wd=new an,Hd=new an;function Xd(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new _o,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new _o,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function Qd(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(Xd.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var r,n,i=e.projectionMatrix.clone(),o=t.eyeSep/2,a=o*t.near/t.focus,s=t.near*Math.tan(Gr.DEG2RAD*t.fov*.5)/t.zoom;Hd.elements[12]=-o,Wd.elements[12]=o,r=-s*t.aspect+a,n=s*t.aspect+a,i.elements[0]=2*t.near/(n-r),i.elements[8]=(n+r)/(n-r),this.cameraL.projectionMatrix.copy(i),r=-s*t.aspect-a,n=s*t.aspect-a,i.elements[0]=2*t.near/(n-r),i.elements[8]=(n+r)/(n-r),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Hd),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Wd)}}),Object.assign(Qd.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var Zd=new qr,Yd=new Zr,Jd=new qr,qd=new qr;function Kd(){_n.call(this),this.type="AudioListener",this.context=jd.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Qd}function $d(e){_n.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}Kd.prototype=Object.assign(Object.create(_n.prototype),{constructor:Kd,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){_n.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Zd,Yd,Jd),qd.set(0,0,-1).applyQuaternion(Yd),t.positionX){var n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Zd.x,n),t.positionY.linearRampToValueAtTime(Zd.y,n),t.positionZ.linearRampToValueAtTime(Zd.z,n),t.forwardX.linearRampToValueAtTime(qd.x,n),t.forwardY.linearRampToValueAtTime(qd.y,n),t.forwardZ.linearRampToValueAtTime(qd.z,n),t.upX.linearRampToValueAtTime(r.x,n),t.upY.linearRampToValueAtTime(r.y,n),t.upZ.linearRampToValueAtTime(r.z,n)}else t.setPosition(Zd.x,Zd.y,Zd.z),t.setOrientation(qd.x,qd.y,qd.z,r.x,r.y,r.z)}}),$d.prototype=Object.assign(Object.create(_n.prototype),{constructor:$d,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var ep=new qr,tp=new Zr,rp=new qr,np=new qr;function ip(e){$d.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function op(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function ap(e,t,r){var n,i,o;switch(this.binding=e,this.valueSize=r,t){case"quaternion":n=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":n=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:n=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}ip.prototype=Object.assign(Object.create($d.prototype),{constructor:ip,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this},updateMatrixWorld:function(e){if(_n.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(ep,tp,rp),np.set(0,0,1).applyQuaternion(tp);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ep.x,r),t.positionY.linearRampToValueAtTime(ep.y,r),t.positionZ.linearRampToValueAtTime(ep.z,r),t.orientationX.linearRampToValueAtTime(np.x,r),t.orientationY.linearRampToValueAtTime(np.y,r),t.orientationZ.linearRampToValueAtTime(np.z,r)}else t.setPosition(ep.x,ep.y,ep.z),t.setOrientation(np.x,np.y,np.z)}}}),Object.assign(op.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),r=0;r<t.length;r++)e+=t[r];return e/t.length}}),Object.assign(ap.prototype,{accumulate:function(e,t){var r=this.buffer,n=this.valueSize,i=e*n+n,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==n;++a)r[i+a]=r[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(r,i,0,s,n)}this.cumulativeWeight=o},accumulateAdditive:function(e){var t=this.buffer,r=this.valueSize,n=r*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,r),this.cumulativeWeightAdditive+=e},apply:function(e){var t=this.valueSize,r=this.buffer,n=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(r,n,s,1-i,t)}o>0&&this._mixBufferRegionAdditive(r,n,this._addIndex*t,1,t);for(var c=t,l=t+t;c!==l;++c)if(r[c]!==r[c+t]){a.setValue(r,n);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,r=this.valueSize,n=r*this._origIndex;e.getValue(t,n);for(var i=r,o=n;i!==o;++i)t[i]=t[n+i%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,r=e;r<t;r++)this.buffer[r]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]},_select:function(e,t,r,n,i){if(n>=.5)for(var o=0;o!==i;++o)e[t+o]=e[r+o]},_slerp:function(e,t,r,n){Zr.slerpFlat(e,t,e,t,e,r,n)},_slerpAdditive:function(e,t,r,n,i){var o=this._workIndex*i;Zr.multiplyQuaternionsFlat(e,o,e,t,e,r),Zr.slerpFlat(e,t,e,t,e,o,n)},_lerp:function(e,t,r,n,i){for(var o=1-n,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[r+a]*n}},_lerpAdditive:function(e,t,r,n,i){for(var o=0;o!==i;++o){var a=t+o;e[a]=e[a]+e[r+o]*n}}});var sp=new RegExp("[\\[\\]\\.:\\/]","g"),cp="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",lp=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),up=/(WCOD+)?/.source.replace("WCOD",cp),dp=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),pp=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),hp=new RegExp("^"+lp+up+dp+pp+"$"),fp=["material","materials","bones"];function gp(e,t,r){var n=r||mp.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}function mp(e,t,r){this.path=t,this.parsedPath=r||mp.parseTrackName(t),this.node=mp.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function yp(){this.uuid=Gr.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,r=arguments.length;t!==r;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}function vp(e,t,r,n){this._mixer=e,this._clip=t,this._localRoot=r||null,this.blendMode=n||t.blendMode;for(var i=t.tracks,o=i.length,a=new Array(o),s={endingStart:Vt,endingEnd:Vt},c=0;c!==o;++c){var l=i[c].createInterpolant(null);a[c]=l,l.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ut,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function bp(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function xp(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Sp(e,t,r){ks.call(this,e,t),this.meshPerAttribute=r||1}function Ap(e,t,r,n){this.ray=new Jn(e,t),this.near=r||0,this.far=n||1/0,this.camera=null,this.layers=new un,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function wp(e,t){return e.distance-t.distance}function _p(e,t,r,n){if(e.layers.test(t.layers)&&e.raycast(t,r),!0===n)for(var i=e.children,o=0,a=i.length;o<a;o++)_p(i[o],t,r,!0)}Object.assign(gp.prototype,{getValue:function(e,t){this.bind();var r=this._targetGroup.nCachedObjects_,n=this._bindings[r];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){for(var r=this._bindings,n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}),Object.assign(mp,{Composite:gp,create:function(e,t,r){return e&&e.isAnimationObjectGroup?new mp.Composite(e,t,r):new mp(e,t,r)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(sp,"")},parseTrackName:function(e){var t=hp.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var i=r.nodeName.substring(n+1);-1!==fp.indexOf(i)&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=i)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var r=e.skeleton.getBoneByName(t);if(void 0!==r)return r}if(e.children){var n=function e(r){for(var n=0;n<r.length;n++){var i=r[n];if(i.name===t||i.uuid===t)return i;var o=e(i.children);if(o)return o}return null}(e.children);if(n)return n}return null}}),Object.assign(mp.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)e[t++]=r[n]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,r=t.objectName,n=t.propertyName,i=t.propertyIndex;if(e||(e=mp.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(r){var o=t.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[n];if(void 0!==s){var c=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}else{var u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+n+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(mp.prototype,{_getValue_unbound:mp.prototype.getValue,_setValue_unbound:mp.prototype.setValue}),Object.assign(yp.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=this._indicesByUUID,r=this._paths,n=this._parsedPaths,i=this._bindings,o=i.length,a=void 0,s=e.length,c=this.nCachedObjects_,l=0,u=arguments.length;l!==u;++l){var d=arguments[l],p=d.uuid,h=t[p];if(void 0===h){h=s++,t[p]=h,e.push(d);for(var f=0,g=o;f!==g;++f)i[f].push(new mp(d,r[f],n[f]))}else if(h<c){a=e[h];var m=--c,y=e[m];t[y.uuid]=h,e[h]=y,t[p]=m,e[m]=d;for(var v=0,b=o;v!==b;++v){var x=i[v],S=x[m],A=x[h];x[h]=S,void 0===A&&(A=new mp(d,r[v],n[v])),x[m]=A}}else e[h]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function(){for(var e=this._objects,t=this._indicesByUUID,r=this._bindings,n=r.length,i=this.nCachedObjects_,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],c=s.uuid,l=t[c];if(void 0!==l&&l>=i){var u=i++,d=e[u];t[d.uuid]=l,e[l]=d,t[c]=u,e[u]=s;for(var p=0,h=n;p!==h;++p){var f=r[p],g=f[u],m=f[l];f[l]=g,f[u]=m}}}this.nCachedObjects_=i},uncache:function(){for(var e=this._objects,t=this._indicesByUUID,r=this._bindings,n=r.length,i=this.nCachedObjects_,o=e.length,a=0,s=arguments.length;a!==s;++a){var c=arguments[a].uuid,l=t[c];if(void 0!==l)if(delete t[c],l<i){var u=--i,d=e[u],p=--o,h=e[p];t[d.uuid]=l,e[l]=d,t[h.uuid]=u,e[u]=h,e.pop();for(var f=0,g=n;f!==g;++f){var m=r[f],y=m[u],v=m[p];m[l]=y,m[u]=v,m.pop()}}else{var b=--o,x=e[b];t[x.uuid]=l,e[l]=x,e.pop();for(var S=0,A=n;S!==A;++S){var w=r[S];w[l]=w[b],w.pop()}}}this.nCachedObjects_=i},subscribe_:function(e,t){var r=this._bindingsIndicesByPath,n=r[e],i=this._bindings;if(void 0!==n)return i[n];var o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,l=this.nCachedObjects_,u=new Array(c);n=i.length,r[e]=n,o.push(e),a.push(t),i.push(u);for(var d=l,p=s.length;d!==p;++d){var h=s[d];u[d]=new mp(h,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,r=t[e];if(void 0!==r){var n=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=r,o[r]=s,o.pop(),i[r]=i[a],i.pop(),n[r]=n[a],n.pop()}}}),Object.assign(vp.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){var n=this._clip.duration,i=e._clip.duration,o=i/n,a=n/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,r){return e.crossFadeFrom(this,t,r)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,r){var n=this._mixer,i=n.time,o=this.timeScale,a=this._timeScaleInterpolant;null===a&&(a=n._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,c=a.sampleValues;return s[0]=i,s[1]=i+r,c[0]=e/o,c[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,r,n){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*r;if(o<0||0===r)return;this._startTime=null,t=r*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0){var c=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case Qt:for(var u=0,d=c.length;u!==d;++u)c[u].evaluate(a),l[u].accumulateAdditive(s);break;case Xt:default:for(var p=0,h=c.length;p!==h;++p)c[p].evaluate(a),l[p].accumulate(n,s)}}}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var r=this._weightInterpolant;if(null!==r){var n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var r=this._timeScaleInterpolant;null!==r&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this._clip.duration,r=this.loop,n=this.time+e,i=this._loopCount,o=r===Gt;if(0===e)return-1===i?n:o&&1==(1&i)?t-n:n;if(r===Dt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else{if(!(n<0)){this.time=n;break e}n=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),n>=t||n<0){var a=Math.floor(n/t);n-=t*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=e>0?t:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=n;if(o&&1==(1&i))return t-n}return n},_setEndings:function(e,t,r){var n=this._interpolantSettings;r?(n.endingStart=Wt,n.endingEnd=Wt):(n.endingStart=e?this.zeroSlopeAtStart?Wt:Vt:Ht,n.endingEnd=t?this.zeroSlopeAtEnd?Wt:Vt:Ht)},_scheduleFading:function(e,t,r){var n=this._mixer,i=n.time,o=this._weightInterpolant;null===o&&(o=n._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=r,this}}),bp.prototype=Object.assign(Object.create(Nr.prototype),{constructor:bp,_bindAction:function(e,t){var r=e._localRoot||this._root,n=e._clip.tracks,i=n.length,o=e._propertyBindings,a=e._interpolants,s=r.uuid,c=this._bindingsByRootAndName,l=c[s];void 0===l&&(l={},c[s]=l);for(var u=0;u!==i;++u){var d=n[u],p=d.name,h=l[p];if(void 0!==h)o[u]=h;else{if(void 0!==(h=o[u])){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,s,p));continue}var f=t&&t._propertyBindings[u].binding.parsedPath;++(h=new ap(mp.create(r,p,f),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(h,s,p),o[u]=h}a[u].resultBuffer=h.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,r=e._clip.uuid,n=this._actionsByClip[r];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,r,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,r){var n=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=n.length,n.push(e),o.actionByRoot[r]=e},_removeInactiveAction:function(e){var t=this._actions,r=t[t.length-1],n=e._cacheIndex;r._cacheIndex=n,t[n]=r,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,c=s[s.length-1],l=e._byClipCacheIndex;c._byClipCacheIndex=l,s[l]=c,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,r=e._cacheIndex,n=this._nActiveActions++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_takeBackAction:function(e){var t=this._actions,r=e._cacheIndex,n=--this._nActiveActions,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_addInactiveBinding:function(e,t,r){var n=this._bindingsByRootAndName,i=this._bindings,o=n[t];void 0===o&&(o={},n[t]=o),o[r]=e,e._cacheIndex=i.length,i.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,r=e.binding,n=r.rootNode.uuid,i=r.path,o=this._bindingsByRootAndName,a=o[n],s=t[t.length-1],c=e._cacheIndex;s._cacheIndex=c,t[c]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[n]},_lendBinding:function(e){var t=this._bindings,r=e._cacheIndex,n=this._nActiveBindings++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_takeBackBinding:function(e){var t=this._bindings,r=e._cacheIndex,n=--this._nActiveBindings,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return void 0===r&&((r=new yu(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=r),r},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,r=e.__cacheIndex,n=--this._nActiveControlInterpolants,i=t[n];e.__cacheIndex=n,t[n]=e,i.__cacheIndex=r,t[r]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,r){var n=t||this._root,i=n.uuid,o="string"==typeof e?Bu.findByName(n,e):e,a=null!==o?o.uuid:e,s=this._actionsByClip[a],c=null;if(void 0===r&&(r=null!==o?o.blendMode:Xt),void 0!==s){var l=s.actionByRoot[i];if(void 0!==l&&l.blendMode===r)return l;c=s.knownActions[0],null===o&&(o=c._clip)}if(null===o)return null;var u=new vp(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,i),u},existingAction:function(e,t){var r=t||this._root,n=r.uuid,i="string"==typeof e?Bu.findByName(r,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[n]||null},stopAllAction:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this},update:function(e){e*=this.timeScale;for(var t=this._actions,r=this._nActiveActions,n=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==r;++a)t[a]._update(n,e,i,o);for(var s=this._bindings,c=this._nActiveBindings,l=0;l!==c;++l)s[l].apply(o);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,r=e.uuid,n=this._actionsByClip,i=n[r];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var c=o[a];this._deactivateAction(c);var l=c._cacheIndex,u=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=l,t[l]=u,t.pop(),this._removeInactiveBindingsForAction(c)}delete n[r]}},uncacheRoot:function(e){var t=e.uuid,r=this._actionsByClip;for(var n in r){var i=r[n].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var r=this.existingAction(e,t);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}}),xp.prototype.clone=function(){return new xp(void 0===this.value.clone?this.value:this.value.clone())},Sp.prototype=Object.assign(Object.create(ks.prototype),{constructor:Sp,isInstancedInterleavedBuffer:!0,copy:function(e){return ks.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){var t=ks.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){var t=ks.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.assign(Ap.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,r){var n=r||[];return _p(e,this,n,t),n.sort(wp),n},intersectObjects:function(e,t,r){var n=r||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var i=0,o=e.length;i<o;i++)_p(e[i],this,n,t);return n.sort(wp),n}});var Tp=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,e),this.radius=t,this.phi=r,this.theta=n,this}return _createClass(e,[{key:"set",value:function(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Gr.clamp(t/this.radius,-1,1))),this}}]),e}();function Ep(e,t,r){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==r?r:0,this}Object.assign(Ep.prototype,{set:function(e,t,r){return this.radius=e,this.theta=t,this.y=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}});var Bp=new jr;function Rp(e,t){this.min=void 0!==e?e:new jr(1/0,1/0),this.max=void 0!==t?t:new jr(-1/0,-1/0)}Object.assign(Rp.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var r=Bp.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new jr),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new jr),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new jr),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new jr),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Bp.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Mp=new qr,Cp=new qr;function Op(e,t){this.start=void 0!==e?e:new qr,this.end=void 0!==t?t:new qr}function Ip(e){_n.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Object.assign(Op.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new qr),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new qr),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new qr),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){Mp.subVectors(e,this.start),Cp.subVectors(this.end,this.start);var r=Cp.dot(Cp),n=Cp.dot(Mp)/r;return t&&(n=Gr.clamp(n,0,1)),n},closestPointToPoint:function(e,t,r){var n=this.closestPointToPointParameter(e,t);return void 0===r&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),r=new qr),this.delta(r).multiplyScalar(n).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Ip.prototype=Object.create(_n.prototype),Ip.prototype.constructor=Ip,Ip.prototype.isImmediateRenderObject=!0;var Fp=new qr;function Np(e,t){_n.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var r=new Wi,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}r.setAttribute("position",new Fi(n,3));var c=new xc({fog:!1,toneMapped:!1});this.cone=new Mc(r,c),this.add(this.cone),this.update()}Np.prototype=Object.create(_n.prototype),Np.prototype.constructor=Np,Np.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Np.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Fp.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Fp),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var Lp=new qr,Pp=new an,Dp=new an;function Up(e){for(var t=function e(t){var r=[];t&&t.isBone&&r.push(t);for(var n=0;n<t.children.length;n++)r.push.apply(r,e(t.children[n]));return r}(e),r=new Wi,n=[],i=[],o=new gi(0,0,1),a=new gi(0,1,0),s=0;s<t.length;s++){var c=t[s];c.parent&&c.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}r.setAttribute("position",new Fi(n,3)),r.setAttribute("color",new Fi(i,3));var l=new xc({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});Mc.call(this,r,l),this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Gp(e,t,r){this.light=e,this.light.updateMatrixWorld(),this.color=r;var n=new zl(t,4,2),i=new Ai({wireframe:!0,fog:!1,toneMapped:!1});co.call(this,n,i),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}Up.prototype=Object.create(Mc.prototype),Up.prototype.constructor=Up,Up.prototype.isSkeletonHelper=!0,Up.prototype.updateMatrixWorld=function(e){var t=this.bones,r=this.geometry,n=r.getAttribute("position");Dp.getInverse(this.root.matrixWorld);for(var i=0,o=0;i<t.length;i++){var a=t[i];a.parent&&a.parent.isBone&&(Pp.multiplyMatrices(Dp,a.matrixWorld),Lp.setFromMatrixPosition(Pp),n.setXYZ(o,Lp.x,Lp.y,Lp.z),Pp.multiplyMatrices(Dp,a.parent.matrixWorld),Lp.setFromMatrixPosition(Pp),n.setXYZ(o+1,Lp.x,Lp.y,Lp.z),o+=2)}r.getAttribute("position").needsUpdate=!0,_n.prototype.updateMatrixWorld.call(this,e)},Gp.prototype=Object.create(co.prototype),Gp.prototype.constructor=Gp,Gp.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Gp.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var jp=new qr,zp=new gi,kp=new gi;function Vp(e,t,r){_n.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;var n=new Jc(t);n.rotateY(.5*Math.PI),this.material=new Ai({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);var i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.setAttribute("color",new Ti(o,3)),this.add(new co(n,this.material)),this.update()}function Wp(e,t,r,n){e=e||10,t=t||10,r=new gi(void 0!==r?r:4473924),n=new gi(void 0!==n?n:8947848);for(var i=t/2,o=e/t,a=e/2,s=[],c=[],l=0,u=0,d=-a;l<=t;l++,d+=o){s.push(-a,0,d,a,0,d),s.push(d,0,-a,d,0,a);var p=l===i?r:n;p.toArray(c,u),u+=3,p.toArray(c,u),u+=3,p.toArray(c,u),u+=3,p.toArray(c,u),u+=3}var h=new Wi;h.setAttribute("position",new Fi(s,3)),h.setAttribute("color",new Fi(c,3));var f=new xc({vertexColors:!0,toneMapped:!1});Mc.call(this,h,f),this.type="GridHelper"}function Hp(e,t,r,n,i,o){e=e||10,t=t||16,r=r||8,n=n||64,i=new gi(void 0!==i?i:4473924),o=new gi(void 0!==o?o:8947848);for(var a=[],s=[],c=0;c<=t;c++){var l=c/t*(2*Math.PI),u=Math.sin(l)*e,d=Math.cos(l)*e;a.push(0,0,0),a.push(u,0,d);var p=1&c?i:o;s.push(p.r,p.g,p.b),s.push(p.r,p.g,p.b)}for(var h=0;h<=r;h++)for(var f=1&h?i:o,g=e-e/r*h,m=0;m<n;m++){var y=m/n*(2*Math.PI),v=Math.sin(y)*g,b=Math.cos(y)*g;a.push(v,0,b),s.push(f.r,f.g,f.b),y=(m+1)/n*(2*Math.PI),v=Math.sin(y)*g,b=Math.cos(y)*g,a.push(v,0,b),s.push(f.r,f.g,f.b)}var x=new Wi;x.setAttribute("position",new Fi(a,3)),x.setAttribute("color",new Fi(s,3));var S=new xc({vertexColors:!0,toneMapped:!1});Mc.call(this,x,S),this.type="PolarGridHelper"}Vp.prototype=Object.create(_n.prototype),Vp.prototype.constructor=Vp,Vp.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Vp.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");zp.copy(this.light.color),kp.copy(this.light.groundColor);for(var r=0,n=t.count;r<n;r++){var i=r<n/2?zp:kp;t.setXYZ(r,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(jp.setFromMatrixPosition(this.light.matrixWorld).negate())},Wp.prototype=Object.create(Mc.prototype),Wp.prototype.constructor=Wp,Hp.prototype=Object.create(Mc.prototype),Hp.prototype.constructor=Hp;var Xp=new qr,Qp=new qr,Zp=new qr;function Yp(e,t,r){_n.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,void 0===t&&(t=1);var n=new Wi;n.setAttribute("position",new Fi([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new xc({fog:!1,toneMapped:!1});this.lightPlane=new Ec(n,i),this.add(this.lightPlane),(n=new Wi).setAttribute("position",new Fi([0,0,0,0,0,1],3)),this.targetLine=new Ec(n,i),this.add(this.targetLine),this.update()}Yp.prototype=Object.create(_n.prototype),Yp.prototype.constructor=Yp,Yp.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Yp.prototype.update=function(){Xp.setFromMatrixPosition(this.light.matrixWorld),Qp.setFromMatrixPosition(this.light.target.matrixWorld),Zp.subVectors(Qp,Xp),this.lightPlane.lookAt(Qp),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Qp),this.targetLine.scale.z=Zp.length()};var Jp=new qr,qp=new wo;function Kp(e){var t=new Wi,r=new xc({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],i=[],o={},a=new gi(16755200),s=new gi(16711680),c=new gi(43775),l=new gi(16777215),u=new gi(3355443);function d(e,t,r){p(e,r),p(t,r)}function p(e,t){n.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(n.length/3-1)}d("n1","n2",a),d("n2","n4",a),d("n4","n3",a),d("n3","n1",a),d("f1","f2",a),d("f2","f4",a),d("f4","f3",a),d("f3","f1",a),d("n1","f1",a),d("n2","f2",a),d("n3","f3",a),d("n4","f4",a),d("p","n1",s),d("p","n2",s),d("p","n3",s),d("p","n4",s),d("u1","u2",c),d("u2","u3",c),d("u3","u1",c),d("c","t",l),d("p","c",u),d("cn1","cn2",u),d("cn3","cn4",u),d("cf1","cf2",u),d("cf3","cf4",u),t.setAttribute("position",new Fi(n,3)),t.setAttribute("color",new Fi(i,3)),Mc.call(this,t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function $p(e,t,r,n,i,o,a){Jp.set(i,o,a).unproject(n);var s=t[e];if(void 0!==s)for(var c=r.getAttribute("position"),l=0,u=s.length;l<u;l++)c.setXYZ(s[l],Jp.x,Jp.y,Jp.z)}Kp.prototype=Object.create(Mc.prototype),Kp.prototype.constructor=Kp,Kp.prototype.update=function(){var e=this.geometry,t=this.pointMap;qp.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),$p("c",t,e,qp,0,0,-1),$p("t",t,e,qp,0,0,1),$p("n1",t,e,qp,-1,-1,-1),$p("n2",t,e,qp,1,-1,-1),$p("n3",t,e,qp,-1,1,-1),$p("n4",t,e,qp,1,1,-1),$p("f1",t,e,qp,-1,-1,1),$p("f2",t,e,qp,1,-1,1),$p("f3",t,e,qp,-1,1,1),$p("f4",t,e,qp,1,1,1),$p("u1",t,e,qp,.7,1.1,-1),$p("u2",t,e,qp,-.7,1.1,-1),$p("u3",t,e,qp,0,2,-1),$p("cf1",t,e,qp,-1,0,1),$p("cf2",t,e,qp,1,0,1),$p("cf3",t,e,qp,0,-1,1),$p("cf4",t,e,qp,0,1,1),$p("cn1",t,e,qp,-1,0,-1),$p("cn2",t,e,qp,1,0,-1),$p("cn3",t,e,qp,0,-1,-1),$p("cn4",t,e,qp,0,1,-1),e.getAttribute("position").needsUpdate=!0};var eh=new Gn;function th(e,t){this.object=e,void 0===t&&(t=16776960);var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),i=new Wi;i.setIndex(new Ti(r,1)),i.setAttribute("position",new Ti(n,3)),Mc.call(this,i,new xc({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function rh(e,t){this.type="Box3Helper",this.box=e,void 0===t&&(t=16776960);var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Wi;n.setIndex(new Ti(r,1)),n.setAttribute("position",new Fi([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Mc.call(this,n,new xc({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function nh(e,t,r){this.plane=e,this.size=void 0===t?1:t;var n=void 0!==r?r:16776960,i=new Wi;i.setAttribute("position",new Fi([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Ec.call(this,i,new xc({color:n,toneMapped:!1})),this.type="PlaneHelper";var o=new Wi;o.setAttribute("position",new Fi([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new co(o,new Ai({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}th.prototype=Object.create(Mc.prototype),th.prototype.constructor=th,th.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&eh.setFromObject(this.object),!eh.isEmpty()){var t=eh.min,r=eh.max,n=this.geometry.attributes.position,i=n.array;i[0]=r.x,i[1]=r.y,i[2]=r.z,i[3]=t.x,i[4]=r.y,i[5]=r.z,i[6]=t.x,i[7]=t.y,i[8]=r.z,i[9]=r.x,i[10]=t.y,i[11]=r.z,i[12]=r.x,i[13]=r.y,i[14]=t.z,i[15]=t.x,i[16]=r.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=r.x,i[22]=t.y,i[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}},th.prototype.setFromObject=function(e){return this.object=e,this.update(),this},th.prototype.copy=function(e){return Mc.prototype.copy.call(this,e),this.object=e.object,this},rh.prototype=Object.create(Mc.prototype),rh.prototype.constructor=rh,rh.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),_n.prototype.updateMatrixWorld.call(this,e))},nh.prototype=Object.create(Ec.prototype),nh.prototype.constructor=nh,nh.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?m:g,this.lookAt(this.plane.normal),_n.prototype.updateMatrixWorld.call(this,e)};var ih,oh,ah=new qr;function sh(e,t,r,n,i,o){_n.call(this),this.type="ArrowHelper",void 0===e&&(e=new qr(0,0,1)),void 0===t&&(t=new qr(0,0,0)),void 0===r&&(r=1),void 0===n&&(n=16776960),void 0===i&&(i=.2*r),void 0===o&&(o=.2*i),void 0===ih&&((ih=new Wi).setAttribute("position",new Fi([0,0,0,0,1,0],3)),(oh=new ql(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new Ec(ih,new xc({color:n,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new co(oh,new Ai({color:n,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,i,o)}function ch(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=new Wi;r.setAttribute("position",new Fi(t,3)),r.setAttribute("color",new Fi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var n=new xc({vertexColors:!0,toneMapped:!1});Mc.call(this,r,n),this.type="AxesHelper"}sh.prototype=Object.create(_n.prototype),sh.prototype.constructor=sh,sh.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{ah.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(ah,t)}},sh.prototype.setLength=function(e,t,r){void 0===t&&(t=.2*e),void 0===r&&(r=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()},sh.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},sh.prototype.copy=function(e){return _n.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},ch.prototype=Object.create(Mc.prototype),ch.prototype.constructor=ch;var lh=Math.pow(2,8),uh=[.125,.215,.35,.446,.526,.582],dh=5+uh.length,ph=(_defineProperty(n={},qt,0),_defineProperty(n,Kt,1),_defineProperty(n,er,2),_defineProperty(n,rr,3),_defineProperty(n,nr,4),_defineProperty(n,ir,5),_defineProperty(n,$t,6),n),hh=new yd,fh=function(){for(var e=[],t=[],r=[],n=8,i=0;i<dh;i++){var o=Math.pow(2,n);t.push(o);var a=1/o;i>4?a=uh[i-8+4-1]:0==i&&(a=0),r.push(a);for(var s=1/(o-1),c=-s/2,l=1+s/2,u=[c,c,l,c,l,l,c,c,l,l,c,l],d=new Float32Array(108),p=new Float32Array(72),h=new Float32Array(36),f=0;f<6;f++){var g=f%3*2/3-1,m=f>2?0:-1,y=[g,m,0,g+2/3,m,0,g+2/3,m+1,0,g,m,0,g+2/3,m+1,0,g,m+1,0];d.set(y,18*f),p.set(u,12*f);var v=[f,f,f,f,f,f];h.set(v,6*f)}var b=new Wi;b.setAttribute("position",new Ti(d,3)),b.setAttribute("uv",new Ti(p,2)),b.setAttribute("faceIndex",new Ti(h,1)),e.push(b),n>4&&n--}return{_lodPlanes:e,_sizeLods:t,_sigmas:r}}(),gh=fh._lodPlanes,mh=fh._sizeLods,yh=fh._sigmas,vh=null,bh=(1+Math.sqrt(5))/2,xh=1/bh,Sh=[new qr(1,1,1),new qr(-1,1,1),new qr(1,1,-1),new qr(-1,1,-1),new qr(0,bh,xh),new qr(0,bh,-xh),new qr(xh,0,bh),new qr(-xh,0,bh),new qr(bh,xh,0),new qr(-bh,xh,0)];function Ah(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=new iu({name:"SphericalGaussianBlur",defines:{n:20},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:new Float32Array(20)},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:new qr(0,1,0)},inputEncoding:{value:ph[qt]},outputEncoding:{value:ph[qt]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:x,depthTest:!1,depthWrite:!1}),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}function wh(e){return void 0!==e&&e.type===Te&&(e.encoding===qt||e.encoding===Kt||e.encoding===$t)}function _h(e){var t=new Xr(3*lh,3*lh,e);return t.texture.mapping=ue,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function Th(e,t,r,n,i){e.viewport.set(t,r,n,i),e.scissor.set(t,r,n,i)}function Eh(){return new iu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new jr(1,1)},inputEncoding:{value:ph[qt]},outputEncoding:{value:ph[qt]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:x,depthTest:!1,depthWrite:!1})}function Bh(){return new iu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:ph[qt]},outputEncoding:{value:ph[qt]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:x,depthTest:!1,depthWrite:!1})}function Rh(e,t,r,n,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new bi(e,t,r,i,o,a)}Ah.prototype={constructor:Ah,fromScene:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;vh=this._renderer.getRenderTarget();var i=this._allocateTargets();return this._sceneToCubeUV(e,r,n,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i},fromEquirectangular:function(e){return this._fromTexture(e)},fromCubemap:function(e){return this._fromTexture(e)},compileCubemapShader:function(){null===this._cubemapShader&&(this._cubemapShader=Bh(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){null===this._equirectShader&&(this._equirectShader=Eh(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<gh.length;e++)gh[e].dispose()},_cleanup:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(vh),e.scissorTest=!1,Th(e,0,0,e.width,e.height)},_fromTexture:function(e){vh=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t},_allocateTargets:function(e){var t={magFilter:ge,minFilter:ge,generateMipmaps:!1,type:Te,format:ke,encoding:wh(e)?e.encoding:er,depthBuffer:!1,stencilBuffer:!1},r=_h(t);return r.depthBuffer=!e,this._pingPongRenderTarget=_h(t),r},_compileMaterial:function(e){var t=new co(gh[0],e);this._renderer.compile(t,hh)},_sceneToCubeUV:function(e,t,r,n){var i=new _o(90,1,t,r),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,c=s.outputEncoding,l=s.toneMapping,u=s.getClearColor(),d=s.getClearAlpha();s.toneMapping=$,s.outputEncoding=qt;var p=e.background;if(p&&p.isColor){p.convertSRGBToLinear();var h=Math.max(p.r,p.g,p.b),f=Math.min(Math.max(Math.ceil(Math.log2(h)),-128),127);p=p.multiplyScalar(Math.pow(2,-f));var g=(f+128)/255;s.setClearColor(p,g),e.background=null}for(var m=0;m<6;m++){var y=m%3;0==y?(i.up.set(0,o[m],0),i.lookAt(a[m],0,0)):1==y?(i.up.set(0,0,o[m]),i.lookAt(0,a[m],0)):(i.up.set(0,o[m],0),i.lookAt(0,0,a[m])),Th(n,y*lh,m>2?lh:0,lh,lh),s.setRenderTarget(n),s.render(e,i)}s.toneMapping=l,s.outputEncoding=c,s.setClearColor(u,d)},_textureToCubeUV:function(e,t){var r=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=Bh()):null==this._equirectShader&&(this._equirectShader=Eh());var n=e.isCubeTexture?this._cubemapShader:this._equirectShader,i=new co(gh[0],n),o=n.uniforms;o.envMap.value=e,e.isCubeTexture||o.texelSize.value.set(1/e.image.width,1/e.image.height),o.inputEncoding.value=ph[e.encoding],o.outputEncoding.value=ph[t.texture.encoding],Th(t,0,0,3*lh,2*lh),r.setRenderTarget(t),r.render(i,hh)},_applyPMREM:function(e){var t=this._renderer,r=t.autoClear;t.autoClear=!1;for(var n=1;n<dh;n++){var i=Math.sqrt(yh[n]*yh[n]-yh[n-1]*yh[n-1]),o=Sh[(n-1)%Sh.length];this._blur(e,n-1,n,i,o)}t.autoClear=r},_blur:function(e,t,r,n,i){var o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,n,"latitudinal",i),this._halfBlur(o,e,r,r,n,"longitudinal",i)},_halfBlur:function(e,t,r,n,i,o,a){var s=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new co(gh[n],c),u=c.uniforms,d=mh[r]-1,p=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,h=i/p,f=isFinite(i)?1+Math.floor(3*h):20;f>20&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(f," samples when the maximum is set to 20"));for(var g=[],m=0,y=0;y<20;++y){var v=y/h,b=Math.exp(-v*v/2);g.push(b),0==y?m+=b:y<f&&(m+=2*b)}for(var x=0;x<g.length;x++)g[x]=g[x]/m;u.envMap.value=e.texture,u.samples.value=f,u.weights.value=g,u.latitudinal.value="latitudinal"===o,a&&(u.poleAxis.value=a),u.dTheta.value=p,u.mipInt.value=8-r,u.inputEncoding.value=ph[e.texture.encoding],u.outputEncoding.value=ph[e.texture.encoding];var S=mh[n];Th(t,3*Math.max(0,lh-2*S),(0===n?0:2*lh)+2*S*(n>4?n-8+4:0),3*S,2*S),s.setRenderTarget(t),s.render(l,hh)}};var Mh=0,Ch=1,Oh=0,Ih=1,Fh=2;function Nh(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function Lh(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function Ph(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Pc(e,t)}function Dh(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new oc(e)}function Uh(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Pc(e,t)}function Gh(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Oc(e)}function jh(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Oc(e)}function zh(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Oc(e)}function kh(e,t,r){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new qr(e,t,r)}function Vh(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Ti(e,t).setUsage(Er)}function Wh(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Ei(e,t)}function Hh(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Bi(e,t)}function Xh(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Ri(e,t)}function Qh(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Mi(e,t)}function Zh(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ci(e,t)}function Yh(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Oi(e,t)}function Jh(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Ii(e,t)}function qh(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Fi(e,t)}function Kh(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ni(e,t)}function $h(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Yu.call(this,e),this.type="catmullrom",this.closed=!0}function ef(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Yu.call(this,e),this.type="catmullrom"}function tf(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Yu.call(this,e),this.type="catmullrom"}function rf(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new ch(e)}function nf(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new th(e,t)}function of(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Mc(new Yl(e.geometry),new xc({color:void 0!==t?t:16777215}))}function af(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Mc(new kc(e.geometry),new xc({color:void 0!==t?t:16777215}))}function sf(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Nu(e)}function cf(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Du(e)}function lf(e,t,r){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Eo(e,r)}zu.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(zu.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(sd.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new mo,r=0,n=e.length;r<n;r++){var i=e[r];t.vertices.push(new qr(i.x,i.y,i.z||0))}return t}}),Object.assign(cd.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),$h.prototype=Object.create(Yu.prototype),ef.prototype=Object.create(Yu.prototype),tf.prototype=Object.create(Yu.prototype),Object.assign(tf.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Wp.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Up.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Iu.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Td.extractUrlBase(e)}}),Iu.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Cd.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(Rp.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Gn.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(kn.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Co.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Op.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Gr,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Gr.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Gr.ceilPowerOfTwo(e)}}),Object.assign(zr.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(an.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new qr).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,r,n,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,n,r,i,o)}}),ei.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Zr.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Jn.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(di.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(di,{barycoordFromPoint:function(e,t,r,n,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),di.getBarycoord(e,t,r,n,i)},normal:function(e,t,r,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),di.getNormal(e,t,r,n)}}),Object.assign(ld.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Nl(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Xl(this,e)}}),Object.assign(jr.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(qr.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Hr.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(mo.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.assign(_n.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(_n.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(co.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(co.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Zt},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(lc.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(hc.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),uc.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(zu.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),_o.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(ud.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Ti.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Er},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Er)}}}),Object.assign(Ti.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Er:Tr),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Wi.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Ti(arguments[1],arguments[2])))},addDrawCall:function(e,t,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(Wi.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Ed.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties(Ap.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(ks.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Er},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(ks.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Er:Tr),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Ll.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(xp.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Si.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new gi}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===v}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(su.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(au.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}}),Object.defineProperties(Ao.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Us.prototype,{clearTarget:function(e,t,r,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,r,n)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Us.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?Kt:qt}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Ms.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Xr.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties($d.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new zd).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),op.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},To.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var uf={merge:function(e,t,r){var n;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),n=t.matrix,t=t.geometry),e.merge(t,n,r)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};function df(){console.error("THREE.CanvasRenderer has been removed")}function pf(){console.error("THREE.JSONLoader has been removed.")}kr.crossOrigin=void 0,kr.loadTexture=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new ju;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,r,void 0,n);return t&&(o.mapping=t),o},kr.loadTextureCube=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Gu;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,r,void 0,n);return t&&(o.mapping=t),o},kr.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},kr.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var hf={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function ff(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:i}}))},function(e,t,r){e.exports=r(144)()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var n=l(r(311)),i=l(r(382)),o=l(r(402)),a=l(r(403)),s=l(r(404)),c=l(r(405));function l(e){return e&&e.__esModule?e:{default:e}}t.hover=a.default,t.handleHover=a.default,t.handleActive=s.default,t.loop=c.default;var u=t.ReactCSS=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var s=(0,n.default)(r),c=(0,i.default)(e,s);return(0,o.default)(c)};t.default=u},function(e,t,r){(function(e,n){var i;(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",l="[object Array]",u="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Function]",f="[object GeneratorFunction]",g="[object Map]",m="[object Number]",y="[object Object]",v="[object RegExp]",b="[object Set]",x="[object String]",S="[object Symbol]",A="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",T="[object Float32Array]",E="[object Float64Array]",B="[object Int8Array]",R="[object Int16Array]",M="[object Int32Array]",C="[object Uint8Array]",O="[object Uint16Array]",I="[object Uint32Array]",F=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,L=/(__e\(.*?\)|\b__t\)) \+\n'';/g,P=/&(?:amp|lt|gt|quot|#39);/g,D=/[&<>"']/g,U=RegExp(P.source),G=RegExp(D.source),j=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,k=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,X=/[\\^$.*+?()[\]{}|]/g,Q=RegExp(X.source),Z=/^\s+|\s+$/g,Y=/^\s+/,J=/\s+$/,q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,K=/\{\n\/\* \[wrapped with (.+)\] \*/,$=/,? & /,ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,te=/\\(\\)?/g,re=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ce=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,de=/['\n\r\u2028\u2029\\]/g,pe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",he="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="["+he+"]",ge="["+pe+"]",me="\\d+",ye="[a-z\\xdf-\\xf6\\xf8-\\xff]",ve="[^\\ud800-\\udfff"+he+me+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",be="\\ud83c[\\udffb-\\udfff]",xe="[^\\ud800-\\udfff]",Se="(?:\\ud83c[\\udde6-\\uddff]){2}",Ae="[\\ud800-\\udbff][\\udc00-\\udfff]",we="[A-Z\\xc0-\\xd6\\xd8-\\xde]",_e="(?:"+ye+"|"+ve+")",Te="(?:"+we+"|"+ve+")",Ee="(?:"+ge+"|"+be+")?",Be="[\\ufe0e\\ufe0f]?"+Ee+"(?:\\u200d(?:"+[xe,Se,Ae].join("|")+")[\\ufe0e\\ufe0f]?"+Ee+")*",Re="(?:"+["[\\u2700-\\u27bf]",Se,Ae].join("|")+")"+Be,Me="(?:"+[xe+ge+"?",ge,Se,Ae,"[\\ud800-\\udfff]"].join("|")+")",Ce=RegExp("['\u2019]","g"),Oe=RegExp(ge,"g"),Ie=RegExp(be+"(?="+be+")|"+Me+Be,"g"),Fe=RegExp([we+"?"+ye+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[fe,we,"$"].join("|")+")",Te+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[fe,we+_e,"$"].join("|")+")",we+"?"+_e+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",we+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",me,Re].join("|"),"g"),Ne=RegExp("[\\u200d\\ud800-\\udfff"+pe+"\\ufe0e\\ufe0f]"),Le=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Pe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],De=-1,Ue={};Ue[T]=Ue[E]=Ue[B]=Ue[R]=Ue[M]=Ue[C]=Ue["[object Uint8ClampedArray]"]=Ue[O]=Ue[I]=!0,Ue[c]=Ue[l]=Ue[w]=Ue[u]=Ue[_]=Ue[d]=Ue[p]=Ue[h]=Ue[g]=Ue[m]=Ue[y]=Ue[v]=Ue[b]=Ue[x]=Ue[A]=!1;var Ge={};Ge[c]=Ge[l]=Ge[w]=Ge[_]=Ge[u]=Ge[d]=Ge[T]=Ge[E]=Ge[B]=Ge[R]=Ge[M]=Ge[g]=Ge[m]=Ge[y]=Ge[v]=Ge[b]=Ge[x]=Ge[S]=Ge[C]=Ge["[object Uint8ClampedArray]"]=Ge[O]=Ge[I]=!0,Ge[p]=Ge[h]=Ge[A]=!1;var je={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ze=parseFloat,ke=parseInt,Ve="object"==typeof e&&e&&e.Object===Object&&e,We="object"==typeof self&&self&&self.Object===Object&&self,He=Ve||We||Function("return this")(),Xe=t&&!t.nodeType&&t,Qe=Xe&&"object"==typeof n&&n&&!n.nodeType&&n,Ze=Qe&&Qe.exports===Xe,Ye=Ze&&Ve.process,Je=function(){try{return Qe&&Qe.require&&Qe.require("util").types||Ye&&Ye.binding&&Ye.binding("util")}catch(e){}}(),qe=Je&&Je.isArrayBuffer,Ke=Je&&Je.isDate,$e=Je&&Je.isMap,et=Je&&Je.isRegExp,tt=Je&&Je.isSet,rt=Je&&Je.isTypedArray;function nt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function it(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(n,a,r(a),e)}return n}function ot(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function at(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function st(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function ct(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function lt(e,t){return!(null==e||!e.length)&&bt(e,t,0)>-1}function ut(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function dt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function pt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function ht(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function ft(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function gt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var mt=wt("length");function yt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function vt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function bt(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):vt(e,St,r)}function xt(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function St(e){return e!=e}function At(e,t){var r=null==e?0:e.length;return r?Et(e,t)/r:NaN}function wt(e){return function(t){return null==t?void 0:t[e]}}function _t(e){return function(t){return null==e?void 0:e[t]}}function Tt(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Et(e,t){for(var r,n=-1,i=e.length;++n<i;){var o=t(e[n]);void 0!==o&&(r=void 0===r?o:r+o)}return r}function Bt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Rt(e){return function(t){return e(t)}}function Mt(e,t){return dt(t,(function(t){return e[t]}))}function Ct(e,t){return e.has(t)}function Ot(e,t){for(var r=-1,n=e.length;++r<n&&bt(t,e[r],0)>-1;);return r}function It(e,t){for(var r=e.length;r--&&bt(t,e[r],0)>-1;);return r}function Ft(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var Nt=_t({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Lt=_t({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Pt(e){return"\\"+je[e]}function Dt(e){return Ne.test(e)}function Ut(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Gt(e,t){return function(r){return e(t(r))}}function jt(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==a||(e[r]=a,o[i++]=r)}return o}function zt(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function kt(e){return Dt(e)?function(e){for(var t=Ie.lastIndex=0;Ie.test(e);)++t;return t}(e):mt(e)}function Vt(e){return Dt(e)?function(e){return e.match(Ie)||[]}(e):function(e){return e.split("")}(e)}var Wt=_t({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ht=function e(t){var r,n=(t=null==t?He:Ht.defaults(He.Object(),t,Ht.pick(He,Pe))).Array,i=t.Date,pe=t.Error,he=t.Function,fe=t.Math,ge=t.Object,me=t.RegExp,ye=t.String,ve=t.TypeError,be=n.prototype,xe=he.prototype,Se=ge.prototype,Ae=t["__core-js_shared__"],we=xe.toString,_e=Se.hasOwnProperty,Te=0,Ee=(r=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Be=Se.toString,Re=we.call(ge),Me=He._,Ie=me("^"+we.call(_e).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ne=Ze?t.Buffer:void 0,je=t.Symbol,Ve=t.Uint8Array,We=Ne?Ne.allocUnsafe:void 0,Xe=Gt(ge.getPrototypeOf,ge),Qe=ge.create,Ye=Se.propertyIsEnumerable,Je=be.splice,mt=je?je.isConcatSpreadable:void 0,_t=je?je.iterator:void 0,Xt=je?je.toStringTag:void 0,Qt=function(){try{var e=qi(ge,"defineProperty");return e({},"",{}),e}catch(e){}}(),Zt=t.clearTimeout!==He.clearTimeout&&t.clearTimeout,Yt=i&&i.now!==He.Date.now&&i.now,Jt=t.setTimeout!==He.setTimeout&&t.setTimeout,qt=fe.ceil,Kt=fe.floor,$t=ge.getOwnPropertySymbols,er=Ne?Ne.isBuffer:void 0,tr=t.isFinite,rr=be.join,nr=Gt(ge.keys,ge),ir=fe.max,or=fe.min,ar=i.now,sr=t.parseInt,cr=fe.random,lr=be.reverse,ur=qi(t,"DataView"),dr=qi(t,"Map"),pr=qi(t,"Promise"),hr=qi(t,"Set"),fr=qi(t,"WeakMap"),gr=qi(ge,"create"),mr=fr&&new fr,yr={},vr=To(ur),br=To(dr),xr=To(pr),Sr=To(hr),Ar=To(fr),wr=je?je.prototype:void 0,_r=wr?wr.valueOf:void 0,Tr=wr?wr.toString:void 0;function Er(e){if(ka(e)&&!Oa(e)&&!(e instanceof Cr)){if(e instanceof Mr)return e;if(_e.call(e,"__wrapped__"))return Eo(e)}return new Mr(e)}var Br=function(){function e(){}return function(t){if(!za(t))return{};if(Qe)return Qe(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Rr(){}function Mr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Cr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Or(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ir(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Fr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Nr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Fr;++t<r;)this.add(e[t])}function Lr(e){var t=this.__data__=new Ir(e);this.size=t.size}function Pr(e,t){var r=Oa(e),n=!r&&Ca(e),i=!r&&!n&&La(e),o=!r&&!n&&!i&&Ja(e),a=r||n||i||o,s=a?Bt(e.length,ye):[],c=s.length;for(var l in e)!t&&!_e.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||io(l,c))||s.push(l);return s}function Dr(e){var t=e.length;return t?e[Nn(0,t-1)]:void 0}function Ur(e,t){return Ao(gi(e),Qr(t,0,e.length))}function Gr(e){return Ao(gi(e))}function jr(e,t,r){(void 0!==r&&!Ba(e[t],r)||void 0===r&&!(t in e))&&Hr(e,t,r)}function zr(e,t,r){var n=e[t];_e.call(e,t)&&Ba(n,r)&&(void 0!==r||t in e)||Hr(e,t,r)}function kr(e,t){for(var r=e.length;r--;)if(Ba(e[r][0],t))return r;return-1}function Vr(e,t,r,n){return Kr(e,(function(e,i,o){t(n,e,r(e),o)})),n}function Wr(e,t){return e&&mi(t,vs(t),e)}function Hr(e,t,r){"__proto__"==t&&Qt?Qt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Xr(e,t){for(var r=-1,i=t.length,o=n(i),a=null==e;++r<i;)o[r]=a?void 0:hs(e,t[r]);return o}function Qr(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}function Zr(e,t,r,n,i,o){var a,s=1&t,l=2&t,p=4&t;if(r&&(a=i?r(e,n,i,o):r(e)),void 0!==a)return a;if(!za(e))return e;var A=Oa(e);if(A){if(a=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&_e.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!s)return gi(e,a)}else{var F=eo(e),N=F==h||F==f;if(La(e))return li(e,s);if(F==y||F==c||N&&!i){if(a=l||N?{}:ro(e),!s)return l?function(e,t){return mi(e,$i(e),t)}(e,function(e,t){return e&&mi(t,bs(t),e)}(a,e)):function(e,t){return mi(e,Ki(e),t)}(e,Wr(a,e))}else{if(!Ge[F])return i?e:{};a=function(e,t,r){var n,i=e.constructor;switch(t){case w:return ui(e);case u:case d:return new i(+e);case _:return function(e,t){var r=t?ui(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case T:case E:case B:case R:case M:case C:case"[object Uint8ClampedArray]":case O:case I:return di(e,r);case g:return new i;case m:case x:return new i(e);case v:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new i;case S:return n=e,_r?ge(_r.call(n)):{}}}(e,F,s)}}o||(o=new Lr);var L=o.get(e);if(L)return L;o.set(e,a),Qa(e)?e.forEach((function(n){a.add(Zr(n,t,r,n,e,o))})):Va(e)&&e.forEach((function(n,i){a.set(i,Zr(n,t,r,i,e,o))}));var P=A?void 0:(p?l?Wi:Vi:l?bs:vs)(e);return ot(P||e,(function(n,i){P&&(n=e[i=n]),zr(a,i,Zr(n,t,r,i,e,o))})),a}function Yr(e,t,r){var n=r.length;if(null==e)return!n;for(e=ge(e);n--;){var i=r[n],o=t[i],a=e[i];if(void 0===a&&!(i in e)||!o(a))return!1}return!0}function Jr(e,t,r){if("function"!=typeof e)throw new ve(o);return vo((function(){e.apply(void 0,r)}),t)}function qr(e,t,r,n){var i=-1,o=lt,a=!0,s=e.length,c=[],l=t.length;if(!s)return c;r&&(t=dt(t,Rt(r))),n?(o=ut,a=!1):t.length>=200&&(o=Ct,a=!1,t=new Nr(t));e:for(;++i<s;){var u=e[i],d=null==r?u:r(u);if(u=n||0!==u?u:0,a&&d==d){for(var p=l;p--;)if(t[p]===d)continue e;c.push(u)}else o(t,d,n)||c.push(u)}return c}Er.templateSettings={escape:j,evaluate:z,interpolate:k,variable:"",imports:{_:Er}},Er.prototype=Rr.prototype,Er.prototype.constructor=Er,Mr.prototype=Br(Rr.prototype),Mr.prototype.constructor=Mr,Cr.prototype=Br(Rr.prototype),Cr.prototype.constructor=Cr,Or.prototype.clear=function(){this.__data__=gr?gr(null):{},this.size=0},Or.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Or.prototype.get=function(e){var t=this.__data__;if(gr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return _e.call(t,e)?t[e]:void 0},Or.prototype.has=function(e){var t=this.__data__;return gr?void 0!==t[e]:_e.call(t,e)},Or.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=gr&&void 0===t?"__lodash_hash_undefined__":t,this},Ir.prototype.clear=function(){this.__data__=[],this.size=0},Ir.prototype.delete=function(e){var t=this.__data__,r=kr(t,e);return!(r<0)&&(r==t.length-1?t.pop():Je.call(t,r,1),--this.size,!0)},Ir.prototype.get=function(e){var t=this.__data__,r=kr(t,e);return r<0?void 0:t[r][1]},Ir.prototype.has=function(e){return kr(this.__data__,e)>-1},Ir.prototype.set=function(e,t){var r=this.__data__,n=kr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Fr.prototype.clear=function(){this.size=0,this.__data__={hash:new Or,map:new(dr||Ir),string:new Or}},Fr.prototype.delete=function(e){var t=Yi(this,e).delete(e);return this.size-=t?1:0,t},Fr.prototype.get=function(e){return Yi(this,e).get(e)},Fr.prototype.has=function(e){return Yi(this,e).has(e)},Fr.prototype.set=function(e,t){var r=Yi(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Nr.prototype.add=Nr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Nr.prototype.has=function(e){return this.__data__.has(e)},Lr.prototype.clear=function(){this.__data__=new Ir,this.size=0},Lr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Lr.prototype.get=function(e){return this.__data__.get(e)},Lr.prototype.has=function(e){return this.__data__.has(e)},Lr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ir){var n=r.__data__;if(!dr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Fr(n)}return r.set(e,t),this.size=r.size,this};var Kr=bi(sn),$r=bi(cn,!0);function en(e,t){var r=!0;return Kr(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function tn(e,t,r){for(var n=-1,i=e.length;++n<i;){var o=e[n],a=t(o);if(null!=a&&(void 0===s?a==a&&!Ya(a):r(a,s)))var s=a,c=o}return c}function rn(e,t){var r=[];return Kr(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function nn(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=no),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?nn(s,t-1,r,n,i):pt(i,s):n||(i[i.length]=s)}return i}var on=xi(),an=xi(!0);function sn(e,t){return e&&on(e,t,vs)}function cn(e,t){return e&&an(e,t,vs)}function ln(e,t){return ct(t,(function(t){return Ua(e[t])}))}function un(e,t){for(var r=0,n=(t=oi(t,e)).length;null!=e&&r<n;)e=e[_o(t[r++])];return r&&r==n?e:void 0}function dn(e,t,r){var n=t(e);return Oa(e)?n:pt(n,r(e))}function pn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Xt&&Xt in ge(e)?function(e){var t=_e.call(e,Xt),r=e[Xt];try{e[Xt]=void 0;var n=!0}catch(e){}var i=Be.call(e);return n&&(t?e[Xt]=r:delete e[Xt]),i}(e):function(e){return Be.call(e)}(e)}function hn(e,t){return e>t}function fn(e,t){return null!=e&&_e.call(e,t)}function gn(e,t){return null!=e&&t in ge(e)}function mn(e,t,r){for(var i=r?ut:lt,o=e[0].length,a=e.length,s=a,c=n(a),l=1/0,u=[];s--;){var d=e[s];s&&t&&(d=dt(d,Rt(t))),l=or(d.length,l),c[s]=!r&&(t||o>=120&&d.length>=120)?new Nr(s&&d):void 0}d=e[0];var p=-1,h=c[0];e:for(;++p<o&&u.length<l;){var f=d[p],g=t?t(f):f;if(f=r||0!==f?f:0,!(h?Ct(h,g):i(u,g,r))){for(s=a;--s;){var m=c[s];if(!(m?Ct(m,g):i(e[s],g,r)))continue e}h&&h.push(g),u.push(f)}}return u}function yn(e,t,r){var n=null==(e=fo(e,t=oi(t,e)))?e:e[_o(Do(t))];return null==n?void 0:nt(n,e,r)}function vn(e){return ka(e)&&pn(e)==c}function bn(e,t,r,n,i){return e===t||(null==e||null==t||!ka(e)&&!ka(t)?e!=e&&t!=t:function(e,t,r,n,i,o){var a=Oa(e),s=Oa(t),h=a?l:eo(e),f=s?l:eo(t),A=(h=h==c?y:h)==y,T=(f=f==c?y:f)==y,E=h==f;if(E&&La(e)){if(!La(t))return!1;a=!0,A=!1}if(E&&!A)return o||(o=new Lr),a||Ja(e)?zi(e,t,r,n,i,o):function(e,t,r,n,i,o,a){switch(r){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case u:case d:case m:return Ba(+e,+t);case p:return e.name==t.name&&e.message==t.message;case v:case x:return e==t+"";case g:var s=Ut;case b:var c=1&n;if(s||(s=zt),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;n|=2,a.set(e,t);var h=zi(s(e),s(t),n,i,o,a);return a.delete(e),h;case S:if(_r)return _r.call(e)==_r.call(t)}return!1}(e,t,h,r,n,i,o);if(!(1&r)){var B=A&&_e.call(e,"__wrapped__"),R=T&&_e.call(t,"__wrapped__");if(B||R){var M=B?e.value():e,C=R?t.value():t;return o||(o=new Lr),i(M,C,r,n,o)}}return!!E&&(o||(o=new Lr),function(e,t,r,n,i,o){var a=1&r,s=Vi(e),c=s.length;if(c!=Vi(t).length&&!a)return!1;for(var l=c;l--;){var u=s[l];if(!(a?u in t:_e.call(t,u)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var h=!0;o.set(e,t),o.set(t,e);for(var f=a;++l<c;){var g=e[u=s[l]],m=t[u];if(n)var y=a?n(m,g,u,t,e,o):n(g,m,u,e,t,o);if(!(void 0===y?g===m||i(g,m,r,n,o):y)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,r,n,i,o))}(e,t,r,n,bn,i))}function xn(e,t,r,n){var i=r.length,o=i,a=!n;if(null==e)return!o;for(e=ge(e);i--;){var s=r[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var c=(s=r[i])[0],l=e[c],u=s[1];if(a&&s[2]){if(void 0===l&&!(c in e))return!1}else{var d=new Lr;if(n)var p=n(l,u,c,e,t,d);if(!(void 0===p?bn(u,l,3,n,d):p))return!1}}return!0}function Sn(e){return!(!za(e)||(t=e,Ee&&Ee in t))&&(Ua(e)?Ie:ae).test(To(e));var t}function An(e){return"function"==typeof e?e:null==e?Ws:"object"==typeof e?Oa(e)?Bn(e[0],e[1]):En(e):$s(e)}function wn(e){if(!lo(e))return nr(e);var t=[];for(var r in ge(e))_e.call(e,r)&&"constructor"!=r&&t.push(r);return t}function _n(e,t){return e<t}function Tn(e,t){var r=-1,i=Fa(e)?n(e.length):[];return Kr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function En(e){var t=Ji(e);return 1==t.length&&t[0][2]?po(t[0][0],t[0][1]):function(r){return r===e||xn(r,e,t)}}function Bn(e,t){return ao(e)&&uo(t)?po(_o(e),t):function(r){var n=hs(r,e);return void 0===n&&n===t?fs(r,e):bn(t,n,3)}}function Rn(e,t,r,n,i){e!==t&&on(t,(function(o,a){if(i||(i=new Lr),za(o))!function(e,t,r,n,i,o,a){var s=mo(e,r),c=mo(t,r),l=a.get(c);if(l)jr(e,r,l);else{var u=o?o(s,c,r+"",e,t,a):void 0,d=void 0===u;if(d){var p=Oa(c),h=!p&&La(c),f=!p&&!h&&Ja(c);u=c,p||h||f?Oa(s)?u=s:Na(s)?u=gi(s):h?(d=!1,u=li(c,!0)):f?(d=!1,u=di(c,!0)):u=[]:Ha(c)||Ca(c)?(u=s,Ca(s)?u=is(s):za(s)&&!Ua(s)||(u=ro(c))):d=!1}d&&(a.set(c,u),i(u,c,n,o,a),a.delete(c)),jr(e,r,u)}}(e,t,a,r,Rn,n,i);else{var s=n?n(mo(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),jr(e,a,s)}}),bs)}function Mn(e,t){var r=e.length;if(r)return io(t+=t<0?r:0,r)?e[t]:void 0}function Cn(e,t,r){t=t.length?dt(t,(function(e){return Oa(e)?function(t){return un(t,1===e.length?e[0]:e)}:e})):[Ws];var n=-1;return t=dt(t,Rt(Zi())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(Tn(e,(function(e,r,i){return{criteria:dt(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;++n<a;){var c=pi(i[n],o[n]);if(c)return n>=s?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function On(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=un(e,a);r(s,a)&&Gn(o,oi(a,e),s)}return o}function In(e,t,r,n){var i=n?xt:bt,o=-1,a=t.length,s=e;for(e===t&&(t=gi(t)),r&&(s=dt(e,Rt(r)));++o<a;)for(var c=0,l=t[o],u=r?r(l):l;(c=i(s,u,c,n))>-1;)s!==e&&Je.call(s,c,1),Je.call(e,c,1);return e}function Fn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;io(i)?Je.call(e,i,1):qn(e,i)}}return e}function Nn(e,t){return e+Kt(cr()*(t-e+1))}function Ln(e,t){var r="";if(!e||t<1||t>9007199254740991)return r;do{t%2&&(r+=e),(t=Kt(t/2))&&(e+=e)}while(t);return r}function Pn(e,t){return bo(ho(e,t,Ws),e+"")}function Dn(e){return Dr(Bs(e))}function Un(e,t){var r=Bs(e);return Ao(r,Qr(t,0,r.length))}function Gn(e,t,r,n){if(!za(e))return e;for(var i=-1,o=(t=oi(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var c=_o(t[i]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var u=s[c];void 0===(l=n?n(u,c,s):void 0)&&(l=za(u)?u:io(t[i+1])?[]:{})}zr(s,c,l),s=s[c]}return e}var jn=mr?function(e,t){return mr.set(e,t),e}:Ws,zn=Qt?function(e,t){return Qt(e,"toString",{configurable:!0,enumerable:!1,value:zs(t),writable:!0})}:Ws;function kn(e){return Ao(Bs(e))}function Vn(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function Wn(e,t){var r;return Kr(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function Hn(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,a=e[o];null!==a&&!Ya(a)&&(r?a<=t:a<t)?n=o+1:i=o}return i}return Xn(e,t,Ws,r)}function Xn(e,t,r,n){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=r(t))!=t,s=null===t,c=Ya(t),l=void 0===t;i<o;){var u=Kt((i+o)/2),d=r(e[u]),p=void 0!==d,h=null===d,f=d==d,g=Ya(d);if(a)var m=n||f;else m=l?f&&(n||p):s?f&&p&&(n||!h):c?f&&p&&!h&&(n||!g):!h&&!g&&(n?d<=t:d<t);m?i=u+1:o=u}return or(o,4294967294)}function Qn(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r],s=t?t(a):a;if(!r||!Ba(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function Zn(e){return"number"==typeof e?e:Ya(e)?NaN:+e}function Yn(e){if("string"==typeof e)return e;if(Oa(e))return dt(e,Yn)+"";if(Ya(e))return Tr?Tr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Jn(e,t,r){var n=-1,i=lt,o=e.length,a=!0,s=[],c=s;if(r)a=!1,i=ut;else if(o>=200){var l=t?null:Li(e);if(l)return zt(l);a=!1,i=Ct,c=new Nr}else c=t?[]:s;e:for(;++n<o;){var u=e[n],d=t?t(u):u;if(u=r||0!==u?u:0,a&&d==d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),s.push(u)}else i(c,d,r)||(c!==s&&c.push(d),s.push(u))}return s}function qn(e,t){return null==(e=fo(e,t=oi(t,e)))||delete e[_o(Do(t))]}function Kn(e,t,r,n){return Gn(e,t,r(un(e,t)),n)}function $n(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?Vn(e,n?0:o,n?o+1:i):Vn(e,n?o+1:0,n?i:o)}function ei(e,t){var r=e;return r instanceof Cr&&(r=r.value()),ht(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),r)}function ti(e,t,r){var i=e.length;if(i<2)return i?Jn(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],c=-1;++c<i;)c!=o&&(a[o]=qr(a[o]||s,e[c],t,r));return Jn(nn(a,1),t,r)}function ri(e,t,r){for(var n=-1,i=e.length,o=t.length,a={};++n<i;){var s=n<o?t[n]:void 0;r(a,e[n],s)}return a}function ni(e){return Na(e)?e:[]}function ii(e){return"function"==typeof e?e:Ws}function oi(e,t){return Oa(e)?e:ao(e,t)?[e]:wo(os(e))}var ai=Pn;function si(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:Vn(e,t,r)}var ci=Zt||function(e){return He.clearTimeout(e)};function li(e,t){if(t)return e.slice();var r=e.length,n=We?We(r):new e.constructor(r);return e.copy(n),n}function ui(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function di(e,t){var r=t?ui(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function pi(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,o=Ya(e),a=void 0!==t,s=null===t,c=t==t,l=Ya(t);if(!s&&!l&&!o&&e>t||o&&a&&c&&!s&&!l||n&&a&&c||!r&&c||!i)return 1;if(!n&&!o&&!l&&e<t||l&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!c)return-1}return 0}function hi(e,t,r,i){for(var o=-1,a=e.length,s=r.length,c=-1,l=t.length,u=ir(a-s,0),d=n(l+u),p=!i;++c<l;)d[c]=t[c];for(;++o<s;)(p||o<a)&&(d[r[o]]=e[o]);for(;u--;)d[c++]=e[o++];return d}function fi(e,t,r,i){for(var o=-1,a=e.length,s=-1,c=r.length,l=-1,u=t.length,d=ir(a-c,0),p=n(d+u),h=!i;++o<d;)p[o]=e[o];for(var f=o;++l<u;)p[f+l]=t[l];for(;++s<c;)(h||o<a)&&(p[f+r[s]]=e[o++]);return p}function gi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function mi(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),i?Hr(r,s,c):zr(r,s,c)}return r}function yi(e,t){return function(r,n){var i=Oa(r)?it:Vr,o=t?t():{};return i(r,e,Zi(n,2),o)}}function vi(e){return Pn((function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&oo(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=ge(t);++n<i;){var s=r[n];s&&e(t,s,n,o)}return t}))}function bi(e,t){return function(r,n){if(null==r)return r;if(!Fa(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=ge(r);(t?o--:++o<i)&&!1!==n(a[o],o,a););return r}}function xi(e){return function(t,r,n){for(var i=-1,o=ge(t),a=n(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===r(o[c],c,o))break}return t}}function Si(e){return function(t){var r=Dt(t=os(t))?Vt(t):void 0,n=r?r[0]:t.charAt(0),i=r?si(r,1).join(""):t.slice(1);return n[e]()+i}}function Ai(e){return function(t){return ht(Us(Cs(t).replace(Ce,"")),e,"")}}function wi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Br(e.prototype),n=e.apply(r,t);return za(n)?n:r}}function _i(e){return function(t,r,n){var i=ge(t);if(!Fa(t)){var o=Zi(r,3);t=vs(t),r=function(e){return o(i[e],e,i)}}var a=e(t,r,n);return a>-1?i[o?t[a]:a]:void 0}}function Ti(e){return ki((function(t){var r=t.length,n=r,i=Mr.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new ve(o);if(i&&!s&&"wrapper"==Xi(a))var s=new Mr([],!0)}for(n=s?n:r;++n<r;){var c=Xi(a=t[n]),l="wrapper"==c?Hi(a):void 0;s=l&&so(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Xi(l[0])].apply(s,l[3]):1==a.length&&so(a)?s[c]():s.thru(a)}return function(){var e=arguments,n=e[0];if(s&&1==e.length&&Oa(n))return s.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function Ei(e,t,r,i,o,a,s,c,l,u){var d=128&t,p=1&t,h=2&t,f=24&t,g=512&t,m=h?void 0:wi(e);return function y(){for(var v=arguments.length,b=n(v),x=v;x--;)b[x]=arguments[x];if(f)var S=Qi(y),A=Ft(b,S);if(i&&(b=hi(b,i,o,f)),a&&(b=fi(b,a,s,f)),v-=A,f&&v<u){var w=jt(b,S);return Fi(e,t,Ei,y.placeholder,r,b,w,c,l,u-v)}var _=p?r:this,T=h?_[e]:e;return v=b.length,c?b=go(b,c):g&&v>1&&b.reverse(),d&&l<v&&(b.length=l),this&&this!==He&&this instanceof y&&(T=m||wi(T)),T.apply(_,b)}}function Bi(e,t){return function(r,n){return function(e,t,r,n){return sn(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function Ri(e,t){return function(r,n){var i;if(void 0===r&&void 0===n)return t;if(void 0!==r&&(i=r),void 0!==n){if(void 0===i)return n;"string"==typeof r||"string"==typeof n?(r=Yn(r),n=Yn(n)):(r=Zn(r),n=Zn(n)),i=e(r,n)}return i}}function Mi(e){return ki((function(t){return t=dt(t,Rt(Zi())),Pn((function(r){var n=this;return e(t,(function(e){return nt(e,n,r)}))}))}))}function Ci(e,t){var r=(t=void 0===t?" ":Yn(t)).length;if(r<2)return r?Ln(t,e):t;var n=Ln(t,qt(e/kt(t)));return Dt(t)?si(Vt(n),0,e).join(""):n.slice(0,e)}function Oi(e){return function(t,r,i){return i&&"number"!=typeof i&&oo(t,r,i)&&(r=i=void 0),t=es(t),void 0===r?(r=t,t=0):r=es(r),function(e,t,r,i){for(var o=-1,a=ir(qt((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,i=void 0===i?t<r?1:-1:es(i),e)}}function Ii(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=ns(t),r=ns(r)),e(t,r)}}function Fi(e,t,r,n,i,o,a,s,c,l){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var d=[e,t,i,u?o:void 0,u?a:void 0,u?void 0:o,u?void 0:a,s,c,l],p=r.apply(void 0,d);return so(e)&&yo(p,d),p.placeholder=n,xo(p,e,t)}function Ni(e){var t=fe[e];return function(e,r){if(e=ns(e),(r=null==r?0:or(ts(r),292))&&tr(e)){var n=(os(e)+"e").split("e");return+((n=(os(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Li=hr&&1/zt(new hr([,-0]))[1]==1/0?function(e){return new hr(e)}:Ys;function Pi(e){return function(t){var r=eo(t);return r==g?Ut(t):r==b?function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}(t):function(e,t){return dt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Di(e,t,r,i,s,c,l,u){var d=2&t;if(!d&&"function"!=typeof e)throw new ve(o);var p=i?i.length:0;if(p||(t&=-97,i=s=void 0),l=void 0===l?l:ir(ts(l),0),u=void 0===u?u:ts(u),p-=s?s.length:0,64&t){var h=i,f=s;i=s=void 0}var g=d?void 0:Hi(e),m=[e,t,r,i,s,h,f,c,l,u];if(g&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,s=128==n&&8==r||128==n&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!s)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?hi(l,c,t[4]):c,e[4]=l?jt(e[3],a):t[4]}(c=t[5])&&(l=e[5],e[5]=l?fi(l,c,t[6]):c,e[6]=l?jt(e[5],a):t[6]),(c=t[7])&&(e[7]=c),128&n&&(e[8]=null==e[8]?t[8]:or(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(m,g),e=m[0],t=m[1],r=m[2],i=m[3],s=m[4],!(u=m[9]=void 0===m[9]?d?0:e.length:ir(m[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,r){var i=wi(e);return function o(){for(var a=arguments.length,s=n(a),c=a,l=Qi(o);c--;)s[c]=arguments[c];var u=a<3&&s[0]!==l&&s[a-1]!==l?[]:jt(s,l);if((a-=u.length)<r)return Fi(e,t,Ei,o.placeholder,void 0,s,u,void 0,void 0,r-a);var d=this&&this!==He&&this instanceof o?i:e;return nt(d,this,s)}}(e,t,u):32!=t&&33!=t||s.length?Ei.apply(void 0,m):function(e,t,r,i){var o=1&t,a=wi(e);return function t(){for(var s=-1,c=arguments.length,l=-1,u=i.length,d=n(u+c),p=this&&this!==He&&this instanceof t?a:e;++l<u;)d[l]=i[l];for(;c--;)d[l++]=arguments[++s];return nt(p,o?r:this,d)}}(e,t,r,i);else var y=function(e,t,r){var n=1&t,i=wi(e);return function t(){var o=this&&this!==He&&this instanceof t?i:e;return o.apply(n?r:this,arguments)}}(e,t,r);return xo((g?jn:yo)(y,m),e,t)}function Ui(e,t,r,n){return void 0===e||Ba(e,Se[r])&&!_e.call(n,r)?t:e}function Gi(e,t,r,n,i,o){return za(e)&&za(t)&&(o.set(t,e),Rn(e,t,void 0,Gi,o),o.delete(t)),e}function ji(e){return Ha(e)?void 0:e}function zi(e,t,r,n,i,o){var a=1&r,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var l=o.get(e),u=o.get(t);if(l&&u)return l==t&&u==e;var d=-1,p=!0,h=2&r?new Nr:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var f=e[d],g=t[d];if(n)var m=a?n(g,f,d,t,e,o):n(f,g,d,e,t,o);if(void 0!==m){if(m)continue;p=!1;break}if(h){if(!gt(t,(function(e,t){if(!Ct(h,t)&&(f===e||i(f,e,r,n,o)))return h.push(t)}))){p=!1;break}}else if(f!==g&&!i(f,g,r,n,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function ki(e){return bo(ho(e,void 0,Io),e+"")}function Vi(e){return dn(e,vs,Ki)}function Wi(e){return dn(e,bs,$i)}var Hi=mr?function(e){return mr.get(e)}:Ys;function Xi(e){for(var t=e.name+"",r=yr[t],n=_e.call(yr,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function Qi(e){return(_e.call(Er,"placeholder")?Er:e).placeholder}function Zi(){var e=Er.iteratee||Hs;return e=e===Hs?An:e,arguments.length?e(arguments[0],arguments[1]):e}function Yi(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Ji(e){for(var t=vs(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,uo(i)]}return t}function qi(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Sn(r)?r:void 0}var Ki=$t?function(e){return null==e?[]:(e=ge(e),ct($t(e),(function(t){return Ye.call(e,t)})))}:rc,$i=$t?function(e){for(var t=[];e;)pt(t,Ki(e)),e=Xe(e);return t}:rc,eo=pn;function to(e,t,r){for(var n=-1,i=(t=oi(t,e)).length,o=!1;++n<i;){var a=_o(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&ja(i)&&io(a,i)&&(Oa(e)||Ca(e))}function ro(e){return"function"!=typeof e.constructor||lo(e)?{}:Br(Xe(e))}function no(e){return Oa(e)||Ca(e)||!!(mt&&e&&e[mt])}function io(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&ce.test(e))&&e>-1&&e%1==0&&e<t}function oo(e,t,r){if(!za(r))return!1;var n=typeof t;return!!("number"==n?Fa(r)&&io(t,r.length):"string"==n&&t in r)&&Ba(r[t],e)}function ao(e,t){if(Oa(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Ya(e))||W.test(e)||!V.test(e)||null!=t&&e in ge(t)}function so(e){var t=Xi(e),r=Er[t];if("function"!=typeof r||!(t in Cr.prototype))return!1;if(e===r)return!0;var n=Hi(r);return!!n&&e===n[0]}(ur&&eo(new ur(new ArrayBuffer(1)))!=_||dr&&eo(new dr)!=g||pr&&"[object Promise]"!=eo(pr.resolve())||hr&&eo(new hr)!=b||fr&&eo(new fr)!=A)&&(eo=function(e){var t=pn(e),r=t==y?e.constructor:void 0,n=r?To(r):"";if(n)switch(n){case vr:return _;case br:return g;case xr:return"[object Promise]";case Sr:return b;case Ar:return A}return t});var co=Ae?Ua:nc;function lo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Se)}function uo(e){return e==e&&!za(e)}function po(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in ge(r))}}function ho(e,t,r){return t=ir(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=ir(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var c=n(t+1);++o<t;)c[o]=i[o];return c[t]=r(s),nt(e,this,c)}}function fo(e,t){return t.length<2?e:un(e,Vn(t,0,-1))}function go(e,t){for(var r=e.length,n=or(t.length,r),i=gi(e);n--;){var o=t[n];e[n]=io(o,r)?i[o]:void 0}return e}function mo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var yo=So(jn),vo=Jt||function(e,t){return He.setTimeout(e,t)},bo=So(zn);function xo(e,t,r){var n=t+"";return bo(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(q,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return ot(s,(function(r){var n="_."+r[0];t&r[1]&&!lt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(K);return t?t[1].split($):[]}(n),r)))}function So(e){var t=0,r=0;return function(){var n=ar(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ao(e,t){var r=-1,n=e.length,i=n-1;for(t=void 0===t?n:t;++r<t;){var o=Nn(r,i),a=e[o];e[o]=e[r],e[r]=a}return e.length=t,e}var wo=function(e){var t=Sa((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(H,(function(e,r,n,i){t.push(n?i.replace(te,"$1"):r||e)})),t}),(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}();function _o(e){if("string"==typeof e||Ya(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function To(e){if(null!=e){try{return we.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Eo(e){if(e instanceof Cr)return e.clone();var t=new Mr(e.__wrapped__,e.__chain__);return t.__actions__=gi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bo=Pn((function(e,t){return Na(e)?qr(e,nn(t,1,Na,!0)):[]})),Ro=Pn((function(e,t){var r=Do(t);return Na(r)&&(r=void 0),Na(e)?qr(e,nn(t,1,Na,!0),Zi(r,2)):[]})),Mo=Pn((function(e,t){var r=Do(t);return Na(r)&&(r=void 0),Na(e)?qr(e,nn(t,1,Na,!0),void 0,r):[]}));function Co(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ts(r);return i<0&&(i=ir(n+i,0)),vt(e,Zi(t,3),i)}function Oo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return void 0!==r&&(i=ts(r),i=r<0?ir(n+i,0):or(i,n-1)),vt(e,Zi(t,3),i,!0)}function Io(e){return null!=e&&e.length?nn(e,1):[]}function Fo(e){return e&&e.length?e[0]:void 0}var No=Pn((function(e){var t=dt(e,ni);return t.length&&t[0]===e[0]?mn(t):[]})),Lo=Pn((function(e){var t=Do(e),r=dt(e,ni);return t===Do(r)?t=void 0:r.pop(),r.length&&r[0]===e[0]?mn(r,Zi(t,2)):[]})),Po=Pn((function(e){var t=Do(e),r=dt(e,ni);return(t="function"==typeof t?t:void 0)&&r.pop(),r.length&&r[0]===e[0]?mn(r,void 0,t):[]}));function Do(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Uo=Pn(Go);function Go(e,t){return e&&e.length&&t&&t.length?In(e,t):e}var jo=ki((function(e,t){var r=null==e?0:e.length,n=Xr(e,t);return Fn(e,dt(t,(function(e){return io(e,r)?+e:e})).sort(pi)),n}));function zo(e){return null==e?e:lr.call(e)}var ko=Pn((function(e){return Jn(nn(e,1,Na,!0))})),Vo=Pn((function(e){var t=Do(e);return Na(t)&&(t=void 0),Jn(nn(e,1,Na,!0),Zi(t,2))})),Wo=Pn((function(e){var t=Do(e);return t="function"==typeof t?t:void 0,Jn(nn(e,1,Na,!0),void 0,t)}));function Ho(e){if(!e||!e.length)return[];var t=0;return e=ct(e,(function(e){if(Na(e))return t=ir(e.length,t),!0})),Bt(t,(function(t){return dt(e,wt(t))}))}function Xo(e,t){if(!e||!e.length)return[];var r=Ho(e);return null==t?r:dt(r,(function(e){return nt(t,void 0,e)}))}var Qo=Pn((function(e,t){return Na(e)?qr(e,t):[]})),Zo=Pn((function(e){return ti(ct(e,Na))})),Yo=Pn((function(e){var t=Do(e);return Na(t)&&(t=void 0),ti(ct(e,Na),Zi(t,2))})),Jo=Pn((function(e){var t=Do(e);return t="function"==typeof t?t:void 0,ti(ct(e,Na),void 0,t)})),qo=Pn(Ho),Ko=Pn((function(e){var t=e.length,r=t>1?e[t-1]:void 0;return r="function"==typeof r?(e.pop(),r):void 0,Xo(e,r)}));function $o(e){var t=Er(e);return t.__chain__=!0,t}function ea(e,t){return t(e)}var ta=ki((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return Xr(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Cr&&io(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ea,args:[i],thisArg:void 0}),new Mr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)})),ra=yi((function(e,t,r){_e.call(e,r)?++e[r]:Hr(e,r,1)})),na=_i(Co),ia=_i(Oo);function oa(e,t){return(Oa(e)?ot:Kr)(e,Zi(t,3))}function aa(e,t){return(Oa(e)?at:$r)(e,Zi(t,3))}var sa=yi((function(e,t,r){_e.call(e,r)?e[r].push(t):Hr(e,r,[t])})),ca=Pn((function(e,t,r){var i=-1,o="function"==typeof t,a=Fa(e)?n(e.length):[];return Kr(e,(function(e){a[++i]=o?nt(t,e,r):yn(e,t,r)})),a})),la=yi((function(e,t,r){Hr(e,r,t)}));function ua(e,t){return(Oa(e)?dt:Tn)(e,Zi(t,3))}var da=yi((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),pa=Pn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&oo(e,t[0],t[1])?t=[]:r>2&&oo(t[0],t[1],t[2])&&(t=[t[0]]),Cn(e,nn(t,1),[])})),ha=Yt||function(){return He.Date.now()};function fa(e,t,r){return t=r?void 0:t,Di(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ga(e,t){var r;if("function"!=typeof t)throw new ve(o);return e=ts(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var ma=Pn((function(e,t,r){var n=1;if(r.length){var i=jt(r,Qi(ma));n|=32}return Di(e,n,t,r,i)})),ya=Pn((function(e,t,r){var n=3;if(r.length){var i=jt(r,Qi(ya));n|=32}return Di(t,n,e,r,i)}));function va(e,t,r){var n,i,a,s,c,l,u=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new ve(o);function f(t){var r=n,o=i;return n=i=void 0,u=t,s=e.apply(o,r)}function g(e){return u=e,c=vo(y,t),d?f(e):s}function m(e){var r=e-l;return void 0===l||r>=t||r<0||p&&e-u>=a}function y(){var e=ha();if(m(e))return v(e);c=vo(y,function(e){var r=t-(e-l);return p?or(r,a-(e-u)):r}(e))}function v(e){return c=void 0,h&&n?f(e):(n=i=void 0,s)}function b(){var e=ha(),r=m(e);if(n=arguments,i=this,l=e,r){if(void 0===c)return g(l);if(p)return ci(c),c=vo(y,t),f(l)}return void 0===c&&(c=vo(y,t)),s}return t=ns(t)||0,za(r)&&(d=!!r.leading,a=(p="maxWait"in r)?ir(ns(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h),b.cancel=function(){void 0!==c&&ci(c),u=0,n=l=i=c=void 0},b.flush=function(){return void 0===c?s:v(ha())},b}var ba=Pn((function(e,t){return Jr(e,1,t)})),xa=Pn((function(e,t,r){return Jr(e,ns(t)||0,r)}));function Sa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(o);var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Sa.Cache||Fr),r}function Aa(e){if("function"!=typeof e)throw new ve(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Sa.Cache=Fr;var wa=ai((function(e,t){var r=(t=1==t.length&&Oa(t[0])?dt(t[0],Rt(Zi())):dt(nn(t,1),Rt(Zi()))).length;return Pn((function(n){for(var i=-1,o=or(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return nt(e,this,n)}))})),_a=Pn((function(e,t){return Di(e,32,void 0,t,jt(t,Qi(_a)))})),Ta=Pn((function(e,t){return Di(e,64,void 0,t,jt(t,Qi(Ta)))})),Ea=ki((function(e,t){return Di(e,256,void 0,void 0,void 0,t)}));function Ba(e,t){return e===t||e!=e&&t!=t}var Ra=Ii(hn),Ma=Ii((function(e,t){return e>=t})),Ca=vn(function(){return arguments}())?vn:function(e){return ka(e)&&_e.call(e,"callee")&&!Ye.call(e,"callee")},Oa=n.isArray,Ia=qe?Rt(qe):function(e){return ka(e)&&pn(e)==w};function Fa(e){return null!=e&&ja(e.length)&&!Ua(e)}function Na(e){return ka(e)&&Fa(e)}var La=er||nc,Pa=Ke?Rt(Ke):function(e){return ka(e)&&pn(e)==d};function Da(e){if(!ka(e))return!1;var t=pn(e);return t==p||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ha(e)}function Ua(e){if(!za(e))return!1;var t=pn(e);return t==h||t==f||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ga(e){return"number"==typeof e&&e==ts(e)}function ja(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function za(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ka(e){return null!=e&&"object"==typeof e}var Va=$e?Rt($e):function(e){return ka(e)&&eo(e)==g};function Wa(e){return"number"==typeof e||ka(e)&&pn(e)==m}function Ha(e){if(!ka(e)||pn(e)!=y)return!1;var t=Xe(e);if(null===t)return!0;var r=_e.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&we.call(r)==Re}var Xa=et?Rt(et):function(e){return ka(e)&&pn(e)==v},Qa=tt?Rt(tt):function(e){return ka(e)&&eo(e)==b};function Za(e){return"string"==typeof e||!Oa(e)&&ka(e)&&pn(e)==x}function Ya(e){return"symbol"==typeof e||ka(e)&&pn(e)==S}var Ja=rt?Rt(rt):function(e){return ka(e)&&ja(e.length)&&!!Ue[pn(e)]},qa=Ii(_n),Ka=Ii((function(e,t){return e<=t}));function $a(e){if(!e)return[];if(Fa(e))return Za(e)?Vt(e):gi(e);if(_t&&e[_t])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[_t]());var t=eo(e);return(t==g?Ut:t==b?zt:Bs)(e)}function es(e){return e?(e=ns(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ts(e){var t=es(e),r=t%1;return t==t?r?t-r:t:0}function rs(e){return e?Qr(ts(e),0,4294967295):0}function ns(e){if("number"==typeof e)return e;if(Ya(e))return NaN;if(za(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=za(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Z,"");var r=oe.test(e);return r||se.test(e)?ke(e.slice(2),r?2:8):ie.test(e)?NaN:+e}function is(e){return mi(e,bs(e))}function os(e){return null==e?"":Yn(e)}var as=vi((function(e,t){if(lo(t)||Fa(t))mi(t,vs(t),e);else for(var r in t)_e.call(t,r)&&zr(e,r,t[r])})),ss=vi((function(e,t){mi(t,bs(t),e)})),cs=vi((function(e,t,r,n){mi(t,bs(t),e,n)})),ls=vi((function(e,t,r,n){mi(t,vs(t),e,n)})),us=ki(Xr),ds=Pn((function(e,t){e=ge(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&oo(t[0],t[1],i)&&(n=1);++r<n;)for(var o=t[r],a=bs(o),s=-1,c=a.length;++s<c;){var l=a[s],u=e[l];(void 0===u||Ba(u,Se[l])&&!_e.call(e,l))&&(e[l]=o[l])}return e})),ps=Pn((function(e){return e.push(void 0,Gi),nt(Ss,void 0,e)}));function hs(e,t,r){var n=null==e?void 0:un(e,t);return void 0===n?r:n}function fs(e,t){return null!=e&&to(e,t,gn)}var gs=Bi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),e[t]=r}),zs(Ws)),ms=Bi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),_e.call(e,t)?e[t].push(r):e[t]=[r]}),Zi),ys=Pn(yn);function vs(e){return Fa(e)?Pr(e):wn(e)}function bs(e){return Fa(e)?Pr(e,!0):function(e){if(!za(e))return function(e){var t=[];if(null!=e)for(var r in ge(e))t.push(r);return t}(e);var t=lo(e),r=[];for(var n in e)("constructor"!=n||!t&&_e.call(e,n))&&r.push(n);return r}(e)}var xs=vi((function(e,t,r){Rn(e,t,r)})),Ss=vi((function(e,t,r,n){Rn(e,t,r,n)})),As=ki((function(e,t){var r={};if(null==e)return r;var n=!1;t=dt(t,(function(t){return t=oi(t,e),n||(n=t.length>1),t})),mi(e,Wi(e),r),n&&(r=Zr(r,7,ji));for(var i=t.length;i--;)qn(r,t[i]);return r})),ws=ki((function(e,t){return null==e?{}:function(e,t){return On(e,t,(function(t,r){return fs(e,r)}))}(e,t)}));function _s(e,t){if(null==e)return{};var r=dt(Wi(e),(function(e){return[e]}));return t=Zi(t),On(e,r,(function(e,r){return t(e,r[0])}))}var Ts=Pi(vs),Es=Pi(bs);function Bs(e){return null==e?[]:Mt(e,vs(e))}var Rs=Ai((function(e,t,r){return t=t.toLowerCase(),e+(r?Ms(t):t)}));function Ms(e){return Ds(os(e).toLowerCase())}function Cs(e){return(e=os(e))&&e.replace(le,Nt).replace(Oe,"")}var Os=Ai((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Is=Ai((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Fs=Si("toLowerCase"),Ns=Ai((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),Ls=Ai((function(e,t,r){return e+(r?" ":"")+Ds(t)})),Ps=Ai((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Ds=Si("toUpperCase");function Us(e,t,r){return e=os(e),void 0===(t=r?void 0:t)?function(e){return Le.test(e)}(e)?function(e){return e.match(Fe)||[]}(e):function(e){return e.match(ee)||[]}(e):e.match(t)||[]}var Gs=Pn((function(e,t){try{return nt(e,void 0,t)}catch(e){return Da(e)?e:new pe(e)}})),js=ki((function(e,t){return ot(t,(function(t){t=_o(t),Hr(e,t,ma(e[t],e))})),e}));function zs(e){return function(){return e}}var ks=Ti(),Vs=Ti(!0);function Ws(e){return e}function Hs(e){return An("function"==typeof e?e:Zr(e,1))}var Xs=Pn((function(e,t){return function(r){return yn(r,e,t)}})),Qs=Pn((function(e,t){return function(r){return yn(e,r,t)}}));function Zs(e,t,r){var n=vs(t),i=ln(t,n);null!=r||za(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=ln(t,vs(t)));var o=!(za(r)&&"chain"in r&&!r.chain),a=Ua(e);return ot(i,(function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__),i=r.__actions__=gi(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,pt([this.value()],arguments))})})),e}function Ys(){}var Js=Mi(dt),qs=Mi(st),Ks=Mi(gt);function $s(e){return ao(e)?wt(_o(e)):function(e){return function(t){return un(t,e)}}(e)}var ec=Oi(),tc=Oi(!0);function rc(){return[]}function nc(){return!1}var ic,oc=Ri((function(e,t){return e+t}),0),ac=Ni("ceil"),sc=Ri((function(e,t){return e/t}),1),cc=Ni("floor"),lc=Ri((function(e,t){return e*t}),1),uc=Ni("round"),dc=Ri((function(e,t){return e-t}),0);return Er.after=function(e,t){if("function"!=typeof t)throw new ve(o);return e=ts(e),function(){if(--e<1)return t.apply(this,arguments)}},Er.ary=fa,Er.assign=as,Er.assignIn=ss,Er.assignInWith=cs,Er.assignWith=ls,Er.at=us,Er.before=ga,Er.bind=ma,Er.bindAll=js,Er.bindKey=ya,Er.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Oa(e)?e:[e]},Er.chain=$o,Er.chunk=function(e,t,r){t=(r?oo(e,t,r):void 0===t)?1:ir(ts(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=n(qt(i/t));o<i;)s[a++]=Vn(e,o,o+=t);return s},Er.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},Er.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return pt(Oa(r)?gi(r):[r],nn(t,1))},Er.cond=function(e){var t=null==e?0:e.length,r=Zi();return e=t?dt(e,(function(e){if("function"!=typeof e[1])throw new ve(o);return[r(e[0]),e[1]]})):[],Pn((function(r){for(var n=-1;++n<t;){var i=e[n];if(nt(i[0],this,r))return nt(i[1],this,r)}}))},Er.conforms=function(e){return function(e){var t=vs(e);return function(r){return Yr(r,e,t)}}(Zr(e,1))},Er.constant=zs,Er.countBy=ra,Er.create=function(e,t){var r=Br(e);return null==t?r:Wr(r,t)},Er.curry=function e(t,r,n){var i=Di(t,8,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=e.placeholder,i},Er.curryRight=function e(t,r,n){var i=Di(t,16,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=e.placeholder,i},Er.debounce=va,Er.defaults=ds,Er.defaultsDeep=ps,Er.defer=ba,Er.delay=xa,Er.difference=Bo,Er.differenceBy=Ro,Er.differenceWith=Mo,Er.drop=function(e,t,r){var n=null==e?0:e.length;return n?Vn(e,(t=r||void 0===t?1:ts(t))<0?0:t,n):[]},Er.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?Vn(e,0,(t=n-(t=r||void 0===t?1:ts(t)))<0?0:t):[]},Er.dropRightWhile=function(e,t){return e&&e.length?$n(e,Zi(t,3),!0,!0):[]},Er.dropWhile=function(e,t){return e&&e.length?$n(e,Zi(t,3),!0):[]},Er.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&oo(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=ts(r))<0&&(r=-r>i?0:i+r),(n=void 0===n||n>i?i:ts(n))<0&&(n+=i),n=r>n?0:rs(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Er.filter=function(e,t){return(Oa(e)?ct:rn)(e,Zi(t,3))},Er.flatMap=function(e,t){return nn(ua(e,t),1)},Er.flatMapDeep=function(e,t){return nn(ua(e,t),1/0)},Er.flatMapDepth=function(e,t,r){return r=void 0===r?1:ts(r),nn(ua(e,t),r)},Er.flatten=Io,Er.flattenDeep=function(e){return null!=e&&e.length?nn(e,1/0):[]},Er.flattenDepth=function(e,t){return null!=e&&e.length?nn(e,t=void 0===t?1:ts(t)):[]},Er.flip=function(e){return Di(e,512)},Er.flow=ks,Er.flowRight=Vs,Er.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Er.functions=function(e){return null==e?[]:ln(e,vs(e))},Er.functionsIn=function(e){return null==e?[]:ln(e,bs(e))},Er.groupBy=sa,Er.initial=function(e){return null!=e&&e.length?Vn(e,0,-1):[]},Er.intersection=No,Er.intersectionBy=Lo,Er.intersectionWith=Po,Er.invert=gs,Er.invertBy=ms,Er.invokeMap=ca,Er.iteratee=Hs,Er.keyBy=la,Er.keys=vs,Er.keysIn=bs,Er.map=ua,Er.mapKeys=function(e,t){var r={};return t=Zi(t,3),sn(e,(function(e,n,i){Hr(r,t(e,n,i),e)})),r},Er.mapValues=function(e,t){var r={};return t=Zi(t,3),sn(e,(function(e,n,i){Hr(r,n,t(e,n,i))})),r},Er.matches=function(e){return En(Zr(e,1))},Er.matchesProperty=function(e,t){return Bn(e,Zr(t,1))},Er.memoize=Sa,Er.merge=xs,Er.mergeWith=Ss,Er.method=Xs,Er.methodOf=Qs,Er.mixin=Zs,Er.negate=Aa,Er.nthArg=function(e){return e=ts(e),Pn((function(t){return Mn(t,e)}))},Er.omit=As,Er.omitBy=function(e,t){return _s(e,Aa(Zi(t)))},Er.once=function(e){return ga(2,e)},Er.orderBy=function(e,t,r,n){return null==e?[]:(Oa(t)||(t=null==t?[]:[t]),Oa(r=n?void 0:r)||(r=null==r?[]:[r]),Cn(e,t,r))},Er.over=Js,Er.overArgs=wa,Er.overEvery=qs,Er.overSome=Ks,Er.partial=_a,Er.partialRight=Ta,Er.partition=da,Er.pick=ws,Er.pickBy=_s,Er.property=$s,Er.propertyOf=function(e){return function(t){return null==e?void 0:un(e,t)}},Er.pull=Uo,Er.pullAll=Go,Er.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?In(e,t,Zi(r,2)):e},Er.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?In(e,t,void 0,r):e},Er.pullAt=jo,Er.range=ec,Er.rangeRight=tc,Er.rearg=Ea,Er.reject=function(e,t){return(Oa(e)?ct:rn)(e,Aa(Zi(t,3)))},Er.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=Zi(t,3);++n<o;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return Fn(e,i),r},Er.rest=function(e,t){if("function"!=typeof e)throw new ve(o);return Pn(e,t=void 0===t?t:ts(t))},Er.reverse=zo,Er.sampleSize=function(e,t,r){return t=(r?oo(e,t,r):void 0===t)?1:ts(t),(Oa(e)?Ur:Un)(e,t)},Er.set=function(e,t,r){return null==e?e:Gn(e,t,r)},Er.setWith=function(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:Gn(e,t,r,n)},Er.shuffle=function(e){return(Oa(e)?Gr:kn)(e)},Er.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&oo(e,t,r)?(t=0,r=n):(t=null==t?0:ts(t),r=void 0===r?n:ts(r)),Vn(e,t,r)):[]},Er.sortBy=pa,Er.sortedUniq=function(e){return e&&e.length?Qn(e):[]},Er.sortedUniqBy=function(e,t){return e&&e.length?Qn(e,Zi(t,2)):[]},Er.split=function(e,t,r){return r&&"number"!=typeof r&&oo(e,t,r)&&(t=r=void 0),(r=void 0===r?4294967295:r>>>0)?(e=os(e))&&("string"==typeof t||null!=t&&!Xa(t))&&!(t=Yn(t))&&Dt(e)?si(Vt(e),0,r):e.split(t,r):[]},Er.spread=function(e,t){if("function"!=typeof e)throw new ve(o);return t=null==t?0:ir(ts(t),0),Pn((function(r){var n=r[t],i=si(r,0,t);return n&&pt(i,n),nt(e,this,i)}))},Er.tail=function(e){var t=null==e?0:e.length;return t?Vn(e,1,t):[]},Er.take=function(e,t,r){return e&&e.length?Vn(e,0,(t=r||void 0===t?1:ts(t))<0?0:t):[]},Er.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?Vn(e,(t=n-(t=r||void 0===t?1:ts(t)))<0?0:t,n):[]},Er.takeRightWhile=function(e,t){return e&&e.length?$n(e,Zi(t,3),!1,!0):[]},Er.takeWhile=function(e,t){return e&&e.length?$n(e,Zi(t,3)):[]},Er.tap=function(e,t){return t(e),e},Er.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new ve(o);return za(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),va(e,t,{leading:n,maxWait:t,trailing:i})},Er.thru=ea,Er.toArray=$a,Er.toPairs=Ts,Er.toPairsIn=Es,Er.toPath=function(e){return Oa(e)?dt(e,_o):Ya(e)?[e]:gi(wo(os(e)))},Er.toPlainObject=is,Er.transform=function(e,t,r){var n=Oa(e),i=n||La(e)||Ja(e);if(t=Zi(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:za(e)&&Ua(o)?Br(Xe(e)):{}}return(i?ot:sn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Er.unary=function(e){return fa(e,1)},Er.union=ko,Er.unionBy=Vo,Er.unionWith=Wo,Er.uniq=function(e){return e&&e.length?Jn(e):[]},Er.uniqBy=function(e,t){return e&&e.length?Jn(e,Zi(t,2)):[]},Er.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Jn(e,void 0,t):[]},Er.unset=function(e,t){return null==e||qn(e,t)},Er.unzip=Ho,Er.unzipWith=Xo,Er.update=function(e,t,r){return null==e?e:Kn(e,t,ii(r))},Er.updateWith=function(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:Kn(e,t,ii(r),n)},Er.values=Bs,Er.valuesIn=function(e){return null==e?[]:Mt(e,bs(e))},Er.without=Qo,Er.words=Us,Er.wrap=function(e,t){return _a(ii(t),e)},Er.xor=Zo,Er.xorBy=Yo,Er.xorWith=Jo,Er.zip=qo,Er.zipObject=function(e,t){return ri(e||[],t||[],zr)},Er.zipObjectDeep=function(e,t){return ri(e||[],t||[],Gn)},Er.zipWith=Ko,Er.entries=Ts,Er.entriesIn=Es,Er.extend=ss,Er.extendWith=cs,Zs(Er,Er),Er.add=oc,Er.attempt=Gs,Er.camelCase=Rs,Er.capitalize=Ms,Er.ceil=ac,Er.clamp=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=ns(r))==r?r:0),void 0!==t&&(t=(t=ns(t))==t?t:0),Qr(ns(e),t,r)},Er.clone=function(e){return Zr(e,4)},Er.cloneDeep=function(e){return Zr(e,5)},Er.cloneDeepWith=function(e,t){return Zr(e,5,t="function"==typeof t?t:void 0)},Er.cloneWith=function(e,t){return Zr(e,4,t="function"==typeof t?t:void 0)},Er.conformsTo=function(e,t){return null==t||Yr(e,t,vs(t))},Er.deburr=Cs,Er.defaultTo=function(e,t){return null==e||e!=e?t:e},Er.divide=sc,Er.endsWith=function(e,t,r){e=os(e),t=Yn(t);var n=e.length,i=r=void 0===r?n:Qr(ts(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},Er.eq=Ba,Er.escape=function(e){return(e=os(e))&&G.test(e)?e.replace(D,Lt):e},Er.escapeRegExp=function(e){return(e=os(e))&&Q.test(e)?e.replace(X,"\\$&"):e},Er.every=function(e,t,r){var n=Oa(e)?st:en;return r&&oo(e,t,r)&&(t=void 0),n(e,Zi(t,3))},Er.find=na,Er.findIndex=Co,Er.findKey=function(e,t){return yt(e,Zi(t,3),sn)},Er.findLast=ia,Er.findLastIndex=Oo,Er.findLastKey=function(e,t){return yt(e,Zi(t,3),cn)},Er.floor=cc,Er.forEach=oa,Er.forEachRight=aa,Er.forIn=function(e,t){return null==e?e:on(e,Zi(t,3),bs)},Er.forInRight=function(e,t){return null==e?e:an(e,Zi(t,3),bs)},Er.forOwn=function(e,t){return e&&sn(e,Zi(t,3))},Er.forOwnRight=function(e,t){return e&&cn(e,Zi(t,3))},Er.get=hs,Er.gt=Ra,Er.gte=Ma,Er.has=function(e,t){return null!=e&&to(e,t,fn)},Er.hasIn=fs,Er.head=Fo,Er.identity=Ws,Er.includes=function(e,t,r,n){e=Fa(e)?e:Bs(e),r=r&&!n?ts(r):0;var i=e.length;return r<0&&(r=ir(i+r,0)),Za(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&bt(e,t,r)>-1},Er.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ts(r);return i<0&&(i=ir(n+i,0)),bt(e,t,i)},Er.inRange=function(e,t,r){return t=es(t),void 0===r?(r=t,t=0):r=es(r),function(e,t,r){return e>=or(t,r)&&e<ir(t,r)}(e=ns(e),t,r)},Er.invoke=ys,Er.isArguments=Ca,Er.isArray=Oa,Er.isArrayBuffer=Ia,Er.isArrayLike=Fa,Er.isArrayLikeObject=Na,Er.isBoolean=function(e){return!0===e||!1===e||ka(e)&&pn(e)==u},Er.isBuffer=La,Er.isDate=Pa,Er.isElement=function(e){return ka(e)&&1===e.nodeType&&!Ha(e)},Er.isEmpty=function(e){if(null==e)return!0;if(Fa(e)&&(Oa(e)||"string"==typeof e||"function"==typeof e.splice||La(e)||Ja(e)||Ca(e)))return!e.length;var t=eo(e);if(t==g||t==b)return!e.size;if(lo(e))return!wn(e).length;for(var r in e)if(_e.call(e,r))return!1;return!0},Er.isEqual=function(e,t){return bn(e,t)},Er.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:void 0)?r(e,t):void 0;return void 0===n?bn(e,t,void 0,r):!!n},Er.isError=Da,Er.isFinite=function(e){return"number"==typeof e&&tr(e)},Er.isFunction=Ua,Er.isInteger=Ga,Er.isLength=ja,Er.isMap=Va,Er.isMatch=function(e,t){return e===t||xn(e,t,Ji(t))},Er.isMatchWith=function(e,t,r){return r="function"==typeof r?r:void 0,xn(e,t,Ji(t),r)},Er.isNaN=function(e){return Wa(e)&&e!=+e},Er.isNative=function(e){if(co(e))throw new pe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Sn(e)},Er.isNil=function(e){return null==e},Er.isNull=function(e){return null===e},Er.isNumber=Wa,Er.isObject=za,Er.isObjectLike=ka,Er.isPlainObject=Ha,Er.isRegExp=Xa,Er.isSafeInteger=function(e){return Ga(e)&&e>=-9007199254740991&&e<=9007199254740991},Er.isSet=Qa,Er.isString=Za,Er.isSymbol=Ya,Er.isTypedArray=Ja,Er.isUndefined=function(e){return void 0===e},Er.isWeakMap=function(e){return ka(e)&&eo(e)==A},Er.isWeakSet=function(e){return ka(e)&&"[object WeakSet]"==pn(e)},Er.join=function(e,t){return null==e?"":rr.call(e,t)},Er.kebabCase=Os,Er.last=Do,Er.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return void 0!==r&&(i=(i=ts(r))<0?ir(n+i,0):or(i,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):vt(e,St,i,!0)},Er.lowerCase=Is,Er.lowerFirst=Fs,Er.lt=qa,Er.lte=Ka,Er.max=function(e){return e&&e.length?tn(e,Ws,hn):void 0},Er.maxBy=function(e,t){return e&&e.length?tn(e,Zi(t,2),hn):void 0},Er.mean=function(e){return At(e,Ws)},Er.meanBy=function(e,t){return At(e,Zi(t,2))},Er.min=function(e){return e&&e.length?tn(e,Ws,_n):void 0},Er.minBy=function(e,t){return e&&e.length?tn(e,Zi(t,2),_n):void 0},Er.stubArray=rc,Er.stubFalse=nc,Er.stubObject=function(){return{}},Er.stubString=function(){return""},Er.stubTrue=function(){return!0},Er.multiply=lc,Er.nth=function(e,t){return e&&e.length?Mn(e,ts(t)):void 0},Er.noConflict=function(){return He._===this&&(He._=Me),this},Er.noop=Ys,Er.now=ha,Er.pad=function(e,t,r){e=os(e);var n=(t=ts(t))?kt(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Ci(Kt(i),r)+e+Ci(qt(i),r)},Er.padEnd=function(e,t,r){e=os(e);var n=(t=ts(t))?kt(e):0;return t&&n<t?e+Ci(t-n,r):e},Er.padStart=function(e,t,r){e=os(e);var n=(t=ts(t))?kt(e):0;return t&&n<t?Ci(t-n,r)+e:e},Er.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),sr(os(e).replace(Y,""),t||0)},Er.random=function(e,t,r){if(r&&"boolean"!=typeof r&&oo(e,t,r)&&(t=r=void 0),void 0===r&&("boolean"==typeof t?(r=t,t=void 0):"boolean"==typeof e&&(r=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=es(e),void 0===t?(t=e,e=0):t=es(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=cr();return or(e+i*(t-e+ze("1e-"+((i+"").length-1))),t)}return Nn(e,t)},Er.reduce=function(e,t,r){var n=Oa(e)?ht:Tt,i=arguments.length<3;return n(e,Zi(t,4),r,i,Kr)},Er.reduceRight=function(e,t,r){var n=Oa(e)?ft:Tt,i=arguments.length<3;return n(e,Zi(t,4),r,i,$r)},Er.repeat=function(e,t,r){return t=(r?oo(e,t,r):void 0===t)?1:ts(t),Ln(os(e),t)},Er.replace=function(){var e=arguments,t=os(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Er.result=function(e,t,r){var n=-1,i=(t=oi(t,e)).length;for(i||(i=1,e=void 0);++n<i;){var o=null==e?void 0:e[_o(t[n])];void 0===o&&(n=i,o=r),e=Ua(o)?o.call(e):o}return e},Er.round=uc,Er.runInContext=e,Er.sample=function(e){return(Oa(e)?Dr:Dn)(e)},Er.size=function(e){if(null==e)return 0;if(Fa(e))return Za(e)?kt(e):e.length;var t=eo(e);return t==g||t==b?e.size:wn(e).length},Er.snakeCase=Ns,Er.some=function(e,t,r){var n=Oa(e)?gt:Wn;return r&&oo(e,t,r)&&(t=void 0),n(e,Zi(t,3))},Er.sortedIndex=function(e,t){return Hn(e,t)},Er.sortedIndexBy=function(e,t,r){return Xn(e,t,Zi(r,2))},Er.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=Hn(e,t);if(n<r&&Ba(e[n],t))return n}return-1},Er.sortedLastIndex=function(e,t){return Hn(e,t,!0)},Er.sortedLastIndexBy=function(e,t,r){return Xn(e,t,Zi(r,2),!0)},Er.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=Hn(e,t,!0)-1;if(Ba(e[r],t))return r}return-1},Er.startCase=Ls,Er.startsWith=function(e,t,r){return e=os(e),r=null==r?0:Qr(ts(r),0,e.length),t=Yn(t),e.slice(r,r+t.length)==t},Er.subtract=dc,Er.sum=function(e){return e&&e.length?Et(e,Ws):0},Er.sumBy=function(e,t){return e&&e.length?Et(e,Zi(t,2)):0},Er.template=function(e,t,r){var n=Er.templateSettings;r&&oo(e,t,r)&&(t=void 0),e=os(e),t=cs({},t,n,Ui);var i,o,a=cs({},t.imports,n.imports,Ui),s=vs(a),c=Mt(a,s),l=0,u=t.interpolate||ue,d="__p += '",p=me((t.escape||ue).source+"|"+u.source+"|"+(u===k?re:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),h="//# sourceURL="+(_e.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++De+"]")+"\n";e.replace(p,(function(t,r,n,a,s,c){return n||(n=a),d+=e.slice(l,c).replace(de,Pt),r&&(i=!0,d+="' +\n__e("+r+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),d+="';\n";var f=_e.call(t,"variable")&&t.variable;f||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(F,""):d).replace(N,"$1").replace(L,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Gs((function(){return he(s,h+"return "+d).apply(void 0,c)}));if(g.source=d,Da(g))throw g;return g},Er.times=function(e,t){if((e=ts(e))<1||e>9007199254740991)return[];var r=4294967295,n=or(e,4294967295);e-=4294967295;for(var i=Bt(n,t=Zi(t));++r<e;)t(r);return i},Er.toFinite=es,Er.toInteger=ts,Er.toLength=rs,Er.toLower=function(e){return os(e).toLowerCase()},Er.toNumber=ns,Er.toSafeInteger=function(e){return e?Qr(ts(e),-9007199254740991,9007199254740991):0===e?e:0},Er.toString=os,Er.toUpper=function(e){return os(e).toUpperCase()},Er.trim=function(e,t,r){if((e=os(e))&&(r||void 0===t))return e.replace(Z,"");if(!e||!(t=Yn(t)))return e;var n=Vt(e),i=Vt(t);return si(n,Ot(n,i),It(n,i)+1).join("")},Er.trimEnd=function(e,t,r){if((e=os(e))&&(r||void 0===t))return e.replace(J,"");if(!e||!(t=Yn(t)))return e;var n=Vt(e);return si(n,0,It(n,Vt(t))+1).join("")},Er.trimStart=function(e,t,r){if((e=os(e))&&(r||void 0===t))return e.replace(Y,"");if(!e||!(t=Yn(t)))return e;var n=Vt(e);return si(n,Ot(n,Vt(t))).join("")},Er.truncate=function(e,t){var r=30,n="...";if(za(t)){var i="separator"in t?t.separator:i;r="length"in t?ts(t.length):r,n="omission"in t?Yn(t.omission):n}var o=(e=os(e)).length;if(Dt(e)){var a=Vt(e);o=a.length}if(r>=o)return e;var s=r-kt(n);if(s<1)return n;var c=a?si(a,0,s).join(""):e.slice(0,s);if(void 0===i)return c+n;if(a&&(s+=c.length-s),Xa(i)){if(e.slice(s).search(i)){var l,u=c;for(i.global||(i=me(i.source,os(ne.exec(i))+"g")),i.lastIndex=0;l=i.exec(u);)var d=l.index;c=c.slice(0,void 0===d?s:d)}}else if(e.indexOf(Yn(i),s)!=s){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+n},Er.unescape=function(e){return(e=os(e))&&U.test(e)?e.replace(P,Wt):e},Er.uniqueId=function(e){var t=++Te;return os(e)+t},Er.upperCase=Ps,Er.upperFirst=Ds,Er.each=oa,Er.eachRight=aa,Er.first=Fo,Zs(Er,(ic={},sn(Er,(function(e,t){_e.call(Er.prototype,t)||(ic[t]=e)})),ic),{chain:!1}),Er.VERSION="4.17.20",ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Er[e].placeholder=Er})),ot(["drop","take"],(function(e,t){Cr.prototype[e]=function(r){r=void 0===r?1:ir(ts(r),0);var n=this.__filtered__&&!t?new Cr(this):this.clone();return n.__filtered__?n.__takeCount__=or(r,n.__takeCount__):n.__views__.push({size:or(r,4294967295),type:e+(n.__dir__<0?"Right":"")}),n},Cr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),ot(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Cr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Zi(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),ot(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Cr.prototype[e]=function(){return this[r](1).value()[0]}})),ot(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Cr.prototype[e]=function(){return this.__filtered__?new Cr(this):this[r](1)}})),Cr.prototype.compact=function(){return this.filter(Ws)},Cr.prototype.find=function(e){return this.filter(e).head()},Cr.prototype.findLast=function(e){return this.reverse().find(e)},Cr.prototype.invokeMap=Pn((function(e,t){return"function"==typeof e?new Cr(this):this.map((function(r){return yn(r,e,t)}))})),Cr.prototype.reject=function(e){return this.filter(Aa(Zi(e)))},Cr.prototype.slice=function(e,t){e=ts(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Cr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),void 0!==t&&(r=(t=ts(t))<0?r.dropRight(-t):r.take(t-e)),r)},Cr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Cr.prototype.toArray=function(){return this.take(4294967295)},sn(Cr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=Er[n?"take"+("last"==t?"Right":""):t],o=n||/^find/.test(t);i&&(Er.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,s=t instanceof Cr,c=a[0],l=s||Oa(t),u=function(e){var t=i.apply(Er,pt([e],a));return n&&d?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(s=l=!1);var d=this.__chain__,p=!!this.__actions__.length,h=o&&!d,f=s&&!p;if(!o&&l){t=f?t:new Cr(this);var g=e.apply(t,a);return g.__actions__.push({func:ea,args:[u],thisArg:void 0}),new Mr(g,d)}return h&&f?e.apply(this,a):(g=this.thru(u),h?n?g.value()[0]:g.value():g)})})),ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=be[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Er.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Oa(i)?i:[],e)}return this[r]((function(r){return t.apply(Oa(r)?r:[],e)}))}})),sn(Cr.prototype,(function(e,t){var r=Er[t];if(r){var n=r.name+"";_e.call(yr,n)||(yr[n]=[]),yr[n].push({name:t,func:r})}})),yr[Ei(void 0,2).name]=[{name:"wrapper",func:void 0}],Cr.prototype.clone=function(){var e=new Cr(this.__wrapped__);return e.__actions__=gi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=gi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=gi(this.__views__),e},Cr.prototype.reverse=function(){if(this.__filtered__){var e=new Cr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Cr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Oa(e),n=t<0,i=r?e.length:0,o=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=or(t,e+a);break;case"takeRight":e=ir(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,c=s-a,l=n?s:a-1,u=this.__iteratees__,d=u.length,p=0,h=or(c,this.__takeCount__);if(!r||!n&&i==c&&h==c)return ei(e,this.__actions__);var f=[];e:for(;c--&&p<h;){for(var g=-1,m=e[l+=t];++g<d;){var y=u[g],v=y.iteratee,b=y.type,x=v(m);if(2==b)m=x;else if(!x){if(1==b)continue e;break e}}f[p++]=m}return f},Er.prototype.at=ta,Er.prototype.chain=function(){return $o(this)},Er.prototype.commit=function(){return new Mr(this.value(),this.__chain__)},Er.prototype.next=function(){void 0===this.__values__&&(this.__values__=$a(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Er.prototype.plant=function(e){for(var t,r=this;r instanceof Rr;){var n=Eo(r);n.__index__=0,n.__values__=void 0,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},Er.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Cr){var t=e;return this.__actions__.length&&(t=new Cr(this)),(t=t.reverse()).__actions__.push({func:ea,args:[zo],thisArg:void 0}),new Mr(t,this.__chain__)}return this.thru(zo)},Er.prototype.toJSON=Er.prototype.valueOf=Er.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},Er.prototype.first=Er.prototype.head,_t&&(Er.prototype[_t]=function(){return this}),Er}();He._=Ht,void 0===(i=function(){return Ht}.call(t,r,t,n))||(n.exports=i)}).call(this)}).call(this,r(57),r(130)(e))},function(e,t,r){"use strict";var n=r(302),i=r(305),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach((function(e){s[o.call(i[e].labels).sort().join("")]=e}));var c={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in a&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var r,u;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof l)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var d=n.get(e);if(null===d)throw new Error("Unable to parse color from string: "+e);this.model=d.model,u=i[this.model].channels,this.color=d.value.slice(0,u),this.valpha="number"==typeof d.value[u]?d.value[u]:1}else if(e.length){this.model=t||"rgb",u=i[this.model].channels;var p=o.call(e,0,u);this.color=h(p,u),this.valpha="number"==typeof e[u]?e[u]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var f=Object.keys(e);"alpha"in e&&(f.splice(f.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var g=f.sort().join("");if(!(g in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[g];var m=i[this.model].labels,y=[];for(r=0;r<m.length;r++)y.push(e[m[r]]);this.color=h(y)}if(c[this.model])for(u=i[this.model].channels,r=0;r<u;r++){var v=c[this.model][r];v&&(this.color[r]=v(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function u(e,t,r){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(c[e]||(c[e]=[]))[t]=r})),e=e[0],function(n){var i;return arguments.length?(r&&(n=r(n)),(i=this[e]()).color[t]=n,i):(i=this[e]().color[t],r&&(i=r(i)),i)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function p(e){return Array.isArray(e)?e:[e]}function h(e,t){for(var r=0;r<t;r++)"number"!=typeof e[r]&&(e[r]=0);return e}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in n.to?this:this.rgb(),r=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return n.to[t.model](r)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),r=1===t.valpha?t.color:t.color.concat(this.valpha);return n.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,r=i[this.model].labels,n=0;n<t;n++)e[r[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new l(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:u("rgb",0,d(255)),green:u("rgb",1,d(255)),blue:u("rgb",2,d(255)),hue:u(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:u("hsl",1,d(100)),lightness:u("hsl",2,d(100)),saturationv:u("hsv",1,d(100)),value:u("hsv",2,d(100)),chroma:u("hcg",1,d(100)),gray:u("hcg",2,d(100)),white:u("hwb",1,d(100)),wblack:u("hwb",2,d(100)),cyan:u("cmyk",0,d(100)),magenta:u("cmyk",1,d(100)),yellow:u("cmyk",2,d(100)),black:u("cmyk",3,d(100)),x:u("xyz",0,d(100)),y:u("xyz",1,d(100)),z:u("xyz",2,d(100)),l:u("lab",0,d(100)),a:u("lab",1),b:u("lab",2),keyword:function(e){return arguments.length?new l(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new l(e):n.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r=(r+e)%360)<0?360+r:r,t.color[0]=r,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var r=e.rgb(),n=this.rgb(),i=void 0===t?.5:t,o=2*i-1,a=r.alpha()-n.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,c=1-s;return l.rgb(s*r.red()+c*n.red(),s*r.green()+c*n.green(),s*r.blue()+c*n.blue(),r.alpha()*i+n.alpha()*(1-i))}},Object.keys(i).forEach((function(e){if(-1===a.indexOf(e)){var t=i[e].channels;l.prototype[e]=function(){if(this.model===e)return new l(this);if(arguments.length)return new l(arguments,e);var r="number"==typeof arguments[t]?t:this.valpha;return new l(p(i[this.model][e].raw(this.color)).concat(r),e)},l[e]=function(r){return"number"==typeof r&&(r=h(o.call(arguments),t)),new l(r,e)}}})),e.exports=l},function(e,t){var r=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(69)("wks"),i=r(46),o=r(8).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},function(e,t,r){"use strict";t.__esModule=!0;var n,i=(n=r(53))&&n.__esModule?n:{default:n};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t,r){"use strict";(function(e){var n=r(51),i=r(1),o=r.n(i),a=(r(121),r(122)),s=r(123),c=r(93),l=r(91),u=r.n(l);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p=function(e,t){for(var r=[e[0]],n=0,i=t.length;n<i;n+=1)r.push(t[n],e[n+1]);return r},h=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(n.typeOf)(e)},f=Object.freeze([]),g=Object.freeze({});function m(e){return"function"==typeof e}function y(e){return e.displayName||e.name||"Component"}function v(e){return e&&"string"==typeof e.styledComponentId}var b=void 0!==e&&(e.env.REACT_APP_SC_ATTR||e.env.SC_ATTR)||"data-styled",x="undefined"!=typeof window&&"HTMLElement"in window,S="boolean"==typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||void 0!==e&&(e.env.REACT_APP_SC_DISABLE_SPEEDY||e.env.SC_DISABLE_SPEEDY)||!1,A=function(){return r.nc};function w(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/master/packages/styled-components/src/utils/errors.md#"+e+" for more information."+(r.length>0?" Additional arguments: "+r.join(", "):""))}var _=function(e){var t=document.head,r=e||t,n=document.createElement("style"),i=function(e){for(var t=e.childNodes,r=t.length;r>=0;r--){var n=t[r];if(n&&1===n.nodeType&&n.hasAttribute(b))return n}}(r),o=void 0!==i?i.nextSibling:null;n.setAttribute(b,"active"),n.setAttribute("data-styled-version","5.1.1");var a=A();return a&&n.setAttribute("nonce",a),r.insertBefore(n,o),n},T=function(){function e(e){var t=this.element=_(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var i=t[r];if(i.ownerNode===e)return i}w(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),E=function(){function e(e){var t=this.element=_(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t),n=this.nodes[e];return this.element.insertBefore(r,n||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),B=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),R=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,i=n;e>=i;)(i<<=1)<0&&w(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var o=n;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,c=t.length;s<c;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var i=r;i<n;i++)this.tag.deleteRule(r)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r,o=n;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),M=new Map,C=new Map,O=1,I=function(e){if(M.has(e))return M.get(e);var t=O++;return M.set(e,t),C.set(t,e),t},F=function(e){return C.get(e)},N=function(e,t){t>=O&&(O=t+1),M.set(e,t),C.set(t,e)},L="style["+b+'][data-styled-version="5.1.1"]',P=new RegExp("^"+b+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),D=function(e,t,r){for(var n,i=r.split(","),o=0,a=i.length;o<a;o++)(n=i[o])&&e.registerName(t,n)},U=function(e,t){for(var r=t.innerHTML.split("/*!sc*/\n"),n=[],i=0,o=r.length;i<o;i++){var a=r[i].trim();if(a){var s=a.match(P);if(s){var c=0|parseInt(s[1],10),l=s[2];0!==c&&(N(l,c),D(e,l,s[3]),e.getTag().insertRules(c,n)),n.length=0}else n.push(a)}}},G=x,j={isServer:!x,useCSSOMInjection:!S},z=function(){function e(e,t,r){void 0===e&&(e=j),void 0===t&&(t={}),this.options=d({},j,{},e),this.gs=t,this.names=new Map(r),!this.options.isServer&&x&&G&&(G=!1,function(e){for(var t=document.querySelectorAll(L),r=0,n=t.length;r<n;r++){var i=t[r];i&&"active"!==i.getAttribute(b)&&(U(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return I(e)};var t=e.prototype;return t.reconstructWithOptions=function(t){return new e(d({},this.options,{},t),this.gs,this.names)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(r=(t=this.options).isServer,n=t.useCSSOMInjection,i=t.target,e=r?new B(i):n?new T(i):new E(i),new R(e)));var e,t,r,n,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(I(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},t.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(I(e),r)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(I(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),r=t.length,n="",i=0;i<r;i++){var o=F(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(void 0!==a&&0!==s.length){var c=b+".g"+i+'[id="'+o+'"]',l="";void 0!==a&&a.forEach((function(e){e.length>0&&(l+=e+",")})),n+=""+s+c+'{content:"'+l+'"}/*!sc*/\n'}}}return n}(this)},e}(),k=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},V=function(e){return k(5381,e)},W=/^\s*\/\/.*$/gm,H=o.a.createContext(),X=(H.Consumer,o.a.createContext()),Q=(X.Consumer,new z),Z=function(e){var t,r,n,i=void 0===e?g:e,o=i.options,s=void 0===o?g:o,c=i.plugins,l=void 0===c?f:c,u=new a.a(s),d=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(r,n,i,o,a,s,c,l,u,d){switch(r){case 1:if(0===u&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===l)return n+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+n),"";default:return n+(0===d?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}((function(e){d.push(e)})),h=function(e,n,i){return n>0&&-1!==i.slice(0,n).indexOf(r)&&i.slice(n-r.length,n)!==r?"."+t:e};function m(e,i,o,a){void 0===a&&(a="&");var s=e.replace(W,""),c=i&&o?o+" "+i+" { "+s+" }":s;return t=a,r=i,n=new RegExp("\\"+r+"\\b","g"),u(o||!i?"":i,c)}return u.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(r)>0&&(i[0]=i[0].replace(n,h))},p,function(e){if(-2===e){var t=d;return d=[],t}}])),m.hash=l.length?l.reduce((function(e,t){return t.name||w(15),k(e,t.name)}),5381).toString():"",m}(),Y=function(){function e(e,t){var r=this;this.inject=function(e){e.hasNameForId(r.id,r.name)||e.insertRules(r.id,r.name,Z.apply(void 0,r.stringifyArgs))},this.toString=function(){return w(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.stringifyArgs=t}return e.prototype.getName=function(){return this.name},e}(),J=/([A-Z])/g,q=/^ms-/;function K(e){return e.replace(J,"-$1").toLowerCase().replace(q,"-ms-")}var $=function(e){return null==e||!1===e||""===e},ee=function e(t,r){var n=[];return Object.keys(t).forEach((function(r){if(!$(t[r])){if(h(t[r]))return n.push.apply(n,e(t[r],r)),n;if(m(t[r]))return n.push(K(r)+":",t[r],";"),n;n.push(K(r)+": "+(i=r,(null==(o=t[r])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||i in s.a?String(o).trim():o+"px")+";"))}var i,o;return n})),r?[r+" {"].concat(n,["}"]):n};function te(e,t,r){if(Array.isArray(e)){for(var n,i=[],o=0,a=e.length;o<a;o+=1)""!==(n=te(e[o],t,r))&&(Array.isArray(n)?i.push.apply(i,n):i.push(n));return i}return $(e)?"":v(e)?"."+e.styledComponentId:m(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:te(e(t),t,r):e instanceof Y?r?(e.inject(r),e.getName()):e:h(e)?ee(e):e.toString();var s}function re(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return m(e)||h(e)?te(p(f,[e].concat(r))):0===r.length&&1===e.length&&"string"==typeof e[0]?e:te(p(e,r))}var ne=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},ie=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function oe(e,t,r){var n=e[r];ne(t)&&ne(n)?ae(n,t):e[r]=t}function ae(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=0,o=r;i<o.length;i++){var a=o[i];if(ne(a))for(var s in a)ie(s)&&oe(e,a[s],s)}return e}var se=/(a)(d)/gi,ce=function(e){return String.fromCharCode(e+(e>25?39:97))};function le(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=ce(t%52)+r;return(ce(t%52)+r).replace(se,"$1-$2")}var ue=function(){function e(e,t){this.rules=e,this.staticRulesId="",this.isStatic=function(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(m(r)&&!v(r))return!1}return!0}(e),this.componentId=t,this.baseHash=V(t),z.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.componentId;if(this.isStatic&&!r.hash){if(this.staticRulesId&&t.hasNameForId(n,this.staticRulesId))return this.staticRulesId;var i=te(this.rules,e,t).join(""),o=le(k(this.baseHash,i.length)>>>0);if(!t.hasNameForId(n,o)){var a=r(i,"."+o,void 0,n);t.insertRules(n,o,a)}return this.staticRulesId=o,o}for(var s=this.rules.length,c=k(this.baseHash,r.hash),l="",u=0;u<s;u++){var d=this.rules[u];if("string"==typeof d)l+=d;else{var p=te(d,e,t),h=Array.isArray(p)?p.join(""):p;c=k(c,h+u),l+=h}}var f=le(c>>>0);if(!t.hasNameForId(n,f)){var g=r(l,"."+f,void 0,n);t.insertRules(n,f,g)}return f},e}(),de=(new Set,function(e,t,r){return void 0===r&&(r=g),e.theme!==r.theme&&e.theme||t||r.theme}),pe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,he=/(^-|-$)/g;function fe(e){return e.replace(pe,"-").replace(he,"")}function ge(e){return"string"==typeof e&&!0}var me=o.a.createContext();me.Consumer;var ye={};function ve(e,t,r){var n=e.attrs,o=e.componentStyle,a=e.defaultProps,s=e.foldedComponentIds,l=e.shouldForwardProp,u=e.styledComponentId,p=e.target;Object(i.useDebugValue)(u);var h=function(e,t,r){void 0===e&&(e=g);var n=d({},t,{theme:e}),i={};return r.forEach((function(e){var t,r,o,a=e;for(t in m(a)&&(a=a(n)),a)n[t]=i[t]="className"===t?(r=i[t],o=a[t],r&&o?r+" "+o:r||o):a[t]})),[n,i]}(de(t,Object(i.useContext)(me),a)||g,t,n),f=h[0],y=h[1],v=function(e,t,r,n){var o=Object(i.useContext)(H)||Q,a=Object(i.useContext)(X)||Z,s=e.isStatic&&!t?e.generateAndInjectStyles(g,o,a):e.generateAndInjectStyles(r,o,a);return Object(i.useDebugValue)(s),s}(o,n.length>0,f),b=r,x=y.$as||t.$as||y.as||t.as||p,S=ge(x),A=y!==t?d({},t,{},y):t,w=l||S&&c.a,_={};for(var T in A)"$"!==T[0]&&"as"!==T&&("forwardedAs"===T?_.as=A[T]:w&&!w(T,c.a)||(_[T]=A[T]));return t.style&&y.style!==t.style&&(_.style=d({},t.style,{},y.style)),_.className=Array.prototype.concat(s,u,v!==u?v:null,t.className,y.className).filter(Boolean).join(" "),_.ref=b,Object(i.createElement)(x,_)}function be(e,t,r){var n=v(e),i=!ge(e),a=t.displayName,s=void 0===a?function(e){return ge(e)?"styled."+e:"Styled("+y(e)+")"}(e):a,c=t.componentId,l=void 0===c?function(e,t){var r="string"!=typeof e?"sc":fe(e);ye[r]=(ye[r]||0)+1;var n=r+"-"+function(e){return le(V(e)>>>0)}(r+ye[r]);return t?t+"-"+n:n}(t.displayName,t.parentComponentId):c,p=t.attrs,h=void 0===p?f:p,g=t.displayName&&t.componentId?fe(t.displayName)+"-"+t.componentId:t.componentId||l,m=n&&e.attrs?Array.prototype.concat(e.attrs,h).filter(Boolean):h,b=t.shouldForwardProp;n&&e.shouldForwardProp&&(b=b?function(r,n){return e.shouldForwardProp(r,n)&&t.shouldForwardProp(r,n)}:e.shouldForwardProp);var x,S=new ue(n?e.componentStyle.rules.concat(r):r,g),A=function(e,t){return ve(x,e,t)};return A.displayName=s,(x=o.a.forwardRef(A)).attrs=m,x.componentStyle=S,x.displayName=s,x.shouldForwardProp=b,x.foldedComponentIds=n?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):f,x.styledComponentId=g,x.target=n?e.target:e,x.withComponent=function(e){var n=t.componentId,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(t,["componentId"]),o=n&&n+"-"+(ge(e)?e:fe(y(e)));return be(e,d({},i,{attrs:m,componentId:o}),r)},Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=n?ae({},e.defaultProps,t):t}}),x.toString=function(){return"."+x.styledComponentId},i&&u()(x,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,self:!0,styledComponentId:!0,target:!0,withComponent:!0}),x}var xe=function(e){return function e(t,r,i){if(void 0===i&&(i=g),!Object(n.isValidElementType)(r))return w(1,String(r));var o=function(){return t(r,i,re.apply(void 0,arguments))};return o.withConfig=function(n){return e(t,r,d({},i,{},n))},o.attrs=function(n){return e(t,r,d({},i,{attrs:Array.prototype.concat(i.attrs,n).filter(Boolean)}))},o}(be,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){xe[e]=xe(e)})),t.a=xe}).call(this,r(140))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(406);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return d(n).default}});var i=r(163);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return d(i).default}});var o=r(409);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return d(o).default}});var a=r(410);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return d(a).default}});var s=r(412);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return d(s).default}});var c=r(426);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return d(c).default}});var l=r(260);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return d(l).default}});var u=r(434);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return d(u).default}})},function(e,t,r){var n=r(8),i=r(7),o=r(34),a=r(21),s=r(22),c=function e(t,r,c){var l,u,d,p=t&e.F,h=t&e.G,f=t&e.S,g=t&e.P,m=t&e.B,y=t&e.W,v=h?i:i[r]||(i[r]={}),b=v.prototype,x=h?n:f?n[r]:(n[r]||{}).prototype;for(l in h&&(c=r),c)(u=!p&&x&&void 0!==x[l])&&s(v,l)||(d=u?x[l]:c[l],v[l]=h&&"function"!=typeof x[l]?c[l]:m&&u?o(d,n):y&&x[l]==d?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):g&&"function"==typeof d?o(Function.call,d):d,g&&((v.virtual||(v.virtual={}))[l]=d,t&e.R&&b&&!b[l]&&a(b,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=(n=r(174))&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t,r){var n=r(19);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(27)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(16),i=r(102),o=r(65),a=Object.defineProperty;t.f=r(17)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){"use strict";t.__esModule=!0;var n,i=(n=r(107))&&n.__esModule?n:{default:n};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,r){var n=r(18),i=r(45);e.exports=r(17)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(104),i=r(66);e.exports=function(e){return n(i(e))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(){}return e.onEnter=function(e){return function(t){"Enter"===t.key&&e(t)}},e}()},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){var n=r(413),i=r(417)((function(e,t,r){n(e,t,r)}));e.exports=i},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){e.exports={default:r(172),__esModule:!0}},function(e,t,r){"use strict";t.__esModule=!0;var n=a(r(194)),i=a(r(198)),o=a(r(107));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},function(e,t,r){"use strict";function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[X]}function o(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[H]||!!e.constructor[H]||d(e)||p(e))}function a(e,t,r){void 0===r&&(r=!1),0===s(e)?(r?Object.keys:Z)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function s(e){var t=e[X];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:d(e)?2:p(e)?3:0}function c(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t,r){var n=s(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){return z&&e instanceof Map}function p(e){return k&&e instanceof Set}function h(e){return e.o||e.t}function f(e){if(Array.isArray(e))return e.slice();var t=Y(e);delete t[X];for(var r=Z(t),n=0;n<r.length;n++){var i=r[n],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){y(e)||i(e)||!o(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=m),Object.freeze(e),t&&a(e,(function(e,t){return g(t,!0)}),!0))}function m(){n(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function v(e){var t=J[e];return t||n(19,e),t}function b(e,t){J[e]=t}function x(){return G}function S(e,t){t&&(v("Patches"),e.u=[],e.s=[],e.v=t)}function A(e){w(e),e.p.forEach(T),e.p=null}function w(e){e===G&&(G=e.l)}function _(e){return G={p:[],l:G,h:e,m:!0,_:0}}function T(e){var t=e[X];0===t.i||1===t.i?t.j():t.g=!0}function E(e,t){t._=t.p.length;var r=t.p[0],i=void 0!==e&&e!==r;return t.h.O||v("ES5").S(t,e,i),i?(r[X].P&&(A(t),n(4)),o(e)&&(e=B(t,e),t.l||M(t,e)),t.u&&v("Patches").M(r[X],e,t.u,t.s)):e=B(t,r,[]),A(t),t.u&&t.v(t.u,t.s),e!==W?e:void 0}function B(e,t,r){if(y(t))return t;var n=t[X];if(!n)return a(t,(function(i,o){return R(e,n,t,i,o,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return M(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=4===n.i||5===n.i?n.o=f(n.k):n.o;a(i,(function(t,o){return R(e,n,i,t,o,r)})),M(e,i,!1),r&&e.u&&v("Patches").R(n,r,e.u,e.s)}return n.o}function R(e,t,r,n,a,s){if(i(a)){var u=B(e,a,s&&t&&3!==t.i&&!c(t.D,n)?s.concat(n):void 0);if(l(r,n,u),!i(u))return;e.m=!1}if(o(a)&&!y(a)){if(!e.h.N&&e._<1)return;B(e,a),t&&t.A.l||M(e,a)}}function M(e,t,r){void 0===r&&(r=!1),e.h.N&&e.m&&g(t,r)}function C(e,t){var r=e[X];return(r?h(r):e)[t]}function O(e){e.P||(e.P=!0,e.l&&O(e.l))}function I(e){e.o||(e.o=f(e.t))}function F(e,t,r){var n=d(t)?v("MapSet").T(t,r):p(t)?v("MapSet").F(t,r):e.O?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:x(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=n,o=q;r&&(i=[n],o=K);var a=Proxy.revocable(i,o),s=a.revoke,c=a.proxy;return n.k=c,n.j=s,c}(t,r):v("ES5").J(t,r);return(r?r.A:x()).p.push(n),n}function N(e){return i(e)||n(22,e),function e(t){if(!o(t))return t;var r,n=t[X],i=s(t);if(n){if(!n.P&&(n.i<4||!v("ES5").K(n)))return n.t;n.I=!0,r=L(t,i),n.I=!1}else r=L(t,i);return a(r,(function(t,i){n&&function(e,t){return 2===s(e)?e.get(t):e[t]}(n.t,t)===i||l(r,t,e(i))})),3===i?new Set(r):r}(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return f(e)}function P(){function e(e,t){var r=o[e];return r?r.enumerable=t:o[e]=r={configurable:!0,enumerable:t,get:function(){var t=this[X];return q.get(t,e)},set:function(t){var r=this[X];q.set(r,e,t)}},r}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][X];if(!i.P)switch(i.i){case 5:n(i)&&O(i);break;case 4:r(i)&&O(i)}}}function r(e){for(var t=e.t,r=e.k,n=Z(r),i=n.length-1;i>=0;i--){var o=n[i];if(o!==X){var a=t[o];if(void 0===a&&!c(t,o))return!0;var s=r[o],l=s&&s[X];if(l?l.t!==a:!u(s,a))return!0}}var d=!!t[X];return n.length!==Z(t).length+(d?0:1)}function n(e){var t=e.k;if(t.length!==e.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var o={};b("ES5",{J:function(t,r){var n=Array.isArray(t),i=function(t,r){var n=Y(r);t&&delete n.length,delete n[X];for(var i=Z(n),o=0;o<i.length;o++){var a=i[o];n[a]=e(a,t||!!n[a].enumerable)}if(t){var s=Array(r.length);return Object.defineProperties(s,n),s}return Object.create(Object.getPrototypeOf(r),n)}(n,t),o={i:n?5:4,A:r?r.A:x(),P:!1,I:!1,D:{},l:r,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,X,{value:o,writable:!0}),i},S:function(e,r,o){o?i(r)&&r[X].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var r=t[X];if(r){var i=r.t,o=r.k,s=r.D,l=r.i;if(4===l)a(o,(function(t){t!==X&&(void 0!==i[t]||c(i,t)?s[t]||e(o[t]):(s[t]=!0,O(r)))})),a(i,(function(e){void 0!==o[e]||c(o,e)||(s[e]=!1,O(r))}));else if(5===l){if(n(r)&&(O(r),s.length=!0),o.length<i.length)for(var u=o.length;u<i.length;u++)s[u]=!1;else for(var d=i.length;d<o.length;d++)s[d]=!0;for(var p=Math.min(o.length,i.length),h=0;h<p;h++)void 0===s[h]&&e(o[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?r(e):n(e)}})}function D(){function e(e,t){function r(){this.constructor=e}a(e,t),e.prototype=(r.prototype=t.prototype,new r)}function t(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function r(e){e.o||(e.o=new Set,e.t.forEach((function(t){if(o(t)){var r=F(e.A.h,t,e);e.p.set(t,r),e.o.add(r)}else e.o.add(t)})))}function i(e){e.g&&n(3,JSON.stringify(h(e)))}var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},s=function(){function r(e,t){return this[X]={i:2,l:t,A:t?t.A:x(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,g:!1},this}e(r,Map);var n=r.prototype;return Object.defineProperty(n,"size",{get:function(){return h(this[X]).size}}),n.has=function(e){return h(this[X]).has(e)},n.set=function(e,r){var n=this[X];return i(n),h(n).has(e)&&h(n).get(e)===r||(t(n),O(n),n.D.set(e,!0),n.o.set(e,r),n.D.set(e,!0)),this},n.delete=function(e){if(!this.has(e))return!1;var r=this[X];return i(r),t(r),O(r),r.D.set(e,!1),r.o.delete(e),!0},n.clear=function(){var e=this[X];return i(e),t(e),O(e),e.D=new Map,e.o.clear()},n.forEach=function(e,t){var r=this;h(this[X]).forEach((function(n,i){e.call(t,r.get(i),i,r)}))},n.get=function(e){var r=this[X];i(r);var n=h(r).get(e);if(r.I||!o(n))return n;if(n!==r.t.get(e))return n;var a=F(r.A.h,n,r);return t(r),r.o.set(e,a),a},n.keys=function(){return h(this[X]).keys()},n.values=function(){var e,t=this,r=this.keys();return(e={})[Q]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},n.entries=function(){var e,t=this,r=this.keys();return(e={})[Q]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},n[Q]=function(){return this.entries()},r}(),c=function(){function t(e,t){return this[X]={i:3,l:t,A:t?t.A:x(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,g:!1,C:!1},this}e(t,Set);var n=t.prototype;return Object.defineProperty(n,"size",{get:function(){return h(this[X]).size}}),n.has=function(e){var t=this[X];return i(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},n.add=function(e){var t=this[X];return i(t),this.has(e)||(r(t),O(t),t.o.add(e)),this},n.delete=function(e){if(!this.has(e))return!1;var t=this[X];return i(t),r(t),O(t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},n.clear=function(){var e=this[X];return i(e),r(e),O(e),e.o.clear()},n.values=function(){var e=this[X];return i(e),r(e),e.o.values()},n.entries=function(){var e=this[X];return i(e),r(e),e.o.entries()},n.keys=function(){return this.values()},n[Q]=function(){return this.values()},n.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}();b("MapSet",{T:function(e,t){return new s(e,t)},F:function(e,t){return new c(e,t)}})}r.d(t,"b",(function(){return P})),r.d(t,"c",(function(){return D})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return o}));var U,G,j="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),z="undefined"!=typeof Map,k="undefined"!=typeof Set,V="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,W=j?Symbol("immer-nothing"):((U={})["immer-nothing"]=!0,U),H=j?Symbol("immer-draftable"):"__$immer_draftable",X=j?Symbol("immer-state"):"__$immer_state",Q="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Z="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Y=Object.getOwnPropertyDescriptors||function(e){var t={};return Z(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},J={},q={get:function(e,t){if(t===X)return e;var r=h(e);if(!c(r,t))return function(e,t,r){if(r in t)for(var n=Object.getPrototypeOf(t);n;){var i,o=Object.getOwnPropertyDescriptor(n,r);if(o)return"value"in o?o.value:null===(i=o.get)||void 0===i?void 0:i.call(e.k);n=Object.getPrototypeOf(n)}}(e,r,t);var n=r[t];return e.I||!o(n)?n:n===C(e.t,t)?(I(e),e.o[t]=F(e.A.h,n,e)):n},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,r){if(e.D[t]=!0,!e.P){if(u(r,C(h(e),t))&&void 0!==r)return!0;I(e),O(e)}return e.o[t]=r,!0},deleteProperty:function(e,t){return void 0!==C(e.t,t)||t in e.t?(e.D[t]=!1,I(e),O(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=h(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},K={};a(q,(function(e,t){K[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),K.deleteProperty=function(e,t){return q.deleteProperty.call(this,e[0],t)},K.set=function(e,t,r){return q.set.call(this,e[0],t,r,e[0])};var $=new(function(){function e(e){this.O=V,this.N=!1,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,r){if("function"==typeof e&&"function"!=typeof t){var i=t;t=e;var a=this;return function(e){var r=this;void 0===e&&(e=i);for(var n=arguments.length,o=Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var n;return(n=t).call.apply(n,[r,e].concat(o))}))}}var s;if("function"!=typeof t&&n(6),void 0!==r&&"function"!=typeof r&&n(7),o(e)){var c=_(this),l=F(this,e,void 0),u=!0;try{s=t(l),u=!1}finally{u?A(c):w(c)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return S(c,r),E(e,c)}),(function(e){throw A(c),e})):(S(c,r),E(s,c))}if(!e||"object"!=typeof e){if((s=t(e))===W)return;return void 0===s&&(s=e),this.N&&g(s,!0),s}n(21,e)},t.produceWithPatches=function(e,t){var r,n,i=this;return"function"==typeof e?function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return i.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(n))}))}:[this.produce(e,t,(function(e,t){r=e,n=t})),r,n]},t.createDraft=function(e){o(e)||n(8),i(e)&&(e=N(e));var t=_(this),r=F(this,e,void 0);return r[X].C=!0,w(t),r},t.finishDraft=function(e,t){var r=(e&&e[X]).A;return S(r,t),E(void 0,r)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){e&&!V&&n(20),this.O=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}var o=v("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(r+1))}))},e}()),ee=$.produce;$.produceWithPatches.bind($),$.setAutoFreeze.bind($),$.setUseProxies.bind($),$.applyPatches.bind($),$.createDraft.bind($),$.finishDraft.bind($),t.a=ee},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__31__},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){var n=r(228),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},function(e,t,r){var n=r(44);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(103),i=r(70);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t,r){var n=r(66);e.exports=function(e){return Object(n(e))}},function(e,t){e.exports={}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var n=function(e){return parseInt(getComputedStyle(document.documentElement).getPropertyValue(e),10)},i=function(e,t){document.documentElement.style.setProperty(e,t)}},function(e,t,r){"use strict";function n(e,t){return e===t}function i(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}r.d(t,"a",(function(){return a}));var a=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=0,s=n.pop(),c=o(n),l=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(r)),u=e((function(){for(var e=[],t=c.length,r=0;r<t;r++)e.push(c[r].apply(null,arguments));return l.apply(null,e)}));return u.resultFunc=s,u.dependencies=c,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=null,o=null;return function(){return i(t,r,arguments)||(o=e.apply(null,arguments)),r=arguments,o}}))},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.red=t.getContrastingColor=t.isValidHex=t.toState=t.simpleCheckForValidColor=void 0;var n=o(r(431)),i=o(r(433));function o(e){return e&&e.__esModule?e:{default:e}}t.simpleCheckForValidColor=function(e){var t=0,r=0;return(0,n.default)(["r","g","b","a","h","s","l","v"],(function(n){e[n]&&(t+=1,isNaN(e[n])||(r+=1),"s"===n||"l"===n)&&/^\d+%$/.test(e[n])&&(r+=1)})),t===r&&e};var a=t.toState=function(e,t){var r=e.hex?(0,i.default)(e.hex):(0,i.default)(e),n=r.toHsl(),o=r.toHsv(),a=r.toRgb(),s=r.toHex();return 0===n.s&&(n.h=t||0,o.h=t||0),{hsl:n,hex:"000000"===s&&0===a.a?"transparent":"#"+s,rgb:a,hsv:o,oldHue:e.h||t||n.h,source:e.source}};t.isValidHex=function(e){var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,i.default)(e).isValid()},t.getContrastingColor=function(e){if(!e)return"#fff";var t=a(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}},t.default=t},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(18).f,i=r(22),o=r(9)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAuklEQVR42mNkwAOk5h1jAlK8QPz5WZLVP0Y8CkFyEkAcB8QzgYo/MOJRKArESUAcAsR+QMXPGPEoTPgPxH//M3AB2davkq2eMmJRKAa12heoeCdQcTiQ7YmiGMnEZCD2AOJJQIVfgRraQBrhiqG+hnkmFqhg4b//DOeAtAiQXwHE3siK+YBUHhAH/fnPIASkPwHxbyBmZmFk+Amk/YEefIFsMkgDF1Axij+Aiv8CqddAxX8ZGUgAJCkGALgiRwwxaW1WAAAAAElFTkSuQmCC"},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAA3ElEQVR42n2RPQrCQBCF326Ct7BUsdADxBOIIBZCwCZqYYKF4hHEC4gi/mFMOkErUfAC7hVyFsUQH2JhkXVgmR++YR5vBb5RDFQBAqXIsU7QhPiBa+wuLIdcmP2HfdWEgeOnSeBGbWujh/fKhsSBYMipw9GAF+Ya+O5AigDP2IYp8pBywhOjyKlM0+Au4R0erxqhGBmzASE81lUu3NLhZ9yCIXIw5BhJ0o/alWWaZpeaVyzPfHWCHsF1uuZQ9ZkWXzd6dGOrdyNUHSafYIdg8N/n/b1MzVnaddX94BvasUwMBRmf5QAAAABJRU5ErkJggg=="},function(e,t,r){"use strict";e.exports=r(164)},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n,i,o=r(0),a=r(1),s=r.n(a),c=r(11),l=(r(165),r(40)),u=c.a.div(n||(n=Object(o.e)(["\n  background: ",";\n  mask-image: ",";\n  -webkit-mask-image: ",";\n"],["\n  background: ",";\n  mask-image: ",";\n  -webkit-mask-image: ",";\n"])),(function(e){return e.background}),(function(e){return e.picture?"url("+e.picture+")":"none"}),(function(e){return e.picture?"url("+e.picture+")":"none"})),d=c.a.img(i||(i=Object(o.e)(["\n  width: 100%;\n  height: 100%;\n  mix-blend-mode: multiply;\n  filter: ",";\n"],["\n  width: 100%;\n  height: 100%;\n  mix-blend-mode: multiply;\n  filter: ",";\n"])),(function(e){return e.background?"brightness(1.3)":""}));function p(e){e.size&&Object(l.b)("--node-viz-icon-size",e.size+"px");var t=e.color&&"linear-gradient(to right,"+e.color+" 0%,"+e.color+" 100%);";return s.a.createElement("div",{className:"chroma-icon-container"},s.a.createElement(u,{className:"chroma-icon chroma-icon-image-container center",background:t,picture:e.src,"aria-label":e.alt},s.a.createElement(d,{className:"chroma-icon-image",src:e.src,alt:e.alt,background:t})))}},function(e,t,r){e.exports={default:r(167),__esModule:!0}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__54__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__55__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__56__},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(235),i=r(322),o=r(380),a=r(25);e.exports=function(e,t){return(a(e)?n:o)(e,i(t,3))}},function(e,t,r){"use strict";r.d(t,"createReducer",(function(){return s})),r.d(t,"createSlice",(function(){return c}));var n=r(30);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){function r(){if(t){var r=t.apply(void 0,arguments);if(!r)throw new Error("prepareAction did not return an object");return i({type:e,payload:r.payload},"meta"in r&&{meta:r.meta},{},"error"in r&&{error:r.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(t){return t.type===e},r}function a(e){var t,r={},n=[],i={addCase:function(e,t){var n="string"==typeof e?e:e.type;if(n in r)throw new Error("addCase cannot be called with two reducers for the same action type");return r[n]=t,i},addMatcher:function(e,t){return n.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[r,n,t]}function s(e,t,r,i){void 0===r&&(r=[]);var o="function"==typeof t?a(t):[t,r,i],s=o[0],c=o[1],l=o[2];return function(t,r){void 0===t&&(t=e);var i=[s[r.type]].concat(c.filter((function(e){return(0,e.matcher)(r)})).map((function(e){return e.reducer})));return 0===i.filter((function(e){return!!e})).length&&(i=[l]),i.reduce((function(e,t){if(t){if(Object(n.d)(e)){var i=t(e,r);return void 0===i?e:i}if(Object(n.e)(e))return Object(n.a)(e,(function(e){return t(e,r)}));var o=t(e,r);if(void 0===o)throw Error("A case reducer on a non-draftable value must not return undefined");return o}return e}),t)}}function c(e){var t=e.name,r=e.initialState;if(!t)throw new Error("`name` is a required option for createSlice");var n=e.reducers||{},c=void 0===e.extraReducers?[]:"function"==typeof e.extraReducers?a(e.extraReducers):[e.extraReducers],l=c[0],u=void 0===l?{}:l,d=c[1],p=void 0===d?[]:d,h=c[2],f=void 0===h?void 0:h,g=Object.keys(n),m={},y={},v={};g.forEach((function(e){var r,i,a=n[e],s=t+"/"+e;"reducer"in a?(r=a.reducer,i=a.prepare):r=a,m[e]=r,y[s]=r,v[e]=i?o(s,i):o(s)}));var b=s(r,i({},u,{},y),p,f);return{name:t,reducer:b,actions:v,caseReducers:m}}r(56),r(41),r(220),"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),Object(n.b)()},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__60__},function(e,t,r){var n=r(297),i=r(3);e.exports=function(e,t,r){var i=e[t];if(i){var o=[];if(Object.keys(i).forEach((function(e){-1===n.indexOf(e)&&o.push(e)})),o.length)throw new Error("Prop "+t+" passed to "+r+". Has invalid keys "+o.join(", "))}},e.exports.isRequired=function(t,r,n){if(!t[r])throw new Error("Prop "+r+" passed to "+n+" is required");return e.exports(t,r,n)},e.exports.supportingArrays=i.oneOfType([i.arrayOf(e.exports),e.exports])},function(e,t,r){var n=r(97),i=r(313),o=r(314),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,r){var n=r(335),i=r(338);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},function(e,t,r){var n=r(19),i=r(8).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(19);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(69)("keys"),i=r(46);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t,r){var n=r(7),i=r(8),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(37)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(13),i=r(7),o=r(27);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o((function(){r(1)})),"Object",a)}},function(e,t,r){var n=r(16),i=r(181),o=r(70),a=r(68)("IE_PROTO"),s=function(){},c=function(){var e,t=r(64)("iframe"),n=o.length;for(t.style.display="none",r(111).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c.prototype[o[n]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=c(),void 0===t?r:i(r,t)}},function(e,t,r){t.f=r(9)},function(e,t,r){var n=r(8),i=r(7),o=r(37),a=r(74),s=r(18).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,r){var n=r(47),i=r(45),o=r(23),a=r(65),s=r(22),c=r(102),l=Object.getOwnPropertyDescriptor;t.f=r(17)?l:function(e,t){if(e=o(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t,r){"use strict";var n=r(44);function i(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)}e.exports.f=function(e){return new i(e)}},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAIElEQVR42mNkYGD4z0AiYIRqYiRBz/9RTaOasGsiCQAAXqkYASr60S8AAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAALElEQVR42mNkYGD4zwABjEhsvHwYg5GBePCfFMUYVpJsE/00jfqJUj+RlPYASooYBKSW5vEAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAABRUlEQVR42p3Sv0sDMRQH8G/uml78hSKWgijuDiIOoqKDUARFN/8DBwf/Ap1cFFwFBWcXRXATQepaiigtBaHgYOUGsfjjKAfWXi/PxMvikKUZEkLy4b2XPIYOBtMTBSVC/A20Q1DUAKIA1ArUQQy4veqW87en0AefPmYJ+iiQFYisWruB5jtkowo+uW9Q/ZbUgJPNMVtKsX9J8qsCPrGbIPmWJ7gCztC8Hb1cKFRWkfYMer0i8EGFZu2odkbyswQ+dWCQf04Qw3AyC1YUVQ+JgkekZ04Mqp0SukZUTYtW1CpuEoXP8HI3CYqfjki/kju6bkU/+SVCFMJbLiSoXdkhpPqQGt+2o+s59cBtiJW7BEX3WwRJQHoArGcMjPdDNuvQNeiUdAQNIGOI1QeDihtEuiNUgzAvAzie6YD/QH+4WCsz1knv/QKGbKgOdfH2rgAAAABJRU5ErkJggg=="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAlklEQVR42mNkIAGcPXtW3tjY+CEjiNPc3PyfkAZBQUEwnZOTwwjXZGdnh6SAD0gyM/Dx8THw8vIw/PjxnYGdnRMsJyIiwsgIsnLbtm0PgoKCGLS1tRlx2fT///82IFXJCAIUaYqNjWVQUFAYrJoyMzPBIUO0puPHjz+IiIggXRPIecB4accTv/ZAbIVNE8GkBNbEQAYAADd4aw4QO8AeAAAAAElFTkSuQmCC"},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAlUlEQVR42p3SYQuDIBAGYE9trVpI//+HxVhICEIDQfoFN68rRp926+D1BfXxk6AuDNAyTSMeG1rrPUYZY0uMspab9pwb4IR+ATrre/dFEkDddQ9G3j9RAqibpmU0zy+UAEpd3xmF4FECKFV1YxRjQAmglMcZLUtECQDYmlFKb5QAKNeBhlDOCSVg+w0HWteMEnBC/84HW1IsDqUUoM8AAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAj0lEQVR42p3OTQ6CMBAF4HkIaxbGhGg4GRhP5g9HIsa4wYXhIEOndojd0IFJOtO85msL2lCQxv2V5yTThd9xIcPNHD5HfUGMEsCj0z8yAEJGOJ4DeipaBv6lStFLUBrQzm0Pit43tgC5GPtW0Z0tgHIXlYoGhwxAfoOyCejzYAvwfUbfji0gRmNACRChtTUBzycsDgpngIsAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOElEQVQoz2NgGPqAxa34PzKfiVQNGJrQFWDTgNUmmEJkDX929TIiq2EkZDK6BgxNhGwg2fNDCAAADjUWcWr7EwIAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAOElEQVQoz2NgGPqAd9HV/8h8JlI1YGhCV4BNA1abYAqRNXyO02ZEVsNIyGR0DRiaCNlAsueHEAAAHKIbG6R9z5EAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB3ElEQVQoz6WSsWrbUABFj/Xek2wRRSQxdVNMlyKMJ0mFQoZQOhiv/Yp+QLaYDmkmG/cT+gP9h3jo0CUEYjcN1CJDyZBi7MEGG8fSy5O71KGde+az3MMt8BedTuer1vrV/f29DVAqlTKl1AXw7vj4+MfGKwC02+23wIcgCKJarYbruhhjSNOUJEm4ubkZAEetVusLgABoNBqf4ziODg4OGI/HjEYjZrMZQgjiOGa9Xj8djUZRs9ns9Xq9qdXtdi+CIIjCMOTy8hJjDJVKhUqlQp7nXF1dEUURQRBEQoj3AJYxJqzX69ze3rK9vY3v+0gpcRyHcrnM7u4ud3d31Ot1six7DWDN53MlpWQ2m+F5HkIIbNvGtm2UUuzt7aG1Zn9/n8Vi8QJAbooIIZBSPsqO4yCEIM9zPM/DGPNY2fI8Txtj2NnZIU1TlFIUi0Ucx0EpBYDv+0wmE7a2tn4CWFLKb8PhkGq1ymKxYLVaYVkWAMYYjDG4rstwOKRQKHwHEGdnZ58ODw9faq1rYRiSZRlZlrFerwEoFoucn59zfX09aLVabx43pWn6sd/vP18ul1EQBPi+j9aa6XRKkiQkSTIAjv55xIaTk5O+EOLJarV69udGvx4eHsanp6cx/8tvexS+bYlvK0UAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAACXBIWXMAAAsTAAALEwEAmpwYAAABBklEQVQoz2NgoBdgRBfwap0wj5XjdyLnD0aGF19+Tj7QXp2HV5N5TcP586fuGQhKsDF8+fyV4ffXvwzamiqbzk9s88dqZVjPjI1sbmH/kxes+b/k/f//+juv/Gd1C/vP5hb236yiYRKyWiYY4yfjZz9WbmaG/ybuDN2nrjJcu/yVgcGtmIHx81cGSVHuXGRNLDAG5w9Ghj8vPjEs3nENIfvsM8M/Vm4GaW4BBqw2/efh2fSfl5uBYVMvA8OzzxB8ZRYDAwcDw4VnHybjDAiPpo7ze4+cM2D6/JXhHys3AwMHA0OIv/uF5dnJhniD3Ky2o8VNS72agYGBYcelG01n2ivrGYYWAAA5wl5SJxK8UQAAAABJRU5ErkJggg=="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAS0lEQVR42mNkIAEwEqHGDIhPEaM4AoiXw9ThUxwJxMuQXcBIQOEKqOk4FacD8Qyowv9QjVgVI5v4H0kMQ7EtEB/CF2qM1A5n8hQDAHCRDAyTQyKxAAAAAElFTkSuQmCC"},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAhElEQVR42mNkQAKSkpK2z58/P8yAAzCi8f/LysrWPX78uJkoxSBCT0+v8tKlSx0EFcvLy9c/fPiwEZsGDMW+vr5ad+7csb9+/fp0dA3YFMts3rz5qZycXOGjR4/6ODg47H78+HGYoMn6+vo1Fy9ebKWOm0kKDaLDWUJCwufFixdbcMUgALA6Uwz98awCAAAAAElFTkSuQmCC"},function(e,t,r){"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function i(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function o(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,a=null,s=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==a||null!==s){var c=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;u.call(this,e,t,n)}}return e}r.d(t,"a",(function(){return a})),n.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,r){"use strict";var n=r(51),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(f){var i=h(r);i&&i!==f&&e(t,i,n)}var a=u(r);d&&(a=a.concat(d(r)));for(var s=c(t),g=c(r),m=0;m<a.length;++m){var y=a[m];if(!(o[y]||n&&n[y]||g&&g[y]||s&&s[y])){var v=p(r,y);try{l(t,y,v)}catch(e){}}}}return t}},function(e,t,r){e.exports={default:r(203),__esModule:!0}},function(e,t,r){"use strict";var n=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t={};return function(e){return void 0===t[e]&&(t[e]=function(e){return n.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}(e)),t[e]}}();t.a=i},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__94__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__95__},function(e,t,r){var n=r(155),i=r(151);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},function(e,t,r){var n=r(33).Symbol;e.exports=n},function(e,t,r){var n=r(231),i=r(320),o=r(96);e.exports=function(e){return o(e)?n(e):i(e)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(250),i=r(161);e.exports=function(e,t,r,o){var a=!r;r||(r={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=o?o(r[l],e[l],l,r,e):void 0;void 0===u&&(u=e[l]),a?i(r,l,u):n(r,l,u)}return r}},function(e,t,r){var n=r(231),i=r(387),o=r(96);e.exports=function(e){return o(e)?n(e,!0):i(e)}},function(e,t,r){e.exports=!r(17)&&!r(27)((function(){return 7!=Object.defineProperty(r(64)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(22),i=r(23),o=r(170)(!1),a=r(68)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),c=0,l=[];for(r in s)r!=a&&n(s,r)&&l.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~o(l,r)||l.push(r));return l}},function(e,t,r){var n=r(36);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(67),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(22),i=r(38),o=r(68)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){"use strict";t.__esModule=!0;var n=a(r(177)),i=a(r(185)),o="function"==typeof i.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(n.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,r){"use strict";var n=r(179)(!0);r(109)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t,r){"use strict";var n=r(37),i=r(13),o=r(110),a=r(21),s=r(39),c=r(180),l=r(48),u=r(106),d=r(9)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,r,f,g,m,y){c(r,t,f);var v,b,x,S=function(e){if(!p&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},A=t+" Iterator",w="values"==g,_=!1,T=e.prototype,E=T[d]||T["@@iterator"]||g&&T[g],B=E||S(g),R=g?w?S("entries"):B:void 0,M="Array"==t&&T.entries||E;if(M&&(x=u(M.call(new e)))!==Object.prototype&&x.next&&(l(x,A,!0),n||"function"==typeof x[d]||a(x,d,h)),w&&E&&"values"!==E.name&&(_=!0,B=function(){return E.call(this)}),n&&!y||!p&&!_&&T[d]||a(T,d,B),s[t]=B,s[A]=h,g)if(v={values:w?B:S("values"),keys:m?B:S("keys"),entries:R},y)for(b in v)b in T||o(T,b,v[b]);else i(i.P+i.F*(p||_),t,v);return v}},function(e,t,r){e.exports=r(21)},function(e,t,r){var n=r(8).document;e.exports=n&&n.documentElement},function(e,t,r){r(182);for(var n=r(8),i=r(21),o=r(39),a=r(9)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],u=n[l],d=u&&u.prototype;d&&!d[a]&&i(d,a,l),o[l]=o.Array}},function(e,t,r){var n=r(103),i=r(70).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t){},function(e,t,r){var n=r(36),i=r(9)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,r){var n=r(16),i=r(44),o=r(9)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[o])?t:i(r)}},function(e,t,r){var n,i,o,a=r(34),s=r(212),c=r(111),l=r(64),u=r(8),d=u.process,p=u.setImmediate,h=u.clearImmediate,f=u.MessageChannel,g=u.Dispatch,m=0,y={},v=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){v.call(e.data)};p&&h||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++m]=function(){s("function"==typeof e?e:Function(e),t)},n(m),m},h=function(e){delete y[e]},"process"==r(36)(d)?n=function(e){d.nextTick(a(v,e,1))}:g&&g.now?n=function(e){g.now(a(v,e,1))}:f?(o=(i=new f).port2,i.port1.onmessage=b,n=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):n="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),e.exports={set:p,clear:h}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(16),i=r(19),o=r(77);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";r.d(t,"a",(function(){return Ie}));var n=r(0),i=(r(166),r(1)),o=r.n(i),a=r(10),s=r.n(a),c=r(28),l=r.n(c),u=r(14),d=r.n(u),p=r(15),h=r.n(p),f=r(20),g=r.n(f),m=r(29),y=r.n(m),v=r(124),b=(r(3),function(e){function t(){var e,r,n,i;d()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=g()(this,(e=t.__proto__||l()(t)).call.apply(e,[this].concat(a))),n.state={height:n.props.defaultHeight||0,width:n.props.defaultWidth||0},n._onResize=function(){var e=n.props,t=e.disableHeight,r=e.disableWidth,i=e.onResize;if(n._parentNode){var o=n._parentNode.offsetHeight||0,a=n._parentNode.offsetWidth||0,s=(n._window||window).getComputedStyle(n._parentNode)||{},c=parseInt(s.paddingLeft,10)||0,l=parseInt(s.paddingRight,10)||0,u=parseInt(s.paddingTop,10)||0,d=parseInt(s.paddingBottom,10)||0,p=o-u-d,h=a-c-l;(!t&&n.state.height!==p||!r&&n.state.width!==h)&&(n.setState({height:o-u-d,width:a-c-l}),i({height:o,width:a}))}},n._setRef=function(e){n._autoSizer=e},i=r,g()(n,i)}return y()(t,e),h()(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Object(v.a)(e,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,n=e.disableHeight,o=e.disableWidth,a=e.style,c=this.state,l=c.height,u=c.width,d={overflow:"visible"},p={};return n||(d.height=0,p.height=l),o||(d.width=0,p.width=u),i.createElement("div",{className:r,ref:this._setRef,style:s()({},d,a)},t(p))}}]),t}(i.PureComponent));b.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},b.propTypes=null;var x=b,S=r(125),A=r.n(S),w=r(53),_=r.n(w);function T(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=T(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}var E=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=T(e))&&(n&&(n+=" "),n+=t);return n};function B(e){var t=e.cellCount,r=e.cellSize,n=e.computeMetadataCallback,i=e.computeMetadataCallbackProps,o=e.nextCellsCount,a=e.nextCellSize,s=e.nextScrollToIndex,c=e.scrollToIndex,l=e.updateScrollOffsetForScrollToIndex;t===o&&("number"!=typeof r&&"number"!=typeof a||r===a)||(n(i),c>=0&&c===s&&l())}var R=r(126),M=r.n(R),C=function(){function e(t){var r=t.cellCount,n=t.cellSizeGetter,i=t.estimatedCellSize;d()(this,e),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=n,this._cellCount=r,this._estimatedCellSize=i}return h()(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,r=e.estimatedCellSize,n=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=r,this._cellSizeGetter=n}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index "+e+" is outside of range 0.."+this._cellCount);if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),r=t.offset+t.size,n=this._lastMeasuredIndex+1;n<=e;n++){var i=this._cellSizeGetter({index:n});if(void 0===i||isNaN(i))throw Error("Invalid size returned for cell "+n+" of value "+i);null===i?(this._cellSizeAndPositionData[n]={offset:r,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[n]={offset:r,size:i},r+=i,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,r=void 0===t?"auto":t,n=e.containerSize,i=e.currentOffset,o=e.targetIndex;if(n<=0)return 0;var a=this.getSizeAndPositionOfCell(o),s=a.offset,c=s-n+a.size,l=void 0;switch(r){case"start":l=s;break;case"end":l=c;break;case"center":l=s-(n-a.size)/2;break;default:l=Math.max(c,Math.min(s,i))}var u=this.getTotalSize();return Math.max(0,Math.min(u-n,l))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,r=e.offset;if(0===this.getTotalSize())return{};var n=r+t,i=this._findNearestCell(r),o=this.getSizeAndPositionOfCell(i);r=o.offset+o.size;for(var a=i;r<n&&a<this._cellCount-1;)a++,r+=this.getSizeAndPositionOfCell(a).size;return{start:i,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,r){for(;t<=e;){var n=t+Math.floor((e-t)/2),i=this.getSizeAndPositionOfCell(n).offset;if(i===r)return n;i<r?t=n+1:i>r&&(e=n-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var r=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=r,r*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),r=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(r,0,e):this._exponentialSearch(r,e)}}]),e}(),O=function(){function e(t){var r=t.maxScrollSize,n=void 0===r?"undefined"!=typeof window&&window.chrome?16777100:15e5:r,i=M()(t,["maxScrollSize"]);d()(this,e),this._cellSizeAndPositionManager=new C(i),this._maxScrollSize=n}return h()(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,r=e.offset,n=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize(),o=this._getOffsetPercentage({containerSize:t,offset:r,totalSize:i});return Math.round(o*(i-n))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,r=void 0===t?"auto":t,n=e.containerSize,i=e.currentOffset,o=e.targetIndex;i=this._safeOffsetToOffset({containerSize:n,offset:i});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:n,currentOffset:i,targetIndex:o});return this._offsetToSafeOffset({containerSize:n,offset:a})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,r=e.offset;return r=this._safeOffsetToOffset({containerSize:t,offset:r}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:r})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,r=e.offset,n=e.totalSize;return n<=t?0:r/(n-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,r=e.offset,n=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(n===i)return r;var o=this._getOffsetPercentage({containerSize:t,offset:r,totalSize:n});return Math.round(o*(i-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,r=e.offset,n=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(n===i)return r;var o=this._getOffsetPercentage({containerSize:t,offset:r,totalSize:i});return Math.round(o*(n-t))}}]),e}(),I=r(92),F=r.n(I);function N(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(r){var n=r.callback,i=r.indices,o=F()(i),a=!e||o.every((function(e){var t=i[e];return Array.isArray(t)?t.length>0:t>=0})),s=o.length!==F()(t).length||o.some((function(e){var r=t[e],n=i[e];return Array.isArray(n)?r.join(",")!==n.join(","):r!==n}));t=i,a&&s&&n(i)}}function L(e){var t=e.cellSize,r=e.cellSizeAndPositionManager,n=e.previousCellsCount,i=e.previousCellSize,o=e.previousScrollToAlignment,a=e.previousScrollToIndex,s=e.previousSize,c=e.scrollOffset,l=e.scrollToAlignment,u=e.scrollToIndex,d=e.size,p=e.sizeJustIncreasedFromZero,h=e.updateScrollIndexCallback,f=r.getCellCount(),g=u>=0&&u<f;g&&(d!==s||p||!i||"number"==typeof t&&t!==i||l!==o||u!==a)?h(u):!g&&f>0&&(d<s||f<n)&&c>r.getTotalSize()-d&&h(f-1)}var P,D=!("undefined"==typeof window||!window.document||!window.document.createElement),U=r(90),G=r(127),j=r.n(G),z=void 0,k=(z="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||z.webkitRequestAnimationFrame||z.mozRequestAnimationFrame||z.oRequestAnimationFrame||z.msRequestAnimationFrame||function(e){return z.setTimeout(e,1e3/60)},V=z.cancelAnimationFrame||z.webkitCancelAnimationFrame||z.mozCancelAnimationFrame||z.oCancelAnimationFrame||z.msCancelAnimationFrame||function(e){z.clearTimeout(e)},W=k,H=V,X=function(e){return H(e.id)},Q="requested",Z=function(e){function t(e){d()(this,t);var r=g()(this,(t.__proto__||l()(t)).call(this,e));r._onGridRenderedMemoizer=N(),r._onScrollMemoizer=N(!1),r._deferredInvalidateColumnIndex=null,r._deferredInvalidateRowIndex=null,r._recomputeScrollLeftFlag=!1,r._recomputeScrollTopFlag=!1,r._horizontalScrollBarSize=0,r._verticalScrollBarSize=0,r._scrollbarPresenceChanged=!1,r._renderedColumnStartIndex=0,r._renderedColumnStopIndex=0,r._renderedRowStartIndex=0,r._renderedRowStopIndex=0,r._styleCache={},r._cellCache={},r._debounceScrollEndedCallback=function(){r._disablePointerEventsTimeoutId=null,r.setState({isScrolling:!1,needToResetStyleCache:!1})},r._invokeOnGridRenderedHelper=function(){var e=r.props.onSectionRendered;r._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:r._columnStartIndex,columnOverscanStopIndex:r._columnStopIndex,columnStartIndex:r._renderedColumnStartIndex,columnStopIndex:r._renderedColumnStopIndex,rowOverscanStartIndex:r._rowStartIndex,rowOverscanStopIndex:r._rowStopIndex,rowStartIndex:r._renderedRowStartIndex,rowStopIndex:r._renderedRowStopIndex}})},r._setScrollingContainerRef=function(e){r._scrollingContainer=e},r._onScroll=function(e){e.target===r._scrollingContainer&&r.handleScrollEvent(e.target)};var n=new O({cellCount:e.columnCount,cellSizeGetter:function(r){return t._wrapSizeGetter(e.columnWidth)(r)},estimatedCellSize:t._getEstimatedColumnSize(e)}),i=new O({cellCount:e.rowCount,cellSizeGetter:function(r){return t._wrapSizeGetter(e.rowHeight)(r)},estimatedCellSize:t._getEstimatedRowSize(e)});return r.state={instanceProps:{columnSizeAndPositionManager:n,rowSizeAndPositionManager:i,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(r._initialScrollTop=r._getCalculatedScrollTop(e,r.state)),e.scrollToColumn>0&&(r._initialScrollLeft=r._getCalculatedScrollLeft(e,r.state)),r}return y()(t,e),h()(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,r=void 0===t?this.props.scrollToAlignment:t,n=e.columnIndex,i=void 0===n?this.props.scrollToColumn:n,o=e.rowIndex,a=void 0===o?this.props.scrollToRow:o,c=s()({},this.props,{scrollToAlignment:r,scrollToColumn:i,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(c),scrollTop:this._getCalculatedScrollTop(c)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,r=void 0===t?0:t,n=e.scrollTop,i=void 0===n?0:n;if(!(i<0)){this._debounceScrollEnded();var o=this.props,a=o.autoHeight,s=o.autoWidth,c=o.height,l=o.width,u=this.state.instanceProps,d=u.scrollbarSize,p=u.rowSizeAndPositionManager.getTotalSize(),h=u.columnSizeAndPositionManager.getTotalSize(),f=Math.min(Math.max(0,h-l+d),r),g=Math.min(Math.max(0,p-c+d),i);if(this.state.scrollLeft!==f||this.state.scrollTop!==g){var m={isScrolling:!0,scrollDirectionHorizontal:f!==this.state.scrollLeft?f>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:g!==this.state.scrollTop?g>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:"observed"};a||(m.scrollTop=g),s||(m.scrollLeft=f),m.needToResetStyleCache=!1,this.setState(m)}this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:g,totalColumnsWidth:h,totalRowsHeight:p})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,r=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,r):r}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,r=e.rowCount,n=this.state.instanceProps;n.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),n.rowSizeAndPositionManager.getSizeAndPositionOfCell(r-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,r=void 0===t?0:t,n=e.rowIndex,i=void 0===n?0:n,o=this.props,a=o.scrollToColumn,s=o.scrollToRow,c=this.state.instanceProps;c.columnSizeAndPositionManager.resetCell(r),c.rowSizeAndPositionManager.resetCell(i),this._recomputeScrollLeftFlag=a>=0&&(1===this.state.scrollDirectionHorizontal?r<=a:r>=a),this._recomputeScrollTopFlag=s>=0&&(1===this.state.scrollDirectionVertical?i<=s:i>=s),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,r=e.rowIndex,n=this.props.columnCount,i=this.props;n>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(s()({},i,{scrollToColumn:t})),void 0!==r&&this._updateScrollTopForScrollToRow(s()({},i,{scrollToRow:r}))}},{key:"componentDidMount",value:function(){var e=this.props,r=e.getScrollbarSize,n=e.height,i=e.scrollLeft,o=e.scrollToColumn,a=e.scrollTop,c=e.scrollToRow,l=e.width,u=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),u.scrollbarSizeMeasured||this.setState((function(e){var t=s()({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=r(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"==typeof i&&i>=0||"number"==typeof a&&a>=0){var d=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:i,scrollTop:a});d&&(d.needToResetStyleCache=!1,this.setState(d))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var p=n>0&&l>0;o>=0&&p&&this._updateScrollLeftForScrollToColumn(),c>=0&&p&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:i||0,scrollTop:a||0,totalColumnsWidth:u.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:u.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var r=this,n=this.props,i=n.autoHeight,o=n.autoWidth,a=n.columnCount,s=n.height,c=n.rowCount,l=n.scrollToAlignment,u=n.scrollToColumn,d=n.scrollToRow,p=n.width,h=this.state,f=h.scrollLeft,g=h.scrollPositionChangeReason,m=h.scrollTop,y=h.instanceProps;this._handleInvalidatedGridSize();var v=a>0&&0===e.columnCount||c>0&&0===e.rowCount;g===Q&&(!o&&f>=0&&(f!==this._scrollingContainer.scrollLeft||v)&&(this._scrollingContainer.scrollLeft=f),!i&&m>=0&&(m!==this._scrollingContainer.scrollTop||v)&&(this._scrollingContainer.scrollTop=m));var b=(0===e.width||0===e.height)&&s>0&&p>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):L({cellSizeAndPositionManager:y.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:f,scrollToAlignment:l,scrollToIndex:u,size:p,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return r._updateScrollLeftForScrollToColumn(r.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):L({cellSizeAndPositionManager:y.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:m,scrollToAlignment:l,scrollToIndex:d,size:s,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return r._updateScrollTopForScrollToRow(r.props)}}),this._invokeOnGridRenderedHelper(),f!==t.scrollLeft||m!==t.scrollTop){var x=y.rowSizeAndPositionManager.getTotalSize(),S=y.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:m,totalColumnsWidth:S,totalRowsHeight:x})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&X(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,r=e.autoHeight,n=e.autoWidth,o=e.className,a=e.containerProps,c=e.containerRole,l=e.containerStyle,u=e.height,d=e.id,p=e.noContentRenderer,h=e.role,f=e.style,g=e.tabIndex,m=e.width,y=this.state,v=y.instanceProps,b=y.needToResetStyleCache,x=this._isScrolling(),S={boxSizing:"border-box",direction:"ltr",height:r?"auto":u,position:"relative",width:n?"auto":m,WebkitOverflowScrolling:"touch",willChange:"transform"};b&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var A=v.columnSizeAndPositionManager.getTotalSize(),w=v.rowSizeAndPositionManager.getTotalSize(),_=w>u?v.scrollbarSize:0,T=A>m?v.scrollbarSize:0;T===this._horizontalScrollBarSize&&_===this._verticalScrollBarSize||(this._horizontalScrollBarSize=T,this._verticalScrollBarSize=_,this._scrollbarPresenceChanged=!0),S.overflowX=A+_<=m?"hidden":"auto",S.overflowY=w+T<=u?"hidden":"auto";var B=this._childrenToDisplay,R=0===B.length&&u>0&&m>0;return i.createElement("div",s()({ref:this._setScrollingContainerRef},a,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:E("ReactVirtualized__Grid",o),id:d,onScroll:this._onScroll,role:h,style:s()({},S,f),tabIndex:g}),B.length>0&&i.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:c,style:s()({width:t?"auto":A,height:w,maxWidth:A,maxHeight:w,overflow:"hidden",pointerEvents:x?"none":"",position:"relative"},l)},B),R&&p())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=e.cellRenderer,n=e.cellRangeRenderer,i=e.columnCount,o=e.deferredMeasurementCache,a=e.height,s=e.overscanColumnCount,c=e.overscanIndicesGetter,l=e.overscanRowCount,u=e.rowCount,d=e.width,p=e.isScrollingOptOut,h=t.scrollDirectionHorizontal,f=t.scrollDirectionVertical,g=t.instanceProps,m=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,y=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,v=this._isScrolling(e,t);if(this._childrenToDisplay=[],a>0&&d>0){var b=g.columnSizeAndPositionManager.getVisibleCellRange({containerSize:d,offset:y}),x=g.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:m}),S=g.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:d,offset:y}),A=g.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:m});this._renderedColumnStartIndex=b.start,this._renderedColumnStopIndex=b.stop,this._renderedRowStartIndex=x.start,this._renderedRowStopIndex=x.stop;var w=c({direction:"horizontal",cellCount:i,overscanCellsCount:s,scrollDirection:h,startIndex:"number"==typeof b.start?b.start:0,stopIndex:"number"==typeof b.stop?b.stop:-1}),_=c({direction:"vertical",cellCount:u,overscanCellsCount:l,scrollDirection:f,startIndex:"number"==typeof x.start?x.start:0,stopIndex:"number"==typeof x.stop?x.stop:-1}),T=w.overscanStartIndex,E=w.overscanStopIndex,B=_.overscanStartIndex,R=_.overscanStopIndex;if(o){if(!o.hasFixedHeight())for(var M=B;M<=R;M++)if(!o.has(M,0)){T=0,E=i-1;break}if(!o.hasFixedWidth())for(var C=T;C<=E;C++)if(!o.has(0,C)){B=0,R=u-1;break}}this._childrenToDisplay=n({cellCache:this._cellCache,cellRenderer:r,columnSizeAndPositionManager:g.columnSizeAndPositionManager,columnStartIndex:T,columnStopIndex:E,deferredMeasurementCache:o,horizontalOffsetAdjustment:S,isScrolling:v,isScrollingOptOut:p,parent:this,rowSizeAndPositionManager:g.rowSizeAndPositionManager,rowStartIndex:B,rowStopIndex:R,scrollLeft:y,scrollTop:m,styleCache:this._styleCache,verticalOffsetAdjustment:A,visibleColumnIndices:b,visibleRowIndices:x}),this._columnStartIndex=T,this._columnStopIndex=E,this._rowStartIndex=B,this._rowStopIndex=R}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&X(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=function(e,t){var r=void 0;j.a.resolve().then((function(){r=Date.now()}));var n={id:W((function i(){Date.now()-r>=t?e.call():n.id=W(i)}))};return n}(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,r=e.scrollLeft,n=e.scrollTop,i=e.totalColumnsWidth,o=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var r=e.scrollLeft,n=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:o,scrollLeft:r,scrollTop:n,scrollWidth:i})},indices:{scrollLeft:r,scrollTop:n}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var r=e.scrollLeft,n=e.scrollTop,i=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:n});i&&(i.needToResetStyleCache=!1,this.setState(i))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,r)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t._getScrollLeftForScrollToColumnStateUpdate(e,r);n&&(n.needToResetStyleCache=!1,this.setState(n))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,r)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,r=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var n=this._rowStartIndex;n<=this._rowStopIndex;n++)for(var i=this._columnStartIndex;i<=this._columnStopIndex;i++){var o=n+"-"+i;this._styleCache[o]=e[o],r&&(this._cellCache[o]=t[o])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t._getScrollTopForScrollToRowStateUpdate(e,r);n&&(n.needToResetStyleCache=!1,this.setState(n))}}],[{key:"getDerivedStateFromProps",value:function(e,r){var n={};0===e.columnCount&&0!==r.scrollLeft||0===e.rowCount&&0!==r.scrollTop?(n.scrollLeft=0,n.scrollTop=0):(e.scrollLeft!==r.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==r.scrollTop&&e.scrollToRow<0)&&_()(n,t._getScrollToPositionStateUpdate({prevState:r,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var i=r.instanceProps;n.needToResetStyleCache=!1,e.columnWidth===i.prevColumnWidth&&e.rowHeight===i.prevRowHeight||(n.needToResetStyleCache=!0),i.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),i.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==i.prevColumnCount&&0!==i.prevRowCount||(i.prevColumnCount=0,i.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===i.prevIsScrolling&&_()(n,{isScrolling:!1});var o=void 0,a=void 0;return B({cellCount:i.prevColumnCount,cellSize:"number"==typeof i.prevColumnWidth?i.prevColumnWidth:null,computeMetadataCallback:function(){return i.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:i.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){o=t._getScrollLeftForScrollToColumnStateUpdate(e,r)}}),B({cellCount:i.prevRowCount,cellSize:"number"==typeof i.prevRowHeight?i.prevRowHeight:null,computeMetadataCallback:function(){return i.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:i.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){a=t._getScrollTopForScrollToRowStateUpdate(e,r)}}),i.prevColumnCount=e.columnCount,i.prevColumnWidth=e.columnWidth,i.prevIsScrolling=!0===e.isScrolling,i.prevRowCount=e.rowCount,i.prevRowHeight=e.rowHeight,i.prevScrollToColumn=e.scrollToColumn,i.prevScrollToRow=e.scrollToRow,i.scrollbarSize=e.getScrollbarSize(),void 0===i.scrollbarSize?(i.scrollbarSizeMeasured=!1,i.scrollbarSize=0):i.scrollbarSizeMeasured=!0,n.instanceProps=i,s()({},n,o,a)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,r=e.scrollLeft,n=e.scrollTop,i={scrollPositionChangeReason:Q};return"number"==typeof r&&r>=0&&(i.scrollDirectionHorizontal=r>t.scrollLeft?1:-1,i.scrollLeft=r),"number"==typeof n&&n>=0&&(i.scrollDirectionVertical=n>t.scrollTop?1:-1,i.scrollTop=n),"number"==typeof r&&r>=0&&r!==t.scrollLeft||"number"==typeof n&&n>=0&&n!==t.scrollTop?i:null}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var r=e.columnCount,n=e.height,i=e.scrollToAlignment,o=e.scrollToColumn,a=e.width,s=t.scrollLeft,c=t.instanceProps;if(r>0){var l=r-1,u=o<0?l:Math.min(l,o),d=c.rowSizeAndPositionManager.getTotalSize(),p=c.scrollbarSizeMeasured&&d>n?c.scrollbarSize:0;return c.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:a-p,currentOffset:s,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,r){var n=r.scrollLeft,i=t._getCalculatedScrollLeft(e,r);return"number"==typeof i&&i>=0&&n!==i?t._getScrollToPositionStateUpdate({prevState:r,scrollLeft:i,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(e,t){var r=e.height,n=e.rowCount,i=e.scrollToAlignment,o=e.scrollToRow,a=e.width,s=t.scrollTop,c=t.instanceProps;if(n>0){var l=n-1,u=o<0?l:Math.min(l,o),d=c.columnSizeAndPositionManager.getTotalSize(),p=c.scrollbarSizeMeasured&&d>a?c.scrollbarSize:0;return c.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:r-p,currentOffset:s,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,r){var n=r.scrollTop,i=t._getCalculatedScrollTop(e,r);return"number"==typeof i&&i>=0&&n!==i?t._getScrollToPositionStateUpdate({prevState:r,scrollLeft:-1,scrollTop:i}):null}}]),t}(i.PureComponent);Z.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,r=e.cellRenderer,n=e.columnSizeAndPositionManager,i=e.columnStartIndex,o=e.columnStopIndex,a=e.deferredMeasurementCache,s=e.horizontalOffsetAdjustment,c=e.isScrolling,l=e.isScrollingOptOut,u=e.parent,d=e.rowSizeAndPositionManager,p=e.rowStartIndex,h=e.rowStopIndex,f=e.styleCache,g=e.verticalOffsetAdjustment,m=e.visibleColumnIndices,y=e.visibleRowIndices,v=[],b=n.areOffsetsAdjusted()||d.areOffsetsAdjusted(),x=!c&&!b,S=p;S<=h;S++)for(var A=d.getSizeAndPositionOfCell(S),w=i;w<=o;w++){var _=n.getSizeAndPositionOfCell(w),T=w>=m.start&&w<=m.stop&&S>=y.start&&S<=y.stop,E=S+"-"+w,B=void 0;x&&f[E]?B=f[E]:a&&!a.has(S,w)?B={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(B={height:A.size,left:_.offset+s,position:"absolute",top:A.offset+g,width:_.size},f[E]=B);var R={columnIndex:w,isScrolling:c,isVisible:T,key:E,parent:u,rowIndex:S,style:B},M=void 0;!l&&!c||s||g?M=r(R):(t[E]||(t[E]=r(R)),M=t[E]),null!=M&&!1!==M&&v.push(M)}return v},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:function(e){if((!P&&0!==P||e)&&D){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),P=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return P},noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,r=e.overscanCellsCount,n=e.scrollDirection,i=e.startIndex,o=e.stopIndex;return 1===n?{overscanStartIndex:Math.max(0,i),overscanStopIndex:Math.min(t-1,o+r)}:{overscanStartIndex:Math.max(0,i-r),overscanStopIndex:Math.min(t-1,o)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},Z.propTypes=null,Object(U.a)(Z);var Y=Z,J=function(e){function t(){var e,r,n,i;d()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=n=g()(this,(e=t.__proto__||l()(t)).call.apply(e,[this].concat(a))),n._cellRenderer=function(e){var t=e.parent,r=e.rowIndex,i=e.style,o=e.isScrolling,a=e.isVisible,s=e.key,c=n.props.rowRenderer;return A()(i,"width").writable&&(i.width="100%"),c({index:r,style:i,isScrolling:o,isVisible:a,key:s,parent:t})},n._setRef=function(e){n.Grid=e},n._onScroll=function(e){var t=e.clientHeight,r=e.scrollHeight,i=e.scrollTop;(0,n.props.onScroll)({clientHeight:t,scrollHeight:r,scrollTop:i})},n._onSectionRendered=function(e){var t=e.rowOverscanStartIndex,r=e.rowOverscanStopIndex,i=e.rowStartIndex,o=e.rowStopIndex;(0,n.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:r,startIndex:i,stopIndex:o})},i=r,g()(n,i)}return y()(t,e),h()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,r=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:r,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,r=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:r,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,r=void 0===t?0:t,n=e.rowIndex,i=void 0===n?0:n;this.Grid&&this.Grid.recomputeGridSize({rowIndex:i,columnIndex:r})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.noRowsRenderer,n=e.scrollToIndex,o=e.width,a=E("ReactVirtualized__List",t);return i.createElement(Y,s()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:a,columnWidth:o,columnCount:1,noContentRenderer:r,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:n}))}}]),t}(i.PureComponent);J.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:function(e){var t=e.cellCount,r=e.overscanCellsCount,n=e.scrollDirection,i=e.startIndex,o=e.stopIndex;return r=Math.max(1,r),1===n?{overscanStartIndex:Math.max(0,i-1),overscanStopIndex:Math.min(t-1,o+r)}:{overscanStartIndex:Math.max(0,i-r),overscanStopIndex:Math.min(t-1,o+1)}},overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}},J.propTypes=null;var q=J,K=r(40),$=r(24),ee=r(11),te=r(78),re=r(79),ne=r(80),ie=r(81),oe=r(82),ae=r(83),se=r(84),ce=r(85),le=ee.a.label(pe||(pe=Object(n.e)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"],["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]))),ue=ee.a.span(he||(he=Object(n.e)(["\n  height: 0.83em;\n  width: 0.83em;\n  cursor: ",";\n  background-image: ",";\n  background-repeat: no-repeat;\n  background-size: cover;\n  outline: none;\n  filter: ",";\n"],["\n  height: 0.83em;\n  width: 0.83em;\n  cursor: ",";\n  background-image: ",";\n  background-repeat: no-repeat;\n  background-size: cover;\n  outline: none;\n  filter: ",";\n"])),(function(e){return e.checkable?"pointer":"auto"}),(function(e){return e.background}),(function(e){return e.disabled?"grayscale(100%) opacity(0.4)":"none"}));function de(e){var t=[];e.filter&&t.push("filter"),e.checkable?t.push("checkable"):t.push("uncheckable"),e.checked&&t.push("checked"),e.indeterminate&&t.push("indeterminate"),e.disabled&&t.push("disabled");var r=fe(e.checkable,e.hover,e.filter,e.checked,e.indeterminate);return o.a.createElement(le,{className:e.class+" "+t.join(" "),htmlFor:e.id},o.a.createElement(ue,{tabIndex:0,onClick:e.onClick,onKeyUp:e.onKeyUp,onFocus:e.onFocus,onBlur:e.onBlur,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,background:r,checkable:e.checkable,disabled:e.disabled}))}var pe,he,fe=function(e,t,r,n,i){void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===r&&(r=!1),void 0===n&&(n=!1),void 0===i&&(i=!1);var o=[];return e?(o.push("url("+te.a+")"),n?o.push("url("+se.a+")"):i&&o.push("url("+ce.a+")"),t&&(r?o.push("url("+ie.a+")"):o.push("url("+ne.a+")"))):o.push("url("+re.a+")"),r?o.push("url("+ae.a+")"):o.push("url("+oe.a+")"),o.join(",")},ge=r(86),me=r(87),ye=ee.a.label(xe||(xe=Object(n.e)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"],["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n"]))),ve=ee.a.span(Se||(Se=Object(n.e)(["\n  height: 0.83em;\n  width: 0.83em;\n  cursor: ",";\n  background-image: ",";\n  background-repeat: no-repeat;\n  background-size: cover;\n  outline: none;\n  filter: ",";\n"],["\n  height: 0.83em;\n  width: 0.83em;\n  cursor: ",";\n  background-image: ",";\n  background-repeat: no-repeat;\n  background-size: cover;\n  outline: none;\n  filter: ",";\n"])),(function(e){return e.checkable?"pointer":"auto"}),(function(e){return e.background}),(function(e){return e.disabled?"grayscale(100%) opacity(0.4)":"none"}));function be(e){var t=Ae(e.checkable,e.hover,e.checked);return o.a.createElement(ye,{className:e.class,htmlFor:e.id},o.a.createElement(ve,{tabIndex:0,background:t,disabled:e.disabled,checkable:e.checkable,onClick:e.onClick,onKeyUp:e.onKeyUp,onFocus:e.onFocus,onBlur:e.onBlur,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave}))}var xe,Se,Ae=function(e,t,r){void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===r&&(r=!1);var n=[];return e&&(t?(r&&n.push("url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAABCklEQVR42mNkIAMwUkVT/YYd81jZ/yZy/mJkePnt9+SuSP88vJpyV645v+XSMwNFcVaG11++M3z5+pfBVVV206yECH+smrq37ds47ehZv1IPBwYDQxOGeQ+eMqxZvpxBECjnra04eUpUSB6GppbtW/+vPH+TISMug+H8h3cMOx/9BIuz7VzMkOhhylDj6c2Ioal347b/0/adYvjlHgt3xv83Pxm+XNrK0ONlypDi5ICpqWfnvo1TD531ew+0gEfPGyz25eZWMJ1goDV5Qqh3HtaAqF23+fzkszcMhL98ZXjLys3AwM7AUOdodqHIxd4Qb5DnrNrcYisnVQ1iH7j/tGl6pF89bSKXZpoA2KVjDsH16E0AAAAASUVORK5CYII=)"),n.push("url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAACGUlEQVR42o2SUUhTURjH/+fs3s2tOSRNUrYomSkTcRtGMiOit6Iyaj2U+BIGaRoU9CIEPfXSS2gZ1KqHkh5cpBW+atRiNHCWVtg2EhZWQymWOre7e27f7jLWWx8c7jmc7/edP///ZSip7hvBV3lF7FrNZI2F8yazKSfJPELbM4E+/8eNPqY3DwU76HOlyWl3N+90wGy2QBUactkMZj8l8T7+ZYbuLwT6/VOlULStxene7XUhnNTwfaU4cWs50GZnCE9/QPhtfIZz7r997liCnb35JNJQV9O6z+fF+LyGajNHlYXr036sCyxlBQ44GaZC04gtfLs/3HP0NOseDOZOHfLJ8WwlhOCoKQBEyAZaHEhlBBQIOPgyRp6/Ttw973eyE1cfaH1dBzH51YqWKgkmqQgYaUkEcRrwblnF/m0CA9dHMTrQxXSol6BQygrvFglmGSgj0CYz/SXyA/M/VTRUKrg8+LgIFeR1Hm6XF/KbUcY5dtg4bEYGK4EGeuVXTkNaFVhNL+Hhs9BnklfHeobHIo1kxF6fBy/JucYKA7aXc1hIniIIUjSKQMXEiyhmY8mnZHuHbvnFexPjLmftkfZWFxbTJIu8K8gzyRqMRoHJNwXLEzOB/uOevzn13hrbk8vnh5rrHe6mejsqbFZAI1kra3q4c7GkHu6d0nA3qvPao6hkMFSvrWdr//xGi0peTY1cOukp7fsH+t/6DZogyA4aEQwvAAAAAElFTkSuQmCC)")):(r&&n.push("url("+me.a+")"),n.push("url("+ge.a+")"))),n.join(",")};function we(e){if(!e.visible)return null;var t=Object(n.f)(Object(i.useState)(!1),2),r=t[0],a=t[1],s=function(t){t.stopPropagation();var r=!1;e.disabled||(e.checked||(r=!0),e.onToggleCheck&&e.onToggleCheck(t,r))},c=function(e){return $.a.onEnter(s)(e)},l=function(){a(!0)},u=function(){a(!1)};return e.radio?o.a.createElement(be,{class:"tree-radio-button",id:e.id,disabled:e.disabled,checkable:e.checkable,checked:e.checked,hover:r,onClick:s,onKeyUp:c,onMouseEnter:l,onMouseLeave:u,onFocus:l,onBlur:u}):e.checkbox?o.a.createElement(de,{class:"tree-checkbox",id:e.id,filter:e.filter,checked:e.checked,indeterminate:e.indeterminate,disabled:e.disabled,checkable:e.checkable,hover:r,onClick:s,onKeyUp:c,onMouseEnter:l,onMouseLeave:u,onFocus:l,onBlur:u}):null}var _e,Te=r(52),Ee=r(88),Be=r(89),Re=r(49),Me=r(50),Ce=ee.a.div(_e||(_e=Object(n.e)(["\n  height: 0.7em;\n  width: 0.7em;\n  background-image: ",";\n  background-repeat: no-repeat, no-repeat;\n  background-size: 0.7em 0.7em;\n  .expand-btn:hover & {\n    background-image: url(",");\n    background-repeat: no-repeat, no-repeat;\n  }\n  .expand-btn:focus & {\n    background-image: url(",");\n    background-repeat: no-repeat, no-repeat;\n  }\n"],["\n  height: 0.7em;\n  width: 0.7em;\n  background-image: ",";\n  background-repeat: no-repeat, no-repeat;\n  background-size: 0.7em 0.7em;\n  .expand-btn:hover & {\n    background-image: url(",");\n    background-repeat: no-repeat, no-repeat;\n  }\n  .expand-btn:focus & {\n    background-image: url(",");\n    background-repeat: no-repeat, no-repeat;\n  }\n"])),(function(e){return e.expanded?"url("+Ee.a+")":"url("+Be.a+")"}),(function(e){return e.expanded?Re.a:Me.a}),(function(e){return e.expanded?Re.a:Me.a}));function Oe(e){var t=Object(n.f)(Object(i.useState)(e.expanded||!0),2),r=t[0],a=t[1],s=function(t){r?e.onCollapse(t):e.onExpand(t),a(!r)};return e.expandable?o.a.createElement("div",{role:"button","aria-label":"expand row group",className:"expand-btn clickable center",onClick:s,onKeyUp:function(e){return $.a.onEnter(s)(e)},tabIndex:0},o.a.createElement(Ce,{expanded:e.expanded})):o.a.createElement("div",{className:"expand-btn"})}function Ie(e){var t,r=e.onToggleNodeSelect,i=e.onToggleNodeExpand,a=e.onToggleNodeCheck,s=Object(K.a)("--v-tree-item-height")+Object(K.a)("--v-tree-item-bottom-margin"),c=e.data||[],l=e.rowHeight||s||22;function u(e){(t=e)&&(t.recomputeRowHeights(),t.forceUpdate())}var d=function s(c,l){var u,d=function(e){e.stopPropagation(),i(c.uniqueId,!c.expanded),t.recomputeRowHeights(),t.forceUpdate()},p={key:l},h=[],f=c.name;c.children.length&&c.expanded&&(h=c.children.map((function(e,t){return s(e,l+"-"+t)})));var g=c.label,m=g.bold,y=g.italic,v=g.color;if(c.visible){var b=function(){r(c.uniqueId,!c.selected)};h.unshift(o.a.createElement("div",{className:"tree-item center",key:"label",role:"row"},o.a.createElement("div",{className:"tree-item-comp",role:"cell"},o.a.createElement(Oe,{expandable:c.children.length>0,expanded:c.expanded,onExpand:d,onCollapse:d})),c.icon&&o.a.createElement("div",{className:"tree-item-comp",role:"cell"},o.a.createElement(Te.a,{src:c.icon.path,alt:c.icon.description,color:null===(u=c.icon.color)||void 0===u?void 0:u.hex(),size:e.iconSize})),o.a.createElement("div",{className:"tree-item-comp",role:"cell"},o.a.createElement(we,{visible:c.checkVisible,id:l,radio:c.isRadio,checkbox:!c.isRadio,disabled:c.disabled,checkable:c.checkable,checked:c.checked,filter:c.isFilter,indeterminate:c.indeterminate,onToggleCheck:function(){return a(c.uniqueId,!c.checked)}})),o.a.createElement("div",{className:"tree-item-comp tree-item-lbl-container"},o.a.createElement("span",{tabIndex:0,role:"button","aria-label":"select tree item",className:"tree-item-lbl"+(c.selected?" selected":""),onClick:b,onKeyUp:function(e){return $.a.onEnter(b)(e)},style:{fontWeight:m?"bold":"normal",fontStyle:y?"italic":"normal",color:v?v.hex():"black"}},f))))}return c.visible?o.a.createElement("ul",{key:l,className:"list",role:"rowgroup"},o.a.createElement("li",Object(n.a)({},p,{className:"list-item",role:"treeitem"}),h)):o.a.createElement(o.a.Fragment,Object(n.a)({},p)," ",h)},p=function(e){var t=d(c[e.index],e.index);return o.a.createElement("div",{key:e.key,style:e.style},t)},h=function(e){return function e(t){var r=t.visible?1:0;return t.expanded&&(r+=t.children.map(e).reduce((function(e,t){return e+t}),0)),r}(c[e.index])*l};return o.a.createElement("div",{className:"virtual-tree-container",role:"tree"},o.a.createElement(x,null,(function(e){return o.a.createElement(q,{height:e.height,overscanRowCount:10,ref:u,rowHeight:h,rowRenderer:p,width:e.width,rowCount:c.length})})))}},function(e,t){e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var l=o[c];if(!s(l))return!1;var u=e[l],d=t[l];if(!1===(i=r?r.call(n,u,d,l):void 0)||void 0===i&&u!==d)return!1}return!0}},function(e,t,r){"use strict";t.a=function(e){function t(e,t,n){var i=t.trim().split(f);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var c=s=0;for(t=[];s<o;++s)for(var l=0;l<a;++l)t[c++]=r(e[l]+" ",i[s],n).trim()}return t}function r(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function n(e,t,r,o){var a=e+";",s=2*t+3*r+4*o;if(944===s){e=a.indexOf(":",9)+1;var c=a.substring(e,a.length-1).trim();return c=a.substring(0,e).trim()+c+";",1===M||2===M&&i(c,1)?"-webkit-"+c+c:c}if(0===M||2===M&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(T,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(c=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+c+a;case 1005:return p.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(c=a.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=a.replace(b,"tb");break;case 232:c=a.replace(b,"tb-rl");break;case 220:c=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+c+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(c=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:a=a.replace(c,"-webkit-"+c)+";"+a;break;case 207:case 102:a=a.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(c,"-webkit-"+c)+";"+a.replace(c,"-ms-"+c+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return c=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+c+"-ms-flex-"+c+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(A,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(A,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===_.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?n(e.replace("stretch","fill-available"),t,r,o).replace(":fill-available",":stretch"):a.replace(c,"-webkit-"+c)+a.replace(c,"-moz-"+c.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+a}return a}function i(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),F(2!==t?n:n.replace(w,"$1"),r,t)}function o(e,t){var r=n(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(S," or ($1)").substring(4):"("+t+")"}function a(e,t,r,n,i,o,a,s,l,u){for(var d,p=0,h=t;p<I;++p)switch(d=O[p].call(c,e,h,r,n,i,o,a,s,l,u)){case void 0:case!1:case!0:case null:break;default:h=d}if(h!==t)return h}function s(e){return void 0!==(e=e.prefix)&&(F=null,e?"function"!=typeof e?M=1:(M=2,F=e):M=0),s}function c(e,r){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<I){var c=a(-1,r,s,s,B,E,0,0,0,0);void 0!==c&&"string"==typeof c&&(r=c)}var d=function e(r,s,c,d,p){for(var h,f,g,b,S,A=0,w=0,_=0,T=0,O=0,F=0,L=g=h=0,P=0,D=0,U=0,G=0,j=c.length,z=j-1,k="",V="",W="",H="";P<j;){if(f=c.charCodeAt(P),P===z&&0!==w+T+_+A&&(0!==w&&(f=47===w?10:47),T=_=A=0,j++,z++),0===w+T+_+A){if(P===z&&(0<D&&(k=k.replace(u,"")),0<k.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:k+=c.charAt(P)}f=59}switch(f){case 123:for(h=(k=k.trim()).charCodeAt(0),g=1,G=++P;P<j;){switch(f=c.charCodeAt(P)){case 123:g++;break;case 125:g--;break;case 47:switch(f=c.charCodeAt(P+1)){case 42:case 47:e:{for(L=P+1;L<z;++L)switch(c.charCodeAt(L)){case 47:if(42===f&&42===c.charCodeAt(L-1)&&P+2!==L){P=L+1;break e}break;case 10:if(47===f){P=L+1;break e}}P=L}}break;case 91:f++;case 40:f++;case 34:case 39:for(;P++<z&&c.charCodeAt(P)!==f;);}if(0===g)break;P++}switch(g=c.substring(G,P),0===h&&(h=(k=k.replace(l,"").trim()).charCodeAt(0)),h){case 64:switch(0<D&&(k=k.replace(u,"")),f=k.charCodeAt(1)){case 100:case 109:case 115:case 45:D=s;break;default:D=C}if(G=(g=e(s,D,g,f,p+1)).length,0<I&&(S=a(3,g,D=t(C,k,U),s,B,E,G,f,p,d),k=D.join(""),void 0!==S&&0===(G=(g=S.trim()).length)&&(f=0,g="")),0<G)switch(f){case 115:k=k.replace(x,o);case 100:case 109:case 45:g=k+"{"+g+"}";break;case 107:g=(k=k.replace(m,"$1 $2"))+"{"+g+"}",g=1===M||2===M&&i("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=k+g,112===d&&(V+=g,g="")}else g="";break;default:g=e(s,t(s,k,U),g,d,p+1)}W+=g,g=U=D=L=h=0,k="",f=c.charCodeAt(++P);break;case 125:case 59:if(1<(G=(k=(0<D?k.replace(u,""):k).trim()).length))switch(0===L&&(h=k.charCodeAt(0),45===h||96<h&&123>h)&&(G=(k=k.replace(" ",":")).length),0<I&&void 0!==(S=a(1,k,s,r,B,E,V.length,d,p,d))&&0===(G=(k=S.trim()).length)&&(k="\0\0"),h=k.charCodeAt(0),f=k.charCodeAt(1),h){case 0:break;case 64:if(105===f||99===f){H+=k+c.charAt(P);break}default:58!==k.charCodeAt(G-1)&&(V+=n(k,h,f,k.charCodeAt(2)))}U=D=L=h=0,k="",f=c.charCodeAt(++P)}}switch(f){case 13:case 10:47===w?w=0:0===1+h&&107!==d&&0<k.length&&(D=1,k+="\0"),0<I*N&&a(0,k,s,r,B,E,V.length,d,p,d),E=1,B++;break;case 59:case 125:if(0===w+T+_+A){E++;break}default:switch(E++,b=c.charAt(P),f){case 9:case 32:if(0===T+A+w)switch(O){case 44:case 58:case 9:case 32:b="";break;default:32!==f&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===T+w+A&&(D=U=1,b="\f"+b);break;case 108:if(0===T+w+A+R&&0<L)switch(P-L){case 2:112===O&&58===c.charCodeAt(P-3)&&(R=O);case 8:111===F&&(R=F)}break;case 58:0===T+w+A&&(L=P);break;case 44:0===w+_+T+A&&(D=1,b+="\r");break;case 34:case 39:0===w&&(T=T===f?0:0===T?f:T);break;case 91:0===T+w+_&&A++;break;case 93:0===T+w+_&&A--;break;case 41:0===T+w+A&&_--;break;case 40:if(0===T+w+A){if(0===h)switch(2*O+3*F){case 533:break;default:h=1}_++}break;case 64:0===w+_+T+A+L+g&&(g=1);break;case 42:case 47:if(!(0<T+A+_))switch(w){case 0:switch(2*f+3*c.charCodeAt(P+1)){case 235:w=47;break;case 220:G=P,w=42}break;case 42:47===f&&42===O&&G+2!==P&&(33===c.charCodeAt(G+2)&&(V+=c.substring(G,P+1)),b="",w=0)}}0===w&&(k+=b)}F=O,O=f,P++}if(0<(G=V.length)){if(D=s,0<I&&void 0!==(S=a(2,V,D,r,B,E,G,d,p,d))&&0===(V=S).length)return H+V+W;if(V=D.join(",")+"{"+V+"}",0!=M*R){switch(2!==M||i(V,2)||(R=0),R){case 111:V=V.replace(v,":-moz-$1")+V;break;case 112:V=V.replace(y,"::-webkit-input-$1")+V.replace(y,"::-moz-$1")+V.replace(y,":-ms-input-$1")+V}R=0}}return H+V+W}(C,s,r,0,0);return 0<I&&void 0!==(c=a(-2,d,s,s,B,E,d.length,0,0,0))&&(d=c),R=0,E=B=1,d}var l=/^\0+/g,u=/[\0\r\f]/g,d=/: */g,p=/zoo|gra/,h=/([,: ])(transform)/g,f=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,v=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,S=/([\s\S]*?);/g,A=/-self|flex-/g,w=/[^]*?(:[rp][el]a[\w-]+)[^]*/,_=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,E=1,B=1,R=0,M=1,C=[],O=[],I=0,F=null,N=0;return c.use=function e(t){switch(t){case void 0:case null:I=O.length=0;break;default:if("function"==typeof t)O[I++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else N=0|!!t}return e},c.set=s,void 0!==e&&s(e),c}},function(e,t,r){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,r){"use strict";(function(e){function n(t,r){var n,i,o,a=void 0!==(n=void 0!==r?r:"undefined"!=typeof window?window:"undefined"!=typeof self?self:e).document&&n.document.attachEvent;if(!a){var s=(o=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(e){return n.setTimeout(e,20)},function(e){return o(e)}),c=(i=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout,function(e){return i(e)}),l=function(e){var t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,i=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,i.style.width=r.offsetWidth+1+"px",i.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},u=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;l(this),this.__resizeRAF__&&c(this.__resizeRAF__),this.__resizeRAF__=s((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(r){r.call(t,e)})))}))}},d=!1,p="",h="animationstart",f="Webkit Moz O ms".split(" "),g="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m=n.document.createElement("fakeelement");if(void 0!==m.style.animationName&&(d=!0),!1===d)for(var y=0;y<f.length;y++)if(void 0!==m.style[f[y]+"AnimationName"]){p="-"+f[y].toLowerCase()+"-",h=g[y],d=!0;break}var v="resizeanim",b="@"+p+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",x=p+"animation: 1ms "+v+"; "}return{addResizeListener:function(e,r){if(a)e.attachEvent("onresize",r);else{if(!e.__resizeTriggers__){var i=e.ownerDocument,o=n.getComputedStyle(e);o&&"static"==o.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var r=(b||"")+".resize-triggers { "+(x||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="detectElementResize",i.type="text/css",null!=t&&i.setAttribute("nonce",t),i.styleSheet?i.styleSheet.cssText=r:i.appendChild(e.createTextNode(r)),n.appendChild(i)}}(i),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=i.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),l(e),e.addEventListener("scroll",u,!0),h&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==v&&l(e)},e.__resizeTriggers__.addEventListener(h,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(r)}},removeResizeListener:function(e,t){if(a)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",u,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(h,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}r.d(t,"a",(function(){return n}))}).call(this,r(57))},function(e,t,r){e.exports={default:r(201),__esModule:!0}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}},function(e,t,r){e.exports={default:r(205),__esModule:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=function(e,t){for(var r=0,n=e.length;r<n;r++)if(t.apply(t,[e[r],r,e]))return e[r]},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)},t.int=function(e){return parseInt(e,10)},t.dontSetMe=function(e,t,r){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(r," - do not set this, set it on the child."))}},function(e,t,r){(function(e){var n=r(33),i=r(318),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c}).call(this,r(130)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(e){return e}},function(e,t,r){var n=r(133),i=r(330),o=r(331),a=r(332),s=r(333),c=r(334);function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,e.exports=l},function(e,t,r){var n=r(325),i=r(326),o=r(327),a=r(328),s=r(329);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,r){var n=r(99);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t,r){var n=r(63)(Object,"create");e.exports=n},function(e,t,r){var n=r(347);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e,t,r){var n=r(362),i=r(157),o=r(363),a=r(364),s=r(365),c=r(62),l=r(236),u=l(n),d=l(i),p=l(o),h=l(a),f=l(s),g=c;(n&&"[object DataView]"!=g(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||o&&"[object Promise]"!=g(o.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?l(r):"";if(n)switch(n){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=g},function(e,t,r){var n=r(62),i=r(42);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},function(e,t,r){var n=r(138);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__141__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__142__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__143__},function(e,t,r){"use strict";var n=r(145);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchesSelector=u,t.matchesSelectorAndParentsTo=function(e,t,r){var n=e;do{if(u(n,t))return!0;if(n===r)return!1;n=n.parentNode}while(n);return!1},t.addEvent=function(e,t,r,n){if(e){var i=s({capture:!0},n);e.addEventListener?e.addEventListener(t,r,i):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r}},t.removeEvent=function(e,t,r,n){if(e){var i=s({capture:!0},n);e.removeEventListener?e.removeEventListener(t,r,i):e.detachEvent?e.detachEvent("on"+t,r):e["on"+t]=null}},t.outerHeight=function(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=(0,i.int)(r.borderTopWidth))+(0,i.int)(r.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=(0,i.int)(r.borderLeftWidth))+(0,i.int)(r.borderRightWidth)},t.innerHeight=function(e){var t=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=(0,i.int)(r.paddingTop))-(0,i.int)(r.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=(0,i.int)(r.paddingLeft))-(0,i.int)(r.paddingRight)},t.offsetXYFromParent=function(e,t,r){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-n.left)/r,y:(e.clientY+t.scrollTop-n.top)/r}},t.createCSSTransform=function(e,t){var r=d(e,t,"px");return c({},(0,o.browserPrefixToKey)("transform",o.default),r)},t.createSVGTransform=function(e,t){return d(e,t,"")},t.getTranslation=d,t.getTouch=function(e,t){return e.targetTouches&&(0,i.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,i.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},t.addUserSelectStyles=function(e){if(e){var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&p(e.body,"react-draggable-transparent-selection")}},t.removeUserSelectStyles=function(e){if(e)try{if(e.body&&h(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}},t.addClassName=p,t.removeClassName=h;var i=r(128),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}(r(300));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l="";function u(e,t){return l||(l=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,i.isFunction)(e[t])}))),!!(0,i.isFunction)(e[l])&&e[l](t)}function d(e,t,r){var n=e.x,i=e.y,o="translate(".concat(n).concat(r,",").concat(i).concat(r,")");if(t){var a="".concat("string"==typeof t.x?t.x:t.x+r),s="".concat("string"==typeof t.y?t.y:t.y+r);o="translate(".concat(a,", ").concat(s,")")+o}return o}function p(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function h(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},function(e,t,r){var n=r(229),i=r(233);e.exports=function(e,t){return e&&n(e,i(t))}},function(e,t,r){var n=r(317),i=r(42),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){var n=r(319),i=r(152),o=r(153),a=o&&o.isTypedArray,s=a?i(a):n;e.exports=s},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){(function(e){var n=r(228),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&n.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,r(130)(e))},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(62),i=r(32);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,r){var n=r(232)(Object.getPrototypeOf,Object);e.exports=n},function(e,t,r){var n=r(63)(r(33),"Map");e.exports=n},function(e,t,r){var n=r(339),i=r(346),o=r(348),a=r(349),s=r(350);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,r){var n=r(361),i=r(243),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t,r){var n=r(25),i=r(138),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t,r){var n=r(251);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t,r){var n=r(239);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(1),o=c(i),a=c(r(4)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(408));function c(e){return e&&e.__esModule?e:{default:e}}var l=t.Checkboard=function(e){var t=e.white,r=e.grey,c=e.size,l=e.renderers,u=e.borderRadius,d=e.boxShadow,p=e.children,h=(0,a.default)({default:{grid:{borderRadius:u,boxShadow:d,absolute:"0px 0px 0px 0px",background:"url("+s.get(t,r,c,l.canvas)+") center left"}}});return(0,i.isValidElement)(p)?o.default.cloneElement(p,n({},p.props,{style:n({},p.props.style,h.grid)})):o.default.createElement("div",{style:h.grid})};l.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=l},function(e,t,r){"use strict";var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,S=n?Symbol.for("react.scope"):60119;function A(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case p:case a:case c:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case h:case y:case m:case l:return e;default:return t}}case o:return t}}}function w(e){return A(e)===p}t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=m,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||A(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return A(e)===u},t.isContextProvider=function(e){return A(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return A(e)===h},t.isFragment=function(e){return A(e)===a},t.isLazy=function(e){return A(e)===y},t.isMemo=function(e){return A(e)===m},t.isPortal=function(e){return A(e)===o},t.isProfiler=function(e){return A(e)===c},t.isStrictMode=function(e){return A(e)===s},t.isSuspense=function(e){return A(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===c||e===s||e===f||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h||e.$$typeof===b||e.$$typeof===x||e.$$typeof===S||e.$$typeof===v)},t.typeOf=A},function(e,t,r){},function(e,t,r){},function(e,t,r){r(168),e.exports=r(7).Object.assign},function(e,t,r){var n=r(13);n(n.S+n.F,"Object",{assign:r(169)})},function(e,t,r){"use strict";var n=r(17),i=r(35),o=r(71),a=r(47),s=r(38),c=r(104),l=Object.assign;e.exports=!l||r(27)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=l({},e)[r]||Object.keys(l({},t)).join("")!=n}))?function(e,t){for(var r=s(e),l=arguments.length,u=1,d=o.f,p=a.f;l>u;)for(var h,f=c(arguments[u++]),g=d?i(f).concat(d(f)):i(f),m=g.length,y=0;m>y;)h=g[y++],n&&!p.call(f,h)||(r[h]=f[h]);return r}:l},function(e,t,r){var n=r(23),i=r(105),o=r(171);e.exports=function(e){return function(t,r,a){var s,c=n(t),l=i(c.length),u=o(a,l);if(e&&r!=r){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===r)return e||u||0;return!e&&-1}}},function(e,t,r){var n=r(67),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},function(e,t,r){r(173),e.exports=r(7).Object.getPrototypeOf},function(e,t,r){var n=r(38),i=r(106);r(72)("getPrototypeOf",(function(){return function(e){return i(n(e))}}))},function(e,t,r){e.exports={default:r(175),__esModule:!0}},function(e,t,r){r(176);var n=r(7).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(13);n(n.S+n.F*!r(17),"Object",{defineProperty:r(18).f})},function(e,t,r){e.exports={default:r(178),__esModule:!0}},function(e,t,r){r(108),r(112),e.exports=r(74).f("iterator")},function(e,t,r){var n=r(67),i=r(66);e.exports=function(e){return function(t,r){var o,a,s=String(i(t)),c=n(r),l=s.length;return c<0||c>=l?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(73),i=r(45),o=r(48),a={};r(21)(a,r(9)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},function(e,t,r){var n=r(18),i=r(16),o=r(35);e.exports=r(17)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),s=a.length,c=0;s>c;)n.f(e,r=a[c++],t[r]);return e}},function(e,t,r){"use strict";var n=r(183),i=r(184),o=r(39),a=r(23);e.exports=r(109)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){e.exports={default:r(186),__esModule:!0}},function(e,t,r){r(187),r(114),r(192),r(193),e.exports=r(7).Symbol},function(e,t,r){"use strict";var n=r(8),i=r(22),o=r(17),a=r(13),s=r(110),c=r(188).KEY,l=r(27),u=r(69),d=r(48),p=r(46),h=r(9),f=r(74),g=r(75),m=r(189),y=r(190),v=r(16),b=r(19),x=r(38),S=r(23),A=r(65),w=r(45),_=r(73),T=r(191),E=r(76),B=r(71),R=r(18),M=r(35),C=E.f,O=R.f,I=T.f,F=n.Symbol,N=n.JSON,L=N&&N.stringify,P=h("_hidden"),D=h("toPrimitive"),U={}.propertyIsEnumerable,G=u("symbol-registry"),j=u("symbols"),z=u("op-symbols"),k=Object.prototype,V="function"==typeof F&&!!B.f,W=n.QObject,H=!W||!W.prototype||!W.prototype.findChild,X=o&&l((function(){return 7!=_(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=C(k,t);n&&delete k[t],O(e,t,r),n&&e!==k&&O(k,t,n)}:O,Q=function(e){var t=j[e]=_(F.prototype);return t._k=e,t},Z=V&&"symbol"==typeof F.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof F},Y=function e(t,r,n){return t===k&&e(z,r,n),v(t),r=A(r,!0),v(n),i(j,r)?(n.enumerable?(i(t,P)&&t[P][r]&&(t[P][r]=!1),n=_(n,{enumerable:w(0,!1)})):(i(t,P)||O(t,P,w(1,{})),t[P][r]=!0),X(t,r,n)):O(t,r,n)},J=function(e,t){v(e);for(var r,n=m(t=S(t)),i=0,o=n.length;o>i;)Y(e,r=n[i++],t[r]);return e},q=function(e){var t=U.call(this,e=A(e,!0));return!(this===k&&i(j,e)&&!i(z,e))&&(!(t||!i(this,e)||!i(j,e)||i(this,P)&&this[P][e])||t)},K=function(e,t){if(e=S(e),t=A(t,!0),e!==k||!i(j,t)||i(z,t)){var r=C(e,t);return!r||!i(j,t)||i(e,P)&&e[P][t]||(r.enumerable=!0),r}},$=function(e){for(var t,r=I(S(e)),n=[],o=0;r.length>o;)i(j,t=r[o++])||t==P||t==c||n.push(t);return n},ee=function(e){for(var t,r=e===k,n=I(r?z:S(e)),o=[],a=0;n.length>a;)!i(j,t=n[a++])||r&&!i(k,t)||o.push(j[t]);return o};V||(s((F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function t(r){this===k&&t.call(z,r),i(this,P)&&i(this[P],e)&&(this[P][e]=!1),X(this,e,w(1,r))};return o&&H&&X(k,e,{configurable:!0,set:t}),Q(e)}).prototype,"toString",(function(){return this._k})),E.f=K,R.f=Y,r(113).f=T.f=$,r(47).f=q,B.f=ee,o&&!r(37)&&s(k,"propertyIsEnumerable",q,!0),f.f=function(e){return Q(h(e))}),a(a.G+a.W+a.F*!V,{Symbol:F});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)h(te[re++]);for(var ne=M(h.store),ie=0;ne.length>ie;)g(ne[ie++]);a(a.S+a.F*!V,"Symbol",{for:function(e){return i(G,e+="")?G[e]:G[e]=F(e)},keyFor:function(e){if(!Z(e))throw TypeError(e+" is not a symbol!");for(var t in G)if(G[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!V,"Object",{create:function(e,t){return void 0===t?_(e):J(_(e),t)},defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:K,getOwnPropertyNames:$,getOwnPropertySymbols:ee});var oe=l((function(){B.f(1)}));a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return B.f(x(e))}}),N&&a(a.S+a.F*(!V||l((function(){var e=F();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(b(t)||void 0!==e)&&!Z(e))return y(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Z(t))return t}),n[1]=t,L.apply(N,n)}}),F.prototype[D]||r(21)(F.prototype,D,F.prototype.valueOf),d(F,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(e,t,r){var n=r(46)("meta"),i=r(19),o=r(22),a=r(18).f,s=0,c=Object.isExtensible||function(){return!0},l=!r(27)((function(){return c(Object.preventExtensions({}))})),u=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[n].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!o(e,n)&&u(e),e}}},function(e,t,r){var n=r(35),i=r(71),o=r(47);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var a,s=r(e),c=o.f,l=0;s.length>l;)c.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,r){var n=r(36);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(23),i=r(113).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(n(e))}},function(e,t,r){r(75)("asyncIterator")},function(e,t,r){r(75)("observable")},function(e,t,r){e.exports={default:r(195),__esModule:!0}},function(e,t,r){r(196),e.exports=r(7).Object.setPrototypeOf},function(e,t,r){var n=r(13);n(n.S,"Object",{setPrototypeOf:r(197).set})},function(e,t,r){var n=r(19),i=r(16),o=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(34)(Function.call,r(76).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:o}},function(e,t,r){e.exports={default:r(199),__esModule:!0}},function(e,t,r){r(200);var n=r(7).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){var n=r(13);n(n.S,"Object",{create:r(73)})},function(e,t,r){r(202);var n=r(7).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},function(e,t,r){var n=r(23),i=r(76).f;r(72)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(n(e),t)}}))},function(e,t,r){r(204),e.exports=r(7).Object.keys},function(e,t,r){var n=r(38),i=r(35);r(72)("keys",(function(){return function(e){return i(n(e))}}))},function(e,t,r){r(114),r(108),r(112),r(206),r(218),r(219),e.exports=r(7).Promise},function(e,t,r){"use strict";var n,i,o,a,s=r(37),c=r(8),l=r(34),u=r(115),d=r(13),p=r(19),h=r(44),f=r(207),g=r(208),m=r(116),y=r(117).set,v=r(213)(),b=r(77),x=r(118),S=r(214),A=r(119),w=c.TypeError,_=c.process,T=_&&_.versions,E=T&&T.v8||"",B=c.Promise,R="process"==u(_),M=function(){},C=i=b.f,O=!!function(){try{var e=B.resolve(1),t=(e.constructor={})[r(9)("species")]=function(e){e(M,M)};return(R||"function"==typeof PromiseRejectionEvent)&&e.then(M)instanceof t&&0!==E.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(e){}}(),I=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},F=function(e,t){if(!e._n){e._n=!0;var r=e._c;v((function(){for(var n=e._v,i=1==e._s,o=0,a=function(t){var r,o,a,s=i?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(i||(2==e._h&&P(e),e._h=1),!0===s?r=n:(u&&u.enter(),r=s(n),u&&(u.exit(),a=!0)),r===t.promise?l(w("Promise-chain cycle")):(o=I(r))?o.call(r,c,l):c(r)):l(n)}catch(e){u&&!a&&u.exit(),l(e)}};r.length>o;)a(r[o++]);e._c=[],e._n=!1,t&&!e._h&&N(e)}))}},N=function(e){y.call(c,(function(){var t,r,n,i=e._v,o=L(e);if(o&&(t=x((function(){R?_.emit("unhandledRejection",i,e):(r=c.onunhandledrejection)?r({promise:e,reason:i}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",i)})),e._h=R||L(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},P=function(e){y.call(c,(function(){var t;R?_.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},D=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),F(t,!0))},U=function e(t){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(r=I(t))?v((function(){var i={_w:n,_d:!1};try{r.call(t,l(e,i,1),l(D,i,1))}catch(t){D.call(i,t)}})):(n._v=t,n._s=1,F(n,!1))}catch(t){D.call({_w:n,_d:!1},t)}}};O||(B=function(e){f(this,B,"Promise","_h"),h(e),n.call(this);try{e(l(U,this,1),l(D,this,1))}catch(e){D.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(215)(B.prototype,{then:function(e,t){var r=C(m(this,B));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=R?_.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&F(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n;this.promise=e,this.resolve=l(U,e,1),this.reject=l(D,e,1)},b.f=C=function(e){return e===B||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!O,{Promise:B}),r(48)(B,"Promise"),r(216)("Promise"),a=r(7).Promise,d(d.S+d.F*!O,"Promise",{reject:function(e){var t=C(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!O),"Promise",{resolve:function(e){return A(s&&this===a?B:this,e)}}),d(d.S+d.F*!(O&&r(217)((function(e){B.all(e).catch(M)}))),"Promise",{all:function(e){var t=this,r=C(t),n=r.resolve,i=r.reject,o=x((function(){var r=[],o=0,a=1;g(e,!1,(function(e){var s=o++,c=!1;r.push(void 0),a++,t.resolve(e).then((function(e){c||(c=!0,r[s]=e,--a||n(r))}),i)})),--a||n(r)}));return o.e&&i(o.v),r.promise},race:function(e){var t=this,r=C(t),n=r.reject,i=x((function(){g(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return i.e&&n(i.v),r.promise}})},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(34),i=r(209),o=r(210),a=r(16),s=r(105),c=r(211),l={},u={};(t=e.exports=function(e,t,r,d,p){var h,f,g,m,y=p?function(){return e}:c(e),v=n(r,d,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(h=s(e.length);h>b;b++)if((m=t?v(a(f=e[b])[0],f[1]):v(e[b]))===l||m===u)return m}else for(g=y.call(e);!(f=g.next()).done;)if((m=i(g,v,f.value,t))===l||m===u)return m}).BREAK=l,t.RETURN=u},function(e,t,r){var n=r(16);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,t,r){var n=r(39),i=r(9)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},function(e,t,r){var n=r(115),i=r(9)("iterator"),o=r(39);e.exports=r(7).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(8),i=r(117).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,c="process"==r(36)(a);e.exports=function(){var e,t,r,l=function(){var n,i;for(c&&(n=a.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(c)r=function(){a.nextTick(l)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);r=function(){u.then(l)}}else r=function(){i.call(n,l)};else{var d=!0,p=document.createTextNode("");new o(l).observe(p,{characterData:!0}),r=function(){p.data=d=!d}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t,r){var n=r(8).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){var n=r(21);e.exports=function(e,t,r){for(var i in t)r&&e[i]?e[i]=t[i]:n(e,i,t[i]);return e}},function(e,t,r){"use strict";var n=r(8),i=r(7),o=r(18),a=r(17),s=r(9)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:n[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(9)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},e(o)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(13),i=r(7),o=r(8),a=r(116),s=r(119);n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then((function(){return r}))}:e,r?function(r){return s(t,e()).then((function(){throw r}))}:e)}})},function(e,t,r){"use strict";var n=r(13),i=r(77),o=r(118);n(n.S,"Promise",{try:function(e){var t=i.f(this),r=o(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){"use strict";function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){return"function"==typeof i?i(r,n,e):t(i)}}}}var i=n();i.withExtraArgument=n,t.a=i},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__221__},function(e,t,r){!function(e,t){for(var r in t)e[r]=t[r]}(t,function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./source/Main.js")}({"./node_modules/worker-loader/dist/workers/InlineWorker.js":function(e,t,r){"use strict";var n=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var r;try{(r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),r=r.getBlob()}catch(t){r=new Blob([e])}return new Worker(n.createObjectURL(r))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){if(!t)throw Error("Inline worker is not supported");return new Worker(t)}}},"./source/Global.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Global",(function(){return o}));var n=r("./source/utils/LRU.js"),i=r("./source/utils/WorkerManager.js"),o={debug:{},workerPath:function(){if(document.currentScript.src){var e=new URL(document.currentScript.src+"/..").href;return"/"===e.slice(-1)&&(e=e.slice(0,-1)),e}return console.error("Potree: Was unable to find its script path using document.currentScript."),""}(),maxNodesLoadGPUFrame:20,maxDEMLevel:0,maxNodesLoading:void 0!==navigator.hardwareConcurrency?navigator.hardwareConcurrency:4,pointLoadLimit:1e10,numNodesLoading:0,measureTimings:!1,workerPool:new i.WorkerManager,lru:new n.LRU,pointcloudTransformVersion:void 0}},"./source/Gradients.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Gradients",(function(){return i}));var n=r("three"),i={RAINBOW:[[0,new n.Color(.278,0,.714)],[1/6,new n.Color(0,0,1)],[2/6,new n.Color(0,1,1)],[.5,new n.Color(0,1,0)],[4/6,new n.Color(1,1,0)],[5/6,new n.Color(1,.64,0)],[1,new n.Color(1,0,0)]],SPECTRAL:[[0,new n.Color(.3686,.3098,.6353)],[.1,new n.Color(.1961,.5333,.7412)],[.2,new n.Color(.4,.7608,.6471)],[.3,new n.Color(.6706,.8667,.6431)],[.4,new n.Color(.902,.9608,.5961)],[.5,new n.Color(1,1,.749)],[.6,new n.Color(.9961,.8784,.5451)],[.7,new n.Color(.9922,.6824,.3804)],[.8,new n.Color(.9569,.4275,.2627)],[.9,new n.Color(.8353,.2431,.3098)],[1,new n.Color(.6196,.0039,.2588)]],PLASMA:[[0,new n.Color(.241,.015,.61)],[.1,new n.Color(.387,.001,.654)],[.2,new n.Color(.524,.025,.653)],[.3,new n.Color(.651,.125,.596)],[.4,new n.Color(.752,.227,.513)],[.5,new n.Color(.837,.329,.431)],[.6,new n.Color(.907,.435,.353)],[.7,new n.Color(.963,.554,.272)],[.8,new n.Color(.992,.681,.195)],[.9,new n.Color(.987,.822,.144)],[1,new n.Color(.94,.975,.131)]],YELLOW_GREEN:[[0,new n.Color(.1647,.2824,.3451)],[.1,new n.Color(.1338,.3555,.4227)],[.2,new n.Color(.061,.4319,.4864)],[.3,new n.Color(0,.5099,.5319)],[.4,new n.Color(0,.5881,.5569)],[.5,new n.Color(.137,.665,.5614)],[.6,new n.Color(.2906,.7395,.5477)],[.7,new n.Color(.4453,.8099,.5201)],[.8,new n.Color(.6102,.8748,.485)],[.9,new n.Color(.7883,.9323,.4514)],[1,new n.Color(.9804,.9804,.4314)]],VIRIDIS:[[0,new n.Color(.267,.005,.329)],[.1,new n.Color(.283,.141,.458)],[.2,new n.Color(.254,.265,.53)],[.3,new n.Color(.207,.372,.553)],[.4,new n.Color(.164,.471,.558)],[.5,new n.Color(.128,.567,.551)],[.6,new n.Color(.135,.659,.518)],[.7,new n.Color(.267,.749,.441)],[.8,new n.Color(.478,.821,.318)],[.9,new n.Color(.741,.873,.15)],[1,new n.Color(.993,.906,.144)]],INFERNO:[[0,new n.Color(.077,.042,.206)],[.1,new n.Color(.225,.036,.388)],[.2,new n.Color(.373,.074,.432)],[.3,new n.Color(.522,.128,.42)],[.4,new n.Color(.665,.182,.37)],[.5,new n.Color(.797,.255,.287)],[.6,new n.Color(.902,.364,.184)],[.7,new n.Color(.969,.516,.063)],[.8,new n.Color(.988,.683,.072)],[.9,new n.Color(.961,.859,.298)],[1,new n.Color(.988,.998,.645)]],GRAYSCALE:[[0,new n.Color(0,0,0)],[1,new n.Color(1,1,1)]]}},"./source/Main.js":function(e,t,r){"use strict";r.r(t);var n=r("./source/Global.js");r.d(t,"Global",(function(){return n.Global}));var i=r("./source/Potree.js");r.d(t,"AttributeLocations",(function(){return i.AttributeLocations})),r.d(t,"Classification",(function(){return i.Classification})),r.d(t,"ClipTask",(function(){return i.ClipTask})),r.d(t,"ClipMethod",(function(){return i.ClipMethod})),r.d(t,"PointSizeType",(function(){return i.PointSizeType})),r.d(t,"PointShape",(function(){return i.PointShape})),r.d(t,"PointColorType",(function(){return i.PointColorType})),r.d(t,"TreeType",(function(){return i.TreeType})),r.d(t,"loadPointCloud",(function(){return i.loadPointCloud})),r.d(t,"updateVisibility",(function(){return i.updateVisibility})),r.d(t,"updatePointClouds",(function(){return i.updatePointClouds})),r.d(t,"updateVisibilityStructures",(function(){return i.updateVisibilityStructures}));var o=r("./source/lib/BinaryHeap.js");r.d(t,"BinaryHeap",(function(){return o.BinaryHeap}));var a=r("./source/utils/LRU.js");r.d(t,"LRU",(function(){return a.LRU}));var s=r("./source/utils/HelperUtils.js");r.d(t,"HelperUtils",(function(){return s.HelperUtils}));var c=r("./source/utils/VersionUtils.js");r.d(t,"VersionUtils",(function(){return c.VersionUtils}));var l=r("./source/utils/WorkerManager.js");r.d(t,"WorkerManager",(function(){return l.WorkerManager}));var u=r("./source/PointAttributes.js");r.d(t,"PointAttribute",(function(){return u.PointAttribute})),r.d(t,"PointAttributes",(function(){return u.PointAttributes})),r.d(t,"PointAttributeNames",(function(){return u.PointAttributeNames})),r.d(t,"PointAttributeTypes",(function(){return u.PointAttributeTypes}));var d=r("./source/Gradients.js");r.d(t,"Gradients",(function(){return d.Gradients}));var p=r("./source/Points.js");r.d(t,"Points",(function(){return p.Points}));var h=r("./source/Shader.js");r.d(t,"Shader",(function(){return h.Shader}));var f=r("./source/WebGLTexture.js");r.d(t,"WebGLTexture",(function(){return f.WebGLTexture}));var g=r("./source/WebGLBuffer.js");r.d(t,"WebGLBuffer",(function(){return g.WebGLBuffer}));var m=r("./source/Shaders.js");r.d(t,"Shaders",(function(){return m.Shaders}));var y=r("./source/pointcloud/DEM.js");r.d(t,"DEM",(function(){return y.DEM}));var v=r("./source/pointcloud/DEMNode.js");r.d(t,"DEMNode",(function(){return v.DEMNode}));var b=r("./source/pointcloud/PointCloudTree.js");r.d(t,"PointCloudTree",(function(){return b.PointCloudTree}));var x=r("./source/pointcloud/PointCloudArena4D.js");r.d(t,"PointCloudArena4D",(function(){return x.PointCloudArena4D}));var S=r("./source/pointcloud/PointCloudOctree.js");r.d(t,"PointCloudOctree",(function(){return S.PointCloudOctree}));var A=r("./source/pointcloud/geometries/PointCloudOctreeGeometry.js");r.d(t,"PointCloudOctreeGeometry",(function(){return A.PointCloudOctreeGeometry}));var w=r("./source/pointcloud/geometries/PointCloudArena4DGeometry.js");r.d(t,"PointCloudArena4DGeometry",(function(){return w.PointCloudArena4DGeometry}));var _=r("./source/pointcloud/geometries/PointCloudGreyhoundGeometry.js");r.d(t,"PointCloudGreyhoundGeometry",(function(){return _.PointCloudGreyhoundGeometry}));var T=r("./source/pointcloud/geometries/PointCloudEptGeometry.js");r.d(t,"PointCloudEptGeometry",(function(){return T.PointCloudEptGeometry}));var E=r("./source/pointcloud/materials/PointCloudMaterial.js");r.d(t,"PointCloudMaterial",(function(){return E.PointCloudMaterial}));var B=r("./source/loaders/LASLoader.js");r.d(t,"LASLoader",(function(){return B.LASLoader}));var R=r("./source/loaders/BinaryLoader.js");r.d(t,"BinaryLoader",(function(){return R.BinaryLoader}));var M=r("./source/loaders/GreyhoundUtils.js");r.d(t,"GreyhoundUtils",(function(){return M.GreyhoundUtils}));var C=r("./source/loaders/GreyhoundLoader.js");r.d(t,"GreyhoundLoader",(function(){return C.GreyhoundLoader}));var O=r("./source/loaders/GreyhoundBinaryLoader.js");r.d(t,"GreyhoundBinaryLoader",(function(){return O.GreyhoundBinaryLoader}));var I=r("./source/loaders/POCLoader.js");r.d(t,"POCLoader",(function(){return I.POCLoader}));var F=r("./source/loaders/LASLAZLoader.js");r.d(t,"LASLAZLoader",(function(){return F.LASLAZLoader}));var N=r("./source/loaders/EptLoader.js");r.d(t,"EptLoader",(function(){return N.EptLoader}));var L=r("./source/loaders/ept/EptLaszipLoader.js");r.d(t,"EptLaszipLoader",(function(){return L.EptLaszipLoader}));var P=r("./source/loaders/ept/EptBinaryLoader.js");r.d(t,"EptBinaryLoader",(function(){return P.EptBinaryLoader}));var D=r("./source/objects/BasicGroup.js");r.d(t,"BasicGroup",(function(){return D.BasicGroup}));var U=r("./source/objects/Group.js");r.d(t,"Group",(function(){return U.Group}))},"./source/PointAttributes.js":function(e,t,r){"use strict";r.r(t),r.d(t,"PointAttribute",(function(){return s})),r.d(t,"PointAttributes",(function(){return c})),r.d(t,"PointAttributeNames",(function(){return n})),r.d(t,"PointAttributeTypes",(function(){return i}));var n={POSITION_CARTESIAN:0,COLOR_PACKED:1,COLOR_FLOATS_1:2,COLOR_FLOATS_255:3,NORMAL_FLOATS:4,FILLER:5,INTENSITY:6,CLASSIFICATION:7,NORMAL_SPHEREMAPPED:8,NORMAL_OCT16:9,NORMAL:10,RETURN_NUMBER:11,NUMBER_OF_RETURNS:12,SOURCE_ID:13,INDICES:14,SPACING:15},i={DATA_TYPE_DOUBLE:{ordinal:0,size:8},DATA_TYPE_FLOAT:{ordinal:1,size:4},DATA_TYPE_INT8:{ordinal:2,size:1},DATA_TYPE_UINT8:{ordinal:3,size:1},DATA_TYPE_INT16:{ordinal:4,size:2},DATA_TYPE_UINT16:{ordinal:5,size:2},DATA_TYPE_INT32:{ordinal:6,size:4},DATA_TYPE_UINT32:{ordinal:7,size:4},DATA_TYPE_INT64:{ordinal:8,size:8},DATA_TYPE_UINT64:{ordinal:9,size:8}},o=0;for(var a in i)i[o]=i[a],o++;function s(e,t,r){this.name=e,this.type=t,this.numElements=r,this.byteSize=this.numElements*this.type.size}function c(e){if(this.attributes=[],this.byteSize=0,this.size=0,null!=e)for(var t=0;t<e.length;t++){var r=s[e[t]];this.attributes.push(r),this.byteSize+=r.byteSize,this.size++}}s.POSITION_CARTESIAN=new s(n.POSITION_CARTESIAN,i.DATA_TYPE_FLOAT,3),s.RGBA_PACKED=new s(n.COLOR_PACKED,i.DATA_TYPE_INT8,4),s.COLOR_PACKED=s.RGBA_PACKED,s.RGB_PACKED=new s(n.COLOR_PACKED,i.DATA_TYPE_INT8,3),s.NORMAL_FLOATS=new s(n.NORMAL_FLOATS,i.DATA_TYPE_FLOAT,3),s.FILLER_1B=new s(n.FILLER,i.DATA_TYPE_UINT8,1),s.INTENSITY=new s(n.INTENSITY,i.DATA_TYPE_UINT16,1),s.CLASSIFICATION=new s(n.CLASSIFICATION,i.DATA_TYPE_UINT8,1),s.NORMAL_SPHEREMAPPED=new s(n.NORMAL_SPHEREMAPPED,i.DATA_TYPE_UINT8,2),s.NORMAL_OCT16=new s(n.NORMAL_OCT16,i.DATA_TYPE_UINT8,2),s.NORMAL=new s(n.NORMAL,i.DATA_TYPE_FLOAT,3),s.RETURN_NUMBER=new s(n.RETURN_NUMBER,i.DATA_TYPE_UINT8,1),s.NUMBER_OF_RETURNS=new s(n.NUMBER_OF_RETURNS,i.DATA_TYPE_UINT8,1),s.SOURCE_ID=new s(n.SOURCE_ID,i.DATA_TYPE_UINT8,1),s.INDICES=new s(n.INDICES,i.DATA_TYPE_UINT32,1),s.SPACING=new s(n.SPACING,i.DATA_TYPE_FLOAT,1),c.prototype.add=function(e){this.attributes.push(e),this.byteSize+=e.byteSize,this.size++},c.prototype.hasColors=function(){for(var e in this.attributes)if(this.attributes[e].name===n.COLOR_PACKED)return!0;return!1},c.prototype.hasNormals=function(){for(var e in this.attributes){var t=this.attributes[e];if(t===s.NORMAL_SPHEREMAPPED||t===s.NORMAL_FLOATS||t===s.NORMAL||t===s.NORMAL_OCT16)return!0}return!1}},"./source/Points.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Points",(function(){return i}));var n=r("three"),i=function(){function e(){_classCallCheck(this,e),this.boundingBox=new n.Box3,this.numPoints=0,this.data={}}return _createClass(e,[{key:"add",value:function(e){var t,r=this.numPoints,n=r+e.numPoints,i=Object.keys(this.data),o=Object.keys(e.data),a=new Set([].concat(_toConsumableArray(i),_toConsumableArray(o))),s=_createForOfIteratorHelper(a);try{for(s.s();!(t=s.n()).done;){var c=t.value;if(i.includes(c)&&o.includes(c)){var l=new(0,this.data[c].constructor)(this.data[c].length+e.data[c].length);l.set(this.data[c],0),l.set(e.data[c],this.data[c].length),this.data[c]=l}else if(i.includes(c)&&!o.includes(c)){var u=this.data[c].length/this.numPoints;(d=new(0,this.data[c].constructor)(u*n)).set(this.data[c],0),this.data[c]=d}else if(!i.includes(c)&&o.includes(c)){var d;u=e.data[c].length/e.numPoints,(d=new(0,e.data[c].constructor)(u*n)).set(e.data[c],u*r),this.data[c]=d}}}catch(p){s.e(p)}finally{s.f()}this.numPoints=n,this.boundingBox.union(e.boundingBox)}}]),e}()},"./source/Potree.js":function(e,t,r){"use strict";r.r(t),r.d(t,"AttributeLocations",(function(){return p})),r.d(t,"Classification",(function(){return h})),r.d(t,"ClipTask",(function(){return f})),r.d(t,"ClipMethod",(function(){return g})),r.d(t,"PointSizeType",(function(){return m})),r.d(t,"PointShape",(function(){return y})),r.d(t,"PointColorType",(function(){return v})),r.d(t,"TreeType",(function(){return b})),r.d(t,"loadPointCloud",(function(){return x})),r.d(t,"updateVisibility",(function(){return S})),r.d(t,"updatePointClouds",(function(){return A})),r.d(t,"updateVisibilityStructures",(function(){return w}));var n=r("three"),i=r("./source/loaders/GreyhoundLoader.js"),o=r("./source/loaders/POCLoader.js"),a=r("./source/loaders/EptLoader.js"),s=r("./source/pointcloud/PointCloudOctree.js"),c=r("./source/pointcloud/PointCloudArena4D.js"),l=r("./source/pointcloud/geometries/PointCloudArena4DGeometry.js"),u=r("./source/lib/BinaryHeap.js"),d=r("./source/Global.js"),p={position:0,color:1,intensity:2,classification:3,returnNumber:4,numberOfReturns:5,pointSourceID:6,indices:7,normal:8,spacing:9},h={DEFAULT:{0:new n.Vector4(.5,.5,.5,1),1:new n.Vector4(.5,.5,.5,1),2:new n.Vector4(.63,.32,.18,1),3:new n.Vector4(0,1,0,1),4:new n.Vector4(0,.8,0,1),5:new n.Vector4(0,.6,0,1),6:new n.Vector4(1,.66,0,1),7:new n.Vector4(1,0,1,1),8:new n.Vector4(1,0,0,1),9:new n.Vector4(0,0,1,1),12:new n.Vector4(1,1,0,1),DEFAULT:new n.Vector4(.3,.6,.6,.5)}},f={NONE:0,HIGHLIGHT:1,SHOW_INSIDE:2,SHOW_OUTSIDE:3},g={INSIDE_ANY:0,INSIDE_ALL:1},m={FIXED:0,ATTENUATED:1,ADAPTIVE:2},y={SQUARE:0,CIRCLE:1,PARABOLOID:2},v={RGB:0,COLOR:1,DEPTH:2,HEIGHT:3,ELEVATION:3,INTENSITY:4,INTENSITY_GRADIENT:5,LOD:6,LEVEL_OF_DETAIL:6,POINT_INDEX:7,CLASSIFICATION:8,RETURN_NUMBER:9,SOURCE:10,NORMAL:11,PHONG:12,RGB_HEIGHT:13,COMPOSITE:50},b={OCTREE:0,KDTREE:1};function x(e,t,r){var n=function(e){void 0!==t&&(e.name=t),r({type:"pointcloud_loaded",pointcloud:e})};if(0===e.indexOf("greyhound://"))i.GreyhoundLoader.load(e,(function(e){void 0!==e&&n(new s.PointCloudOctree(e))}));else if(e.indexOf("cloud.js")>0)o.POCLoader.load(e,(function(e){void 0!==e&&n(new s.PointCloudOctree(e))}));else if(e.indexOf("ept.json")>0)a.EptLoader.load(e,(function(e){void 0!==e&&n(new s.PointCloudOctree(e))}));else{if(!(e.indexOf(".vpc")>0))throw new Error("Potree: Failed to load point cloud from URL "+e);l.PointCloudArena4DGeometry.load(e,(function(e){void 0!==e&&n(new c.PointCloudArena4D(e))}))}}function S(e,t,r){var i=0,o=new Map(e.map((function(e){return[e,0]}))),a=[],s=[],c=[],l=1/0,u=w(e,t),p=u.frustums,h=u.camObjPositions,f=u.priorityQueue,g=0,m=(r.domElement.clientWidth,r.domElement.clientHeight);d.Global.pointcloudTransformVersion||(d.Global.pointcloudTransformVersion=new Map);for(var y=d.Global.pointcloudTransformVersion,v=0;v<e.length;v++)if((_=e[v]).visible)if(_.updateMatrixWorld(),y.has(_)){var b=y.get(_);b.transform.equals(_.matrixWorld)||(b.number++,b.transform.copy(_.matrixWorld),_.dispatchEvent({type:"transformation_changed",target:_}))}else y.set(_,{number:0,transform:_.matrixWorld.clone()});for(;f.size()>0;){var x=f.pop(),S=x.node,A=x.parent,_=e[x.pointcloud],T=S.getBoundingBox(),E=p[x.pointcloud],B=h[x.pointcloud],R=E.intersectsBox(T),M=_.maxLevel||1/0,C=S.getLevel(),O=R;if(O=(O=O&&!(o.get(_)+S.getNumPoints()>_.pointBudget))&&C<M,S.spacing?l=Math.min(l,S.spacing):S.geometryNode&&S.geometryNode.spacing&&(l=Math.min(l,S.geometryNode.spacing)),O){i+=S.getNumPoints();var I=o.get(_);if(o.set(_,I+S.getNumPoints()),_.numVisibleNodes++,_.numVisiblePoints+=S.getNumPoints(),!S.isGeometryNode()||A&&!A.isTreeNode()||(S.isLoaded()&&g<d.Global.maxNodesLoadGPUFrame?(S=_.toTreeNode(S,A),g++):(c.push(S),s.push(S))),S.isTreeNode()){d.Global.lru.touch(S.geometryNode),S.sceneNode.visible=!0,S.sceneNode.material=_.material,a.push(S),_.visibleNodes.push(S),void 0===S._transformVersion&&(S._transformVersion=-1);var F=y.get(_);if(S._transformVersion!==F.number&&(S.sceneNode.updateMatrix(),S.sceneNode.matrixWorld.multiplyMatrices(_.matrixWorld,S.sceneNode.matrix),S._transformVersion=F.number),_.showBoundingBox&&!S.boundingBoxNode&&S.getBoundingBox){var N=new n.Box3Helper(S.getBoundingBox());N.matrixAutoUpdate=!1,_.boundingBoxNodes.push(N),S.boundingBoxNode=N,S.boundingBoxNode.matrix.copy(_.matrixWorld)}else _.showBoundingBox?(S.boundingBoxNode.visible=!0,S.boundingBoxNode.matrix.copy(_.matrixWorld)):!_.showBoundingBox&&S.boundingBoxNode&&(S.boundingBoxNode.visible=!1)}var L=S.getChildren();for(v=0;v<L.length;v++){var P=L[v],D=0;if(t.isPerspectiveCamera){var U=P.getBoundingSphere(new n.Sphere),G=(U.center,U.center.distanceTo(B)),j=U.radius,z=t.fov*Math.PI/180,k=j*(.5*m/(Math.tan(z/2)*G));if(k<_.minimumNodePixelSize)continue;D=k,G-j<0&&(D=Number.MAX_VALUE)}else{var V=P.getBoundingBox();G=P.getBoundingSphere(new n.Sphere).center.distanceTo(B),D=V.max.clone().sub(V.min).length()/G}f.push({pointcloud:x.pointcloud,node:P,parent:S,weight:D})}}}var W,H=e.filter((function(e){return e.generateDEM&&e.dem instanceof DEM})),X=_createForOfIteratorHelper(H);try{for(X.s();!(W=X.n()).done;){var Q=(_=W.value).visibleNodes.filter((function(e){return e.getLevel()<=d.Global.maxDEMLevel}));_.dem.update(Q)}}catch(Z){X.e(Z)}finally{X.f()}for(v=0;v<Math.min(d.Global.maxNodesLoading,c.length);v++)c[v].load();return{visibleNodes:a,numVisiblePoints:i,lowestSpacing:l}}function A(e,t,r){for(var n=S(e,t,r),i=0;i<e.length;i++)e[i].updateMaterial(e[i].material,e[i].visibleNodes,t,r),e[i].updateVisibleBounds();return d.Global.lru.freeMemory(),n}function w(e,t,r){for(var i=[],o=[],a=new u.BinaryHeap((function(e){return 1/e.weight})),s=0;s<e.length;s++){var c=e[s];if(c.initialized()){c.numVisibleNodes=0,c.numVisiblePoints=0,c.deepestVisibleLevel=0,c.visibleNodes=[],c.visibleGeometry=[],t.updateMatrixWorld();var l=new n.Frustum,d=t.matrixWorldInverse,p=c.matrixWorld,h=t.clone();h.near=t.near,h.updateProjectionMatrix();var f=t.projectionMatrix,g=(new n.Matrix4).multiply(f).multiply(d).multiply(p);l.setFromMatrix(g),i.push(l);var m=t.matrixWorld,y=(new n.Matrix4).getInverse(p),v=(new n.Matrix4).multiply(y).multiply(m),b=(new n.Vector3).setFromMatrixPosition(v);o.push(b),c.visible&&null!==c.root&&a.push({pointcloud:s,node:c.root,weight:Number.MAX_VALUE}),c.root.isTreeNode()&&c.hideDescendants(c.root.sceneNode);for(var x=0;x<c.boundingBoxNodes.length;x++)c.boundingBoxNodes[x].visible=!1}}return{frustums:i,camObjPositions:o,priorityQueue:a}}},"./source/Shader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Shader",(function(){return a}));var n=r("three"),i=r("./source/WebGLTexture.js"),o=r("./source/Potree.js"),a=function(){function e(t,r,n,i){_classCallCheck(this,e),this.gl=t,this.name=r,this.vsSource=n,this.fsSource=i,this.cache=new Map,this.vs=null,this.fs=null,this.program=null,this.uniformLocations={},this.attributeLocations={},this.update(n,i)}return _createClass(e,[{key:"update",value:function(e,t){this.vsSource=e,this.fsSource=t,this.linkProgram()}},{key:"compileShader",value:function(e,t){var r=this.gl;if(r.shaderSource(e,t),r.compileShader(e),!r.getShaderParameter(e,r.COMPILE_STATUS)){var n=r.getShaderInfoLog(e);throw new Error("Potree: Could not compile shader "+this.name+", "+n)}}},{key:"linkProgram",value:function(){var e=this.gl;if(this.uniformLocations={},this.attributeLocations={},e.useProgram(null),h=this.cache.get("".concat(this.vsSource,", ").concat(this.fsSource)))return this.program=h.program,this.vs=h.vs,this.fs=h.fs,this.attributeLocations=h.attributeLocations,void(this.uniformLocations=h.uniformLocations);for(var t=0,r=(this.vs=e.createShader(e.VERTEX_SHADER),this.fs=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),Object.keys(o.AttributeLocations));t<r.length;t++){var n=r[t],i=o.AttributeLocations[n];e.bindAttribLocation(this.program,i,n)}this.compileShader(this.vs,this.vsSource),this.compileShader(this.fs,this.fsSource);var a=this.program;if(e.attachShader(a,this.vs),e.attachShader(a,this.fs),e.linkProgram(a),e.detachShader(a,this.vs),e.detachShader(a,this.fs),!e.getProgramParameter(a,e.LINK_STATUS)){var s=e.getProgramInfoLog(a);throw new Error("Potree: Could not link program "+this.name+", "+s)}for(var c=e.getProgramParameter(a,e.ACTIVE_ATTRIBUTES),l=0;l<c;l++){var u=e.getActiveAttrib(a,l);i=e.getAttribLocation(a,u.name),this.attributeLocations[u.name]=i}var d=e.getProgramParameter(a,e.ACTIVE_UNIFORMS);for(l=0;l<d;l++){var p=e.getActiveUniform(a,l);i=e.getUniformLocation(a,p.name),this.uniformLocations[p.name]=i}var h={program:this.program,vs:this.vs,fs:this.fs,attributeLocations:this.attributeLocations,uniformLocations:this.uniformLocations};this.cache.set("".concat(this.vsSource,", ").concat(this.fsSource),h)}},{key:"setUniformMatrix4",value:function(e,t){var r=this.gl,n=this.uniformLocations[e];if(null!=n){var i=new Float32Array(t.elements);r.uniformMatrix4fv(n,!1,i)}}},{key:"setUniform1f",value:function(e,t){var r=this.gl,n=this.uniformLocations[e];null!=n&&r.uniform1f(n,t)}},{key:"setUniformBoolean",value:function(e,t){var r=this.gl,n=this.uniformLocations[e];null!=n&&r.uniform1i(n,t)}},{key:"setUniformTexture",value:function(e,t){var r=this.gl,n=this.uniformLocations[e];null!=n&&r.uniform1i(n,t)}},{key:"setUniform2f",value:function(e,t){var r=this.gl,n=this.uniformLocations[e];null!=n&&r.uniform2f(n,t[0],t[1])}},{key:"setUniform3f",value:function(e,t){var r=this.gl,n=this.uniformLocations[e];null!=n&&r.uniform3f(n,t[0],t[1],t[2])}},{key:"setUniform",value:function(e,t){t.constructor===n.Matrix4?this.setUniformMatrix4(e,t):"number"==typeof t?this.setUniform1f(e,t):"boolean"==typeof t?this.setUniformBoolean(e,t):t instanceof i.WebGLTexture?this.setUniformTexture(e,t):t instanceof Array?2===t.length?this.setUniform2f(e,t):3===t.length&&this.setUniform3f(e,t):console.error("Potree: Unhandled uniform type: ",e,t)}},{key:"setUniform1i",value:function(e,t){var r=this.gl,n=this.uniformLocations[e];null!=n&&r.uniform1i(n,t)}}]),e}()},"./source/Shaders.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Shaders",(function(){return i}));var n=r("three"),i={};i.vertex="\nprecision highp float;\nprecision highp int;\n\n#define MAX_CLIP_POLYGONS 8\n#define PI 3.141592653589793\n\n"+n.ShaderChunk.logdepthbuf_pars_vertex+"\n\nattribute vec3 position;\nattribute vec3 color;\nattribute float intensity;\nattribute float classification;\nattribute float returnNumber;\nattribute float numberOfReturns;\nattribute float pointSourceID;\nattribute vec4 indices;\nattribute float spacing;\n\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 uViewInv;\n\nuniform float uScreenWidth;\nuniform float uScreenHeight;\nuniform float fov;\nuniform float near;\nuniform float far;\n\nuniform bool uDebug;\n\nuniform bool uUseOrthographicCamera;\nuniform float uOrthoWidth;\nuniform float uOrthoHeight;\n\n#define CLIPTASK_NONE 0\n#define CLIPTASK_HIGHLIGHT 1\n#define CLIPTASK_SHOW_INSIDE 2\n#define CLIPTASK_SHOW_OUTSIDE 3\n\n#define CLIPMETHOD_INSIDE_ANY 0\n#define CLIPMETHOD_INSIDE_ALL 1\n\nuniform int clipTask;\nuniform int clipMethod;\n\n#if defined(num_clipboxes) && num_clipboxes > 0\n\tuniform mat4 clipBoxes[num_clipboxes];\n#endif\n\n#if defined(num_clipspheres) && num_clipspheres > 0\n\tuniform mat4 uClipSpheres[num_clipspheres];\n#endif\n\n#if defined(num_clippolygons) && num_clippolygons > 0\n\tuniform int uClipPolygonVCount[num_clippolygons];\n\tuniform vec3 uClipPolygonVertices[num_clippolygons * 8];\n\tuniform mat4 uClipPolygonWVP[num_clippolygons];\n#endif\n\nuniform float size;\nuniform float minSize;\nuniform float maxSize;\n\nuniform float uPCIndex;\nuniform float uOctreeSpacing;\nuniform float uNodeSpacing;\nuniform float uOctreeSize;\nuniform vec3 uBBSize;\nuniform float uLevel;\nuniform float uVNStart;\nuniform bool uIsLeafNode;\n\nuniform vec3 uColor;\nuniform float uOpacity;\n\nuniform vec2 elevationRange;\nuniform vec2 intensityRange;\nuniform float intensityGamma;\nuniform float intensityContrast;\nuniform float intensityBrightness;\nuniform float rgbGamma;\nuniform float rgbContrast;\nuniform float rgbBrightness;\nuniform float uTransition;\nuniform float wRGB;\nuniform float wIntensity;\nuniform float wElevation;\nuniform float wClassification;\nuniform float wReturnNumber;\nuniform float wSourceID;\n\nuniform vec3 uShadowColor;\n\nuniform sampler2D visibleNodes;\nuniform sampler2D gradient;\nuniform sampler2D classificationLUT;\n\n#if defined(num_shadowmaps) && num_shadowmaps > 0\n\tuniform sampler2D uShadowMap[num_shadowmaps];\n\tuniform mat4 uShadowWorldView[num_shadowmaps];\n\tuniform mat4 uShadowProj[num_shadowmaps];\n#endif\n\nvarying vec3 vColor;\nvarying float vLogDepth;\nvarying vec3 vViewPosition;\nvarying float vRadius;\nvarying float vPointSize;\n\nfloat round(float number)\n{\n\treturn floor(number + 0.5);\n}\n\n//---------------------\n//OCTREE\n//---------------------\n\n#if (defined(adaptive_point_size) || defined(color_type_lod)) && defined(tree_type_octree)\n\n\t/**\n\t * number of 1-bits up to inclusive index position\n\t * number is treated as if it were an integer in the range 0-255\n\t */\n\tint numberOfOnes(int number, int index)\n\t{\n\t\tint numOnes = 0;\n\t\tint tmp = 128;\n\n\t\tfor(int i = 7; i >= 0; i--)\n\t\t{\n\t\t\tif(number >= tmp)\n\t\t\t{\n\t\t\t\tnumber = number - tmp;\n\n\t\t\t\tif(i <= index)\n\t\t\t\t{\n\t\t\t\t\tnumOnes++;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\ttmp = tmp / 2;\n\t\t}\n\n\t\treturn numOnes;\n\t}\n\n\t/**\n\t * checks whether the bit at index is 1\n\t * number is treated as if it were an integer in the range 0-255\n\t */\n\tbool isBitSet(int number, int index)\n\t{\n\t\t//weird multi else if due to lack of proper array, int and bitwise support in WebGL 1.0\n\t\tint powi = 1;\n\n\t\tif(index == 0)\n\t\t{\n\t\t\tpowi = 1;\n\t\t}\n\t\telse if(index == 1)\n\t\t{\n\t\t\tpowi = 2;\n\t\t}\n\t\telse if(index == 2)\n\t\t{\n\t\t\tpowi = 4;\n\t\t}\n\t\telse if(index == 3)\n\t\t{\n\t\t\tpowi = 8;\n\t\t}\n\t\telse if(index == 4)\n\t\t{\n\t\t\tpowi = 16;\n\t\t}\n\t\telse if(index == 5)\n\t\t{\n\t\t\tpowi = 32;\n\t\t}\n\t\telse if(index == 6)\n\t\t{\n\t\t\tpowi = 64;\n\t\t}\n\t\telse if(index == 7)\n\t\t{\n\t\t\tpowi = 128;\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tint ndp = number / powi;\n\n\t\treturn mod(float(ndp), 2.0) != 0.0;\n\t}\n\n\t/**\n\t * find the LOD at the point position\n\t */\n\tfloat getLOD()\n\t{\n\t\tvec3 offset = vec3(0.0, 0.0, 0.0);\n\t\tint iOffset = int(uVNStart);\n\t\tfloat depth = uLevel;\n\n\t\tfor(float i = 0.0; i <= 30.0; i++)\n\t\t{\n\t\t\tfloat nodeSizeAtLevel = uOctreeSize / pow(2.0, i + uLevel + 0.0);\n\t\t\t\n\t\t\tvec3 index3d = (position-offset) / nodeSizeAtLevel;\n\t\t\tindex3d = floor(index3d + 0.5);\n\t\t\tint index = int(round(4.0 * index3d.x + 2.0 * index3d.y + index3d.z));\n\t\t\t\n\t\t\tvec4 value = texture2D(visibleNodes, vec2(float(iOffset) / 2048.0, 0.0));\n\t\t\tint mask = int(round(value.r * 255.0));\n\n\t\t\tif(isBitSet(mask, index))\n\t\t\t{\n\t\t\t\t//there are more visible child nodes at this position\n\t\t\t\tint advanceG = int(round(value.g * 255.0)) * 256;\n\t\t\t\tint advanceB = int(round(value.b * 255.0));\n\t\t\t\tint advanceChild = numberOfOnes(mask, index - 1);\n\t\t\t\tint advance = advanceG + advanceB + advanceChild;\n\n\t\t\t\tiOffset = iOffset + advance;\n\t\t\t\t\n\t\t\t\tdepth++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t//no more visible child nodes at this position\n\t\t\t\treturn value.a * 255.0;\n\t\t\t\t//return depth;\n\t\t\t}\n\t\t\t\n\t\t\toffset = offset + (vec3(1.0, 1.0, 1.0) * nodeSizeAtLevel * 0.5) * index3d;\n\t\t}\n\t\t\t\n\t\treturn depth;\n\t}\n\n\tfloat getSpacing()\n\t{\n\t\tvec3 offset = vec3(0.0, 0.0, 0.0);\n\t\tint iOffset = int(uVNStart);\n\t\tfloat depth = uLevel;\n\t\tfloat spacing = uNodeSpacing;\n\n\t\tfor(float i = 0.0; i <= 30.0; i++)\n\t\t{\n\t\t\tfloat nodeSizeAtLevel = uOctreeSize / pow(2.0, i + uLevel + 0.0);\n\t\t\t\n\t\t\tvec3 index3d = (position-offset) / nodeSizeAtLevel;\n\t\t\tindex3d = floor(index3d + 0.5);\n\t\t\tint index = int(round(4.0 * index3d.x + 2.0 * index3d.y + index3d.z));\n\t\t\t\n\t\t\tvec4 value = texture2D(visibleNodes, vec2(float(iOffset) / 2048.0, 0.0));\n\t\t\tint mask = int(round(value.r * 255.0));\n\t\t\tfloat spacingFactor = value.a;\n\n\t\t\tif(i > 0.0)\n\t\t\t{\n\t\t\t\tspacing = spacing / (255.0 * spacingFactor);\n\t\t\t}\n\t\t\t\n\t\t\tif(isBitSet(mask, index))\n\t\t\t{\n\t\t\t\t//there are more visible child nodes at this position\n\t\t\t\tint advanceG = int(round(value.g * 255.0)) * 256;\n\t\t\t\tint advanceB = int(round(value.b * 255.0));\n\t\t\t\tint advanceChild = numberOfOnes(mask, index - 1);\n\t\t\t\tint advance = advanceG + advanceB + advanceChild;\n\n\t\t\t\tiOffset = iOffset + advance;\n\n\t\t\t\tdepth++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t//no more visible child nodes at this position\n\t\t\t\treturn spacing;\n\t\t\t}\n\t\t\t\n\t\t\toffset = offset + (vec3(1.0, 1.0, 1.0) * nodeSizeAtLevel * 0.5) * index3d;\n\t\t}\n\t\t\t\n\t\treturn spacing;\n\t}\n\n\tfloat getPointSizeAttenuation()\n\t{\n\t\treturn pow(2.0, getLOD());\n\t}\n#endif\n\n//---------------------\n//KD-TREE\n//---------------------\n#if (defined(adaptive_point_size) || defined(color_type_lod)) && defined(tree_type_kdtree)\n\tfloat getLOD()\n\t{\n\t\tvec3 offset = vec3(0.0, 0.0, 0.0);\n\t\tfloat iOffset = 0.0;\n\t\tfloat depth = 0.0;\n\t\t\t\n\t\tvec3 size = uBBSize;\t\n\t\tvec3 pos = position;\n\t\t\t\n\t\tfor(float i = 0.0; i <= 1000.0; i++)\n\t\t{\n\t\t\tvec4 value = texture2D(visibleNodes, vec2(iOffset / 2048.0, 0.0));\n\t\t\t\n\t\t\tint children = int(value.r * 255.0);\n\t\t\tfloat next = value.g * 255.0;\n\t\t\tint split = int(value.b * 255.0);\n\t\t\t\n\t\t\tif(next == 0.0)\n\t\t\t{\n\t\t\t \treturn depth;\n\t\t\t}\n\t\t\t\n\t\t\tvec3 splitv = vec3(0.0, 0.0, 0.0);\n\t\t\tif(split == 1)\n\t\t\t{\n\t\t\t\tsplitv.x = 1.0;\n\t\t\t}\n\t\t\telse if(split == 2)\n\t\t\t{\n\t\t\t \tsplitv.y = 1.0;\n\t\t\t}\n\t\t\telse if(split == 4)\n\t\t\t{\n\t\t\t \tsplitv.z = 1.0;\n\t\t\t}\n\t\t\t\n\t\t\tiOffset = iOffset + next;\n\t\t\t\n\t\t\tfloat factor = length(pos * splitv / size);\n\n\t\t\t//Left\n\t\t\tif(factor < 0.5)\n\t\t\t{\n\t\t\t\tif(children == 0 || children == 2)\n\t\t\t\t{\n\t\t\t\t\treturn depth;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//Right\n\t\t\telse\n\t\t\t{\n\t\t\t\tpos = pos - size * splitv * 0.5;\n\t\t\t\tif(children == 0 || children == 1)\n\t\t\t\t{\n\t\t\t\t\treturn depth;\n\t\t\t\t}\n\t\t\t\tif(children == 3)\n\t\t\t\t{\n\t\t\t\t\tiOffset = iOffset + 1.0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsize = size * ((1.0 - (splitv + 1.0) / 2.0) + 0.5);\n\t\t\tdepth++;\n\t\t}\n\t\t\t\n\t\treturn depth;\t\n\t}\n\n\tfloat getPointSizeAttenuation()\n\t{\n\t\treturn 0.5 * pow(1.3, getLOD());\n\t}\n#endif\n\n//formula adapted from: http://www.dfstudios.co.uk/articles/programming/image-programming-algorithms/image-processing-algorithms-part-5-contrast-adjustment/\nfloat getContrastFactor(float contrast)\n{\n\treturn (1.0158730158730156 * (contrast + 1.0)) / (1.0158730158730156 - contrast);\n}\n\nvec3 getRGB()\n{\n\tvec3 rgb = color;\n\t\n\trgb = pow(rgb, vec3(rgbGamma));\n\trgb = rgb + rgbBrightness;\n\trgb = clamp(rgb, 0.0, 1.0);\n\t\n\treturn rgb;\n}\n\nfloat getIntensity()\n{\n\tfloat w = (intensity - intensityRange.x) / (intensityRange.y - intensityRange.x);\n\tw = pow(w, intensityGamma);\n\tw = w + intensityBrightness;\n\tw = (w - 0.5) * getContrastFactor(intensityContrast) + 0.5;\n\tw = clamp(w, 0.0, 1.0);\n\n\treturn w;\n}\n\nvec3 getElevation()\n{\n\tvec4 world = modelMatrix * vec4( position, 1.0 );\n\tfloat w = (world.z - elevationRange.x) / (elevationRange.y - elevationRange.x);\n\treturn texture2D(gradient, vec2(w,1.0-w)).rgb;\n}\n\nvec4 getClassification()\n{\n\tvec2 uv = vec2(classification / 255.0, 0.5);\n\treturn texture2D(classificationLUT, uv);\n}\n\nvec3 getReturnNumber()\n{\n\tif(numberOfReturns == 1.0)\n\t{\n\t\treturn vec3(1.0, 1.0, 0.0);\n\t}\n\telse\n\t{\n\t\tif(returnNumber == 1.0)\n\t\t{\n\t\t\treturn vec3(1.0, 0.0, 0.0);\n\t\t}\n\t\telse if(returnNumber == numberOfReturns)\n\t\t{\n\t\t\treturn vec3(0.0, 0.0, 1.0);\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn vec3(0.0, 1.0, 0.0);\n\t\t}\n\t}\n}\n\nvec3 getSourceID()\n{\n\tfloat w = mod(pointSourceID, 10.0) / 10.0;\n\treturn texture2D(gradient, vec2(w,1.0 - w)).rgb;\n}\n\nvec3 getCompositeColor()\n{\n\tvec3 c;\n\tfloat w;\n\n\tc += wRGB * getRGB();\n\tw += wRGB;\n\t\n\tc += wIntensity * getIntensity() * vec3(1.0, 1.0, 1.0);\n\tw += wIntensity;\n\t\n\tc += wElevation * getElevation();\n\tw += wElevation;\n\t\n\tc += wReturnNumber * getReturnNumber();\n\tw += wReturnNumber;\n\t\n\tc += wSourceID * getSourceID();\n\tw += wSourceID;\n\t\n\tvec4 cl = wClassification * getClassification();\n    c += cl.a * cl.rgb;\n\tw += wClassification * cl.a;\n\n\tc = c / w;\n\t\n\tif(w == 0.0)\n\t{\n\t\tgl_Position = vec4(100.0, 100.0, 100.0, 0.0);\n\t}\n\t\n\treturn c;\n}\n\nvec3 getColor()\n{\n\tvec3 color;\n\t\n\t#ifdef color_type_rgb\n\t\tcolor = getRGB();\n\t#elif defined color_type_height\n\t\tcolor = getElevation();\n\t#elif defined color_type_rgb_height\n\t\tvec3 cHeight = getElevation();\n\t\tcolor = (1.0 - uTransition) * getRGB() + uTransition * cHeight;\n\t#elif defined color_type_depth\n\t\tfloat linearDepth = gl_Position.w;\n\t\tfloat expDepth = (gl_Position.z / gl_Position.w) * 0.5 + 0.5;\n\t\tcolor = vec3(linearDepth, expDepth, 0.0);\n\t#elif defined color_type_intensity\n\t\tfloat w = getIntensity();\n\t\tcolor = vec3(w, w, w);\n\t#elif defined color_type_intensity_gradient\n\t\tfloat w = getIntensity();\n\t\tcolor = texture2D(gradient, vec2(w,1.0-w)).rgb;\n\t#elif defined color_type_color\n\t\tcolor = uColor;\n\t#elif defined color_type_lod\n\t\tfloat depth = getLOD();\n\t\tfloat w = depth / 10.0;\n\t\tcolor = texture2D(gradient, vec2(w,1.0-w)).rgb;\n\t#elif defined color_type_point_index\n\t\tcolor = indices.rgb;\n\t#elif defined color_type_classification\n\t\tvec4 cl = getClassification(); \n\t\tcolor = cl.rgb;\n\t#elif defined color_type_return_number\n\t\tcolor = getReturnNumber();\n\t#elif defined color_type_source\n\t\tcolor = getSourceID();\n\t#elif defined color_type_normal\n\t\tcolor = (modelMatrix * vec4(normal, 0.0)).xyz;\n\t#elif defined color_type_phong\n\t\tcolor = color;\n\t#elif defined color_type_composite\n\t\tcolor = getCompositeColor();\n\t#endif\n\t\n\treturn color;\n}\n\nfloat getPointSize()\n{\n\tfloat pointSize = 1.0;\n\t\n\tfloat slope = tan(fov / 2.0);\n\tfloat projFactor = -0.5 * uScreenHeight / (slope * vViewPosition.z);\n\t\n\tfloat r = uOctreeSpacing * 1.7;\n\tvRadius = r;\n\n\t#if defined fixed_point_size\n\t\tpointSize = size;\n\t#elif defined attenuated_point_size\n\t\tif(uUseOrthographicCamera)\n\t\t{\n\t\t\tpointSize = size;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpointSize = size * spacing * projFactor;\n\t\t}\n\t#elif defined adaptive_point_size\n\t\tif(uUseOrthographicCamera)\n\t\t{\n\t\t\tfloat worldSpaceSize = 1.0 * size * r / getPointSizeAttenuation();\n\t\t\tpointSize = (worldSpaceSize / uOrthoWidth) * uScreenWidth;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(uIsLeafNode && false)\n\t\t\t{\n\t\t\t\tpointSize = size * spacing * projFactor;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfloat worldSpaceSize = 1.0 * size * r / getPointSizeAttenuation();\n\t\t\t\tpointSize = worldSpaceSize * projFactor;\n\t\t\t}\n\t\t}\n\t#endif\n\n\tpointSize = max(minSize, pointSize);\n\tpointSize = min(maxSize, pointSize);\n\t\n\tvRadius = pointSize / projFactor;\n\n\treturn pointSize;\n}\n\n#if defined num_clippolygons && num_clippolygons > 0\n\tbool pointInClipPolygon(vec3 point, int polyIdx)\n\t{\n\t\tmat4 wvp = uClipPolygonWVP[polyIdx];\n\n\t\tvec4 pointNDC = wvp * vec4(point, 1.0);\n\t\tpointNDC.xy = pointNDC.xy / pointNDC.w;\n\n\t\tint j = uClipPolygonVCount[polyIdx] - 1;\n\t\tbool c = false;\n\t\tfor(int i = 0; i < 8; i++)\n\t\t{\n\t\t\tif(i == uClipPolygonVCount[polyIdx])\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvec3 verti = uClipPolygonVertices[polyIdx * 8 + i];\n\t\t\tvec3 vertj = uClipPolygonVertices[polyIdx * 8 + j];\n\n\t\t\tif(((verti.y > pointNDC.y) != (vertj.y > pointNDC.y)) && (pointNDC.x < (vertj.x-verti.x) * (pointNDC.y-verti.y) / (vertj.y-verti.y) + verti.x))\n\t\t\t{\n\t\t\t\tc = !c;\n\t\t\t}\n\n\t\t\tj = i;\n\t\t}\n\n\t\treturn c;\n\t}\n#endif\n\nvoid doClipping()\n{\n\t#if !defined color_type_composite\n\t\tvec4 cl = getClassification(); \n\t\tif(cl.a == 0.0)\n\t\t{\n\t\t\tgl_Position = vec4(100.0, 100.0, 100.0, 0.0);\n\t\t\t\n\t\t\treturn;\n\t\t}\n\t#endif\n\n\tint clipVolumesCount = 0;\n\tint insideCount = 0;\n\n\t#if defined(num_clipboxes) && num_clipboxes > 0\n\t\tfor(int i = 0; i < num_clipboxes; i++)\n\t\t{\n\t\t\tvec4 clipPosition = clipBoxes[i] * modelMatrix * vec4( position, 1.0 );\n\t\t\tbool inside = -0.5 <= clipPosition.x && clipPosition.x <= 0.5;\n\t\t\tinside = inside && -0.5 <= clipPosition.y && clipPosition.y <= 0.5;\n\t\t\tinside = inside && -0.5 <= clipPosition.z && clipPosition.z <= 0.5;\n\n\t\t\tinsideCount = insideCount + (inside ? 1 : 0);\n\t\t\tclipVolumesCount++;\n\t\t}\t\n\t#endif\n\n\t#if defined(num_clippolygons) && num_clippolygons > 0\n\t\tfor(int i = 0; i < num_clippolygons; i++)\n\t\t{\n\t\t\tbool inside = pointInClipPolygon(position, i);\n\n\t\t\tinsideCount = insideCount + (inside ? 1 : 0);\n\t\t\tclipVolumesCount++;\n\t\t}\n\t#endif\n\n\tbool insideAny = insideCount > 0;\n\tbool insideAll = (clipVolumesCount > 0) && (clipVolumesCount == insideCount);\n\n\tif(clipMethod == CLIPMETHOD_INSIDE_ANY)\n\t{\n\t\tif(insideAny && clipTask == CLIPTASK_HIGHLIGHT)\n\t\t{\n\t\t\tvColor.r += 0.5;\n\t\t}\n\t\telse if(!insideAny && clipTask == CLIPTASK_SHOW_INSIDE)\n\t\t{\n\t\t\tgl_Position = vec4(100.0, 100.0, 100.0, 1.0);\n\t\t}\n\t\telse if(insideAny && clipTask == CLIPTASK_SHOW_OUTSIDE)\n\t\t{\n\t\t\tgl_Position = vec4(100.0, 100.0, 100.0, 1.0);\n\t\t}\n\t}\n\telse if(clipMethod == CLIPMETHOD_INSIDE_ALL)\n\t{\n\t\tif(insideAll && clipTask == CLIPTASK_HIGHLIGHT)\n\t\t{\n\t\t\tvColor.r += 0.5;\n\t\t}\n\t\telse if(!insideAll && clipTask == CLIPTASK_SHOW_INSIDE)\n\t\t{\n\t\t\tgl_Position = vec4(100.0, 100.0, 100.0, 1.0);\n\t\t}\n\t\telse if(insideAll && clipTask == CLIPTASK_SHOW_OUTSIDE)\n\t\t{\n\t\t\tgl_Position = vec4(100.0, 100.0, 100.0, 1.0);\n\t\t}\n\t}\n}\n\nvoid main()\n{\n\tvec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\tvViewPosition = mvPosition.xyz;\n\tgl_Position = projectionMatrix * mvPosition;\n\n\tvLogDepth = log2(-mvPosition.z);\n\n\t//POINT SIZE\n\tfloat pointSize = getPointSize();\n\tgl_PointSize = pointSize;\n\tvPointSize = pointSize;\n\n\t"+n.ShaderChunk.logdepthbuf_vertex+"\n\n\t//COLOR\n\tvColor = getColor();\n\n\t#if defined hq_depth_pass\n\t\tfloat originalDepth = gl_Position.w;\n\t\tfloat adjustedDepth = originalDepth + 2.0 * vRadius;\n\t\tfloat adjust = adjustedDepth / originalDepth;\n\n\t\tmvPosition.xyz = mvPosition.xyz * adjust;\n\t\tgl_Position = projectionMatrix * mvPosition;\n\t#endif\n\n\t//CLIPPING\n\tdoClipping();\n\n\t#if defined num_clipspheres && num_clipspheres > 0\n\t\tfor(int i = 0; i < num_clipspheres; i++)\n\t\t{\n\t\t\tvec4 sphereLocal = uClipSpheres[i] * mvPosition;\n\n\t\t\tfloat distance = length(sphereLocal.xyz);\n\n\t\t\tif(distance < 1.0)\n\t\t\t{\n\t\t\t\tfloat w = distance;\n\t\t\t\tvec3 cGradient = texture2D(gradient, vec2(w, 1.0 - w)).rgb;\n\t\t\t\t\n\t\t\t\tvColor = cGradient;\n\t\t\t}\n\t\t}\n\t#endif\n\n\t#if defined num_shadowmaps && num_shadowmaps > 0\n\n\t\tconst float sm_near = 0.1;\n\t\tconst float sm_far = 10000.0;\n\n\t\tfor(int i = 0; i < num_shadowmaps; i++)\n\t\t{\n\t\t\tvec3 viewPos = (uShadowWorldView[i] * vec4(position, 1.0)).xyz;\n\t\t\tfloat distanceToLight = abs(viewPos.z);\n\t\t\t\n\t\t\tvec4 projPos = uShadowProj[i] * uShadowWorldView[i] * vec4(position, 1);\n\t\t\tvec3 nc = projPos.xyz / projPos.w;\n\t\t\t\n\t\t\tfloat u = nc.x * 0.5 + 0.5;\n\t\t\tfloat v = nc.y * 0.5 + 0.5;\n\n\t\t\tvec2 sampleStep = vec2(1.0 / (2.0*1024.0), 1.0 / (2.0*1024.0)) * 1.5;\n\t\t\tvec2 sampleLocations[9];\n\n\t\t\tsampleLocations[0] = vec2(0.0, 0.0);\n\t\t\tsampleLocations[1] = sampleStep;\n\t\t\tsampleLocations[2] = -sampleStep;\n\t\t\tsampleLocations[3] = vec2(sampleStep.x, -sampleStep.y);\n\t\t\tsampleLocations[4] = vec2(-sampleStep.x, sampleStep.y);\n\t\t\tsampleLocations[5] = vec2(0.0, sampleStep.y);\n\t\t\tsampleLocations[6] = vec2(0.0, -sampleStep.y);\n\t\t\tsampleLocations[7] = vec2(sampleStep.x, 0.0);\n\t\t\tsampleLocations[8] = vec2(-sampleStep.x, 0.0);\n\n\t\t\tfloat visibleSamples = 0.0;\n\t\t\tfloat numSamples = 0.0;\n\n\t\t\tfloat bias = vRadius * 2.0;\n\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t{\n\t\t\t\tvec4 depthMapValue = texture2D(uShadowMap[i], vec2(u, v) + sampleLocations[j]);\n\n\t\t\t\tfloat linearDepthFromSM = depthMapValue.x + bias;\n\t\t\t\tfloat linearDepthFromViewer = distanceToLight;\n\n\t\t\t\tif(linearDepthFromSM > linearDepthFromViewer)\n\t\t\t\t{\n\t\t\t\t\tvisibleSamples += 1.0;\n\t\t\t\t}\n\n\t\t\t\tnumSamples += 1.0;\n\t\t\t}\n\n\t\t\tfloat visibility = visibleSamples / numSamples;\n\n\t\t\tif(u < 0.0 || u > 1.0 || v < 0.0 || v > 1.0 || nc.x < -1.0 || nc.x > 1.0 || nc.y < -1.0 || nc.y > 1.0 || nc.z < -1.0 || nc.z > 1.0)\n\t\t\t{\n\t\t\t\t//vColor = vec3(0.0, 0.0, 0.2);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvColor = vColor * visibility + vColor * uShadowColor * (1.0 - visibility);\n\t\t\t}\n\t\t}\n\n\t#endif\n}",i.fragment="\n\n#if defined USE_LOGDEPTHBUF_EXT || defined paraboloid_point_shape\n\t#extension GL_EXT_frag_depth : enable\n#endif\n\nprecision highp float;\nprecision highp int;\n\n"+n.ShaderChunk.logdepthbuf_pars_fragment+"\n\nuniform mat4 viewMatrix;\nuniform mat4 uViewInv;\nuniform mat4 uProjInv;\nuniform vec3 cameraPosition;\n\nuniform mat4 projectionMatrix;\nuniform float uOpacity;\n\nuniform float blendHardness;\nuniform float blendDepthSupplement;\nuniform float fov;\nuniform float uSpacing;\nuniform float near;\nuniform float far;\nuniform float uPCIndex;\nuniform float uScreenWidth;\nuniform float uScreenHeight;\n\nvarying vec3 vColor;\nvarying float vLogDepth;\nvarying vec3 vViewPosition;\nvarying float vRadius;\nvarying float vPointSize;\nvarying vec3 vPosition;\n\nvoid main()\n{\n\tvec3 color = vColor;\n\tfloat depth = gl_FragCoord.z;\n\n\t#if defined circle_point_shape || defined paraboloid_point_shape\n\t\tfloat u = (2.0 * gl_PointCoord.x) - 1.0;\n\t\tfloat v = (2.0 * gl_PointCoord.y) - 1.0;\n\t#endif\n\t\n\t#if defined circle_point_shape\n\t\tfloat cc = (u*u) + (v*v);\n\t\tif(cc > 1.0)\n\t\t{\n\t\t\tdiscard;\n\t\t}\n\t#endif\n\n\t#if defined color_type_point_index\n\t\tgl_FragColor = vec4(color, uPCIndex / 255.0);\n\t#else\n\t\tgl_FragColor = vec4(color, uOpacity);\n\t#endif\n\n\t#if defined paraboloid_point_shape\n\t\tfloat wi = -( u*u + v*v);\n\t\tvec4 pos = vec4(vViewPosition, 1.0);\n\t\tpos.z += wi * vRadius;\n\t\tfloat linearDepth = -pos.z;\n\t\tpos = projectionMatrix * pos;\n\t\tpos = pos / pos.w;\n\t\tfloat expDepth = pos.z;\n\t\tdepth = (pos.z + 1.0) / 2.0;\n\n\t\tgl_FragDepthEXT = depth;\n\t\t\n\t\t#if defined color_type_depth\n\t\t\tcolor.r = linearDepth;\n\t\t\tcolor.g = expDepth;\n\t\t#endif\n\t#endif\n\t\n\t"+n.ShaderChunk.logdepthbuf_fragment+"\n\n\t#if defined weighted_splats\n\t\tfloat distance = 2.0 * length(gl_PointCoord.xy - 0.5);\n\t\tfloat weight = max(0.0, 1.0 - distance);\n\t\tweight = pow(weight, 1.5);\n\n\t\tgl_FragColor.a = weight;\n\t\tgl_FragColor.xyz = gl_FragColor.xyz * weight;\n\t#endif\n}"},"./source/WebGLBuffer.js":function(e,t,r){"use strict";r.r(t),r.d(t,"WebGLBuffer",(function(){return n}));var n=function e(){_classCallCheck(this,e),this.numElements=0,this.vao=null,this.vbos=new Map}},"./source/WebGLTexture.js":function(e,t,r){"use strict";r.r(t),r.d(t,"WebGLTexture",(function(){return o}));var n=r("three");function i(e,t){var r;if(t===n.RepeatWrapping)return e.REPEAT;if(t===n.ClampToEdgeWrapping)return e.CLAMP_TO_EDGE;if(t===n.MirroredRepeatWrapping)return e.MIRRORED_REPEAT;if(t===n.NearestFilter)return e.NEAREST;if(t===n.NearestMipMapNearestFilter)return e.NEAREST_MIPMAP_NEAREST;if(t===n.NearestMipMapLinearFilter)return e.NEAREST_MIPMAP_LINEAR;if(t===n.LinearFilter)return e.LINEAR;if(t===n.LinearMipMapNearestFilter)return e.LINEAR_MIPMAP_NEAREST;if(t===n.LinearMipMapLinearFilter)return e.LINEAR_MIPMAP_LINEAR;if(t===n.UnsignedByteType)return e.UNSIGNED_BYTE;if(t===n.UnsignedShort4444Type)return e.UNSIGNED_SHORT_4_4_4_4;if(t===n.UnsignedShort5551Type)return e.UNSIGNED_SHORT_5_5_5_1;if(t===n.UnsignedShort565Type)return e.UNSIGNED_SHORT_5_6_5;if(t===n.ByteType)return e.BYTE;if(t===n.ShortType)return e.SHORT;if(t===n.UnsignedShortType)return e.UNSIGNED_SHORT;if(t===n.IntType)return e.INT;if(t===n.UnsignedIntType)return e.UNSIGNED_INT;if(t===n.FloatType)return e.FLOAT;if(t===n.HalfFloatType&&null!==(r=extensions.get("OES_texture_half_float")))return r.HALF_FLOAT_OES;if(t===n.AlphaFormat)return e.ALPHA;if(t===n.RGBFormat)return e.RGB;if(t===n.RGBAFormat)return e.RGBA;if(t===n.LuminanceFormat)return e.LUMINANCE;if(t===n.LuminanceAlphaFormat)return e.LUMINANCE_ALPHA;if(t===n.DepthFormat)return e.DEPTH_COMPONENT;if(t===n.DepthStencilFormat)return e.DEPTH_STENCIL;if(t===n.AddEquation)return e.FUNC_ADD;if(t===n.SubtractEquation)return e.FUNC_SUBTRACT;if(t===n.ReverseSubtractEquation)return e.FUNC_REVERSE_SUBTRACT;if(t===n.ZeroFactor)return e.ZERO;if(t===n.OneFactor)return e.ONE;if(t===n.SrcColorFactor)return e.SRC_COLOR;if(t===n.OneMinusSrcColorFactor)return e.ONE_MINUS_SRC_COLOR;if(t===n.SrcAlphaFactor)return e.SRC_ALPHA;if(t===n.OneMinusSrcAlphaFactor)return e.ONE_MINUS_SRC_ALPHA;if(t===n.DstAlphaFactor)return e.DST_ALPHA;if(t===n.OneMinusDstAlphaFactor)return e.ONE_MINUS_DST_ALPHA;if(t===n.DstColorFactor)return e.DST_COLOR;if(t===n.OneMinusDstColorFactor)return e.ONE_MINUS_DST_COLOR;if(t===n.SrcAlphaSaturateFactor)return e.SRC_ALPHA_SATURATE;if((t===n.RGB_S3TC_DXT1_Format||t===RGBA_S3TC_DXT1_Format||t===n.RGBA_S3TC_DXT3_Format||t===RGBA_S3TC_DXT5_Format)&&null!==(r=extensions.get("WEBGL_compressed_texture_s3tc"))){if(t===n.RGB_S3TC_DXT1_Format)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===n.RGBA_S3TC_DXT1_Format)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===n.RGBA_S3TC_DXT3_Format)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===n.RGBA_S3TC_DXT5_Format)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===n.RGB_PVRTC_4BPPV1_Format||t===n.RGB_PVRTC_2BPPV1_Format||t===n.RGBA_PVRTC_4BPPV1_Format||t===n.RGBA_PVRTC_2BPPV1_Format)&&null!==(r=extensions.get("WEBGL_compressed_texture_pvrtc"))){if(t===n.RGB_PVRTC_4BPPV1_Format)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===n.RGB_PVRTC_2BPPV1_Format)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===n.RGBA_PVRTC_4BPPV1_Format)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===n.RGBA_PVRTC_2BPPV1_Format)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===n.RGB_ETC1_Format&&null!==(r=extensions.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((t===n.MinEquation||t===n.MaxEquation)&&null!==(r=extensions.get("EXT_blend_minmax"))){if(t===n.MinEquation)return r.MIN_EXT;if(t===n.MaxEquation)return r.MAX_EXT}return t===UnsignedInt248Type&&null!==(r=extensions.get("WEBGL_depth_texture"))?r.UNSIGNED_INT_24_8_WEBGL:0}var o=function(){function e(t,r){_classCallCheck(this,e),this.gl=t,this.texture=r,this.id=t.createTexture(),this.target=t.TEXTURE_2D,this.version=-1,this.update(r)}return _createClass(e,[{key:"update",value:function(){if(this.texture.image){var e=this.gl,t=this.texture;if(this.version!==t.version){this.target=e.TEXTURE_2D,e.bindTexture(this.target,this.id);var r,o=i(e,t.format),a=t.image.width,s=t.image.height,c=o,l=i(e,t.type);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,t.unpackAlignment),t instanceof n.DataTexture?(r=t.image.data,e.texParameteri(this.target,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(this.target,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(this.target,e.TEXTURE_MAG_FILTER,i(e,t.magFilter)),e.texParameteri(this.target,e.TEXTURE_MIN_FILTER,i(e,t.minFilter)),e.texImage2D(this.target,0,o,a,s,0,c,l,r)):t instanceof n.CanvasTexture&&(r=t.image,e.texParameteri(this.target,e.TEXTURE_WRAP_S,i(e,t.wrapS)),e.texParameteri(this.target,e.TEXTURE_WRAP_T,i(e,t.wrapT)),e.texParameteri(this.target,e.TEXTURE_MAG_FILTER,i(e,t.magFilter)),e.texParameteri(this.target,e.TEXTURE_MIN_FILTER,i(e,t.minFilter)),e.texImage2D(this.target,0,o,o,l,r)),e.bindTexture(this.target,null),this.version=t.version}}else this.version=this.texture.version}}]),e}()},"./source/lib/BinaryHeap.js":function(e,t,r){"use strict";function n(e){this.content=[],this.scoreFunction=e}r.r(t),r.d(t,"BinaryHeap",(function(){return n})),n.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,r=0;r<t;r++)if(this.content[r]==e){var n=this.content.pop();if(r==t-1)break;this.content[r]=n,this.bubbleUp(r),this.sinkDown(r);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e],r=this.scoreFunction(t);e>0;){var n=Math.floor((e+1)/2)-1,i=this.content[n];if(r>=this.scoreFunction(i))break;this.content[n]=t,this.content[e]=i,e=n}},sinkDown:function(e){for(var t=this.content.length,r=this.content[e],n=this.scoreFunction(r);;){var i=2*(e+1),o=i-1,a=null;if(o<t){var s=this.content[o],c=this.scoreFunction(s);c<n&&(a=o)}if(i<t){var l=this.content[i];this.scoreFunction(l)<(null==a?n:c)&&(a=i)}if(null==a)break;this.content[e]=this.content[a],this.content[a]=r,e=a}}}},"./source/loaders/BinaryLoader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"BinaryLoader",(function(){return c}));var n=r("three"),i=r("./source/PointAttributes.js"),o=r("./source/utils/VersionUtils.js"),a=r("./source/utils/WorkerManager.js"),s=r("./source/Global.js"),c=function(){function e(t,r,n){_classCallCheck(this,e),this.version="string"==typeof t?new o.VersionUtils(t):t,this.boundingBox=r,this.scale=n}return _createClass(e,[{key:"load",value:function(e){if(!e.loaded){var t=e.getURL();this.version.equalOrHigher("1.4")&&(t+=".bin");var r=this,n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.overrideMimeType("text/plain; charset=x-user-defined"),n.onload=function(){try{r.parse(e,n.response)}catch(e){s.Global.numNodesLoading--,console.error("Potree: Exception thrown parsing points.",e)}},n.onerror=function(e){s.Global.numNodesLoading--,console.error("Potree: Failed to load file.",n,t)},n.send(null)}}},{key:"parse",value:function(e,t){var r=e.pcoGeometry.pointAttributes,o=t.byteLength/e.pcoGeometry.pointAttributes.byteSize;this.version.upTo("1.5")&&(e.numPoints=o);var c={buffer:t,pointAttributes:r,version:this.version.version,min:[e.boundingBox.min.x,e.boundingBox.min.y,e.boundingBox.min.z],offset:[e.pcoGeometry.offset.x,e.pcoGeometry.offset.y,e.pcoGeometry.offset.z],scale:this.scale,spacing:e.spacing,hasChildren:e.hasChildren,name:e.name};s.Global.workerPool.runTask(a.WorkerManager.BINARY_DECODER,(function(t){var o=t.data;if(void 0!==o.error)return s.Global.numNodesLoading--,void console.error("Potree: Binary worker error.",o);var a=o.attributeBuffers,c=new n.Box3((new n.Vector3).fromArray(o.tightBoundingBox.min),(new n.Vector3).fromArray(o.tightBoundingBox.max)),l=new n.BufferGeometry;for(var u in a){var d=a[u].buffer;if(parseInt(u)===i.PointAttributeNames.POSITION_CARTESIAN)l.addAttribute("position",new n.BufferAttribute(new Float32Array(d),3));else if(parseInt(u)===i.PointAttributeNames.COLOR_PACKED)l.addAttribute("color",new n.BufferAttribute(new Uint8Array(d),4,!0));else if(parseInt(u)===i.PointAttributeNames.INTENSITY)l.addAttribute("intensity",new n.BufferAttribute(new Float32Array(d),1));else if(parseInt(u)===i.PointAttributeNames.CLASSIFICATION)l.addAttribute("classification",new n.BufferAttribute(new Uint8Array(d),1));else if(parseInt(u)===i.PointAttributeNames.NORMAL_SPHEREMAPPED)l.addAttribute("normal",new n.BufferAttribute(new Float32Array(d),3));else if(parseInt(u)===i.PointAttributeNames.NORMAL_OCT16)l.addAttribute("normal",new n.BufferAttribute(new Float32Array(d),3));else if(parseInt(u)===i.PointAttributeNames.NORMAL)l.addAttribute("normal",new n.BufferAttribute(new Float32Array(d),3));else if(parseInt(u)===i.PointAttributeNames.INDICES)(p=new n.BufferAttribute(new Uint8Array(d),4)).normalized=!0,l.addAttribute("indices",p);else if(parseInt(u)===i.PointAttributeNames.SPACING){var p=new n.BufferAttribute(new Float32Array(d),1);l.addAttribute("spacing",p)}}c.max.sub(c.min),c.min.set(0,0,0);var h=t.data.buffer.byteLength/r.byteSize;e.numPoints=h,e.geometry=l,e.mean=_construct(n.Vector3,_toConsumableArray(o.mean)),e.tightBoundingBox=c,e.loaded=!0,e.loading=!1,e.estimatedSpacing=o.estimatedSpacing,s.Global.numNodesLoading--}),c,[c.buffer])}}]),e}()},"./source/loaders/EptLoader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EptLoader",(function(){return i}));var n=r("./source/pointcloud/geometries/PointCloudEptGeometry.js"),i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"load",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,r){var i,o,a,s,c;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return i=e.sent,e.next=5,i.json();case 5:o=e.sent,a=t.substr(0,t.lastIndexOf("ept.json")),s=new n.PointCloudEptGeometry(a,o),c=new n.PointCloudEptGeometryNode(s),s.root=c,s.root.load(),r(s);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}()},"./source/loaders/GreyhoundBinaryLoader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"GreyhoundBinaryLoader",(function(){return s}));var n=r("./source/PointAttributes.js"),i=r("./source/utils/VersionUtils.js"),o=r("./source/utils/WorkerManager.js"),a=r("./source/Global.js"),s=function(){function e(t,r,n){_classCallCheck(this,e),this.version="string"==typeof t?new i.VersionUtils(t):t,this.boundingBox=r,this.scale=n}return _createClass(e,[{key:"load",value:function(e){if(!e.loaded){var t=this,r=e.getURL(),n=new XMLHttpRequest;n.overrideMimeType("text/plain"),n.open("GET",r,!0),n.responseType="arraybuffer",n.overrideMimeType("text/plain; charset=x-user-defined"),n.onload=function(){try{t.parse(e,n.response)}catch(e){console.error("Potree: Exception thrown parsing points.",e),a.Global.numNodesLoading--}},n.onerror=function(e){a.Global.numNodesLoading--,console.error("Potree: Failed to load file.",n,r)},n.send(null)}}},{key:"parse",value:function(e,t){var r=new DataView(t,t.byteLength-4,4).getUint32(0,!0),i=e.pcoGeometry.pointAttributes;e.numPoints=r;var s=e.boundingBox,c=new THREE.Vector3,l=e.pcoGeometry.boundingBox.getCenter(c).sub(e.boundingBox.min),u={buffer:t,pointAttributes:i,version:this.version.version,schema:e.pcoGeometry.schema,min:[s.min.x,s.min.y,s.min.z],max:[s.max.x,s.max.y,s.max.z],offset:l.toArray(),scale:this.scale,normalize:e.pcoGeometry.normalize};a.Global.workerPool.runTask(o.WorkerManager.GREYHOUND,(function(t){var r=t.data,i=r.attributeBuffers,o=new THREE.Box3((new THREE.Vector3).fromArray(r.tightBoundingBox.min),(new THREE.Vector3).fromArray(r.tightBoundingBox.max)),s=new THREE.BufferGeometry;for(var c in i){var l=i[c].buffer;if(parseInt(c)===n.PointAttributeNames.POSITION_CARTESIAN)s.addAttribute("position",new THREE.BufferAttribute(new Float32Array(l),3));else if(parseInt(c)===n.PointAttributeNames.COLOR_PACKED)s.addAttribute("color",new THREE.BufferAttribute(new Uint8Array(l),4,!0));else if(parseInt(c)===n.PointAttributeNames.INTENSITY)s.addAttribute("intensity",new THREE.BufferAttribute(new Float32Array(l),1));else if(parseInt(c)===n.PointAttributeNames.CLASSIFICATION)s.addAttribute("classification",new THREE.BufferAttribute(new Uint8Array(l),1));else if(parseInt(c)===n.PointAttributeNames.NORMAL_SPHEREMAPPED)s.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(l),3));else if(parseInt(c)===n.PointAttributeNames.NORMAL_OCT16)s.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(l),3));else if(parseInt(c)===n.PointAttributeNames.NORMAL)s.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(l),3));else if(parseInt(c)===n.PointAttributeNames.INDICES)(u=new THREE.BufferAttribute(new Uint8Array(l),4)).normalized=!0,s.addAttribute("indices",u);else if(parseInt(c)===n.PointAttributeNames.SPACING){var u=new THREE.BufferAttribute(new Float32Array(l),1);s.addAttribute("spacing",u)}}o.max.sub(o.min),o.min.set(0,0,0),e.numPoints=r.numPoints,e.geometry=s,e.mean=_construct(THREE.Vector3,_toConsumableArray(r.mean)),e.tightBoundingBox=o,e.loaded=!0,e.loading=!1,a.Global.numNodesLoading--}),u,[u.buffer])}}]),e}()},"./source/loaders/GreyhoundLoader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"GreyhoundLoader",(function(){return c}));var n=r("./source/PointAttributes.js"),i=r("./source/pointcloud/geometries/PointCloudGreyhoundGeometry.js"),o=r("./source/loaders/GreyhoundBinaryLoader.js"),a=r("./source/utils/VersionUtils.js"),s=r("./source/loaders/GreyhoundUtils.js");function c(){}c.loadInfoJSON=function(e,t){},c.load=function(e,t){try{var r=e.split("greyhound://")[1];1===r.split("http://").length&&1===r.split("https://").length&&(r="http://"+r),s.GreyhoundUtils.fetch(r+"info",(function(e,c){if(e)throw new Error(e);var l=JSON.parse(c),u=new a.VersionUtils("1.4"),d=l.bounds,p=l.scale||.01;Array.isArray(p)&&(p=Math.min(p[0],p[1],p[2])),s.GreyhoundUtils.getQueryParam("scale")&&(p=parseFloat(s.GreyhoundUtils.getQueryParam("scale")));var h=Math.max(8,l.baseDepth),f=["POSITION_CARTESIAN"],g=!1,m=!1,y=!1;l.schema.forEach((function(e){"Intensity"===e.name&&f.push("INTENSITY"),"Classification"===e.name&&f.push("CLASSIFICATION"),"Red"===e.name?g=!0:"Green"===e.name?m=!0:"Blue"===e.name&&(y=!0)})),g&&m&&y&&f.push("COLOR_PACKED");var v=new i.PointCloudGreyhoundGeometry;v.serverURL=r,v.spacing=(d[3]-d[0])/Math.pow(2,h),v.baseDepth=h,v.hierarchyStepSize=5,v.schema=s.GreyhoundUtils.createSchema(f);var b=s.GreyhoundUtils.pointSizeFrom(v.schema);v.pointAttributes=new n.PointAttributes(f),v.pointAttributes.byteSize=b;var x=new THREE.Box3((new THREE.Vector3).fromArray(d,0),(new THREE.Vector3).fromArray(d,3)),S=x.min.clone();x.max.sub(x.min),x.min.set(0,0,0),v.projection=l.srs,v.boundingBox=x,v.boundingSphere=x.getBoundingSphere(new THREE.Sphere),v.scale=p,v.offset=S,v.loader=new o.GreyhoundBinaryLoader(u,x,v.scale);var A={},w=new i.PointCloudGreyhoundGeometryNode("r",v,x,p,S);w.level=0,w.hasChildren=!0,w.numPoints=l.numPoints,w.spacing=v.spacing,v.root=w,v.root.load(),A.r=w,v.nodes=A,s.GreyhoundUtils.getNormalization(r,l.baseDepth,(function(e,r){r.color&&(v.normalize.color=!0),r.intensity&&(v.normalize.intensity=!0),t(v)}))}))}catch(r){console.log("Potree: Loading failed.",e,r),t()}},c.loadPointAttributes=function(e){for(var t=e.pointAttributes,r=new n.PointAttributes,i=0;i<t.length;i++){var o=n.PointAttribute[t[i]];r.add(o)}return r},c.createChildAABB=function(e,t){var r=e.min,n=e.max,i=(new THREE.Vector3).copy(n).sub(r).multiplyScalar(.5),o=new THREE.Vector3(i.x,0,0),a=new THREE.Vector3(0,i.y,0),s=new THREE.Vector3(0,0,i.z),c=r,l=(new THREE.Vector3).add(r).add(i);return 1===t?(r=(new THREE.Vector3).copy(c).add(s),n=(new THREE.Vector3).copy(l).add(s)):3===t?(r=(new THREE.Vector3).copy(c).add(s).add(a),n=(new THREE.Vector3).copy(l).add(s).add(a)):0===t?(r=c,n=l):2===t?(r=(new THREE.Vector3).copy(c).add(a),n=(new THREE.Vector3).copy(l).add(a)):5===t?(r=(new THREE.Vector3).copy(c).add(s).add(o),n=(new THREE.Vector3).copy(l).add(s).add(o)):7===t?(r=(new THREE.Vector3).copy(c).add(i),n=(new THREE.Vector3).copy(l).add(i)):4===t?(r=(new THREE.Vector3).copy(c).add(o),n=(new THREE.Vector3).copy(l).add(o)):6===t&&(r=(new THREE.Vector3).copy(c).add(o).add(a),n=(new THREE.Vector3).copy(l).add(o).add(a)),new THREE.Box3(r,n)}},"./source/loaders/GreyhoundUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"GreyhoundUtils",(function(){return n}));var n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getQueryParam",value:function(e){e=e.replace(/[[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(window.location.href);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}},{key:"createSchema",value:function(e){var t=[{name:"X",size:4,type:"signed"},{name:"Y",size:4,type:"signed"},{name:"Z",size:4,type:"signed"}];return e.forEach((function(e){"COLOR_PACKED"===e?(t.push({name:"Red",size:2,type:"unsigned"}),t.push({name:"Green",size:2,type:"unsigned"}),t.push({name:"Blue",size:2,type:"unsigned"})):"INTENSITY"===e?t.push({name:"Intensity",size:2,type:"unsigned"}):"CLASSIFICATION"===e&&t.push({name:"Classification",size:1,type:"unsigned"})})),t}},{key:"fetch",value:function(e,t){var r=new XMLHttpRequest;r.overrideMimeType("text/plain"),r.open("GET",e,!0),r.onreadystatechange=function(){4===r.readyState&&(200===r.status||0===r.status?t(null,r.responseText):t(r.responseText))},r.send(null)}},{key:"fetchBinary",value:function(e,t){var r=new XMLHttpRequest;r.overrideMimeType("text/plain"),r.open("GET",e,!0),r.responseType="arraybuffer",r.onreadystatechange=function(){4===r.readyState&&(200===r.status||0===r.status?t(null,r.response):t(r.responseText))},r.send(null)}},{key:"pointSizeFrom",value:function(e){return e.reduce((function(e,t){return e+t.size}),0)}},{key:"getNormalization",value:function(t,r,n){var i=[{name:"X",size:4,type:"floating"},{name:"Y",size:4,type:"floating"},{name:"Z",size:4,type:"floating"},{name:"Red",size:2,type:"unsigned"},{name:"Green",size:2,type:"unsigned"},{name:"Blue",size:2,type:"unsigned"},{name:"Intensity",size:2,type:"unsigned"}],o=t+"read?depth="+r+"&schema="+JSON.stringify(i);e.fetchBinary(o,(function(t,r){if(t)throw new Error(t);for(var o=new DataView(r),a=r.byteLength-4,s=e.pointSizeFrom(i),c=!1,l=!1,u=0;u<a&&((o.getUint16(u+12,!0)>255||o.getUint16(u+14,!0)>255||o.getUint16(u+16,!0)>255)&&(c=!0),o.getUint16(u+18,!0)>255&&(l=!0),!c||!l);u+=s);n(null,{color:c,intensity:l})}))}}]),e}()},"./source/loaders/LASLAZLoader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"LASLAZLoader",(function(){return c}));var n=r("three"),i=r("./source/utils/VersionUtils.js"),o=r("./source/utils/WorkerManager.js"),a=r("./source/loaders/LASLoader.js"),s=r("./source/Global.js"),c=function(){function e(t){_classCallCheck(this,e),this.version="string"==typeof t?new i.VersionUtils(t):t}return _createClass(e,[{key:"load",value:function(e){if(!e.loaded){var t=e.pcoGeometry.pointAttributes,r=e.getURL();this.version.equalOrHigher("1.4")&&(r+="."+t.toLowerCase());var n=this,i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType="arraybuffer",i.overrideMimeType("text/plain; charset=x-user-defined"),i.onload=function(){if(i.response instanceof ArrayBuffer)try{n.parse(e,i.response)}catch(e){console.error("Potree: Exception thrown parsing points.",e),s.Global.numNodesLoading--}else s.Global.numNodesLoading--,console.log("Potree: LASLAZLoader xhr response is not a ArrayBuffer.")},i.onerror=function(){s.Global.numNodesLoading--,console.log("Potree: LASLAZLoader failed to load file, "+i.status+", file: "+r)},i.send(null)}}},{key:"parse",value:function(e,t){var r=new a.LASFile(t),n=new l(e);r.open().then((function(e){return r.isOpen=!0,r})).catch((function(e){console.log("Potree: Failed to open file.")})).then((function(e){return e.getHeader().then((function(t){return[e,t]}))})).then((function(e){var t=e[0],r=e[1],i=0;return r.pointsCount,function e(){return t.readData(1e6,0,1).then((function(o){return n.push(new a.LASDecoder(o.buffer,r.pointsFormatId,r.pointsStructSize,o.count,r.scale,r.offset,r.mins,r.maxs)),i+=o.count,o.hasMoreData?e():(r.totalRead=i,r.versionAsString=t.versionAsString,r.isCompressed=t.isCompressed,[t,r,n])}))}()})).then((function(e){var t=e[0];return t.close().then((function(){return t.isOpen=!1,e.slice(1)})).catch((function(e){if(t.isOpen)return t.close().then((function(){throw t.isOpen=!1,e}));throw e}))}))}},{key:"handle",value:function(e,t){}}]),e}(),l=function(){function e(t){_classCallCheck(this,e),this.node=t}return _createClass(e,[{key:"push",value:function(e){var t=this,r={buffer:e.arrayb,numPoints:e.pointsCount,pointSize:e.pointSize,pointFormatID:2,scale:e.scale,offset:e.offset,mins:e.mins,maxs:e.maxs},i=s.Global.workerPool.getWorker(o.WorkerManager.LAS_DECODER);i.onmessage=function(r){var a=new n.BufferGeometry,c=e.pointsCount,l=new Float32Array(r.data.position),u=new Uint8Array(r.data.color),d=new Float32Array(r.data.intensity),p=new Uint8Array(r.data.classification),h=new Uint8Array(r.data.returnNumber),f=new Uint8Array(r.data.numberOfReturns),g=new Uint16Array(r.data.pointSourceID),m=new Uint8Array(r.data.indices);a.addAttribute("position",new n.BufferAttribute(l,3)),a.addAttribute("color",new n.BufferAttribute(u,4,!0)),a.addAttribute("intensity",new n.BufferAttribute(d,1)),a.addAttribute("classification",new n.BufferAttribute(p,1)),a.addAttribute("returnNumber",new n.BufferAttribute(h,1)),a.addAttribute("numberOfReturns",new n.BufferAttribute(f,1)),a.addAttribute("pointSourceID",new n.BufferAttribute(g,1)),a.addAttribute("indices",new n.BufferAttribute(m,4)),a.attributes.indices.normalized=!0;var y=new n.Box3((new n.Vector3).fromArray(r.data.tightBoundingBox.min),(new n.Vector3).fromArray(r.data.tightBoundingBox.max));a.boundingBox=t.node.boundingBox,t.node.tightBoundingBox=y,t.node.geometry=a,t.node.numPoints=c,t.node.loaded=!0,t.node.loading=!1,s.Global.numNodesLoading--,t.node.mean=_construct(n.Vector3,_toConsumableArray(r.data.mean)),s.Global.workerPool.returnWorker(o.WorkerManager.LAS_DECODER,i)},i.postMessage(r,[r.buffer])}}]),e}()},"./source/loaders/LASLoader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"LASLoader",(function(){return s})),r.d(t,"LAZLoader",(function(){return c})),r.d(t,"LASFile",(function(){return l})),r.d(t,"LASDecoder",(function(){return u}));var n=r("./source/utils/WorkerManager.js"),i=r("./source/Global.js"),o=[function(e){return{position:[e.getInt32(0,!0),e.getInt32(4,!0),e.getInt32(8,!0)],intensity:e.getUint16(12,!0),classification:e.getUint8(16,!0)}},function(e){return{position:[e.getInt32(0,!0),e.getInt32(4,!0),e.getInt32(8,!0)],intensity:e.getUint16(12,!0),classification:e.getUint8(16,!0)}},function(e){return{position:[e.getInt32(0,!0),e.getInt32(4,!0),e.getInt32(8,!0)],intensity:e.getUint16(12,!0),classification:e.getUint8(16,!0),color:[e.getUint16(20,!0),e.getUint16(22,!0),e.getUint16(24,!0)]}},function(e){return{position:[e.getInt32(0,!0),e.getInt32(4,!0),e.getInt32(8,!0)],intensity:e.getUint16(12,!0),classification:e.getUint8(16,!0),color:[e.getUint16(28,!0),e.getUint16(30,!0),e.getUint16(32,!0)]}}];function a(e,t,r,n){n=void 0===n||0===n?1:n;var i=new t(e.slice(r,r+t.BYTES_PER_ELEMENT*n));if(void 0===n||1===n)return i[0];for(var o=[],a=0;a<n;a++)o.push(i[a]);return o}function s(e){this.arraybuffer=e}function c(e){var t=this;this.arraybuffer=e,this.nextCB=null,this.dorr=function(e,r){t.nextCB=r,i.Global.workerPool.runTask(n.WorkerManager.LAS_LAZ,(function(e){null!==t.nextCB&&(t.nextCB(e.data),t.nextCB=null)}),e)}}function l(e){if(this.arraybuffer=e,this.determineVersion(),this.version>12)throw new Error("Only file versions <= 1.2 are supported at this time");if(this.determineFormat(),void 0===o[this.formatId])throw new Error("The point format ID is not supported");this.loader=this.isCompressed?new c(this.arraybuffer):new s(this.arraybuffer)}function u(e,t,r,n,i,a,s,c){this.arrayb=e,this.decoder=o[t],this.pointsCount=n,this.pointSize=r,this.scale=i,this.offset=a,this.mins=s,this.maxs=c}s.prototype.open=function(){return this.readOffset=0,new Promise((function(e,t){setTimeout(e,0)}))},s.prototype.getHeader=function(){var e=this;return new Promise((function(t,r){setTimeout((function(){e.header=function(e){var t={};t.pointsOffset=a(e,Uint32Array,96),t.pointsFormatId=a(e,Uint8Array,104),t.pointsStructSize=a(e,Uint16Array,105),t.pointsCount=a(e,Uint32Array,107);var r=131;t.scale=a(e,Float64Array,r,3),r+=24,t.offset=a(e,Float64Array,r,3),r+=24;var n=a(e,Float64Array,r,6);return r+=48,t.maxs=[n[0],n[2],n[4]],t.mins=[n[1],n[3],n[5]],t}(e.arraybuffer),t(e.header)}),0)}))},s.prototype.readData=function(e,t,r){var n=this;return new Promise((function(t,i){setTimeout((function(){if(!n.header)return i(new Error("Cannot start reading data till a header request is issued"));var o;if(r<=1){e=Math.min(e,n.header.pointsCount-n.readOffset);var a=(o=n.header.pointsOffset+n.readOffset*n.header.pointsStructSize)+e*n.header.pointsStructSize;t({buffer:n.arraybuffer.slice(o,a),count:e,hasMoreData:n.readOffset+e<n.header.pointsCount}),n.readOffset+=e}else{for(var s=Math.min(e*r,n.header.pointsCount-n.readOffset),c=Math.ceil(s/r),l=0,u=new Uint8Array(c*n.header.pointsStructSize),d=0;d<s;d++){if(d%r==0){o=n.header.pointsOffset+n.readOffset*n.header.pointsStructSize;var p=new Uint8Array(n.arraybuffer,o,n.header.pointsStructSize);u.set(p,l*n.header.pointsStructSize),l++}n.readOffset++}t({buffer:u.buffer,count:l,hasMoreData:n.readOffset<n.header.pointsCount})}}),0)}))},s.prototype.close=function(){var e=this;return new Promise((function(t,r){e.arraybuffer=null,setTimeout(t,0)}))},c.prototype.open=function(){var e=this;return new Promise((function(t,r){e.dorr({type:"open",arraybuffer:e.arraybuffer},(function(e){if(1!==e.status)return r(new Error("Failed to open file"));t(!0)}))}))},c.prototype.getHeader=function(){var e=this;return new Promise((function(t,r){e.dorr({type:"header"},(function(e){if(1!==e.status)return r(new Error("Failed to get header"));t(e.header)}))}))},c.prototype.readData=function(e,t,r){var n=this;return new Promise((function(i,o){n.dorr({type:"read",count:e,offset:t,skip:r},(function(e){if(1!==e.status)return o(new Error("Failed to read data"));i({buffer:e.buffer,count:e.count,hasMoreData:e.hasMoreData})}))}))},c.prototype.close=function(){var e=this;return new Promise((function(t,r){e.dorr({type:"close"},(function(e){if(1!==e.status)return r(new Error("Failed to close file"));t(!0)}))}))},l.prototype.determineFormat=function(){var e=a(this.arraybuffer,Uint8Array,104),t=(128&e)>>7,r=(64&e)>>6;if(1===t&&1===r)throw new Error("Old style compression not supported");this.formatId=63&e,this.isCompressed=1===t||1===r},l.prototype.determineVersion=function(){var e=new Int8Array(this.arraybuffer,24,2);this.version=10*e[0]+e[1],this.versionAsString=e[0]+"."+e[1]},l.prototype.open=function(){return this.loader.open()},l.prototype.getHeader=function(){return this.loader.getHeader()},l.prototype.readData=function(e,t,r){return this.loader.readData(e,t,r)},l.prototype.close=function(){return this.loader.close()},u.prototype.getPoint=function(e){if(e<0||e>=this.pointsCount)throw new Error("Point index out of range");return this.decoder(new DataView(this.arrayb,e*this.pointSize,this.pointSize))}},"./source/loaders/POCLoader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"POCLoader",(function(){return u}));var n=r("three"),i=r("./source/loaders/BinaryLoader.js"),o=r("./source/loaders/LASLAZLoader.js"),a=r("./source/PointAttributes.js"),s=r("./source/pointcloud/geometries/PointCloudOctreeGeometry.js"),c=r("./source/utils/VersionUtils.js"),l=r("./source/Global.js"),u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"load",value:function(t,r){var u=new s.PointCloudOctreeGeometry;u.url=t;var d=new XMLHttpRequest;d.overrideMimeType("text/plain"),d.open("GET",t,!0),d.onload=function(){var l=JSON.parse(d.responseText),p=new c.VersionUtils(l.version);0===l.octreeDir.indexOf("http")?u.octreeDir=l.octreeDir:u.octreeDir=t+"/../"+l.octreeDir,u.spacing=l.spacing,u.hierarchyStepSize=l.hierarchyStepSize,u.pointAttributes=l.pointAttributes;var h=new n.Vector3(l.boundingBox.lx,l.boundingBox.ly,l.boundingBox.lz),f=new n.Vector3(l.boundingBox.ux,l.boundingBox.uy,l.boundingBox.uz),g=(T=new n.Box3(h,f)).clone();l.tightBoundingBox&&(g.min.copy(new n.Vector3(l.tightBoundingBox.lx,l.tightBoundingBox.ly,l.tightBoundingBox.lz)),g.max.copy(new n.Vector3(l.tightBoundingBox.ux,l.tightBoundingBox.uy,l.tightBoundingBox.uz)));var m=h.clone();T.min.sub(m),T.max.sub(m),g.min.sub(m),g.max.sub(m),u.projection=l.projection,u.boundingBox=T,u.tightBoundingBox=g,u.boundingSphere=T.getBoundingSphere(new n.Sphere),u.tightBoundingSphere=g.getBoundingSphere(new n.Sphere),u.offset=m,"LAS"===l.pointAttributes||"LAZ"===l.pointAttributes?u.loader=new o.LASLAZLoader(l.version):(u.loader=new i.BinaryLoader(l.version,T,l.scale),u.pointAttributes=new a.PointAttributes(u.pointAttributes));var y={},v="r",b=new s.PointCloudOctreeGeometryNode(v,u,T);if(b.level=0,b.hasChildren=!0,b.spacing=u.spacing,b.numPoints=p.upTo("1.5")?l.hierarchy[0][1]:0,u.root=b,u.root.load(),y[v]=b,p.upTo("1.4"))for(var x=1;x<l.hierarchy.length;x++){v=l.hierarchy[x][0];var S=l.hierarchy[x][1],A=parseInt(v.charAt(v.length-1)),w=y[v.substring(0,v.length-1)],_=v.length-1,T=e.createChildAABB(w.boundingBox,A),E=new s.PointCloudOctreeGeometryNode(v,u,T);E.level=_,E.numPoints=S,E.spacing=u.spacing/Math.pow(2,_),w.addChild(E),y[v]=E}u.nodes=y,r(u)},d.onerror=function(e){l.Global.numNodesLoading--,console.log("Potree: loading file failed.",t,e),r()},d.send(null)}},{key:"loadPointAttributes",value:function(e){for(var t=e.pointAttributes,r=new a.PointAttributes,n=0;n<t.length;n++)r.add(a.PointAttribute[t[n]]);return r}},{key:"createChildAABB",value:function(e,t){var r=e.min.clone(),i=e.max.clone(),o=(new n.Vector3).subVectors(i,r);return(1&t)>0?r.z+=o.z/2:i.z-=o.z/2,(2&t)>0?r.y+=o.y/2:i.y-=o.y/2,(4&t)>0?r.x+=o.x/2:i.x-=o.x/2,new n.Box3(r,i)}}]),e}()},"./source/loaders/ept/EptBinaryLoader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EptBinaryLoader",(function(){return a}));var n=r("three"),i=r("./source/Global.js"),o=r("./source/utils/WorkerManager.js"),a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"load",value:function(e){var t=this;if(!e.loaded){var r=e.url()+".bin",n=new XMLHttpRequest;n.open("GET",r,!0),n.responseType="arraybuffer",n.overrideMimeType("text/plain; charset=x-user-defined"),n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var i=n.response;t.parse(e,i)}else console.log("Failed "+r+": "+n.status)};try{n.send(null)}catch(e){console.log("Failed request: "+e)}}}},{key:"parse",value:function(e,t){var r=i.Global.workerPool.getWorker(o.WorkerManager.EPT_BINARY_DECODER);r.onmessage=function(t){var a=new n.BufferGeometry,s=t.data.numPoints,c=new Float32Array(t.data.position);a.addAttribute("position",new n.BufferAttribute(c,3));var l=new Uint8Array(t.data.indices);if(a.addAttribute("indices",new n.BufferAttribute(l,4)),t.data.color){var u=new Uint8Array(t.data.color);a.addAttribute("color",new n.BufferAttribute(u,4,!0))}if(t.data.intensity){var d=new Float32Array(t.data.intensity);a.addAttribute("intensity",new n.BufferAttribute(d,1))}if(t.data.classification){var p=new Uint8Array(t.data.classification);a.addAttribute("classification",new n.BufferAttribute(p,1))}if(t.data.returnNumber){var h=new Uint8Array(t.data.returnNumber);a.addAttribute("returnNumber",new n.BufferAttribute(h,1))}if(t.data.numberOfReturns){var f=new Uint8Array(t.data.numberOfReturns);a.addAttribute("numberOfReturns",new n.BufferAttribute(f,1))}if(t.data.pointSourceId){var g=new Uint16Array(t.data.pointSourceId);a.addAttribute("pointSourceID",new n.BufferAttribute(g,1))}a.attributes.indices.normalized=!0;var m=new n.Box3((new n.Vector3).fromArray(t.data.tightBoundingBox.min),(new n.Vector3).fromArray(t.data.tightBoundingBox.max));e.doneLoading(a,m,s,_construct(n.Vector3,_toConsumableArray(t.data.mean))),i.Global.workerPool.returnWorker(o.WorkerManager.EPT_BINARY_DECODER,r)};var a,s={buffer:t,schema:e.ept.schema,scale:e.ept.eptScale,offset:e.ept.eptOffset,mins:(a=e.key.b.min,[a.x,a.y,a.z])};r.postMessage(s,[s.buffer])}}]),e}()},"./source/loaders/ept/EptLaszipLoader.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EptLaszipLoader",(function(){return s})),r.d(t,"EptLazBatcher",(function(){return c}));var n=r("three"),i=r("./source/Global.js"),o=r("./source/loaders/LASLoader.js"),a=r("./source/utils/WorkerManager.js"),s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"load",value:function(e){var t=this;if(!e.loaded){var r=e.url()+".laz",n=new XMLHttpRequest;n.open("GET",r,!0),n.responseType="arraybuffer",n.overrideMimeType("text/plain; charset=x-user-defined"),n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var i=n.response;t.parse(e,i)}else console.log("Failed "+r+": "+n.status)},n.send(null)}}},{key:"parse",value:function(e,t){var r=new o.LASFile(t),n=new c(e);r.open().then((function(){return r.isOpen=!0,r.getHeader()})).then((function(t){var i=0,a=(t.pointsCount,function(e){return[e.x,e.y,e.z]}),s=a(e.key.b.min),c=a(e.key.b.max);return function e(){return r.readData(1e6,0,1).then((function(a){var l=new o.LASDecoder(a.buffer,t.pointsFormatId,t.pointsStructSize,a.count,t.scale,t.offset,s,c);return l.extraBytes=t.extraBytes,l.pointsFormatId=t.pointsFormatId,n.push(l),i+=a.count,a.hasMoreData?e():(t.totalRead=i,t.versionAsString=r.versionAsString,t.isCompressed=r.isCompressed,null)}))}()})).then((function(){return r.close()})).then((function(){return r.isOpen=!1})).catch((function(e){if(console.log("Error reading LAZ:",e),!r.isOpen)throw e;r.close().then((function(){throw r.isOpen=!1,e}))}))}}]),e}(),c=function(){function e(t){_classCallCheck(this,e),this.node=t}return _createClass(e,[{key:"push",value:function(e){var t=this,r=i.Global.workerPool.getWorker(a.WorkerManager.EPT_LAS_ZIP_DECODER);r.onmessage=function(o){var s=new n.BufferGeometry,c=e.pointsCount,l=new Float32Array(o.data.position),u=new Uint8Array(o.data.color),d=new Float32Array(o.data.intensity),p=new Uint8Array(o.data.classification),h=new Uint8Array(o.data.returnNumber),f=new Uint8Array(o.data.numberOfReturns),g=new Uint16Array(o.data.pointSourceID),m=new Uint8Array(o.data.indices);s.addAttribute("position",new n.BufferAttribute(l,3)),s.addAttribute("color",new n.BufferAttribute(u,4,!0)),s.addAttribute("intensity",new n.BufferAttribute(d,1)),s.addAttribute("classification",new n.BufferAttribute(p,1)),s.addAttribute("returnNumber",new n.BufferAttribute(h,1)),s.addAttribute("numberOfReturns",new n.BufferAttribute(f,1)),s.addAttribute("pointSourceID",new n.BufferAttribute(g,1)),s.addAttribute("indices",new n.BufferAttribute(m,4)),s.attributes.indices.normalized=!0;var y=new n.Box3((new n.Vector3).fromArray(o.data.tightBoundingBox.min),(new n.Vector3).fromArray(o.data.tightBoundingBox.max));t.node.doneLoading(s,y,c,_construct(n.Vector3,_toConsumableArray(o.data.mean))),i.Global.workerPool.returnWorker(a.WorkerManager.EPT_LAS_ZIP_DECODER,r)};var o={buffer:e.arrayb,numPoints:e.pointsCount,pointSize:e.pointSize,pointFormatID:e.pointsFormatId,scale:e.scale,offset:e.offset,mins:e.mins,maxs:e.maxs};r.postMessage(o,[o.buffer])}}]),e}()},"./source/objects/BasicGroup.js":function(e,t,r){"use strict";r.r(t),r.d(t,"BasicGroup",(function(){return s}));var n=r("three"),i=r("./source/utils/HelperUtils.js"),o=r("./source/Potree.js"),a=r("./source/pointcloud/PointCloudTree.js"),s=function(e){_inherits(r,e);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this,new n.Geometry,new n.MeshBasicMaterial({opacity:0,wireframe:!1,transparent:!0}))).rotation.set(-Math.PI/2,0,0),e.frustumCulled=!0,e.pointclouds=[],e.nodeSize=30,e.pointBudget=1e10,e.nodeLoadRate=2,e}return _createClass(r,[{key:"raycast",value:function(e,t){}},{key:"setPointBudget",value:function(e){this.pointBudget=e}},{key:"onBeforeRender",value:function(e,t,r,n,i,a){for(var s=0;s<this.pointclouds.length;s++)this.pointclouds[s].minimumNodePixelSize=this.nodeSize;Object(o.updatePointClouds)(this.pointclouds,r,e)}},{key:"recalculateBoxGeometry",value:function(){var e=this.getBoundingBox(),t=e.getSize(new n.Vector3),r=e.getCenter(new n.Vector3),i=new n.Matrix4;i.makeTranslation(r.x,-r.z,r.y);var o=new n.BoxBufferGeometry(t.x,t.z,t.y);o.applyMatrix(i),this.geometry=o}},{key:"add",value:function(e){n.Object3D.prototype.add.call(this,e),e instanceof a.PointCloudTree&&(e.showBoundingBox=!1,e.generateDEM=!1,this.pointclouds.push(e),this.recalculateBoxGeometry())}},{key:"remove",value:function(e){if(n.Object3D.prototype.remove.call(this,e),e instanceof a.PointCloudTree){var t=this.pointclouds.indexOf(e);-1!==t&&(this.pointclouds.splice(t,1),this.recalculateBoxGeometry())}}},{key:"getBoundingBox",value:function(){var e=new n.Box3;this.updateMatrixWorld(!0);for(var t=0;t<this.pointclouds.length;t++){var r=this.pointclouds[t];r.updateMatrixWorld(!0);var o=r.pcoGeometry.tightBoundingBox?r.pcoGeometry.tightBoundingBox:r.boundingBox,a=i.HelperUtils.computeTransformedBoundingBox(o,r.matrixWorld);e.union(a)}return e}},{key:"estimateHeightAt",value:function(e){var t,r=null,i=1/0,o=_createForOfIteratorHelper(this.pointclouds);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(void 0!==a.root.geometryNode){var s=null,c=1/0,l=e.clone().sub(a.position);l.z=0;for(var u=new n.Ray(l,new n.Vector3(0,0,1)),d=[a.root];d.length>0;){var p=d.pop(),h=p.getBoundingBox();if(u.intersectBox(h))for(var f=p.geometryNode.mean.z+a.position.z+p.geometryNode.boundingBox.min.z,g=0,m=(p.geometryNode.spacing<=c&&(s=f,c=p.geometryNode.spacing),Object.keys(p.children));g<m.length;g++){var y=m[g];p.children[y].geometryNode&&d.push(p.children[y])}}(null===r||c<i)&&(r=s,i=c)}}}catch(v){o.e(v)}finally{o.f()}return r}}]),r}(n.Mesh)},"./source/objects/Group.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Group",(function(){return h}));var n=r("three"),i=r("./source/WebGLBuffer.js"),o=r("./source/objects/BasicGroup.js"),a=r("./source/pointcloud/PointCloudTree.js"),s=r("./source/pointcloud/PointCloudOctree.js"),c=r("./source/pointcloud/PointCloudArena4D.js"),l=r("./source/Potree.js"),u=r("./source/Global.js"),d=r("./source/Shader.js"),p=r("./source/WebGLTexture.js"),h=function(e){_inherits(r,e);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).buffers=new Map,e.shaders=new Map,e.textures=new Map,e.types=new Map,e}return _createClass(r,[{key:"getExtensions",value:function(e){this.types.set(Float32Array,e.FLOAT),this.types.set(Uint8Array,e.UNSIGNED_BYTE),this.types.set(Uint16Array,e.UNSIGNED_SHORT);var t=e.getExtension("OES_vertex_array_object");e.createVertexArray=t.createVertexArrayOES.bind(t),e.bindVertexArray=t.bindVertexArrayOES.bind(t)}},{key:"onBeforeRender",value:function(e,t,n,i,o,a){_get(_getPrototypeOf(r.prototype),"onBeforeRender",this).call(this,e,t,n,i,o,a);var s=e.getContext();void 0===s.bindVertexArray&&this.getExtensions(s);var c,l=this.fetchOctrees(),u=_createForOfIteratorHelper(l.octrees);try{for(u.s();!(c=u.n()).done;){var d=c.value,p=d.visibleNodes;this.renderOctree(e,d,p,n)}}catch(h){u.e(h)}finally{u.f()}s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,null),e.state.reset()}},{key:"createBuffer",value:function(e,t){var r=new i.WebGLBuffer;for(var n in r.vao=e.createVertexArray(),r.numElements=t.attributes.position.count,e.bindVertexArray(r.vao),t.attributes){var o=t.attributes[n],a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,o.array,e.STATIC_DRAW);var s=l.AttributeLocations[n],c=o.normalized,u=this.types.get(o.array.constructor);void 0!==u&&(e.vertexAttribPointer(s,o.itemSize,u,c,0,0),e.enableVertexAttribArray(s)),r.vbos.set(n,{handle:a,name:n,count:o.count,itemSize:o.itemSize,type:t.attributes.position.array.constructor,version:0})}return e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null),r}},{key:"updateBuffer",value:function(e,t){var r=this.buffers.get(t);for(var n in e.bindVertexArray(r.vao),t.attributes){var i=t.attributes[n],o=l.AttributeLocations[n],a=i.normalized,s=this.types.get(i.array.constructor),c=null;r.vbos.has(n)?(c=r.vbos.get(n).handle,r.vbos.get(n).version=i.version):(c=e.createBuffer(),r.vbos.set(n,{handle:c,name:n,count:i.count,itemSize:i.itemSize,type:t.attributes.position.array.constructor,version:i.version})),e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,i.array,e.STATIC_DRAW),e.vertexAttribPointer(o,i.itemSize,s,a,0,0),e.enableVertexAttribArray(o)}e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null)}},{key:"fetchOctrees",value:function(){for(var e=[],t=[this];t.length>0;){var r=t.pop();if(r instanceof a.PointCloudTree)e.push(r);else{var n=r.children.filter((function(e){return e.visible}));t.push.apply(t,_toConsumableArray(n))}}return{octrees:e}}},{key:"renderNodes",value:function(e,t,r,i,o,a){var l,d=e.getContext(),p=t.material,h=o.matrixWorldInverse,f=new n.Matrix4,g=new Float32Array(16),m=_createForOfIteratorHelper(r);try{for(m.s();!(l=m.n()).done;){var y=l.value;if(void 0===u.Global.debug.allowedNodes||u.Global.debug.allowedNodes.includes(y.name)){var v=y.sceneNode.matrixWorld;if(f.multiplyMatrices(h,v),i){var b=i.offsets.get(y);a.setUniform1f("uVNStart",b)}var x,S=y.getLevel();a.setUniform("uDebug",!0===y.debug),y instanceof s.PointCloudOctreeNode?x=0===Object.keys(y.children).length:y instanceof c.PointCloudArena4DNode&&(x=y.geometryNode.isLeaf),a.setUniform("uIsLeafNode",x);var A=a.uniformLocations.modelMatrix;A&&(g.set(v.elements),d.uniformMatrix4fv(A,!1,g));var w=a.uniformLocations.modelViewMatrix;if(g.set(f.elements),d.uniformMatrix4fv(w,!1,g),p.clipPolygons&&p.clipPolygons.length>0){var _,T=[],E=[],B=_createForOfIteratorHelper(p.clipPolygons);try{for(B.s();!(_=B.n()).done;){var R=_.value;h=R.viewMatrix;var M=R.projMatrix.clone().multiply(h).multiply(v);T.push(R.markers.length),E.push(M)}}catch(z){B.e(z)}finally{B.f()}for(var C=(F=[]).concat.apply(F,_toConsumableArray(E.map((function(e){return e.elements})))),O=new Array(24*p.clipPolygons.length),I=0;I<p.clipPolygons.length;I++){var F;R=p.clipPolygons[I];for(var N=0;N<R.markers.length;N++)O[24*I+(3*N+0)]=R.markers[N].position.x,O[24*I+(3*N+1)]=R.markers[N].position.y,O[24*I+(3*N+2)]=R.markers[N].position.z}var L=a.uniformLocations["uClipPolygonVCount[0]"];d.uniform1iv(L,T);var P=a.uniformLocations["uClipPolygonWVP[0]"];d.uniformMatrix4fv(P,!1,C);var D=a.uniformLocations["uClipPolygonVertices[0]"];d.uniform3fv(D,O)}a.setUniform1f("uLevel",S),a.setUniform1f("uNodeSpacing",y.geometryNode.estimatedSpacing),a.setUniform1f("uPCIndex",I);var U=y.geometryNode.geometry,G=null;if(this.buffers.has(U))for(var j in G=this.buffers.get(U),U.attributes)U.attributes[j].version>G.vbos.get(j).version&&this.updateBuffer(d,U);else G=this.createBuffer(d,U),this.buffers.set(U,G);d.bindVertexArray(G.vao),d.drawArrays(d.POINTS,0,G.numElements)}}}catch(z){m.e(z)}finally{m.f()}d.bindVertexArray(null)}},{key:"renderOctree",value:function(e,t,r,i){var o=e.getContext(),a=t.material,s=i.matrixWorldInverse,c=i.matrixWorld,u=i.projectionMatrix,h=(new n.Matrix4).getInverse(u),f=(new n.Matrix4,null),g=0;if(a.pointSizeType===l.PointSizeType.ADAPTIVE||a.pointColorType===l.PointColorType.LOD){f=t.computeVisibilityTextureData(r,i);var m=a.visibleNodesTexture;m.image.data.set(f.data),m.needsUpdate=!0}var y=null;this.shaders.has(a)?y=this.shaders.get(a):(y=new d.Shader(o,"pointcloud",a.vertexShader,a.fragmentShader),this.shaders.set(a,y));for(var v=a.snapEnabled?a.numSnapshots:0,b=a.clipBoxes&&a.clipBoxes.length?a.clipBoxes.length:0,x=a.clipPolygons&&a.clipPolygons.length?a.clipPolygons.length:0,S=["#define num_shadowmaps"+[].length,"#define num_snapshots"+v,"#define num_clipboxes"+b,"#define num_clipspheres0","#define num_clippolygons"+x].join("\n"),A=S+"\n"+a.vertexShader,w=S+"\n"+a.fragmentShader,_=0,T=(y.update(A,w),a.needsUpdate=!1,Object.keys(a.uniforms));_<T.length;_++){var E=T[_],B=a.uniforms[E];if("t"==B.type){if(!(H=B.value))continue;if(!this.textures.has(H)){var R=new p.WebGLTexture(o,H);this.textures.set(H,R)}this.textures.get(H).update()}}o.useProgram(y.program),a.opacity<1?(o.enable(o.BLEND),o.blendFunc(o.SRC_ALPHA,o.ONE),o.depthMask(!1),o.disable(o.DEPTH_TEST)):(o.disable(o.BLEND),o.depthMask(!0),o.enable(o.DEPTH_TEST)),y.setUniformMatrix4("projectionMatrix",u),y.setUniformMatrix4("viewMatrix",s),y.setUniformMatrix4("uViewInv",c),y.setUniformMatrix4("uProjInv",h);var M=a.screenWidth,C=a.screenHeight;if(y.setUniform1f("uScreenWidth",M),y.setUniform1f("uScreenHeight",C),y.setUniform1f("fov",Math.PI*i.fov/180),y.setUniform1f("near",i.near),y.setUniform1f("far",i.far),e.capabilities.logarithmicDepthBuffer&&y.setUniform("logDepthBufFC",2/(Math.log(i.far+1)/Math.LN2)),i instanceof n.OrthographicCamera?(y.setUniform("uUseOrthographicCamera",!0),y.setUniform("uOrthoWidth",i.right-i.left),y.setUniform("uOrthoHeight",i.top-i.bottom)):y.setUniform("uUseOrthographicCamera",!1),a.clipBoxes.length+a.clipPolygons.length===0?y.setUniform1i("clipTask",l.ClipTask.NONE):y.setUniform1i("clipTask",a.clipTask),y.setUniform1i("clipMethod",a.clipMethod),a.clipBoxes&&a.clipBoxes.length>0){var O=y.uniformLocations["clipBoxes[0]"];o.uniformMatrix4fv(O,!1,a.uniforms.clipBoxes.value)}y.setUniform1f("size",a.size),y.setUniform1f("maxSize",a.uniforms.maxSize.value),y.setUniform1f("minSize",a.uniforms.minSize.value),y.setUniform1f("uOctreeSpacing",a.spacing),y.setUniform("uOctreeSize",a.uniforms.octreeSize.value),y.setUniform3f("uColor",a.color.toArray()),y.setUniform1f("uOpacity",a.opacity),y.setUniform2f("elevationRange",a.elevationRange),y.setUniform2f("intensityRange",a.intensityRange),y.setUniform1f("intensityGamma",a.intensityGamma),y.setUniform1f("intensityContrast",a.intensityContrast),y.setUniform1f("intensityBrightness",a.intensityBrightness),y.setUniform1f("rgbGamma",a.rgbGamma),y.setUniform1f("rgbContrast",a.rgbContrast),y.setUniform1f("rgbBrightness",a.rgbBrightness),y.setUniform1f("uTransition",a.transition),y.setUniform1f("wRGB",a.weightRGB),y.setUniform1f("wIntensity",a.weightIntensity),y.setUniform1f("wElevation",a.weightElevation),y.setUniform1f("wClassification",a.weightClassification),y.setUniform1f("wReturnNumber",a.weightReturnNumber),y.setUniform1f("wSourceID",a.weightSourceID);var I=this.textures.get(a.visibleNodesTexture);y.setUniform1i("visibleNodesTexture",g),o.activeTexture(o.TEXTURE0+g),o.bindTexture(I.target,I.id),g++;var F=this.textures.get(a.gradientTexture);y.setUniform1i("gradient",g),o.activeTexture(o.TEXTURE0+g),o.bindTexture(F.target,F.id),g++;var N=this.textures.get(a.classificationTexture);if(y.setUniform1i("classificationLUT",g),o.activeTexture(o.TEXTURE0+g),o.bindTexture(N.target,N.id),g++,!0===a.snapEnabled){var L,P,D,U,G=y.uniformLocations["uSnapshot[0]"],j=y.uniformLocations["uSnapshotDepth[0]"],z=g,k=new Array(5).fill(z).map((function(e,t){return e+t})),V=new Array(5).fill(1+Math.max.apply(Math,_toConsumableArray(k))).map((function(e,t){return e+t}));g=1+Math.max.apply(Math,_toConsumableArray(V)),o.uniform1iv(G,k),o.uniform1iv(j,V);for(var W=0;W<5;W++){var H=a.uniforms.uSnapshot.value[W],X=a.uniforms.uSnapshotDepth.value[W];if(!H)break;var Q=e.properties.get(H).__webglTexture,Z=e.properties.get(X).__webglTexture,Y=k[W],J=V[W];o.activeTexture(o["TEXTURE"+Y]),o.bindTexture(o.TEXTURE_2D,Q),o.activeTexture(o["TEXTURE"+J]),o.bindTexture(o.TEXTURE_2D,Z)}var q=(L=[]).concat.apply(L,_toConsumableArray(a.uniforms.uSnapView.value.map((function(e){return e.elements})))),K=y.uniformLocations["uSnapView[0]"];o.uniformMatrix4fv(K,!1,q),q=(P=[]).concat.apply(P,_toConsumableArray(a.uniforms.uSnapProj.value.map((function(e){return e.elements}))));var $=y.uniformLocations["uSnapProj[0]"];o.uniformMatrix4fv($,!1,q),q=(D=[]).concat.apply(D,_toConsumableArray(a.uniforms.uSnapProjInv.value.map((function(e){return e.elements}))));var ee=y.uniformLocations["uSnapProjInv[0]"];o.uniformMatrix4fv(ee,!1,q),q=(U=[]).concat.apply(U,_toConsumableArray(a.uniforms.uSnapViewInv.value.map((function(e){return e.elements}))));var te=y.uniformLocations["uSnapViewInv[0]"];o.uniformMatrix4fv(te,!1,q)}this.renderNodes(e,t,r,f,i,y),o.activeTexture(o.TEXTURE2),o.bindTexture(o.TEXTURE_2D,null),o.activeTexture(o.TEXTURE0)}}]),r}(o.BasicGroup)},"./source/pointcloud/DEM.js":function(e,t,r){"use strict";r.r(t),r.d(t,"DEM",(function(){return s}));var n=r("three"),i=r("./source/utils/WorkerManager.js"),o=r("./source/Global.js"),a=r("./source/pointcloud/DEMNode.js"),s=function(){function e(t){_classCallCheck(this,e),this.pointcloud=t,this.matrix=null,this.boundingBox=null,this.tileSize=64,this.root=null,this.version=0}return _createClass(e,[{key:"expandAndFindByBox",value:function(e,t){if(0===t)return[this.root];for(var r=[],i=[this.root];i.length>0;)for(var o=i.pop(),s=o.box.getSize(new n.Vector3),c={x:(e.min.x-o.box.min.x)/s.x,y:(e.min.y-o.box.min.y)/s.y},l={x:(e.max.x-o.box.max.x)/s.x,y:(e.max.y-o.box.max.y)/s.y},u=0,d=(c.x=c.x<.5?0:1,c.y=c.y<.5?0:1,l.x=l.x<.5?0:1,l.y=l.y<.5?0:1,0===c.x&&0===c.y&&1===l.x&&1===l.y?[0,1,2,3]:c.x===l.x&&c.y===l.y?[c.x<<1|c.y]:[c.x<<1|c.y,l.x<<1|l.y]);u<d.length;u++){var p=d[u];if(void 0===o.children[p]){var h=o.box.clone();(2&p)>0?h.min.x+=s.x/2:h.max.x-=s.x/2,(1&p)>0?h.min.y+=s.y/2:h.max.y-=s.y/2;var f=new a.DEMNode(o.name+p,h,this.tileSize);o.children[p]=f}(f=o.children[p]).level<t?i.push(f):r.push(f)}return r}},{key:"childIndex",value:function(e){var t=e.map((function(e){return e<.5?0:1})),r=_slicedToArray(t,2);return r[0]<<1|r[1]}},{key:"height",value:function(e){if(!this.root)return 0;for(var t=null,r=[this.root];;){var n=r[r.length-1],i=n.height(e);null!==i&&(t=i);var o=n.uv(e),a=this.childIndex(o);if(!n.children[a])break;r.push(n.children[a])}return t+this.pointcloud.position.z}},{key:"update",value:function(e){null!==this.matrix&&this.matrix.equals(this.pointcloud.matrixWorld)||(this.matrix=this.pointcloud.matrixWorld.clone(),this.boundingBox=this.pointcloud.boundingBox.clone().applyMatrix4(this.matrix),this.root=new a.DEMNode("r",this.boundingBox,this.tileSize),this.version++);var t,r=null,s=_createForOfIteratorHelper(e);try{for(s.s();!(t=s.n()).done;){var c=t.value;if(void 0===c.demVersion||c.demVersion<this.version){r=c;break}}}catch(m){s.e(m)}finally{s.f()}if(null!==r){var l=r.getBoundingBox().clone().applyMatrix4(this.matrix),u=l.getSize(new n.Vector3),d=this.expandAndFindByBox(l,r.getLevel());r.demVersion=this.version;var p=r.geometryNode.geometry.attributes.position.array,h={boundingBox:{min:r.getBoundingBox().min.toArray(),max:r.getBoundingBox().max.toArray()},position:new Float32Array(p).buffer},f=[h.position],g=this;o.Global.workerPool.runTask(i.WorkerManager.DEM,(function(e){var t,r=new Float32Array(e.data.dem.data),i=_createForOfIteratorHelper(d);try{for(i.s();!(t=i.n()).done;){for(var o=t.value,a=o.box.getSize(new n.Vector3),s=0;s<g.tileSize;s++)for(var c=0;c<g.tileSize;c++){var p=s/(g.tileSize-1),h=c/(g.tileSize-1),f=o.box.min.x+p*a.x,y=o.box.min.y+h*a.y,v=g.tileSize*(f-l.min.x)/u.x,b=g.tileSize*(y-l.min.y)/u.y;v<0||v>g.tileSize||b<0||b>g.tileSize||(v=Math.min(Math.floor(v),g.tileSize-1),b=Math.min(Math.floor(b),g.tileSize-1),o.data[s+g.tileSize*c]=r[v+g.tileSize*b])}o.createMipMap(),o.mipMapNeedsUpdate=!0}}catch(m){i.e(m)}finally{i.f()}}),h,f)}}}]),e}()},"./source/pointcloud/DEMNode.js":function(e,t,r){"use strict";r.r(t),r.d(t,"DEMNode",(function(){return i}));var n=r("three"),i=function(){function e(t,r,n){_classCallCheck(this,e),this.name=t,this.box=r,this.tileSize=n,this.level=this.name.length-1,this.data=new Float32Array(n*n),this.data.fill(-1/0),this.children=[],this.mipMap=[this.data],this.mipMapNeedsUpdate=!0}return _createClass(e,[{key:"createMipMap",value:function(){this.mipMap=[this.data];for(var e=this.tileSize,t=parseInt(e/2),r=this.data;t>1;){for(var n=new Float32Array(t*t),i=0;i<t;i++)for(var o=0;o<t;o++){var a=r[2*i+0+2*o*e],s=r[2*i+0+2*o*e+e],c=r[2*i+1+2*o*e],l=r[2*i+1+2*o*e+e],u=0,d=0;isFinite(a)&&(u+=a,d+=1),isFinite(s)&&(u+=s,d+=1),isFinite(c)&&(u+=c,d+=1),isFinite(l)&&(u+=l,d+=1),u/=d,n[i+o*t]=u}this.mipMap.push(n),r=n,e=t,t=parseInt(t/2)}this.mipMapNeedsUpdate=!1}},{key:"uv",value:function(e){var t=this.box.getSize(new n.Vector3);return[(e.x-this.box.min.x)/t.x,(e.y-this.box.min.y)/t.y]}},{key:"heightAtMipMapLevel",value:function(e,t){var r=this.uv(e),n=parseInt(this.tileSize/parseInt(Math.pow(2,t))),i=this.mipMap[t],o=Math.min(r[0]*n,n-1),a=Math.min(r[1]*n,n-1),s=o%1,c=a%1,l=[Math.floor(o),Math.ceil(o)],u=l[0],d=l[1],p=[Math.floor(a),Math.ceil(a)],h=p[0],f=p[1],g=i[u+n*h],m=i[u+n*f],y=i[d+n*h],v=i[d+n*f],b=isFinite(g)?(1-s)*(1-c):0,x=isFinite(m)?(1-s)*c:0,S=isFinite(y)?s*(1-c):0,A=isFinite(v)?s*c:0,w=b+x+S+A;if(b/=w,x/=w,S/=w,A/=w,0===w)return null;var _=0;return isFinite(g)&&(_+=g*b),isFinite(m)&&(_+=m*x),isFinite(y)&&(_+=y*S),isFinite(v)&&(_+=v*A),_}},{key:"height",value:function(e){for(var t=null,r=0;r<this.mipMap.length;r++)if(null!==(t=this.heightAtMipMapLevel(e,r)))return t;return t}},{key:"traverse",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=_createForOfIteratorHelper((e(this,r),this.children.filter((function(e){return void 0!==e}))));try{for(n.s();!(t=n.n()).done;){var i=t.value;i.traverse(e,r+1)}}catch(o){n.e(o)}finally{n.f()}}}]),e}()},"./source/pointcloud/PointCloudArena4D.js":function(e,t,r){"use strict";r.r(t),r.d(t,"PointCloudArena4D",(function(){return u})),r.d(t,"PointCloudArena4DNode",(function(){return l}));var n=r("three"),i=r("./source/utils/HelperUtils.js"),o=r("./source/pointcloud/PointCloudTree.js"),a=r("./source/Potree.js"),s=r("./source/Global.js"),c=r("./source/pointcloud/materials/PointCloudMaterial.js"),l=function(e){_inherits(r,e);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).left=null,e.right=null,e.sceneNode=null,e.kdtree=null,e}return _createClass(r,[{key:"getNumPoints",value:function(){return this.geometryNode.numPoints}},{key:"isLoaded",value:function(){return!0}},{key:"isTreeNode",value:function(){return!0}},{key:"isGeometryNode",value:function(){return!1}},{key:"getLevel",value:function(){return this.geometryNode.level}},{key:"getBoundingSphere",value:function(){return this.geometryNode.boundingSphere}},{key:"getBoundingBox",value:function(){return this.geometryNode.boundingBox}},{key:"toTreeNode",value:function(e){var t=null;if(this.left===e?t=this.left:this.right===e&&(t=this.right),t.loaded){var i=new r,o=n.PointCloud(t.geometry,this.kdtree.material);o.visible=!1,i.kdtree=this.kdtree,i.geometryNode=t,i.sceneNode=o,i.parent=this,i.left=this.geometryNode.left,i.right=this.geometryNode.right}}},{key:"getChildren",value:function(){var e=[];return this.left&&e.push(this.left),this.right&&e.push(this.right),e}}]),r}(o.PointCloudTreeNode),u=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var i;return _classCallCheck(this,r),(i=t.call(this)).root=null,e.root?i.root=e.root:e.addEventListener("hierarchy_loaded",(function(){i.root=e.root})),i.visiblePointsTarget=2e6,i.minimumNodePixelSize=150,i.position.sub(e.offset),i.updateMatrix(),i.numVisibleNodes=0,i.numVisiblePoints=0,i.boundingBoxNodes=[],i.loadQueue=[],i.visibleNodes=[],i.pcoGeometry=e,i.boundingBox=i.pcoGeometry.boundingBox,i.boundingSphere=i.pcoGeometry.boundingSphere,i.material=new c.PointCloudMaterial({vertexColors:n.VertexColors,size:.05,treeType:a.TreeType.KDTREE}),i.material.sizeType=a.PointSizeType.ATTENUATED,i.material.size=.05,i.profileRequests=[],i.name="",i}return _createClass(r,[{key:"getBoundingBoxWorld",value:function(){this.updateMatrixWorld(!0);var e=this.boundingBox,t=this.matrixWorld;return i.HelperUtils.computeTransformedBoundingBox(e,t)}},{key:"setName",value:function(e){this.name!==e&&(this.name=e,this.dispatchEvent({type:"name_changed",name:e,pointcloud:this}))}},{key:"getName",value:function(){return this.name}},{key:"getLevel",value:function(){return this.level}},{key:"toTreeNode",value:function(e,t){var r=this,i=new l,o=new n.Points(e.geometry,this.material);return o.frustumCulled=!0,o.onBeforeRender=function(t,n,o,a,s,c){if(s.program){if(t.getContext().useProgram(s.program.program),s.program.getUniforms().map.level){var l=e.getLevel();s.uniforms.level.value=l,s.program.getUniforms().map.level.setValue(t.getContext(),l)}if(r.visibleNodeTextureOffsets&&s.program.getUniforms().map.vnStart){var u=r.visibleNodeTextureOffsets.get(i);s.uniforms.vnStart.value=u,s.program.getUniforms().map.vnStart.setValue(t.getContext(),u)}if(s.program.getUniforms().map.pcIndex){var d=i.pcIndex?i.pcIndex:r.visibleNodes.indexOf(i);s.uniforms.pcIndex.value=d,s.program.getUniforms().map.pcIndex.setValue(t.getContext(),d)}}},i.geometryNode=e,i.sceneNode=o,i.pointcloud=this,i.left=e.left,i.right=e.right,t?(t.sceneNode.add(o),t.left===e?t.left=i:t.right===e&&(t.right=i)):(this.root=i,this.add(o)),e.oneTimeDisposeHandlers.push((function(){t.sceneNode.remove(i.sceneNode),t.left===i?t.left=e:t.right===i&&(t.right=e)})),i}},{key:"updateMaterial",value:function(e,t,r,i){e.fov=r.fov*(Math.PI/180),e.screenWidth=i.domElement.clientWidth,e.screenHeight=i.domElement.clientHeight,e.spacing=this.pcoGeometry.spacing,e.near=r.near,e.far=r.far,this.maxLevel>e.levels&&(e.levels=this.maxLevel+2);var o=this.boundingBox.getSize(new n.Vector3);e.bbSize=[o.x,o.y,o.z]}},{key:"updateVisibleBounds",value:function(){}},{key:"hideDescendants",value:function(e){for(var t=[],r=0;r<e.children.length;r++)(n=e.children[r]).visible&&t.push(n);for(;t.length>0;){var n;for((n=t.shift()).visible=!1,n.boundingBoxNode&&(n.boundingBoxNode.visible=!1),r=0;r<n.children.length;r++){var i=n.children[r];i.visible&&t.push(i)}}}},{key:"updateMatrixWorld",value:function(e){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==e||(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0)}},{key:"nodesOnRay",value:function(e,t){for(var r=[],i=t.clone(),o=0;o<e.length;o++){var a=e[o],s=a.getBoundingSphere(new n.Sphere).clone().applyMatrix4(a.sceneNode.matrixWorld);i.intersectsSphere(s)&&r.push(a)}return r}},{key:"pick",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.renderer,s=e.pRenderer;performance.mark("pick-start");var l=function(e,t){return void 0!==e?e:t},u=l(i.pickWindowSize,17),d=(l(i.pickOutsideClipRegion,!1),o.getSize(new n.Vector3)),p=Math.ceil(l(i.width,d.width)),h=Math.ceil(l(i.height,d.height)),f=l(i.pointSizeType,this.material.pointSizeType),g=l(i.pointSize,this.material.size),m=this.nodesOnRay(this.visibleNodes,r);if(0===m.length)return null;if(!this.pickState){var y=new n.Scene,v=new c.PointCloudMaterial;v.pointColorType=a.PointColorType.POINT_INDEX;var b=new n.WebGLRenderTarget(1,1,{minFilter:n.LinearFilter,magFilter:n.NearestFilter,format:n.RGBAFormat});this.pickState={renderTarget:b,material:v,scene:y}}var x=this.pickState,S=x.material;S.pointSizeType=f,S.shape=this.material.shape,S.size=g,S.uniforms.minSize.value=this.material.uniforms.minSize.value,S.uniforms.maxSize.value=this.material.uniforms.maxSize.value,S.classification=this.material.classification,i.pickClipped?(S.clipBoxes=this.material.clipBoxes,this.material.clipTask===a.ClipTask.HIGHLIGHT?S.clipTask=a.ClipTask.NONE:S.clipTask=this.material.clipTask):S.clipBoxes=[],this.updateMaterial(S,m,t,o),x.renderTarget.setSize(p,h);var A=new n.Vector2(i.x,i.y),w=o.getContext();w.enable(w.SCISSOR_TEST),w.scissor(parseInt(A.x-(u-1)/2),parseInt(A.y-(u-1)/2),parseInt(u),parseInt(u)),o.state.buffers.depth.setTest(S.depthTest),o.state.buffers.depth.setMask(S.depthWrite),o.state.setBlending(n.NoBlending),o.clearTarget(x.renderTarget,!0,!0,!0),o.setRenderTarget(x.renderTarget),w.clearColor(0,0,0,0),o.clearTarget(x.renderTarget,!0,!0,!0);var _=this.material;this.material=S,s.renderOctree(this,m,t,x.renderTarget),this.material=_;var T=function(e,t,r){return Math.min(Math.max(t,e),r)},E=parseInt(T(A.x-(u-1)/2,0,p)),B=parseInt(T(A.y-(u-1)/2,0,h)),R=parseInt(Math.min(E+u,p)-E),M=parseInt(Math.min(B+u,h)-B),C=new Uint8Array(R*M*4);w.readPixels(E,B,u,u,w.RGBA,w.UNSIGNED_BYTE,C),o.setRenderTarget(null),o.resetGLState(),o.setScissorTest(!1),w.disable(w.SCISSOR_TEST);for(var O=C,I=new Uint32Array(C.buffer),F=(Number.MAX_VALUE,[]),N=0;N<u;N++)for(var L=0;L<u;L++){var P=N+L*u,D=Math.pow(N-(u-1)/2,2)+Math.pow(L-(u-1)/2,2),U=O[4*P+3];O[4*P+3]=0;var G=I[P];if((0!==U||0!==G)&&void 0!==U&&void 0!==G){var j={pIndex:G,pcIndex:U,distanceToCenter:D};i.all?F.push(j):F.length>0?D<F[0].distanceToCenter&&(F[0]=j):F.push(j)}}for(var z=0,k=F;z<k.length;z++){var V={};if(!m[(j=k[z]).pcIndex])return null;var W=m[j.pcIndex],H=W.sceneNode,X=W.geometryNode.geometry;for(var Q in X.attributes){var Z=X.attributes[Q];if("position"===Q){E=Z.array[3*j.pIndex+0],B=Z.array[3*j.pIndex+1];var Y=Z.array[3*j.pIndex+2],J=new n.Vector3(E,B,Y);J.applyMatrix4(H.matrixWorld),V[Q]=J}}j.point=V}return performance.mark("pick-end"),performance.measure("pick","pick-start","pick-end"),i.all?F.map((function(e){return e.point})):0===F.length?null:F[0].point}},{key:"computeVisibilityTextureData",value:function(e){s.Global.measureTimings&&performance.mark("computeVisibilityTextureData-start");var t=new Uint8Array(3*e.length),r=new Map;(e=e.slice()).sort((function(e,t){var r=e.geometryNode.level,n=t.geometryNode.level,i=e.geometryNode.number,o=t.geometryNode.number;return r!==n?r-n:i<o?-1:i>o?1:0}));for(var n=[],i=0;i<e.length;i++)n.push(e[i].geometryNode.number);for(i=0;i<e.length;i++){var o=e[i];r.set(o,i);var a=0,c=0,l=0;o.geometryNode.left&&n.indexOf(o.geometryNode.left.number)>0&&(a+=1,c=n.indexOf(o.geometryNode.left.number)-i),o.geometryNode.right&&n.indexOf(o.geometryNode.right.number)>0&&(a+=2,c=0===c?n.indexOf(o.geometryNode.right.number)-i:c),"X"===o.geometryNode.split?l=1:"Y"===o.geometryNode.split?l=2:"Z"===o.geometryNode.split&&(l=4),t[3*i+0]=a,t[3*i+1]=c,t[3*i+2]=l}return s.Global.measureTimings&&(performance.mark("computeVisibilityTextureData-end"),performance.measure("render.computeVisibilityTextureData","computeVisibilityTextureData-start","computeVisibilityTextureData-end")),{data:t,offsets:r}}},{key:"progress",get:function(){return this.pcoGeometry.root?s.Global.numNodesLoading>0?0:1:0}}]),r}(o.PointCloudTree)},"./source/pointcloud/PointCloudOctree.js":function(e,t,r){"use strict";r.r(t),r.d(t,"PointCloudOctree",(function(){return d})),r.d(t,"PointCloudOctreeNode",(function(){return u}));var n=r("three"),i=r("./source/pointcloud/geometries/PointCloudOctreeGeometry.js"),o=r("./source/utils/HelperUtils.js"),a=r("./source/pointcloud/PointCloudTree.js"),s=r("./source/pointcloud/materials/PointCloudMaterial.js"),c=r("./source/Potree.js"),l=r("./source/Global.js"),u=function(e){_inherits(r,e);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).children={},e.sceneNode=null,e.octree=null,e}return _createClass(r,[{key:"getNumPoints",value:function(){return this.geometryNode.numPoints}},{key:"isLoaded",value:function(){return!0}},{key:"isTreeNode",value:function(){return!0}},{key:"isGeometryNode",value:function(){return!1}},{key:"getLevel",value:function(){return this.geometryNode.level}},{key:"getBoundingSphere",value:function(){return this.geometryNode.boundingSphere}},{key:"getBoundingBox",value:function(){return this.geometryNode.boundingBox}},{key:"getChildren",value:function(){for(var e=[],t=0;t<8;t++)this.children[t]&&e.push(this.children[t]);return e}},{key:"getPointsInBox",value:function(e){if(!this.sceneNode)return null;for(var t=this.geometryNode.buffer,r=t.offset("position"),i=t.stride,o=new DataView(t.data),a=(new n.Matrix4).getInverse(e.matrixWorld),s=(new n.Matrix4).multiplyMatrices(a,this.sceneNode.matrixWorld),c=[],l=new n.Vector4,u=0;u<t.numElements;u++){var d=o.getFloat32(u*i+r+0,!0),p=o.getFloat32(u*i+r+4,!0),h=o.getFloat32(u*i+r+8,!0);l.set(d,p,h,1),l.applyMatrix4(s),-.5<l.x&&l.x<.5&&-.5<l.y&&l.y<.5&&-.5<l.z&&l.z<.5&&(l.set(d,p,h,1).applyMatrix4(this.sceneNode.matrixWorld),c.push(new n.Vector3(l.x,l.y,l.z)))}return c}},{key:"name",get:function(){return this.geometryNode.name}}]),r}(a.PointCloudTreeNode),d=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,i){var a;_classCallCheck(this,r),(a=t.call(this)).pointBudget=1/0,a.pcoGeometry=e,a.boundingBox=a.pcoGeometry.boundingBox,a.boundingSphere=a.boundingBox.getBoundingSphere(new n.Sphere),a.material=i||new s.PointCloudMaterial,a.visiblePointsTarget=2e6,a.minimumNodePixelSize=150,a.level=0,a.position.copy(e.offset),a.updateMatrix(),a.showBoundingBox=!1,a.boundingBoxNodes=[],a.loadQueue=[],a.visibleBounds=new n.Box3,a.visibleNodes=[],a.visibleGeometry=[],a.generateDEM=!1,a.profileRequests=[],a.name="",a.tempVector3=new n.Vector3;var c=[a.pcoGeometry.tightBoundingBox,a.getBoundingBoxWorld()].find((function(e){return void 0!==e}));a.updateMatrixWorld(!0);var l=(c=o.HelperUtils.computeTransformedBoundingBox(c,a.matrixWorld)).min.z,u=c.max.z;return a.material.heightMin=l,a.material.heightMax=u,a.projection=e.projection,a.root=a.pcoGeometry.root,a}return _createClass(r,[{key:"setName",value:function(e){this.name!==e&&(this.name=e,this.dispatchEvent({type:"name_changed",name:e,pointcloud:this}))}},{key:"getName",value:function(){return this.name}},{key:"toTreeNode",value:function(e,t){var r=this,i=new u,o=new n.Points(e.geometry,this.material);for(var a in o.name=e.name,o.position.copy(e.boundingBox.min),o.frustumCulled=!0,o.onBeforeRender=function(t,n,o,a,s,c){if(s.program){if(t.getContext().useProgram(s.program.program),s.program.getUniforms().map.level){var l=e.getLevel();s.uniforms.level.value=l,s.program.getUniforms().map.level.setValue(t.getContext(),l)}if(r.visibleNodeTextureOffsets&&s.program.getUniforms().map.vnStart){var u=r.visibleNodeTextureOffsets.get(i);s.uniforms.vnStart.value=u,s.program.getUniforms().map.vnStart.setValue(t.getContext(),u)}if(s.program.getUniforms().map.pcIndex){var d=i.pcIndex?i.pcIndex:r.visibleNodes.indexOf(i);s.uniforms.pcIndex.value=d,s.program.getUniforms().map.pcIndex.setValue(t.getContext(),d)}}},i.geometryNode=e,i.sceneNode=o,i.pointcloud=this,i.children={},e.children)i.children[a]=e.children[a];if(t){var s=parseInt(e.name[e.name.length-1]);t.sceneNode.add(o),t.children[s]=i}else this.root=i,this.add(o);return e.oneTimeDisposeHandlers.push((function(){var r=parseInt(e.name[e.name.length-1]);t.sceneNode.remove(i.sceneNode),t.children[r]=e})),i}},{key:"updateVisibleBounds",value:function(){for(var e=[],t=0;t<this.visibleNodes.length;t++){for(var r=this.visibleNodes[t],o=!0,a=0;a<r.children.length;a++){var s=r.children[a];s instanceof u?o=o&&!s.sceneNode.visible:s instanceof i.PointCloudOctreeGeometryNode&&(o=!0)}o&&e.push(r)}for(this.visibleBounds.min=new n.Vector3(1/0,1/0,1/0),this.visibleBounds.max=new n.Vector3(-1/0,-1/0,-1/0),t=0;t<e.length;t++)r=e[t],this.visibleBounds.expandByPoint(r.getBoundingBox().min),this.visibleBounds.expandByPoint(r.getBoundingBox().max)}},{key:"updateMaterial",value:function(e,t,r,i){e.fov=r.fov*(Math.PI/180),e.screenWidth=i.domElement.clientWidth,e.screenHeight=i.domElement.clientHeight,e.spacing=this.pcoGeometry.spacing*Math.max(this.scale.x,this.scale.y,this.scale.z),e.near=r.near,e.far=r.far,e.uniforms.octreeSize.value=this.pcoGeometry.boundingBox.getSize(new n.Vector3).x}},{key:"computeVisibilityTextureData",value:function(e,t){l.Global.measureTimings&&performance.mark("computeVisibilityTextureData-start");var r=new Uint8Array(4*e.length),i=new Map;(e=e.slice()).sort((function(e,t){var r=e.geometryNode.name,n=t.geometryNode.name;return r.length!==n.length?r.length-n.length:r<n?-1:r>n?1:0}));for(var o=new n.Vector3,a=function(e,t){o.subVectors(t.center,e.origin);var r=o.dot(e.direction),n=o.dot(o)-r*r,i=t.radius*t.radius;if(n>i)return null;var a=r+Math.sqrt(i-n);return a<0?null:a},s=new Map,c=new Map,d=0;d<e.length;d++){var p=e[d];i.set(p,d);for(var h=[],f=0;f<8;f++)(g=p.children[f])&&g.constructor===u&&e.includes(g,d)&&h.push(g);for(p.geometryNode.estimatedSpacing,r[4*d+0]=0,r[4*d+1]=0,r[4*d+2]=0,r[4*d+3]=p.getLevel(),f=0;f<h.length;f++){var g=h[f],m=parseInt(g.geometryNode.name.substr(-1));if(r[4*d+0]+=Math.pow(2,m),0===f){var y=e.indexOf(g,d);r[4*d+1]=y-d>>8,r[4*d+2]=(y-d)%256}}var v=p.getBoundingBox().clone().getBoundingSphere(new n.Sphere);v.applyMatrix4(p.sceneNode.matrixWorld),v.applyMatrix4(t.matrixWorldInverse);var b=a(new n.Ray(t.position,t.getWorldDirection(this.tempVector3)),v),x=v.center.distanceTo(t.position)+v.radius;if(null===b&&(b=x),b=Math.max(b,x),s.has(p.getLevel())){var S=s.get(p.getLevel()),A=Math.max(S,b);s.set(p.getLevel(),A)}else s.set(p.getLevel(),b);if(!p.geometryNode.hasChildren){var w={distance:b,i:d};c.set(p,w)}}var _,T=_createForOfIteratorHelper(c);try{for(T.s();!(_=T.n()).done;){var E=_slicedToArray(_.value,2),B=(p=E[0],w=E[1],p.getLevel());if(b=w.distance,d=w.i,!(B<4)){var R,M=_createForOfIteratorHelper(s);try{for(M.s();!(R=M.n()).done;){var C=_slicedToArray(R.value,2),O=C[0];b<1.2*C[1]&&(r[4*d+3]=O)}}catch(I){M.e(I)}finally{M.f()}}}}catch(I){T.e(I)}finally{T.f()}return l.Global.measureTimings&&(performance.mark("computeVisibilityTextureData-end"),performance.measure("render.computeVisibilityTextureData","computeVisibilityTextureData-start","computeVisibilityTextureData-end")),{data:r,offsets:i}}},{key:"nodeIntersectsProfile",value:function(e,t){for(var r=e.boundingBox.clone().applyMatrix4(this.matrixWorld).getBoundingSphere(new n.Sphere),i=!1,o=0;o<t.points.length-1;o++){var a=new n.Vector3(t.points[o+0].x,t.points[o+0].y,r.center.z),s=new n.Vector3(t.points[o+1].x,t.points[o+1].y,r.center.z),c=new n.Line3(a,s).closestPointToPoint(r.center,!0).distanceTo(r.center);i=i||c<r.radius+t.width}return i}},{key:"nodesOnRay",value:function(e,t){for(var r=[],i=t.clone(),o=0;o<e.length;o++){var a=e[o],s=a.getBoundingSphere(new n.Sphere).clone().applyMatrix4(this.matrixWorld);i.intersectsSphere(s)&&r.push(a)}return r}},{key:"updateMatrixWorld",value:function(e){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==e||(this.parent?this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0)}},{key:"hideDescendants",value:function(e){for(var t=[],r=0;r<e.children.length;r++)(n=e.children[r]).visible&&t.push(n);for(;t.length>0;)for((e=t.shift()).visible=!1,r=0;r<e.children.length;r++){var n;(n=e.children[r]).visible&&t.push(n)}}},{key:"moveToOrigin",value:function(){this.position.set(0,0,0),this.updateMatrixWorld(!0);var e=this.boundingBox,t=this.matrixWorld,r=o.HelperUtils.computeTransformedBoundingBox(e,t);this.position.set(0,0,0).sub(r.getCenter(new n.Vector3))}},{key:"moveToGroundPlane",value:function(){this.updateMatrixWorld(!0);var e=this.boundingBox,t=this.matrixWorld,r=o.HelperUtils.computeTransformedBoundingBox(e,t);this.position.y+=-r.min.y}},{key:"getBoundingBoxWorld",value:function(){this.updateMatrixWorld(!0);var e=this.boundingBox,t=this.matrixWorld;return o.HelperUtils.computeTransformedBoundingBox(e,t)}},{key:"getPointsInProfile",value:function(e,t,r){for(var i={segments:[],boundingBox:new n.Box3,projectedBoundingBox:new n.Box2},o=0;o<e.points.length-1;o++){var a=e.points[o],s=e.points[o+1],c=this.getProfile(a,s,e.width,t),l={start:a,end:s,points:c,project:null};i.segments.push(l),i.boundingBox.expandByPoint(c.boundingBox.min),i.boundingBox.expandByPoint(c.boundingBox.max)}var u=new n.Vector3;for(o=0;o<i.segments.length;o++){var d=function(e,t,r,i){var o=e,a=t,s=r,c=i,l=new n.Vector3(1,0,0),u=(new n.Vector3).subVectors(a,o);u.y=0,u.normalize();var d=Math.acos(l.dot(u));return u.z>0&&(d=-d),function(e){var t=(new n.Matrix4).makeTranslation(-o.x,-c.min.y,-o.z),r=(new n.Matrix4).makeRotationY(-d),i=(new n.Matrix4).makeTranslation(s.x,0,0),a=e.clone();return a.applyMatrix4(t),a.applyMatrix4(r),a.applyMatrix4(i),a}}(a=(l=i.segments[o]).start,s=l.end,u.clone(),i.boundingBox.clone());l.project=d,u.x+=new n.Vector3(a.x,0,a.z).distanceTo(new n.Vector3(s.x,0,s.z)),u.y+=s.y-a.y}return i.projectedBoundingBox.min.x=0,i.projectedBoundingBox.min.y=i.boundingBox.min.y,i.projectedBoundingBox.max.x=u.x,i.projectedBoundingBox.max.y=i.boundingBox.max.y,i}},{key:"getProfile",value:function(e,t,r,n,i){}},{key:"getVisibleExtent",value:function(){return this.visibleBounds.applyMatrix4(this.matrixWorld)}},{key:"pick",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.renderer,a=e.pRenderer;performance.mark("pick-start");var l=function(e,t){return void 0!==e?e:t},u=l(i.pickWindowSize,17),d=(l(i.pickOutsideClipRegion,!1),o.getSize(new n.Vector3)),p=Math.ceil(l(i.width,d.width)),h=Math.ceil(l(i.height,d.height)),f=l(i.pointSizeType,this.material.pointSizeType),g=l(i.pointSize,this.material.size),m=this.nodesOnRay(this.visibleNodes,r);if(0===m.length)return null;if(!this.pickState){var y=new n.Scene,v=new s.PointCloudMaterial;v.pointColorType=c.PointColorType.POINT_INDEX;var b=new n.WebGLRenderTarget(1,1,{minFilter:n.LinearFilter,magFilter:n.NearestFilter,format:n.RGBAFormat});this.pickState={renderTarget:b,material:v,scene:y}}var x=this.pickState,S=x.material;S.pointSizeType=f,S.shape=this.material.shape,S.size=g,S.uniforms.minSize.value=this.material.uniforms.minSize.value,S.uniforms.maxSize.value=this.material.uniforms.maxSize.value,S.classification=this.material.classification,i.pickClipped?(S.clipBoxes=this.material.clipBoxes,this.material.clipTask===c.ClipTask.HIGHLIGHT?S.clipTask=c.ClipTask.NONE:S.clipTask=this.material.clipTask):S.clipBoxes=[],this.updateMaterial(S,m,t,o),x.renderTarget.setSize(p,h);var A=new n.Vector2(i.x,i.y),w=o.getContext();w.enable(w.SCISSOR_TEST),w.scissor(parseInt(A.x-(u-1)/2),parseInt(A.y-(u-1)/2),parseInt(u),parseInt(u)),o.state.buffers.depth.setTest(S.depthTest),o.state.buffers.depth.setMask(S.depthWrite),o.state.setBlending(n.NoBlending),o.setRenderTarget(x.renderTarget),w.clearColor(0,0,0,0),o.clearTarget(x.renderTarget,!0,!0,!0);var _=this.material;this.material=S,a.renderOctree(this,m,t,x.renderTarget),this.material=_;var T=function(e,t,r){return Math.min(Math.max(t,e),r)},E=parseInt(T(A.x-(u-1)/2,0,p)),B=parseInt(T(A.y-(u-1)/2,0,h)),R=parseInt(Math.min(E+u,p)-E),M=parseInt(Math.min(B+u,h)-B),C=new Uint8Array(R*M*4);w.readPixels(E,B,u,u,w.RGBA,w.UNSIGNED_BYTE,C),o.setRenderTarget(null),o.resetGLState(),o.setScissorTest(!1),w.disable(w.SCISSOR_TEST);for(var O=C,I=new Uint32Array(C.buffer),F=(Number.MAX_VALUE,[]),N=0;N<u;N++)for(var L=0;L<u;L++){var P=N+L*u,D=Math.pow(N-(u-1)/2,2)+Math.pow(L-(u-1)/2,2),U=O[4*P+3];O[4*P+3]=0;var G=I[P];if((0!==U||0!==G)&&void 0!==U&&void 0!==G){var j={pIndex:G,pcIndex:U,distanceToCenter:D};i.all?F.push(j):F.length>0?D<F[0].distanceToCenter&&(F[0]=j):F.push(j)}}for(var z=0,k=F;z<k.length;z++){var V={};if(!m[(j=k[z]).pcIndex])return null;var W=m[j.pcIndex],H=W.sceneNode,X=W.geometryNode.geometry;for(var Q in X.attributes){var Z=X.attributes[Q];if("position"===Q){E=Z.array[3*j.pIndex+0],B=Z.array[3*j.pIndex+1];var Y=Z.array[3*j.pIndex+2],J=new n.Vector3(E,B,Y);J.applyMatrix4(H.matrixWorld),V[Q]=J}}j.point=V}return performance.mark("pick-end"),performance.measure("pick","pick-start","pick-end"),i.all?F.map((function(e){return e.point})):0===F.length?null:F[0].point}},{key:"getFittedBoxGen",value:_regeneratorRuntime.mark((function e(t){var r,i,o,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new n.Box3,i=(new n.Matrix4).getInverse(t.matrixWorld),o=_createForOfIteratorHelper(this.visibleNodes),e.prev=2,o.s();case 4:if((a=o.n()).done){e.next=12;break}if(!(s=a.value).sceneNode){e.next=10;break}for(c=s.geometryNode.buffer,l=c.offset("position"),u=c.stride,d=new DataView(c.data),p=(new n.Matrix4).multiplyMatrices(i,s.sceneNode.matrixWorld),h=new n.Vector4,f=0;f<c.numElements;f++)g=d.getFloat32(f*u+l+0,!0),m=d.getFloat32(f*u+l+4,!0),y=d.getFloat32(f*u+l+8,!0),h.set(g,m,y,1),h.applyMatrix4(p),-.5<h.x&&h.x<.5&&-.5<h.y&&h.y<.5&&-.5<h.z&&h.z<.5&&r.expandByPoint(h);return void(e.next=10);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),o.e(e.t0);case 17:return e.prev=17,o.f(),e.finish(17);case 20:return v=r.getCenter(new n.Vector3).applyMatrix4(t.matrixWorld),(b=new n.Object3D).position.copy(v),b.scale.copy(t.scale),b.rotation.copy(t.rotation),x=(new n.Vector3).subVectors(r.max,r.min),b.scale.multiply(x),e.next=26,b;case 26:case"end":return e.stop()}}),e,this,[[2,14,17,20]])}))},{key:"getFittedBox",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,i=new n.Box3,o=(new n.Matrix4).getInverse(e.matrixWorld),a=_createForOfIteratorHelper(this.visibleNodes);try{for(a.s();!(t=a.n()).done;){var s=t.value;if(s.sceneNode&&!(s.getLevel()>r))for(var c=s.geometryNode.buffer,l=c.offset("position"),u=c.stride,d=new DataView(c.data),p=(new n.Matrix4).multiplyMatrices(o,s.sceneNode.matrixWorld),h=new n.Vector4,f=0;f<c.numElements;f++){var g=d.getFloat32(f*u+l+0,!0),m=d.getFloat32(f*u+l+4,!0),y=d.getFloat32(f*u+l+8,!0);h.set(g,m,y,1),h.applyMatrix4(p),-.5<h.x&&h.x<.5&&-.5<h.y&&h.y<.5&&-.5<h.z&&h.z<.5&&i.expandByPoint(h)}}}catch(S){a.e(S)}finally{a.f()}var v=i.getCenter(new n.Vector3).applyMatrix4(e.matrixWorld),b=new n.Object3D;b.position.copy(v),b.scale.copy(e.scale),b.rotation.copy(e.rotation);var x=(new n.Vector3).subVectors(i.max,i.min);return b.scale.multiply(x),b}},{key:"find",value:function(e){var t,r=null,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r="r"===i?this.root:r.children[i]}}catch(o){n.e(o)}finally{n.f()}return r}},{key:"progress",get:function(){return this.visibleNodes.length/this.visibleGeometry.length}}]),r}(a.PointCloudTree)},"./source/pointcloud/PointCloudTree.js":function(e,t,r){"use strict";r.r(t),r.d(t,"PointCloudTree",(function(){return a})),r.d(t,"PointCloudTreeNode",(function(){return o}));var n=r("three"),i=r("./source/pointcloud/DEM.js"),o=function(){function e(){_classCallCheck(this,e),this.needsTransformUpdate=!0}return _createClass(e,[{key:"getChildren",value:function(){}},{key:"getBoundingBox",value:function(){}},{key:"isLoaded",value:function(){}},{key:"isGeometryNode",value:function(){}},{key:"isTreeNode",value:function(){}},{key:"getLevel",value:function(){}},{key:"getBoundingSphere",value:function(){}}]),e}(),a=function(e){_inherits(r,e);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).dem=new i.DEM(_assertThisInitialized(e)),e}return _createClass(r,[{key:"initialized",value:function(){return null!==this.root}}]),r}(n.Object3D)},"./source/pointcloud/geometries/PointCloudArena4DGeometry.js":function(e,t,r){"use strict";r.r(t),r.d(t,"PointCloudArena4DGeometry",(function(){return s})),r.d(t,"PointCloudArena4DGeometryNode",(function(){return a}));var n=r("three"),i=r("./source/PointAttributes.js"),o=r("./source/Global.js");r("./source/pointcloud/PointCloudTree.js");var a=function(){function e(){_classCallCheck(this,e),this.left=null,this.right=null,this.boundingBox=null,this.number=null,this.pcoGeometry=null,this.loaded=!1,this.numPoints=0,this.level=0,this.children=[],this.oneTimeDisposeHandlers=[]}return _createClass(e,[{key:"isGeometryNode",value:function(){return!0}},{key:"isTreeNode",value:function(){return!1}},{key:"isLoaded",value:function(){return this.loaded}},{key:"getBoundingSphere",value:function(){return this.boundingSphere}},{key:"getBoundingBox",value:function(){return this.boundingBox}},{key:"getChildren",value:function(){var e=[];return this.left&&e.push(this.left),this.right&&e.push(this.right),e}},{key:"getLevel",value:function(){return this.level}},{key:"load",value:function(){if(!(this.loaded||this.loading||o.Global.numNodesLoading>=o.Global.maxNodesLoading)){this.loading=!0,o.Global.numNodesLoading++;var e=this,t=this.pcoGeometry.url+"?node="+this.number,r=new XMLHttpRequest;r.overrideMimeType("text/plain"),r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){try{for(var t=r.response,a=new DataView(t),s=t.byteLength/17,c=new ArrayBuffer(28*s),l=(new DataView(c),i.PointAttribute.POSITION_CARTESIAN,i.PointAttribute.RGBA_PACKED,i.PointAttribute.INTENSITY,i.PointAttribute.CLASSIFICATION,new Float32Array(3*s)),u=new Uint8Array(4*s),d=new Float32Array(s),p=new Uint8Array(s),h=new ArrayBuffer(4*s),f=new Uint32Array(h),g=new n.Box3,m=0;m<s;m++){var y=a.getFloat32(17*m+0,!0)+e.boundingBox.min.x,v=a.getFloat32(17*m+4,!0)+e.boundingBox.min.y,b=a.getFloat32(17*m+8,!0)+e.boundingBox.min.z,x=a.getUint8(17*m+12,!0),S=a.getUint8(17*m+13,!0),A=a.getUint8(17*m+14,!0),w=a.getUint8(17*m+15,!0),_=a.getUint8(17*m+16,!0);g.expandByPoint(new n.Vector3(y,v,b)),l[3*m+0]=y,l[3*m+1]=v,l[3*m+2]=b,u[4*m+0]=x,u[4*m+1]=S,u[4*m+2]=A,u[4*m+3]=255,d[m]=w,p[m]=_,f[m]=m}var T=new n.BufferGeometry;T.addAttribute("position",new n.BufferAttribute(l,3)),T.addAttribute("color",new n.BufferAttribute(u,4,!0)),T.addAttribute("intensity",new n.BufferAttribute(d,1)),T.addAttribute("classification",new n.BufferAttribute(p,1));var E=new n.BufferAttribute(new Uint8Array(h),4,!0);T.addAttribute("indices",E),e.geometry=T,e.numPoints=s,e.loaded=!0,e.loading=!1,o.Global.numNodesLoading--}catch(e){console.error("Potree: Exception thrown parsing points.",e),o.Global.numNodesLoading--}},r.onerror=function(){o.Global.numNodesLoading--,console.log("Potree: Failed to load file, "+r.status+", file: "+t)},r.send(null)}}},{key:"dispose",value:function(){if(this.geometry&&null!=this.parent){this.geometry.dispose(),this.geometry=null,this.loaded=!1;for(var e=0;e<this.oneTimeDisposeHandlers.length;e++)(0,this.oneTimeDisposeHandlers[e])();this.oneTimeDisposeHandlers=[]}}},{key:"getNumPoints",value:function(){return this.numPoints}}]),e}(),s=function(e){_inherits(r,e);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).numPoints=0,e.version=0,e.boundingBox=null,e.numNodes=0,e.name=null,e.provider=null,e.url=null,e.root=null,e.levels=0,e._spacing=null,e.pointAttributes=new i.PointAttributes(["POSITION_CARTESIAN","COLOR_PACKED"]),e}return _createClass(r,[{key:"loadHierarchy",value:function(){var e=this,t=this.url+"?tree",r=new XMLHttpRequest;r.overrideMimeType("text/plain"),r.open("GET",t,!0),r.responseType="arraybuffer",r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){for(var t=r.response,i=t.byteLength/3,o=new DataView(t),s=[],c=null,l=0,u=0;u<i;u++){var d=o.getUint8(3*u+0,!0),p=(1&d)>0,h=(2&d)>0,f=null;(4&d)>0?f="X":(8&d)>0&&(f="Y"),(16&d)>0&&(f="Z");var g=new a;if(g.hasLeft=p,g.hasRight=h,g.split=f,g.isLeaf=!p&&!h,g.number=u,g.left=null,g.right=null,g.pcoGeometry=e,g.level=s.length,l=Math.max(l,g.level),s.length>0){var m=s[s.length-1];g.boundingBox=m.boundingBox.clone();var y=m.boundingBox.getSize(new n.Vector3);if(m.hasLeft&&!m.left){m.left=g,m.children.push(g),"X"===m.split?g.boundingBox.max.x=g.boundingBox.min.x+y.x/2:"Y"===m.split?g.boundingBox.max.y=g.boundingBox.min.y+y.y/2:"Z"===m.split&&(g.boundingBox.max.z=g.boundingBox.min.z+y.z/2);var v=new n.Vector3;g.boundingBox.getCenter(v);var b=g.boundingBox.getSize(new n.Vector3).length()/2;g.boundingSphere=new n.Sphere(v,b)}else m.right=g,m.children.push(g),"X"===m.split?g.boundingBox.min.x=g.boundingBox.min.x+y.x/2:"Y"===m.split?g.boundingBox.min.y=g.boundingBox.min.y+y.y/2:"Z"===m.split&&(g.boundingBox.min.z=g.boundingBox.min.z+y.z/2),v=new n.Vector3,g.boundingBox.getCenter(v),b=g.boundingBox.getSize(new n.Vector3).length()/2,g.boundingSphere=new n.Sphere(v,b)}else(c=g).boundingBox=e.boundingBox.clone(),v=new n.Vector3,c.boundingBox.getCenter(v),b=c.boundingBox.getSize(new n.Vector3).length()/2,c.boundingSphere=new n.Sphere(v,b);var x=g.boundingBox.getSize(new n.Vector3);if(g.spacing=(x.x+x.y+x.z)/3/75,g.estimatedSpacing=g.spacing,s.push(g),g.isLeaf)for(var S=!1;!S&&s.length>0;){s.pop();var A=s[s.length-1];S=s.length>0&&A.hasRight&&null==A.right}}e.root=c,e.levels=l,e.dispatchEvent({type:"hierarchy_loaded"})}},r.send(null)}},{key:"spacing",get:function(){return this._spacing?this._spacing:this.root?this.root.spacing:void 0},set:function(e){this._spacing=e}}],[{key:"load",value:function(e,t){var i=new XMLHttpRequest;i.overrideMimeType("text/plain"),i.open("GET",e+"?info",!0),i.onreadystatechange=function(){try{if(4===i.readyState&&200===i.status){var o=JSON.parse(i.responseText),a=new r;a.url=e,a.name=o.Name,a.provider=o.Provider,a.numNodes=o.Nodes,a.numPoints=o.Points,a.version=o.Version,a.boundingBox=new n.Box3((new n.Vector3).fromArray(o.BoundingBox.slice(0,3)),(new n.Vector3).fromArray(o.BoundingBox.slice(3,6))),o.Spacing&&(a.spacing=o.Spacing);var s=a.boundingBox.min.clone().multiplyScalar(-1);a.boundingBox.min.add(s),a.boundingBox.max.add(s),a.offset=s;var c=new n.Vector3;a.boundingBox.getCenter(c);var l=a.boundingBox.getSize(new n.Vector3).length()/2;a.boundingSphere=new n.Sphere(c,l),a.loadHierarchy(),t(a)}else 4===i.readyState&&t(null)}catch(e){console.error(e.message),t(null)}},i.send(null)}}]),r}(n.EventDispatcher)},"./source/pointcloud/geometries/PointCloudEptGeometry.js":function(e,t,r){"use strict";r.r(t),r.d(t,"PointCloudEptGeometry",(function(){return u})),r.d(t,"PointCloudEptGeometryNode",(function(){return p})),r.d(t,"EptKey",(function(){return d}));var n=r("three"),i=r("./source/loaders/ept/EptBinaryLoader.js"),o=r("./source/loaders/ept/EptLaszipLoader.js"),a=r("./source/utils/VersionUtils.js"),s=r("./source/pointcloud/PointCloudTree.js"),c=r("./source/Global.js"),l=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"toVector3",value:function(e,t){return(new n.Vector3).fromArray(e,t||0)}},{key:"toBox3",value:function(t){return new n.Box3(e.toVector3(t),e.toVector3(t,3))}},{key:"findDim",value:function(e,t){var r=e.find((function(e){return e.name==t}));if(!r)throw new Error("Failed to find "+t+" in schema");return r}},{key:"sphereFrom",value:function(e){return e.getBoundingSphere(new n.Sphere)}}]),e}(),u=function e(t,r){_classCallCheck(this,e),r.version;var n=r.schema,s=r.bounds,c=r.boundsConforming,u=[l.findDim(n,"X"),l.findDim(n,"Y"),l.findDim(n,"Z")],d=u.map((function(e){return e.scale||1})),p=u.map((function(e){return e.offset||0}));this.eptScale=l.toVector3(d),this.eptOffset=l.toVector3(p),this.url=t,this.info=r,this.type="ept",this.schema=n,this.span=r.span||r.ticks,this.boundingBox=l.toBox3(s),this.tightBoundingBox=l.toBox3(c),this.offset=l.toVector3([0,0,0]),this.boundingSphere=l.sphereFrom(this.boundingBox),this.tightBoundingSphere=l.sphereFrom(this.tightBoundingBox),this.version=new a.VersionUtils("1.6"),this.projection=null,this.fallbackProjection=null,r.srs&&r.srs.horizontal&&(this.projection=r.srs.authority+":"+r.srs.horizontal),r.srs.wkt&&(this.projection?this.fallbackProjection=r.srs.wkt:this.projection=r.srs.wkt),this.pointAttributes="LAZ",this.spacing=(this.boundingBox.max.x-this.boundingBox.min.x)/this.span,r.hierarchyType;var h=r.dataType||"laszip";this.loader="binary"==h?new i.EptBinaryLoader:new o.EptLaszipLoader},d=function(){function e(t,r,n,i,o,a){_classCallCheck(this,e),this.ept=t,this.b=r,this.d=n,this.x=i||0,this.y=o||0,this.z=a||0}return _createClass(e,[{key:"name",value:function(){return this.d+"-"+this.x+"-"+this.y+"-"+this.z}},{key:"step",value:function(t,r,i){var o=this.b.min.clone(),a=this.b.max.clone(),s=(new n.Vector3).subVectors(a,o);return t?o.x+=s.x/2:a.x-=s.x/2,r?o.y+=s.y/2:a.y-=s.y/2,i?o.z+=s.z/2:a.z-=s.z/2,new e(this.ept,new n.Box3(o,a),this.d+1,2*this.x+t,2*this.y+r,2*this.z+i)}},{key:"children",value:function(){for(var e=[],t=0;t<2;++t)for(var r=0;r<2;++r)for(var n=0;n<2;++n){var i=this.step(t,r,n).name();e.includes(i)||(e=e.concat(i))}return e}}]),e}(),p=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,i,o,a,s){var c;_classCallCheck(this,r),(c=t.call(this)).ept=e,c.key=new d(c.ept,n||c.ept.boundingBox,i||0,o,a,s),c.id=r.IDCount++,c.geometry=null,c.boundingBox=c.key.b,c.tightBoundingBox=c.boundingBox,c.spacing=c.ept.spacing/Math.pow(2,c.key.d),c.boundingSphere=l.sphereFrom(c.boundingBox),c.hasChildren=!1,c.children={},c.numPoints=-1,c.level=c.key.d,c.loaded=!1,c.loading=!1,c.oneTimeDisposeHandlers=[];var u=c.key;return c.name=c.toPotreeName(u.d,u.x,u.y,u.z),c.index=parseInt(c.name.charAt(c.name.length-1)),c}return _createClass(r,[{key:"isGeometryNode",value:function(){return!0}},{key:"getLevel",value:function(){return this.level}},{key:"isTreeNode",value:function(){return!1}},{key:"isLoaded",value:function(){return this.loaded}},{key:"getBoundingSphere",value:function(){return this.boundingSphere}},{key:"getBoundingBox",value:function(){return this.boundingBox}},{key:"url",value:function(){return this.ept.url+"ept-data/"+this.filename()}},{key:"getNumPoints",value:function(){return this.numPoints}},{key:"filename",value:function(){return this.key.name()}},{key:"getChildren",value:function(){for(var e=[],t=0;t<8;t++)this.children[t]&&e.push(this.children[t]);return e}},{key:"addChild",value:function(e){this.children[e.index]=e,e.parent=this}},{key:"load",value:function(){this.loaded||this.loading||c.Global.numNodesLoading>=c.Global.maxNodesLoading||(this.loading=!0,c.Global.numNodesLoading++,-1===this.numPoints&&this.loadHierarchy(),this.loadPoints())}},{key:"loadPoints",value:function(){this.ept.loader.load(this)}},{key:"loadHierarchy",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n,i,o,a=this;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t={})[this.filename()]=this,this.hasChildren=!1,n="".concat(this.ept.url,"ept-hierarchy/").concat(this.filename(),".json"),e.next=5,fetch(n);case 5:return i=e.sent,e.next=8,i.json();case 8:o=e.sent,Object.keys(o).sort((function(e,t){var r=e.split("-").map((function(e){return parseInt(e,10)})),n=_slicedToArray(r,4),i=n[0],o=n[1],a=n[2],s=n[3],c=t.split("-").map((function(e){return parseInt(e,10)})),l=_slicedToArray(c,4),u=l[0],d=l[1],p=l[2],h=l[3];return i<u?-1:i>u?1:o<d?-1:o>d?1:a<p?-1:a>p?1:s<h?-1:s>h?1:0})).forEach((function(e){var n=e.split("-").map((function(e){return parseInt(e,10)})),i=_slicedToArray(n,4),s=i[0],c=i[1],l=i[2],u=i[3],d=1&c,p=1&l,h=1&u,f=t[s-1+"-"+(c>>1)+"-"+(l>>1)+"-"+(u>>1)];if(f){f.hasChildren=!0;var g=f.key.step(d,p,h),m=new r(a.ept,g.b,g.d,g.x,g.y,g.z);m.level=s,m.numPoints=o[e],f.addChild(m),t[g.name()]=m}}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"doneLoading",value:function(e,t,r,n){e.boundingBox=this.boundingBox,this.geometry=e,this.tightBoundingBox=t,this.numPoints=r,this.mean=n,this.loaded=!0,this.loading=!1,c.Global.numNodesLoading--}},{key:"toPotreeName",value:function(e,t,r,n){for(var i="r",o=0;o<e;++o){var a=1<<e-o-1,s=0;t&a&&(s+=4),r&a&&(s+=2),n&a&&(s+=1),i+=s}return i}},{key:"dispose",value:function(){if(this.geometry&&null!=this.parent){this.geometry.dispose(),this.geometry=null,this.loaded=!1;for(var e=0;e<this.oneTimeDisposeHandlers.length;e++)(0,this.oneTimeDisposeHandlers[e])();this.oneTimeDisposeHandlers=[]}}}]),r}(s.PointCloudTreeNode);p.IDCount=0},"./source/pointcloud/geometries/PointCloudGreyhoundGeometry.js":function(e,t,r){"use strict";r.r(t),r.d(t,"PointCloudGreyhoundGeometry",(function(){return s})),r.d(t,"PointCloudGreyhoundGeometryNode",(function(){return c}));var n=r("three"),i=r("./source/loaders/GreyhoundLoader.js"),o=r("./source/Global.js"),a=r("./source/pointcloud/PointCloudTree.js"),s=function e(){_classCallCheck(this,e),this.spacing=0,this.boundingBox=null,this.root=null,this.nodes=null,this.pointAttributes={},this.hierarchyStepSize=-1,this.loader=null,this.schema=null,this.baseDepth=null,this.offset=null,this.projection=null,this.boundingSphere=null,this.serverURL=null,this.normalize={color:!1,intensity:!1}};function c(e,t,r,i,o){this.id=c.IDCount++,this.name=e,this.index=parseInt(e.charAt(e.length-1)),this.pcoGeometry=t,this.geometry=null,this.boundingBox=r,this.boundingSphere=r.getBoundingSphere(new n.Sphere),this.scale=i,this.offset=o,this.children={},this.numPoints=0,this.level=null,this.loaded=!1,this.oneTimeDisposeHandlers=[],this.baseLoaded=!1;var a=new n.Vector3,s=this.boundingBox.clone();s.min.sub(this.pcoGeometry.boundingBox.getCenter(a)),s.max.sub(this.pcoGeometry.boundingBox.getCenter(a)),this.scale&&(s.min.multiplyScalar(1/this.scale),s.max.multiplyScalar(1/this.scale)),this.greyhoundBounds=s,this.greyhoundOffset=this.pcoGeometry.offset.clone().add(this.pcoGeometry.boundingBox.getSize(new n.Vector3).multiplyScalar(.5))}c.IDCount=0,c.prototype=Object.create(a.PointCloudTreeNode.prototype),c.prototype.isGeometryNode=function(){return!0},c.prototype.isTreeNode=function(){return!1},c.prototype.isLoaded=function(){return this.loaded},c.prototype.getBoundingSphere=function(){return this.boundingSphere},c.prototype.getBoundingBox=function(){return this.boundingBox},c.prototype.getLevel=function(){return this.level},c.prototype.getChildren=function(){for(var e=[],t=0;t<8;++t)this.children[t]&&e.push(this.children[t]);return e},c.prototype.getURL=function(){var e=this.pcoGeometry.schema,t=this.greyhoundBounds,r=t.min.x+","+t.min.y+","+t.min.z+","+t.max.x+","+t.max.y+","+t.max.z,n=this.pcoGeometry.serverURL+"read?depthBegin="+(this.baseLoaded?this.level+this.pcoGeometry.baseDepth:0)+"&depthEnd="+(this.level+this.pcoGeometry.baseDepth+1)+"&bounds=["+r+"]&schema="+JSON.stringify(e)+"&compress=true";if(this.scale&&(n+="&scale="+this.scale),this.greyhoundOffset){var i=this.greyhoundOffset;n+="&offset=["+i.x+","+i.y+","+i.z+"]"}return this.baseLoaded||(this.baseLoaded=!0),n},c.prototype.addChild=function(e){this.children[e.index]=e,e.parent=this},c.prototype.load=function(){!0===this.loading||!0===this.loaded||o.Global.numNodesLoading>=o.Global.maxNodesLoading||(this.loading=!0,o.Global.numNodesLoading++,this.level%this.pcoGeometry.hierarchyStepSize==0&&this.hasChildren?this.loadHierarchyThenPoints():this.loadPoints())},c.prototype.loadPoints=function(){this.pcoGeometry.loader.load(this)},c.prototype.loadHierarchyThenPoints=function(){var e=[0,2,1,3,4,6,5,7],t=function t(r,n,i){var o,a;Object.keys(r).forEach((function(s){if("n"!==s){switch(s){case"swd":o=r.swd,a=n+e[0];break;case"nwd":o=r.nwd,a=n+e[1];break;case"swu":o=r.swu,a=n+e[2];break;case"nwu":o=r.nwu,a=n+e[3];break;case"sed":o=r.sed,a=n+e[4];break;case"ned":o=r.ned,a=n+e[5];break;case"seu":o=r.seu,a=n+e[6];break;case"neu":o=r.neu,a=n+e[7]}var c,l;i.push({children:(c=o,l=0,Object.keys(c).forEach((function(t){"swd"===t?l+=1<<e[0]:"nwd"===t?l+=1<<e[1]:"swu"===t?l+=1<<e[2]:"nwu"===t?l+=1<<e[3]:"sed"===t?l+=1<<e[4]:"ned"===t?l+=1<<e[5]:"seu"===t?l+=1<<e[6]:"neu"===t&&(l+=1<<e[7])})),l),numPoints:o.n,name:a}),t(o,a,i)}}))};if(this.level%this.pcoGeometry.hierarchyStepSize==0){var r=this.level+this.pcoGeometry.baseDepth,n=r+this.pcoGeometry.hierarchyStepSize+2,a=this.greyhoundBounds,s=a.min.x+","+a.min.y+","+a.min.z+","+a.max.x+","+a.max.y+","+a.max.z,l=this.pcoGeometry.serverURL+"hierarchy?bounds=["+s+"]&depthBegin="+r+"&depthEnd="+n;if(this.scale&&(l+="&scale="+this.scale),this.greyhoundOffset){var u=this.greyhoundOffset;l+="&offset=["+u.x+","+u.y+","+u.z+"]"}var d=this,p=new XMLHttpRequest;p.overrideMimeType("text/plain"),p.open("GET",l,!0),p.onload=function(e){try{!function(e,r){var n=[];e.numPoints=r.n,t(r,e.name,n);var o={};o[e.name]=e;for(var a=e.pcoGeometry,s=0;s<n.length;s++){var l=n[s].name,u=n[s].numPoints,d=parseInt(l.charAt(l.length-1)),p=o[l.substring(0,l.length-1)],h=l.length-1,f=new c(l,a,i.GreyhoundLoader.createChildAABB(p.boundingBox,d),e.scale,e.offset);f.level=h,f.numPoints=u,f.hasChildren=n[s].children>0,f.spacing=a.spacing/Math.pow(2,h),p.addChild(f),o[l]=f}e.loadPoints()}(d,JSON.parse(p.responseText)||{})}catch(e){o.Global.numNodesLoading--,console.error("Potree: Exception thrown parsing points.",e)}},p.onerror=function(e){console.log("Potree: Failed to load file! HTTP status "+p.status+", file:"+l,e)},p.send(null)}},c.prototype.getNumPoints=function(){return this.numPoints},c.prototype.dispose=function(){if(this.geometry&&null!=this.parent){this.geometry.dispose(),this.geometry=null,this.loaded=!1;for(var e=0;e<this.oneTimeDisposeHandlers.length;e++)(0,this.oneTimeDisposeHandlers[e])();this.oneTimeDisposeHandlers=[]}},Object.assign(c.prototype,n.EventDispatcher.prototype)},"./source/pointcloud/geometries/PointCloudOctreeGeometry.js":function(e,t,r){"use strict";r.r(t),r.d(t,"PointCloudOctreeGeometry",(function(){return s})),r.d(t,"PointCloudOctreeGeometryNode",(function(){return c}));var n=r("three"),i=r("./source/loaders/POCLoader.js"),o=r("./source/Global.js"),a=r("./source/pointcloud/PointCloudTree.js"),s=function e(){_classCallCheck(this,e),this.url=null,this.octreeDir=null,this.spacing=0,this.boundingBox=null,this.root=null,this.nodes=null,this.pointAttributes=null,this.hierarchyStepSize=-1,this.loader=null},c=function(t){_inherits(a,t);var r=_createSuper(a);function a(e,t,i){var o;return _classCallCheck(this,a),(o=r.call(this)).id=a.IDCount++,o.name=e,o.index=parseInt(e.charAt(e.length-1)),o.pcoGeometry=t,o.geometry=null,o.boundingBox=i,o.boundingSphere=i.getBoundingSphere(new n.Sphere),o.children={},o.numPoints=0,o.level=null,o.loaded=!1,o.oneTimeDisposeHandlers=[],o}return _createClass(a,[{key:"isGeometryNode",value:function(){return!0}},{key:"getLevel",value:function(){return this.level}},{key:"isTreeNode",value:function(){return!1}},{key:"isLoaded",value:function(){return this.loaded}},{key:"getBoundingSphere",value:function(){return this.boundingSphere}},{key:"getBoundingBox",value:function(){return this.boundingBox}},{key:"getChildren",value:function(){for(var e=[],t=0;t<8;t++)this.children[t]&&e.push(this.children[t]);return e}},{key:"getURL",value:function(){var e="",t=this.pcoGeometry.loader.version;return t.equalOrHigher("1.5")?e=this.pcoGeometry.octreeDir+"/"+this.getHierarchyPath()+"/"+this.name:(t.equalOrHigher("1.4")||t.upTo("1.3"))&&(e=this.pcoGeometry.octreeDir+"/"+this.name),e}},{key:"getHierarchyPath",value:function(){for(var e="r/",t=this.pcoGeometry.hierarchyStepSize,r=this.name.substr(1),n=Math.floor(r.length/t),i=0;i<n;i++)e+=r.substr(i*t,t)+"/";return e.slice(0,-1)}},{key:"addChild",value:function(e){this.children[e.index]=e,e.parent=this}},{key:"load",value:function(){if(!(!0===this.loading||!0===this.loaded||o.Global.numNodesLoading>=o.Global.maxNodesLoading)){this.loading=!0,o.Global.numNodesLoading++;try{this.pcoGeometry.loader.version.equalOrHigher("1.5")&&this.level%this.pcoGeometry.hierarchyStepSize==0&&this.hasChildren?this.loadHierachyThenPoints():this.loadPoints()}catch(e){o.Global.numNodesLoading--,console.error("Potree: Exception thrown loading points file.",e)}}}},{key:"loadPoints",value:function(){this.pcoGeometry.loader.load(this)}},{key:"loadHierachyThenPoints",value:function(){var e=this;if(e.level%e.pcoGeometry.hierarchyStepSize==0){var t=e.pcoGeometry.octreeDir+"/"+e.getHierarchyPath()+"/"+e.name+".hrc",r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.overrideMimeType("text/plain; charset=x-user-defined"),r.onload=function(t){try{!function(e,t){var r=new DataView(t),n=[],o=r.getUint8(0),s=r.getUint32(1,!0);e.numPoints=s,n.push({children:o,numPoints:s,name:e.name});for(var c=[],l=5;n.length>0;){for(var u=n.shift(),d=1,p=0;p<8;p++){if(0!=(u.children&d)){var h=u.name+p,f=r.getUint8(l),g=r.getUint32(l+1,!0);n.push({children:f,numPoints:g,name:h}),c.push({children:f,numPoints:g,name:h}),l+=5}d*=2}if(l===t.byteLength)break}var m={};m[e.name]=e;var y=e.pcoGeometry;for(p=0;p<c.length;p++){var v=c[p].name,b=c[p].numPoints,x=parseInt(v.charAt(v.length-1)),S=m[v.substring(0,v.length-1)],A=v.length-1,w=new a(v,y,i.POCLoader.createChildAABB(S.boundingBox,x));w.level=A,w.numPoints=b,w.hasChildren=c[p].children>0,w.spacing=y.spacing/Math.pow(2,A),S.addChild(w),m[v]=w}e.loadPoints()}(e,r.response)}catch(e){o.Global.numNodesLoading--,console.error("Potree: Exception thrown parsing points.",e)}},r.onerror=function(e){o.Global.numNodesLoading--,console.error("Potree: Failed to load file.",r.status,t,e)},r.send(null)}}},{key:"getNumPoints",value:function(){return this.numPoints}},{key:"dispose",value:function(){if(this.geometry&&null!=this.parent){this.geometry.dispose(),this.geometry=null,this.loaded=!1;for(var e=0;e<this.oneTimeDisposeHandlers.length;e++)(0,this.oneTimeDisposeHandlers[e])();this.oneTimeDisposeHandlers=[]}}}]),a}(a.PointCloudTreeNode);c.IDCount=0,Object.assign(c.prototype,n.EventDispatcher.prototype)},"./source/pointcloud/materials/PointCloudMaterial.js":function(e,t,r){"use strict";r.r(t),r.d(t,"PointCloudMaterial",(function(){return c}));var n=r("three"),i=r("./source/utils/HelperUtils.js"),o=r("./source/Gradients.js"),a=r("./source/Shaders.js"),s=r("./source/Potree.js"),c=function(e){_inherits(r,e);var t=_createSuper(r);function r(){var e,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,r),(e=t.call(this)).visibleNodesTexture=i.HelperUtils.generateDataTexture(2048,1,new n.Color(16777215)),e.visibleNodesTexture.minFilter=n.NearestFilter,e.visibleNodesTexture.magFilter=n.NearestFilter;var l=function(e,t){return void 0!==e?e:t},u=l(c.size,1),d=l(c.minSize,2),p=l(c.maxSize,50),h=l(c.treeType,s.TreeType.OCTREE);e._pointSizeType=s.PointSizeType.FIXED,e._shape=s.PointShape.SQUARE,e._pointColorType=s.PointColorType.RGB,e._useClipBox=!1,e._weighted=!1,e._gradient=o.Gradients.SPECTRAL,e._treeType=h,e._useEDL=!1,e._snapEnabled=!1,e._numSnapshots=0,e._defaultIntensityRangeChanged=!1,e._defaultElevationRangeChanged=!1,e.clipBoxes=[],e.clipPolygons=[],e.gradientTexture=r.generateGradientTexture(e._gradient),e.lights=!1,e.fog=!1,e.defines=new Map,e.attributes={position:{type:"fv",value:[]},color:{type:"fv",value:[]},normal:{type:"fv",value:[]},intensity:{type:"f",value:[]},classification:{type:"f",value:[]},returnNumber:{type:"f",value:[]},numberOfReturns:{type:"f",value:[]},pointSourceID:{type:"f",value:[]},indices:{type:"fv",value:[]}},e.uniforms={level:{type:"f",value:0},vnStart:{type:"f",value:0},spacing:{type:"f",value:1},blendHardness:{type:"f",value:2},blendDepthSupplement:{type:"f",value:0},fov:{type:"f",value:1},screenWidth:{type:"f",value:1},screenHeight:{type:"f",value:1},near:{type:"f",value:.1},far:{type:"f",value:1},uColor:{type:"c",value:new n.Color(16777215)},uOpacity:{type:"f",value:1},size:{type:"f",value:u},minSize:{type:"f",value:d},maxSize:{type:"f",value:p},octreeSize:{type:"f",value:0},bbSize:{type:"fv",value:[0,0,0]},elevationRange:{type:"2fv",value:[0,0]},clipBoxCount:{type:"f",value:0},clipPolygonCount:{type:"i",value:0},clipBoxes:{type:"Matrix4fv",value:[]},clipPolygons:{type:"3fv",value:[]},clipPolygonVCount:{type:"iv",value:[]},clipPolygonVP:{type:"Matrix4fv",value:[]},visibleNodes:{type:"t",value:e.visibleNodesTexture},pcIndex:{type:"f",value:0},gradient:{type:"t",value:e.gradientTexture},classificationLUT:{type:"t",value:e.classificationTexture},uHQDepthMap:{type:"t",value:null},toModel:{type:"Matrix4f",value:[]},diffuse:{type:"fv",value:[1,1,1]},transition:{type:"f",value:.5},intensityRange:{type:"fv",value:[0,65e3]},intensityGamma:{type:"f",value:1},intensityContrast:{type:"f",value:0},intensityBrightness:{type:"f",value:0},rgbGamma:{type:"f",value:1},rgbContrast:{type:"f",value:0},rgbBrightness:{type:"f",value:0},wRGB:{type:"f",value:1},wIntensity:{type:"f",value:0},wElevation:{type:"f",value:0},wClassification:{type:"f",value:0},wReturnNumber:{type:"f",value:0},wSourceID:{type:"f",value:0},useOrthographicCamera:{type:"b",value:!1},clipTask:{type:"i",value:1},clipMethod:{type:"i",value:1},uSnapshot:{type:"tv",value:[]},uSnapshotDepth:{type:"tv",value:[]},uSnapView:{type:"Matrix4fv",value:[]},uSnapProj:{type:"Matrix4fv",value:[]},uSnapProjInv:{type:"Matrix4fv",value:[]},uSnapViewInv:{type:"Matrix4fv",value:[]},uShadowColor:{type:"3fv",value:[0,0,0]},uFilterReturnNumberRange:{type:"fv",value:[0,7]},uFilterNumberOfReturnsRange:{type:"fv",value:[0,7]},uFilterGPSTimeClipRange:{type:"fv",value:[0,7]}},e.classification=s.Classification.DEFAULT,e.defaultAttributeValues.normal=[0,0,0],e.defaultAttributeValues.classification=[0,0,0],e.defaultAttributeValues.indices=[0,0,0,0];var f=e.getDefines();return e.vertexShader=f+a.Shaders.vertex,e.fragmentShader=f+a.Shaders.fragment,e.vertexColors=n.VertexColors,e}return _createClass(r,[{key:"setDefine",value:function(e,t){null!=t?this.defines.get(e)!==t&&(this.defines.set(e,t),this.updateShaderSource()):this.removeDefine(e)}},{key:"removeDefine",value:function(e){this.defines.delete(e)}},{key:"updateShaderSource",value:function(){var e=this.getDefines();this.vertexShader=e+a.Shaders.vertex,this.fragmentShader=e+a.Shaders.fragment,1===this.opacity?(this.blending=n.NoBlending,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.depthFunc=n.LessEqualDepth):this.opacity<1&&!this.useEDL&&(this.blending=n.AdditiveBlending,this.transparent=!0,this.depthTest=!1,this.depthWrite=!0,this.depthFunc=n.AlwaysDepth),this.weighted&&(this.blending=n.AdditiveBlending,this.transparent=!0,this.depthTest=!0,this.depthWrite=!1),this.needsUpdate=!0}},{key:"onBeforeCompile",value:function(e,t){if(t.capabilities.logarithmicDepthBuffer){var r="#define USE_LOGDEPTHBUF\n#define USE_LOGDEPTHBUF_EXT\n#define EPSILON 1e-6\n";e.fragmentShader=r+e.fragmentShader,e.vertexShader=r+e.vertexShader}}},{key:"getDefines",value:function(){var e,t=[],r=_createForOfIteratorHelper((this.pointSizeType===s.PointSizeType.FIXED?t.push("#define fixed_point_size"):this.pointSizeType===s.PointSizeType.ATTENUATED?t.push("#define attenuated_point_size"):this.pointSizeType===s.PointSizeType.ADAPTIVE&&t.push("#define adaptive_point_size"),this.shape===s.PointShape.SQUARE?t.push("#define square_point_shape"):this.shape===s.PointShape.CIRCLE?t.push("#define circle_point_shape"):this.shape===s.PointShape.PARABOLOID&&t.push("#define paraboloid_point_shape"),this._useEDL&&t.push("#define use_edl"),this._snapEnabled&&t.push("#define snap_enabled"),this._pointColorType===s.PointColorType.RGB?t.push("#define color_type_rgb"):this._pointColorType===s.PointColorType.COLOR?t.push("#define color_type_color"):this._pointColorType===s.PointColorType.DEPTH?t.push("#define color_type_depth"):this._pointColorType===s.PointColorType.HEIGHT?t.push("#define color_type_height"):this._pointColorType===s.PointColorType.INTENSITY?t.push("#define color_type_intensity"):this._pointColorType===s.PointColorType.INTENSITY_GRADIENT?t.push("#define color_type_intensity_gradient"):this._pointColorType===s.PointColorType.LOD?t.push("#define color_type_lod"):this._pointColorType===s.PointColorType.POINT_INDEX?t.push("#define color_type_point_index"):this._pointColorType===s.PointColorType.CLASSIFICATION?t.push("#define color_type_classification"):this._pointColorType===s.PointColorType.RETURN_NUMBER?t.push("#define color_type_return_number"):this._pointColorType===s.PointColorType.SOURCE?t.push("#define color_type_source"):this._pointColorType===s.PointColorType.NORMAL?t.push("#define color_type_normal"):this._pointColorType===s.PointColorType.PHONG?t.push("#define color_type_phong"):this._pointColorType===s.PointColorType.RGB_HEIGHT?t.push("#define color_type_rgb_height"):this._pointColorType===s.PointColorType.COMPOSITE&&t.push("#define color_type_composite"),this._treeType===s.TreeType.OCTREE?t.push("#define tree_type_octree"):this._treeType===s.TreeType.KDTREE&&t.push("#define tree_type_kdtree"),this.weighted&&t.push("#define weighted_splats"),this.defines));try{for(r.s();!(e=r.n()).done;){var n=_slicedToArray(e.value,2),i=(n[0],n[1]);t.push(i)}}catch(o){r.e(o)}finally{r.f()}return t.join("\n")}},{key:"setClipBoxes",value:function(e){if(e){var t=this.clipBoxes.length!==e.length&&(0===e.length||0===this.clipBoxes.length);this.uniforms.clipBoxCount.value=this.clipBoxes.length,this.clipBoxes=e,t&&this.updateShaderSource(),this.uniforms.clipBoxes.value=new Float32Array(16*this.clipBoxes.length);for(var r=0;r<this.clipBoxes.length;r++){var n=e[r];this.uniforms.clipBoxes.value.set(n.inverse.elements,16*r)}for(r=0;r<this.uniforms.clipBoxes.value.length;r++)Number.isNaN(this.uniforms.clipBoxes.value[r])&&(this.uniforms.clipBoxes.value[r]=1/0)}}},{key:"setClipPolygons",value:function(e,t){e&&(this.clipPolygons=e,this.clipPolygons.length!==e.length&&this.updateShaderSource())}},{key:"recomputeClassification",value:function(){this.classificationTexture=r.generateClassificationTexture(this._classification),this.uniforms.classificationLUT.value=this.classificationTexture,this.dispatchEvent({type:"material_property_changed",target:this})}},{key:"disableEvents",value:function(){void 0===this._hiddenListeners&&(this._hiddenListeners=this._listeners,this._listeners={})}},{key:"enableEvents",value:function(){this._listeners=this._hiddenListeners,this._hiddenListeners=void 0}},{key:"copyFrom",value:function(e){var t,r=_createForOfIteratorHelper(this.uniforms);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.uniforms[n].value=e.uniforms[n].value}}catch(i){r.e(i)}finally{r.f()}}},{key:"gradient",get:function(){return this._gradient},set:function(e){this._gradient!==e&&(this._gradient=e,this.gradientTexture=r.generateGradientTexture(this._gradient),this.uniforms.gradient.value=this.gradientTexture)}},{key:"useOrthographicCamera",get:function(){return this.uniforms.useOrthographicCamera.value},set:function(e){this.uniforms.useOrthographicCamera.value!==e&&(this.uniforms.useOrthographicCamera.value=e)}},{key:"classification",get:function(){return this._classification},set:function(e){for(var t={},r=0,n=Object.keys(e);r<n.length;r++)t[s=n[r]]=e[s].clone();var i=!1;if(void 0===this._classification)i=!1;else for(var o=0,a=(i=Object.keys(t).length===Object.keys(this._classification).length,Object.keys(t));o<a.length;o++){var s=a[o];i=(i=i&&void 0!==this._classification[s])&&t[s].equals(this._classification[s])}i||(this._classification=t,this.recomputeClassification())}},{key:"numSnapshots",get:function(){return this._numSnapshots},set:function(e){this._numSnapshots=e}},{key:"snapEnabled",get:function(){return this._snapEnabled},set:function(e){this._snapEnabled!==e&&(this._snapEnabled=e,this.updateShaderSource())}},{key:"spacing",get:function(){return this.uniforms.spacing.value},set:function(e){this.uniforms.spacing.value!==e&&(this.uniforms.spacing.value=e)}},{key:"useClipBox",get:function(){return this._useClipBox},set:function(e){this._useClipBox!==e&&(this._useClipBox=e,this.updateShaderSource())}},{key:"clipTask",get:function(){return this.uniforms.clipTask.value},set:function(e){this.uniforms.clipTask.value=e}},{key:"clipMethod",get:function(){return this.uniforms.clipMethod.value},set:function(e){this.uniforms.clipMethod.value=e}},{key:"weighted",get:function(){return this._weighted},set:function(e){this._weighted!==e&&(this._weighted=e,this.updateShaderSource())}},{key:"fov",get:function(){return this.uniforms.fov.value},set:function(e){this.uniforms.fov.value!==e&&(this.uniforms.fov.value=e,this.updateShaderSource())}},{key:"screenWidth",get:function(){return this.uniforms.screenWidth.value},set:function(e){this.uniforms.screenWidth.value!==e&&(this.uniforms.screenWidth.value=e,this.updateShaderSource())}},{key:"screenHeight",get:function(){return this.uniforms.screenHeight.value},set:function(e){this.uniforms.screenHeight.value!==e&&(this.uniforms.screenHeight.value=e,this.updateShaderSource())}},{key:"near",get:function(){return this.uniforms.near.value},set:function(e){this.uniforms.near.value!==e&&(this.uniforms.near.value=e)}},{key:"far",get:function(){return this.uniforms.far.value},set:function(e){this.uniforms.far.value!==e&&(this.uniforms.far.value=e)}},{key:"opacity",get:function(){return this.uniforms.uOpacity.value},set:function(e){this.uniforms&&this.uniforms.uOpacity&&this.uniforms.uOpacity.value!==e&&(this.uniforms.uOpacity.value=e,this.updateShaderSource(),this.dispatchEvent({type:"opacity_changed",target:this}),this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"pointColorType",get:function(){return this._pointColorType},set:function(e){this._pointColorType!==e&&(this._pointColorType=e,this.updateShaderSource(),this.dispatchEvent({type:"point_color_type_changed",target:this}),this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"pointSizeType",get:function(){return this._pointSizeType},set:function(e){this._pointSizeType!==e&&(this._pointSizeType=e,this.updateShaderSource(),this.dispatchEvent({type:"point_size_type_changed",target:this}),this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"useEDL",get:function(){return this._useEDL},set:function(e){this._useEDL!==e&&(this._useEDL=e,this.updateShaderSource())}},{key:"color",get:function(){return this.uniforms.uColor.value},set:function(e){this.uniforms.uColor.value.equals(e)||(this.uniforms.uColor.value.copy(e),this.dispatchEvent({type:"color_changed",target:this}),this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"shape",get:function(){return this._shape},set:function(e){this._shape!==e&&(this._shape=e,this.updateShaderSource(),this.dispatchEvent({type:"point_shape_changed",target:this}),this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"treeType",get:function(){return this._treeType},set:function(e){this._treeType!==e&&(this._treeType=e,this.updateShaderSource())}},{key:"bbSize",get:function(){return this.uniforms.bbSize.value},set:function(e){this.uniforms.bbSize.value=e}},{key:"size",get:function(){return this.uniforms.size.value},set:function(e){this.uniforms.size.value!==e&&(this.uniforms.size.value=e,this.dispatchEvent({type:"point_size_changed",target:this}),this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"elevationRange",get:function(){return this.uniforms.elevationRange.value},set:function(e){(this.uniforms.elevationRange.value[0]!==e[0]||this.uniforms.elevationRange.value[1]!==e[1])&&(this.uniforms.elevationRange.value=e,this._defaultElevationRangeChanged=!0,this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"heightMin",get:function(){return this.uniforms.elevationRange.value[0]},set:function(e){this.elevationRange=[e,this.elevationRange[1]]}},{key:"heightMax",get:function(){return this.uniforms.elevationRange.value[1]},set:function(e){this.elevationRange=[this.elevationRange[0],e]}},{key:"transition",get:function(){return this.uniforms.transition.value},set:function(e){this.uniforms.transition.value=e}},{key:"intensityRange",get:function(){return this.uniforms.intensityRange.value},set:function(e){e instanceof Array&&2===e.length&&(e[0]===this.uniforms.intensityRange.value[0]&&e[1]===this.uniforms.intensityRange.value[1]||(this.uniforms.intensityRange.value=e,this._defaultIntensityRangeChanged=!0,this.dispatchEvent({type:"material_property_changed",target:this})))}},{key:"intensityGamma",get:function(){return this.uniforms.intensityGamma.value},set:function(e){this.uniforms.intensityGamma.value!==e&&(this.uniforms.intensityGamma.value=e,this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"intensityContrast",get:function(){return this.uniforms.intensityContrast.value},set:function(e){this.uniforms.intensityContrast.value!==e&&(this.uniforms.intensityContrast.value=e,this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"intensityBrightness",get:function(){return this.uniforms.intensityBrightness.value},set:function(e){this.uniforms.intensityBrightness.value!==e&&(this.uniforms.intensityBrightness.value=e,this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"rgbGamma",get:function(){return this.uniforms.rgbGamma.value},set:function(e){this.uniforms.rgbGamma.value!==e&&(this.uniforms.rgbGamma.value=e,this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"rgbContrast",get:function(){return this.uniforms.rgbContrast.value},set:function(e){this.uniforms.rgbContrast.value!==e&&(this.uniforms.rgbContrast.value=e,this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"rgbBrightness",get:function(){return this.uniforms.rgbBrightness.value},set:function(e){this.uniforms.rgbBrightness.value!==e&&(this.uniforms.rgbBrightness.value=e,this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"weightRGB",get:function(){return this.uniforms.wRGB.value},set:function(e){this.uniforms.wRGB.value!==e&&(this.uniforms.wRGB.value=e,this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"weightIntensity",get:function(){return this.uniforms.wIntensity.value},set:function(e){this.uniforms.wIntensity.value!==e&&(this.uniforms.wIntensity.value=e,this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"weightElevation",get:function(){return this.uniforms.wElevation.value},set:function(e){this.uniforms.wElevation.value!==e&&(this.uniforms.wElevation.value=e,this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"weightClassification",get:function(){return this.uniforms.wClassification.value},set:function(e){this.uniforms.wClassification.value!==e&&(this.uniforms.wClassification.value=e,this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"weightReturnNumber",get:function(){return this.uniforms.wReturnNumber.value},set:function(e){this.uniforms.wReturnNumber.value!==e&&(this.uniforms.wReturnNumber.value=e,this.dispatchEvent({type:"material_property_changed",target:this}))}},{key:"weightSourceID",get:function(){return this.uniforms.wSourceID.value},set:function(e){this.uniforms.wSourceID.value!==e&&(this.uniforms.wSourceID.value=e,this.dispatchEvent({type:"material_property_changed",target:this}))}}],[{key:"generateGradientTexture",value:function(e){var t=document.createElement("canvas");t.width=64,t.height=64;var r=t.getContext("2d");r.rect(0,0,64,64);for(var i=r.createLinearGradient(0,0,64,64),o=0;o<e.length;o++){var a=e[o];i.addColorStop(a[0],"#"+a[1].getHexString())}r.fillStyle=i,r.fill();var s=new n.CanvasTexture(t);return s.needsUpdate=!0,s.minFilter=n.LinearFilter,s}},{key:"generateClassificationTexture",value:function(e){for(var t=new Uint8Array(262144),r=0;r<256;r++)for(var i=0;i<256;i++){var o,a=r+256*i;o=e[r]?e[r]:e[r%32]?e[r%32]:e.DEFAULT,t[4*a+0]=255*o.x,t[4*a+1]=255*o.y,t[4*a+2]=255*o.z,t[4*a+3]=255*o.w}var s=new n.DataTexture(t,256,256,n.RGBAFormat);return s.magFilter=n.NearestFilter,s.needsUpdate=!0,s}}]),r}(n.RawShaderMaterial)},"./source/utils/HelperUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"HelperUtils",(function(){return i}));var n=r("three"),i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"generateDataTexture",value:function(e,t,r){for(var i=e*t,o=new Uint8Array(4*e*t),a=Math.floor(255*r.r),s=Math.floor(255*r.g),c=Math.floor(255*r.b),l=0;l<i;l++)o[3*l]=a,o[3*l+1]=s,o[3*l+2]=c;var u=new n.DataTexture(o,e,t,n.RGBAFormat);return u.needsUpdate=!0,u.magFilter=n.NearestFilter,u}},{key:"computeTransformedBoundingBox",value:function(e,t){var r=[new n.Vector3(e.min.x,e.min.y,e.min.z).applyMatrix4(t),new n.Vector3(e.min.x,e.min.y,e.min.z).applyMatrix4(t),new n.Vector3(e.max.x,e.min.y,e.min.z).applyMatrix4(t),new n.Vector3(e.min.x,e.max.y,e.min.z).applyMatrix4(t),new n.Vector3(e.min.x,e.min.y,e.max.z).applyMatrix4(t),new n.Vector3(e.min.x,e.max.y,e.max.z).applyMatrix4(t),new n.Vector3(e.max.x,e.max.y,e.min.z).applyMatrix4(t),new n.Vector3(e.max.x,e.min.y,e.max.z).applyMatrix4(t),new n.Vector3(e.max.x,e.max.y,e.max.z).applyMatrix4(t)],i=new n.Box3;return i.setFromPoints(r),i}}]),e}()},"./source/utils/LRU.js":function(e,t,r){"use strict";r.r(t),r.d(t,"LRU",(function(){return o})),r.d(t,"LRUItem",(function(){return i}));var n=r("./source/Global.js"),i=function e(t){_classCallCheck(this,e),this.previous=null,this.next=null,this.node=t},o=function(){function e(){_classCallCheck(this,e),this.first=null,this.last=null,this.items={},this.elements=0,this.numPoints=0}return _createClass(e,[{key:"size",value:function(){return this.elements}},{key:"contains",value:function(e){return null==this.items[e.id]}},{key:"touch",value:function(e){var t;e.loaded&&(null==this.items[e.id]?((t=new i(e)).previous=this.last,this.last=t,null!==t.previous&&(t.previous.next=t),this.items[e.id]=t,this.elements++,null===this.first&&(this.first=t),this.numPoints+=e.numPoints):null===(t=this.items[e.id]).previous?null!==t.next&&(this.first=t.next,this.first.previous=null,t.previous=this.last,t.next=null,this.last=t,t.previous.next=t):null!==t.next&&(t.previous.next=t.next,t.next.previous=t.previous,t.previous=this.last,t.next=null,this.last=t,t.previous.next=t))}},{key:"remove",value:function(e){var t=this.items[e.id];t&&(1===this.elements?(this.first=null,this.last=null):(t.previous||(this.first=t.next,this.first.previous=null),t.next||(this.last=t.previous,this.last.next=null),t.previous&&t.next&&(t.previous.next=t.next,t.next.previous=t.previous)),delete this.items[e.id],this.elements--,this.numPoints-=e.numPoints)}},{key:"getLRUItem",value:function(){return null===this.first?null:this.first.node}},{key:"toString",value:function(){for(var e="{ ",t=this.first;null!==t;)e+=t.node.id,null!==t.next&&(e+=", "),t=t.next;return(e+="}")+"("+this.size()+")"}},{key:"freeMemory",value:function(){if(!(this.elements<=1))for(;this.numPoints>n.Global.pointLoadLimit;){var e=this.first.node;this.disposeDescendants(e)}}},{key:"disposeDescendants",value:function(e){var t=[];for(t.push(e);t.length>0;){var r=t.pop();for(var n in r.dispose(),this.remove(r),r.children)r.children.hasOwnProperty(n)&&r.children[n].loaded&&t.push(r.children[n])}}}]),e}()},"./source/utils/VersionUtils.js":function(e,t,r){"use strict";function n(e){this.version=e;var t=-1===e.indexOf(".")?e.length:e.indexOf(".");this.versionMajor=parseInt(e.substr(0,t)),this.versionMinor=parseInt(e.substr(t+1)),0===this.versionMinor.length&&(this.versionMinor=0)}r.r(t),r.d(t,"VersionUtils",(function(){return n})),n.prototype.newerThan=function(e){var t=new n(e);return this.versionMajor>t.versionMajor||this.versionMajor===t.versionMajor&&this.versionMinor>t.versionMinor},n.prototype.equalOrHigher=function(e){var t=new n(e);return this.versionMajor>t.versionMajor||this.versionMajor===t.versionMajor&&this.versionMinor>=t.versionMinor},n.prototype.upTo=function(e){return!this.newerThan(e)}},"./source/utils/WorkerManager.js":function(e,t,r){"use strict";r.r(t),r.d(t,"WorkerManager",(function(){return h})),r("./source/Global.js");var n=r("./source/workers/BinaryDecoderWorker.js"),i=r.n(n),o=r("./source/workers/LASDecoderWorker.js"),a=r.n(o),s=r("./source/workers/DEMWorker.js"),c=r.n(s),l=r("./source/workers/EptLaszipDecoderWorker.js"),u=r.n(l),d=r("./source/workers/EptBinaryDecoderWorker.js"),p=r.n(d),h=function(){function e(){_classCallCheck(this,e),this.workers=[];for(var t=0;t<7;t++)this.workers.push([])}return _createClass(e,[{key:"getWorker",value:function(e){if(this.workers[e].length>0)return this.workers[e].pop();switch(e){case 0:return new i.a;case 1:throw"LASLAZWorker not implemented";case 2:return new a.a;case 3:throw"GreyhoundBinaryDecoderWorker not implemented";case 4:return new c.a;case 5:return new u.a;case 6:return new p.a}}},{key:"returnWorker",value:function(e,t){this.workers[e].push(t)}},{key:"runTask",value:function(e,t,r,n){var i=this,o=this.getWorker(e);o.onmessage=function(r){t(r),i.returnWorker(e,o)},void 0!==n?o.postMessage(r,n):o.postMessage(r)}}]),e}();h.BINARY_DECODER=0,h.LAS_LAZ=1,h.LAS_DECODER=2,h.GREYHOUND=3,h.DEM=4,h.EPT_LAS_ZIP_DECODER=5,h.EPT_BINARY_DECODER=6},"./source/workers/BinaryDecoderWorker.js":function(e,t,r){e.exports=function(){return r("./node_modules/worker-loader/dist/workers/InlineWorker.js")("/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./source/workers/BinaryDecoderWorker.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./source/workers/BinaryDecoderWorker.js\":\n/*!***********************************************!*\\\n  !*** ./source/workers/BinaryDecoderWorker.js ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction CustomView(buffer)\n{\n\tthis.buffer = buffer;\n\tthis.u8 = new Uint8Array(buffer);\n\n\tvar tmp = new ArrayBuffer(4);\n\tvar tmpf = new Float32Array(tmp);\n\tvar tmpu8 = new Uint8Array(tmp);\n\n\tthis.getUint32 = function(i)\n\t{\n\t\treturn (this.u8[i + 3] << 24) | (this.u8[i + 2] << 16) | (this.u8[i + 1] << 8) | this.u8[i];\n\t};\n\n\tthis.getUint16 = function(i)\n\t{\n\t\treturn (this.u8[i + 1] << 8) | this.u8[i];\n\t};\n\n\tthis.getFloat32 = function(i)\n\t{\n\t\ttmpu8[0] = this.u8[i + 0];\n\t\ttmpu8[1] = this.u8[i + 1];\n\t\ttmpu8[2] = this.u8[i + 2];\n\t\ttmpu8[3] = this.u8[i + 3];\n\n\t\treturn tmpf[0];\n\t};\n\n\tthis.getUint8 = function(i)\n\t{\n\t\treturn this.u8[i];\n\t};\n}\n\nonmessage = function(event)\n{\n  if (!event.data || !event.data.buffer) {\n    return;\n  }\n\ttry\n\t{\n\t\tvar buffer = event.data.buffer;\n\t\tvar pointAttributes = event.data.pointAttributes;\n\t\tvar numPoints = buffer.byteLength / pointAttributes.byteSize;\n\t\tvar cv = new CustomView(buffer);\n\t\tvar version = new Version(event.data.version);\n\t\tvar nodeOffset = event.data.offset;\n\t\tvar scale = event.data.scale;\n\t\tvar spacing = event.data.spacing;\n\t\tvar hasChildren = event.data.hasChildren;\n\t\tvar name = event.data.name;\n\t\t\n\t\tvar tightBoxMin = [ Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY ];\n\t\tvar tightBoxMax = [ Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY ];\n\t\tvar mean = [0, 0, 0];\n\n\t\tvar attributeBuffers = {};\n\t\tvar inOffset = 0;\n\n\t\tfor(var pointAttribute of pointAttributes.attributes)\n\t\t{\n\t\t\tif(pointAttribute.name === PointAttribute.POSITION_CARTESIAN.name)\n\t\t\t{\n\t\t\t\tvar buff = new ArrayBuffer(numPoints * 4 * 3);\n\t\t\t\tvar positions = new Float32Array(buff);\n\t\t\t\n\t\t\t\tfor(var j = 0; j < numPoints; j++)\n\t\t\t\t{\n\t\t\t\t\tvar x, y, z;\n\n\t\t\t\t\tif(version.newerThan(\"1.3\"))\n\t\t\t\t\t{\n\t\t\t\t\t\tx = (cv.getUint32(inOffset + j * pointAttributes.byteSize + 0, true) * scale);\n\t\t\t\t\t\ty = (cv.getUint32(inOffset + j * pointAttributes.byteSize + 4, true) * scale);\n\t\t\t\t\t\tz = (cv.getUint32(inOffset + j * pointAttributes.byteSize + 8, true) * scale);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tx = cv.getFloat32(j * pointAttributes.byteSize + 0, true) + nodeOffset[0];\n\t\t\t\t\t\ty = cv.getFloat32(j * pointAttributes.byteSize + 4, true) + nodeOffset[1];\n\t\t\t\t\t\tz = cv.getFloat32(j * pointAttributes.byteSize + 8, true) + nodeOffset[2];\n\t\t\t\t\t}\n\n\t\t\t\t\tpositions[3 * j + 0] = x;\n\t\t\t\t\tpositions[3 * j + 1] = y;\n\t\t\t\t\tpositions[3 * j + 2] = z;\n\n\t\t\t\t\tmean[0] += x / numPoints;\n\t\t\t\t\tmean[1] += y / numPoints;\n\t\t\t\t\tmean[2] += z / numPoints;\n\n\t\t\t\t\ttightBoxMin[0] = Math.min(tightBoxMin[0], x);\n\t\t\t\t\ttightBoxMin[1] = Math.min(tightBoxMin[1], y);\n\t\t\t\t\ttightBoxMin[2] = Math.min(tightBoxMin[2], z);\n\n\t\t\t\t\ttightBoxMax[0] = Math.max(tightBoxMax[0], x);\n\t\t\t\t\ttightBoxMax[1] = Math.max(tightBoxMax[1], y);\n\t\t\t\t\ttightBoxMax[2] = Math.max(tightBoxMax[2], z);\n\t\t\t\t}\n\n\t\t\t\tattributeBuffers[pointAttribute.name] = {buffer: buff, attribute: pointAttribute};\n\t\t\t} else if(pointAttribute.name === PointAttribute.COLOR_PACKED.name)\n\t\t\t{\n\t\t\t\tvar buff = new ArrayBuffer(numPoints * 4);\n\t\t\t\tvar colors = new Uint8Array(buff);\n\n\t\t\t\tfor(var j = 0; j < numPoints; j++)\n\t\t\t\t{\n\t\t\t\t\tcolors[4 * j + 0] = cv.getUint8(inOffset + j * pointAttributes.byteSize + 0);\n\t\t\t\t\tcolors[4 * j + 1] = cv.getUint8(inOffset + j * pointAttributes.byteSize + 1);\n\t\t\t\t\tcolors[4 * j + 2] = cv.getUint8(inOffset + j * pointAttributes.byteSize + 2);\n\t\t\t\t}\n\n\t\t\t\tattributeBuffers[pointAttribute.name] = {buffer: buff, attribute: pointAttribute};\n\t\t\t}\n\t\t\telse if(pointAttribute.name === PointAttribute.INTENSITY.name)\n\t\t\t{\n\t\t\t\tvar buff = new ArrayBuffer(numPoints * 4);\n\t\t\t\tvar intensities = new Float32Array(buff);\n\n\t\t\t\tfor(var j = 0; j < numPoints; j++)\n\t\t\t\t{\n\t\t\t\t\tvar intensity = cv.getUint16(inOffset + j * pointAttributes.byteSize, true);\n\t\t\t\t\tintensities[j] = intensity;\n\t\t\t\t}\n\n\t\t\t\tattributeBuffers[pointAttribute.name] = {buffer: buff, attribute: pointAttribute};\n\t\t\t}\n\t\t\telse if(pointAttribute.name === PointAttribute.CLASSIFICATION.name)\n\t\t\t{\n\t\t\t\tvar buff = new ArrayBuffer(numPoints);\n\t\t\t\tvar classifications = new Uint8Array(buff);\n\n\t\t\t\tfor(var j = 0; j < numPoints; j++)\n\t\t\t\t{\n\t\t\t\t\tvar classification = cv.getUint8(inOffset + j * pointAttributes.byteSize);\n\t\t\t\t\tclassifications[j] = classification;\n\t\t\t\t}\n\n\t\t\t\tattributeBuffers[pointAttribute.name] = {buffer: buff, attribute: pointAttribute};\n\t\t\t}\n\t\t\telse if(pointAttribute.name === PointAttribute.NORMAL_SPHEREMAPPED.name)\n\t\t\t{\n\t\t\t\tvar buff = new ArrayBuffer(numPoints * 4 * 3);\n\t\t\t\tvar normals = new Float32Array(buff);\n\n\t\t\t\tfor(var j = 0; j < numPoints; j++)\n\t\t\t\t{\n\t\t\t\t\tvar bx = cv.getUint8(inOffset + j * pointAttributes.byteSize + 0);\n\t\t\t\t\tvar by = cv.getUint8(inOffset + j * pointAttributes.byteSize + 1);\n\n\t\t\t\t\tvar ex = bx / 255;\n\t\t\t\t\tvar ey = by / 255;\n\n\t\t\t\t\tvar nx = ex * 2 - 1;\n\t\t\t\t\tvar ny = ey * 2 - 1;\n\t\t\t\t\tvar nz = 1;\n\t\t\t\t\tvar nw = -1;\n\n\t\t\t\t\tvar l = (nx * (-nx)) + (ny * (-ny)) + (nz * (-nw));\n\t\t\t\t\tnz = l;\n\t\t\t\t\tnx = nx * Math.sqrt(l);\n\t\t\t\t\tny = ny * Math.sqrt(l);\n\n\t\t\t\t\tnx = nx * 2;\n\t\t\t\t\tny = ny * 2;\n\t\t\t\t\tnz = nz * 2 - 1;\n\n\t\t\t\t\tnormals[3 * j + 0] = nx;\n\t\t\t\t\tnormals[3 * j + 1] = ny;\n\t\t\t\t\tnormals[3 * j + 2] = nz;\n\t\t\t\t}\n\n\t\t\t\tattributeBuffers[pointAttribute.name] = {buffer: buff, attribute: pointAttribute};\n\t\t\t}\n\t\t\telse if(pointAttribute.name === PointAttribute.NORMAL_OCT16.name)\n\t\t\t{\n\t\t\t\tvar buff = new ArrayBuffer(numPoints * 4 * 3);\n\t\t\t\tvar normals = new Float32Array(buff);\n\n\t\t\t\tfor(var j = 0; j < numPoints; j++) {\n\t\t\t\t\tvar bx = cv.getUint8(inOffset + j * pointAttributes.byteSize + 0);\n\t\t\t\t\tvar by = cv.getUint8(inOffset + j * pointAttributes.byteSize + 1);\n\n\t\t\t\t\tvar u = (bx / 255) * 2 - 1;\n\t\t\t\t\tvar v = (by / 255) * 2 - 1;\n\n\t\t\t\t\tvar z = 1 - Math.abs(u) - Math.abs(v);\n\n\t\t\t\t\tvar x = 0;\n\t\t\t\t\tvar y = 0;\n\t\t\t\t\tif(z >= 0) {\n\t\t\t\t\t\tx = u;\n\t\t\t\t\t\ty = v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tx = -(v / Math.sign(v) - 1) / Math.sign(u);\n\t\t\t\t\t\ty = -(u / Math.sign(u) - 1) / Math.sign(v);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar length = Math.sqrt(x * x + y * y + z * z);\n\t\t\t\t\tx = x / length;\n\t\t\t\t\ty = y / length;\n\t\t\t\t\tz = z / length;\n\t\t\t\t\t\n\t\t\t\t\tnormals[3 * j + 0] = x;\n\t\t\t\t\tnormals[3 * j + 1] = y;\n\t\t\t\t\tnormals[3 * j + 2] = z;\n\t\t\t\t}\n\n\t\t\t\tattributeBuffers[pointAttribute.name] = {buffer: buff, attribute: pointAttribute};\n\t\t\t} else if(pointAttribute.name === PointAttribute.NORMAL.name) {\n\t\t\t\tvar buff = new ArrayBuffer(numPoints * 4 * 3);\n\t\t\t\tvar normals = new Float32Array(buff);\n\n\t\t\t\tfor(var j = 0; j < numPoints; j++) {\n\t\t\t\t\tvar x = cv.getFloat32(inOffset + j * pointAttributes.byteSize + 0, true);\n\t\t\t\t\tvar y = cv.getFloat32(inOffset + j * pointAttributes.byteSize + 4, true);\n\t\t\t\t\tvar z = cv.getFloat32(inOffset + j * pointAttributes.byteSize + 8, true);\n\t\t\t\t\t\n\t\t\t\t\tnormals[3 * j + 0] = x;\n\t\t\t\t\tnormals[3 * j + 1] = y;\n\t\t\t\t\tnormals[3 * j + 2] = z;\n\t\t\t\t}\n\n\t\t\t\tattributeBuffers[pointAttribute.name] = {buffer: buff, attribute: pointAttribute};\n\t\t\t}\n\n\t\t\tinOffset += pointAttribute.byteSize;\n\t\t}\n\n\t\t//add indices\n\t\tvar buff = new ArrayBuffer(numPoints * 4);\n\t\tvar indices = new Uint32Array(buff);\n\n\t\tfor(var i = 0; i < numPoints; i++)\n\t\t{\n\t\t\tindices[i] = i;\n\t\t}\n\t\t\n\t\tattributeBuffers[PointAttribute.INDICES.name] = {buffer: buff, attribute: PointAttribute.INDICES};\n\n\t\tvar message =\n\t\t{\n\t\t\tbuffer: buffer,\n\t\t\tmean: mean,\n\t\t\tattributeBuffers: attributeBuffers,\n\t\t\ttightBoundingBox: {min: tightBoxMin, max: tightBoxMax},\n\t\t};\n\n\t\tvar transferables = [];\n\t\tfor(var property in message.attributeBuffers)\n\t\t{\n\t\t\ttransferables.push(message.attributeBuffers[property].buffer);\n\t\t}\n\t\ttransferables.push(buffer);\n\n\t\tpostMessage(message, transferables);\n\t}\n\tcatch(e)\n\t{\n\t\tpostMessage({error: \"Exeption thrown during execution.\"});\n\t}\n};\n\n\nfunction Version(version)\n{\n\tthis.version = version;\n\tvar vmLength = (version.indexOf(\".\") === -1) ? version.length : version.indexOf(\".\");\n\tthis.versionMajor = parseInt(version.substr(0, vmLength));\n\tthis.versionMinor = parseInt(version.substr(vmLength + 1));\n\n\tif(this.versionMinor.length === 0)\n\t{\n\t\tthis.versionMinor = 0;\n\t}\n};\n\nVersion.prototype.newerThan = function(version)\n{\n\tvar v = new Version(version);\n\n\tif((this.versionMajor > v.versionMajor) || (this.versionMajor === v.versionMajor && this.versionMinor > v.versionMinor))\n\t{\n\t\treturn true;\n\t}\n\t\n\treturn false;\n};\n\nvar PointAttributeNames =\n{\n\tPOSITION_CARTESIAN: 0, //float x, y, z,\n\tCOLOR_PACKED: 1, //byte r, g, b, a, I: [0,1]\n\tCOLOR_FLOATS_1: 2, //float r, g, b, I: [0,1]\n\tCOLOR_FLOATS_255: 3, //float r, g, b, I: [0,255]\n\tNORMAL_FLOATS: 4, //float x, y, z,\n\tFILLER: 5,\n\tINTENSITY: 6,\n\tCLASSIFICATION: 7,\n\tNORMAL_SPHEREMAPPED: 8,\n\tNORMAL_OCT16: 9,\n\tNORMAL: 10,\n\tRETURN_NUMBER: 11,\n\tNUMBER_OF_RETURNS: 12,\n\tSOURCE_ID: 13,\n\tINDICES: 14,\n\tSPACING: 15\n};\n\n/**\n * Some types of possible point attribute data formats\n *\n * @class\n */\nvar PointAttributeTypes =\n{\n\tDATA_TYPE_DOUBLE: {ordinal: 0, size: 8},\n\tDATA_TYPE_FLOAT: {ordinal: 1, size: 4},\n\tDATA_TYPE_INT8: {ordinal: 2, size: 1},\n\tDATA_TYPE_UINT8: {ordinal: 3, size: 1},\n\tDATA_TYPE_INT16: {ordinal: 4, size: 2},\n\tDATA_TYPE_UINT16: {ordinal: 5, size: 2},\n\tDATA_TYPE_INT32: {ordinal: 6, size: 4},\n\tDATA_TYPE_UINT32: {ordinal: 7, size: 4},\n\tDATA_TYPE_INT64: {ordinal: 8, size: 8},\n\tDATA_TYPE_UINT64: {ordinal: 9, size: 8}\n};\n\nvar i = 0;\nfor(var obj in PointAttributeTypes)\n{\n\tPointAttributeTypes[i] = PointAttributeTypes[obj];\n\ti++;\n}\n\nfunction PointAttribute(name, type, numElements)\n{\n\tthis.name = name;\n\tthis.type = type;\n\tthis.numElements = numElements;\n\tthis.byteSize = this.numElements * this.type.size;\n};\n\nPointAttribute.POSITION_CARTESIAN = new PointAttribute(PointAttributeNames.POSITION_CARTESIAN, PointAttributeTypes.DATA_TYPE_FLOAT, 3);\nPointAttribute.RGBA_PACKED = new PointAttribute(PointAttributeNames.COLOR_PACKED, PointAttributeTypes.DATA_TYPE_INT8, 4);\nPointAttribute.COLOR_PACKED = PointAttribute.RGBA_PACKED;\nPointAttribute.RGB_PACKED = new PointAttribute(PointAttributeNames.COLOR_PACKED, PointAttributeTypes.DATA_TYPE_INT8, 3);\nPointAttribute.NORMAL_FLOATS = new PointAttribute(PointAttributeNames.NORMAL_FLOATS, PointAttributeTypes.DATA_TYPE_FLOAT, 3);\nPointAttribute.FILLER_1B = new PointAttribute(PointAttributeNames.FILLER, PointAttributeTypes.DATA_TYPE_UINT8, 1);\nPointAttribute.INTENSITY = new PointAttribute(PointAttributeNames.INTENSITY, PointAttributeTypes.DATA_TYPE_UINT16, 1);\nPointAttribute.CLASSIFICATION = new PointAttribute(PointAttributeNames.CLASSIFICATION, PointAttributeTypes.DATA_TYPE_UINT8, 1);\nPointAttribute.NORMAL_SPHEREMAPPED = new PointAttribute(PointAttributeNames.NORMAL_SPHEREMAPPED, PointAttributeTypes.DATA_TYPE_UINT8, 2);\nPointAttribute.NORMAL_OCT16 = new PointAttribute(PointAttributeNames.NORMAL_OCT16, PointAttributeTypes.DATA_TYPE_UINT8, 2);\nPointAttribute.NORMAL = new PointAttribute(PointAttributeNames.NORMAL, PointAttributeTypes.DATA_TYPE_FLOAT, 3);\nPointAttribute.RETURN_NUMBER = new PointAttribute(PointAttributeNames.RETURN_NUMBER, PointAttributeTypes.DATA_TYPE_UINT8, 1);\nPointAttribute.NUMBER_OF_RETURNS = new PointAttribute(PointAttributeNames.NUMBER_OF_RETURNS, PointAttributeTypes.DATA_TYPE_UINT8, 1);\nPointAttribute.SOURCE_ID = new PointAttribute(PointAttributeNames.SOURCE_ID, PointAttributeTypes.DATA_TYPE_UINT8, 1);\nPointAttribute.INDICES = new PointAttribute(PointAttributeNames.INDICES, PointAttributeTypes.DATA_TYPE_UINT32, 1);\nPointAttribute.SPACING = new PointAttribute(PointAttributeNames.SPACING, PointAttributeTypes.DATA_TYPE_FLOAT, 1);\n\nfunction PointAttributes(pointAttributes)\n{\n\tthis.attributes = [];\n\tthis.byteSize = 0;\n\tthis.size = 0;\n\n\tif(pointAttributes != null)\n\t{\n\t\tfor(var i = 0; i < pointAttributes.length; i++)\n\t\t{\n\t\t\tvar pointAttributeName = pointAttributes[i];\n\t\t\tvar pointAttribute = PointAttribute[pointAttributeName];\n\t\t\tthis.attributes.push(pointAttribute);\n\t\t\tthis.byteSize += pointAttribute.byteSize;\n\t\t\tthis.size++;\n\t\t}\n\t}\n};\n\nPointAttributes.prototype.add = function(pointAttribute)\n{\n\tthis.attributes.push(pointAttribute);\n\tthis.byteSize += pointAttribute.byteSize;\n\tthis.size++;\n};\n\nPointAttributes.prototype.hasColors = function()\n{\n\tfor(var name in this.attributes)\n\t{\n\t\tvar pointAttribute = this.attributes[name];\n\t\tif(pointAttribute.name === PointAttributeNames.COLOR_PACKED)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n};\n\nPointAttributes.prototype.hasNormals = function()\n{\n\tfor(var name in this.attributes)\n\t{\n\t\tvar pointAttribute = this.attributes[name];\n\t\tif(\n\t\t\tpointAttribute === PointAttribute.NORMAL_SPHEREMAPPED ||\n\t\t\tpointAttribute === PointAttribute.NORMAL_FLOATS ||\n\t\t\tpointAttribute === PointAttribute.NORMAL ||\n\t\t\tpointAttribute === PointAttribute.NORMAL_OCT16) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n};\n\n\n/***/ })\n\n/******/ });\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3dvcmtlcnMvQmluYXJ5RGVjb2Rlcldvcmtlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO1FBQUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7OztRQUdBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwwQ0FBMEMsZ0NBQWdDO1FBQzFFO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0Esd0RBQXdELGtCQUFrQjtRQUMxRTtRQUNBLGlEQUFpRCxjQUFjO1FBQy9EOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSx5Q0FBeUMsaUNBQWlDO1FBQzFFLGdIQUFnSCxtQkFBbUIsRUFBRTtRQUNySTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDJCQUEyQiwwQkFBMEIsRUFBRTtRQUN2RCxpQ0FBaUMsZUFBZTtRQUNoRDtRQUNBO1FBQ0E7O1FBRUE7UUFDQSxzREFBc0QsK0RBQStEOztRQUVySDtRQUNBOzs7UUFHQTtRQUNBOzs7Ozs7Ozs7Ozs7O0FDbEZhOztBQUViO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixlQUFlO0FBQ2pDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZDQUE2QztBQUM3QyxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixlQUFlO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLGVBQWU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLGVBQWU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLGVBQWU7QUFDakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixlQUFlO0FBQ2pDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw2Q0FBNkM7QUFDN0MsSUFBSTtBQUNKO0FBQ0E7O0FBRUEsa0JBQWtCLGVBQWU7QUFDakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZDQUE2QztBQUM3Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IsZUFBZTtBQUMvQjtBQUNBO0FBQ0E7O0FBRUEsbURBQW1EOztBQUVuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1DQUFtQztBQUN6RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDJDQUEyQztBQUMxRDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvQkFBb0I7QUFDeEMsbUJBQW1CLG9CQUFvQjtBQUN2QyxrQkFBa0Isb0JBQW9CO0FBQ3RDLG1CQUFtQixvQkFBb0I7QUFDdkMsbUJBQW1CLG9CQUFvQjtBQUN2QyxvQkFBb0Isb0JBQW9CO0FBQ3hDLG1CQUFtQixvQkFBb0I7QUFDdkMsb0JBQW9CLG9CQUFvQjtBQUN4QyxtQkFBbUIsb0JBQW9CO0FBQ3ZDLG9CQUFvQjtBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLDRCQUE0QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsImZpbGUiOiIxNjBiYzg5ZDRlMjZlZmI4Zjg3YS53b3JrZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NvdXJjZS93b3JrZXJzL0JpbmFyeURlY29kZXJXb3JrZXIuanNcIik7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gQ3VzdG9tVmlldyhidWZmZXIpXG57XG5cdHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuXHR0aGlzLnU4ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcblxuXHR2YXIgdG1wID0gbmV3IEFycmF5QnVmZmVyKDQpO1xuXHR2YXIgdG1wZiA9IG5ldyBGbG9hdDMyQXJyYXkodG1wKTtcblx0dmFyIHRtcHU4ID0gbmV3IFVpbnQ4QXJyYXkodG1wKTtcblxuXHR0aGlzLmdldFVpbnQzMiA9IGZ1bmN0aW9uKGkpXG5cdHtcblx0XHRyZXR1cm4gKHRoaXMudThbaSArIDNdIDw8IDI0KSB8ICh0aGlzLnU4W2kgKyAyXSA8PCAxNikgfCAodGhpcy51OFtpICsgMV0gPDwgOCkgfCB0aGlzLnU4W2ldO1xuXHR9O1xuXG5cdHRoaXMuZ2V0VWludDE2ID0gZnVuY3Rpb24oaSlcblx0e1xuXHRcdHJldHVybiAodGhpcy51OFtpICsgMV0gPDwgOCkgfCB0aGlzLnU4W2ldO1xuXHR9O1xuXG5cdHRoaXMuZ2V0RmxvYXQzMiA9IGZ1bmN0aW9uKGkpXG5cdHtcblx0XHR0bXB1OFswXSA9IHRoaXMudThbaSArIDBdO1xuXHRcdHRtcHU4WzFdID0gdGhpcy51OFtpICsgMV07XG5cdFx0dG1wdThbMl0gPSB0aGlzLnU4W2kgKyAyXTtcblx0XHR0bXB1OFszXSA9IHRoaXMudThbaSArIDNdO1xuXG5cdFx0cmV0dXJuIHRtcGZbMF07XG5cdH07XG5cblx0dGhpcy5nZXRVaW50OCA9IGZ1bmN0aW9uKGkpXG5cdHtcblx0XHRyZXR1cm4gdGhpcy51OFtpXTtcblx0fTtcbn1cblxub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpXG57XG4gIGlmICghZXZlbnQuZGF0YSB8fCAhZXZlbnQuZGF0YS5idWZmZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblx0dHJ5XG5cdHtcblx0XHR2YXIgYnVmZmVyID0gZXZlbnQuZGF0YS5idWZmZXI7XG5cdFx0dmFyIHBvaW50QXR0cmlidXRlcyA9IGV2ZW50LmRhdGEucG9pbnRBdHRyaWJ1dGVzO1xuXHRcdHZhciBudW1Qb2ludHMgPSBidWZmZXIuYnl0ZUxlbmd0aCAvIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZTtcblx0XHR2YXIgY3YgPSBuZXcgQ3VzdG9tVmlldyhidWZmZXIpO1xuXHRcdHZhciB2ZXJzaW9uID0gbmV3IFZlcnNpb24oZXZlbnQuZGF0YS52ZXJzaW9uKTtcblx0XHR2YXIgbm9kZU9mZnNldCA9IGV2ZW50LmRhdGEub2Zmc2V0O1xuXHRcdHZhciBzY2FsZSA9IGV2ZW50LmRhdGEuc2NhbGU7XG5cdFx0dmFyIHNwYWNpbmcgPSBldmVudC5kYXRhLnNwYWNpbmc7XG5cdFx0dmFyIGhhc0NoaWxkcmVuID0gZXZlbnQuZGF0YS5oYXNDaGlsZHJlbjtcblx0XHR2YXIgbmFtZSA9IGV2ZW50LmRhdGEubmFtZTtcblx0XHRcblx0XHR2YXIgdGlnaHRCb3hNaW4gPSBbIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgXTtcblx0XHR2YXIgdGlnaHRCb3hNYXggPSBbIE51bWJlci5ORUdBVElWRV9JTkZJTklUWSwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkgXTtcblx0XHR2YXIgbWVhbiA9IFswLCAwLCAwXTtcblxuXHRcdHZhciBhdHRyaWJ1dGVCdWZmZXJzID0ge307XG5cdFx0dmFyIGluT2Zmc2V0ID0gMDtcblxuXHRcdGZvcih2YXIgcG9pbnRBdHRyaWJ1dGUgb2YgcG9pbnRBdHRyaWJ1dGVzLmF0dHJpYnV0ZXMpXG5cdFx0e1xuXHRcdFx0aWYocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGUuUE9TSVRJT05fQ0FSVEVTSUFOLm5hbWUpXG5cdFx0XHR7XG5cdFx0XHRcdHZhciBidWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQgKiAzKTtcblx0XHRcdFx0dmFyIHBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZik7XG5cdFx0XHRcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IG51bVBvaW50czsgaisrKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dmFyIHgsIHksIHo7XG5cblx0XHRcdFx0XHRpZih2ZXJzaW9uLm5ld2VyVGhhbihcIjEuM1wiKSlcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHR4ID0gKGN2LmdldFVpbnQzMihpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyAwLCB0cnVlKSAqIHNjYWxlKTtcblx0XHRcdFx0XHRcdHkgPSAoY3YuZ2V0VWludDMyKGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDQsIHRydWUpICogc2NhbGUpO1xuXHRcdFx0XHRcdFx0eiA9IChjdi5nZXRVaW50MzIoaW5PZmZzZXQgKyBqICogcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgOCwgdHJ1ZSkgKiBzY2FsZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHR4ID0gY3YuZ2V0RmxvYXQzMihqICogcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgMCwgdHJ1ZSkgKyBub2RlT2Zmc2V0WzBdO1xuXHRcdFx0XHRcdFx0eSA9IGN2LmdldEZsb2F0MzIoaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDQsIHRydWUpICsgbm9kZU9mZnNldFsxXTtcblx0XHRcdFx0XHRcdHogPSBjdi5nZXRGbG9hdDMyKGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyA4LCB0cnVlKSArIG5vZGVPZmZzZXRbMl07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cG9zaXRpb25zWzMgKiBqICsgMF0gPSB4O1xuXHRcdFx0XHRcdHBvc2l0aW9uc1szICogaiArIDFdID0geTtcblx0XHRcdFx0XHRwb3NpdGlvbnNbMyAqIGogKyAyXSA9IHo7XG5cblx0XHRcdFx0XHRtZWFuWzBdICs9IHggLyBudW1Qb2ludHM7XG5cdFx0XHRcdFx0bWVhblsxXSArPSB5IC8gbnVtUG9pbnRzO1xuXHRcdFx0XHRcdG1lYW5bMl0gKz0geiAvIG51bVBvaW50cztcblxuXHRcdFx0XHRcdHRpZ2h0Qm94TWluWzBdID0gTWF0aC5taW4odGlnaHRCb3hNaW5bMF0sIHgpO1xuXHRcdFx0XHRcdHRpZ2h0Qm94TWluWzFdID0gTWF0aC5taW4odGlnaHRCb3hNaW5bMV0sIHkpO1xuXHRcdFx0XHRcdHRpZ2h0Qm94TWluWzJdID0gTWF0aC5taW4odGlnaHRCb3hNaW5bMl0sIHopO1xuXG5cdFx0XHRcdFx0dGlnaHRCb3hNYXhbMF0gPSBNYXRoLm1heCh0aWdodEJveE1heFswXSwgeCk7XG5cdFx0XHRcdFx0dGlnaHRCb3hNYXhbMV0gPSBNYXRoLm1heCh0aWdodEJveE1heFsxXSwgeSk7XG5cdFx0XHRcdFx0dGlnaHRCb3hNYXhbMl0gPSBNYXRoLm1heCh0aWdodEJveE1heFsyXSwgeik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0ge2J1ZmZlcjogYnVmZiwgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZX07XG5cdFx0XHR9IGVsc2UgaWYocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGUuQ09MT1JfUEFDS0VELm5hbWUpXG5cdFx0XHR7XG5cdFx0XHRcdHZhciBidWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQpO1xuXHRcdFx0XHR2YXIgY29sb3JzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZik7XG5cblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IG51bVBvaW50czsgaisrKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y29sb3JzWzQgKiBqICsgMF0gPSBjdi5nZXRVaW50OChpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyAwKTtcblx0XHRcdFx0XHRjb2xvcnNbNCAqIGogKyAxXSA9IGN2LmdldFVpbnQ4KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDEpO1xuXHRcdFx0XHRcdGNvbG9yc1s0ICogaiArIDJdID0gY3YuZ2V0VWludDgoaW5PZmZzZXQgKyBqICogcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgMik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0ge2J1ZmZlcjogYnVmZiwgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZX07XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmKHBvaW50QXR0cmlidXRlLm5hbWUgPT09IFBvaW50QXR0cmlidXRlLklOVEVOU0lUWS5uYW1lKVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgYnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMgKiA0KTtcblx0XHRcdFx0dmFyIGludGVuc2l0aWVzID0gbmV3IEZsb2F0MzJBcnJheShidWZmKTtcblxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgbnVtUG9pbnRzOyBqKyspXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR2YXIgaW50ZW5zaXR5ID0gY3YuZ2V0VWludDE2KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSwgdHJ1ZSk7XG5cdFx0XHRcdFx0aW50ZW5zaXRpZXNbal0gPSBpbnRlbnNpdHk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0ge2J1ZmZlcjogYnVmZiwgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZX07XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmKHBvaW50QXR0cmlidXRlLm5hbWUgPT09IFBvaW50QXR0cmlidXRlLkNMQVNTSUZJQ0FUSU9OLm5hbWUpXG5cdFx0XHR7XG5cdFx0XHRcdHZhciBidWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyk7XG5cdFx0XHRcdHZhciBjbGFzc2lmaWNhdGlvbnMgPSBuZXcgVWludDhBcnJheShidWZmKTtcblxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgbnVtUG9pbnRzOyBqKyspXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR2YXIgY2xhc3NpZmljYXRpb24gPSBjdi5nZXRVaW50OChpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUpO1xuXHRcdFx0XHRcdGNsYXNzaWZpY2F0aW9uc1tqXSA9IGNsYXNzaWZpY2F0aW9uO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YXR0cmlidXRlQnVmZmVyc1twb2ludEF0dHJpYnV0ZS5uYW1lXSA9IHtidWZmZXI6IGJ1ZmYsIGF0dHJpYnV0ZTogcG9pbnRBdHRyaWJ1dGV9O1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZihwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBQb2ludEF0dHJpYnV0ZS5OT1JNQUxfU1BIRVJFTUFQUEVELm5hbWUpXG5cdFx0XHR7XG5cdFx0XHRcdHZhciBidWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQgKiAzKTtcblx0XHRcdFx0dmFyIG5vcm1hbHMgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmYpO1xuXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBudW1Qb2ludHM7IGorKylcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHZhciBieCA9IGN2LmdldFVpbnQ4KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDApO1xuXHRcdFx0XHRcdHZhciBieSA9IGN2LmdldFVpbnQ4KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDEpO1xuXG5cdFx0XHRcdFx0dmFyIGV4ID0gYnggLyAyNTU7XG5cdFx0XHRcdFx0dmFyIGV5ID0gYnkgLyAyNTU7XG5cblx0XHRcdFx0XHR2YXIgbnggPSBleCAqIDIgLSAxO1xuXHRcdFx0XHRcdHZhciBueSA9IGV5ICogMiAtIDE7XG5cdFx0XHRcdFx0dmFyIG56ID0gMTtcblx0XHRcdFx0XHR2YXIgbncgPSAtMTtcblxuXHRcdFx0XHRcdHZhciBsID0gKG54ICogKC1ueCkpICsgKG55ICogKC1ueSkpICsgKG56ICogKC1udykpO1xuXHRcdFx0XHRcdG56ID0gbDtcblx0XHRcdFx0XHRueCA9IG54ICogTWF0aC5zcXJ0KGwpO1xuXHRcdFx0XHRcdG55ID0gbnkgKiBNYXRoLnNxcnQobCk7XG5cblx0XHRcdFx0XHRueCA9IG54ICogMjtcblx0XHRcdFx0XHRueSA9IG55ICogMjtcblx0XHRcdFx0XHRueiA9IG56ICogMiAtIDE7XG5cblx0XHRcdFx0XHRub3JtYWxzWzMgKiBqICsgMF0gPSBueDtcblx0XHRcdFx0XHRub3JtYWxzWzMgKiBqICsgMV0gPSBueTtcblx0XHRcdFx0XHRub3JtYWxzWzMgKiBqICsgMl0gPSBuejtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGF0dHJpYnV0ZUJ1ZmZlcnNbcG9pbnRBdHRyaWJ1dGUubmFtZV0gPSB7YnVmZmVyOiBidWZmLCBhdHRyaWJ1dGU6IHBvaW50QXR0cmlidXRlfTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGUuTk9STUFMX09DVDE2Lm5hbWUpXG5cdFx0XHR7XG5cdFx0XHRcdHZhciBidWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQgKiAzKTtcblx0XHRcdFx0dmFyIG5vcm1hbHMgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmYpO1xuXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBudW1Qb2ludHM7IGorKykge1xuXHRcdFx0XHRcdHZhciBieCA9IGN2LmdldFVpbnQ4KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDApO1xuXHRcdFx0XHRcdHZhciBieSA9IGN2LmdldFVpbnQ4KGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDEpO1xuXG5cdFx0XHRcdFx0dmFyIHUgPSAoYnggLyAyNTUpICogMiAtIDE7XG5cdFx0XHRcdFx0dmFyIHYgPSAoYnkgLyAyNTUpICogMiAtIDE7XG5cblx0XHRcdFx0XHR2YXIgeiA9IDEgLSBNYXRoLmFicyh1KSAtIE1hdGguYWJzKHYpO1xuXG5cdFx0XHRcdFx0dmFyIHggPSAwO1xuXHRcdFx0XHRcdHZhciB5ID0gMDtcblx0XHRcdFx0XHRpZih6ID49IDApIHtcblx0XHRcdFx0XHRcdHggPSB1O1xuXHRcdFx0XHRcdFx0eSA9IHY7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHggPSAtKHYgLyBNYXRoLnNpZ24odikgLSAxKSAvIE1hdGguc2lnbih1KTtcblx0XHRcdFx0XHRcdHkgPSAtKHUgLyBNYXRoLnNpZ24odSkgLSAxKSAvIE1hdGguc2lnbih2KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YXIgbGVuZ3RoID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XG5cdFx0XHRcdFx0eCA9IHggLyBsZW5ndGg7XG5cdFx0XHRcdFx0eSA9IHkgLyBsZW5ndGg7XG5cdFx0XHRcdFx0eiA9IHogLyBsZW5ndGg7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0bm9ybWFsc1szICogaiArIDBdID0geDtcblx0XHRcdFx0XHRub3JtYWxzWzMgKiBqICsgMV0gPSB5O1xuXHRcdFx0XHRcdG5vcm1hbHNbMyAqIGogKyAyXSA9IHo7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0ge2J1ZmZlcjogYnVmZiwgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZX07XG5cdFx0XHR9IGVsc2UgaWYocG9pbnRBdHRyaWJ1dGUubmFtZSA9PT0gUG9pbnRBdHRyaWJ1dGUuTk9STUFMLm5hbWUpIHtcblx0XHRcdFx0dmFyIGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogNCAqIDMpO1xuXHRcdFx0XHR2YXIgbm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZik7XG5cblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IG51bVBvaW50czsgaisrKSB7XG5cdFx0XHRcdFx0dmFyIHggPSBjdi5nZXRGbG9hdDMyKGluT2Zmc2V0ICsgaiAqIHBvaW50QXR0cmlidXRlcy5ieXRlU2l6ZSArIDAsIHRydWUpO1xuXHRcdFx0XHRcdHZhciB5ID0gY3YuZ2V0RmxvYXQzMihpbk9mZnNldCArIGogKiBwb2ludEF0dHJpYnV0ZXMuYnl0ZVNpemUgKyA0LCB0cnVlKTtcblx0XHRcdFx0XHR2YXIgeiA9IGN2LmdldEZsb2F0MzIoaW5PZmZzZXQgKyBqICogcG9pbnRBdHRyaWJ1dGVzLmJ5dGVTaXplICsgOCwgdHJ1ZSk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0bm9ybWFsc1szICogaiArIDBdID0geDtcblx0XHRcdFx0XHRub3JtYWxzWzMgKiBqICsgMV0gPSB5O1xuXHRcdFx0XHRcdG5vcm1hbHNbMyAqIGogKyAyXSA9IHo7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhdHRyaWJ1dGVCdWZmZXJzW3BvaW50QXR0cmlidXRlLm5hbWVdID0ge2J1ZmZlcjogYnVmZiwgYXR0cmlidXRlOiBwb2ludEF0dHJpYnV0ZX07XG5cdFx0XHR9XG5cblx0XHRcdGluT2Zmc2V0ICs9IHBvaW50QXR0cmlidXRlLmJ5dGVTaXplO1xuXHRcdH1cblxuXHRcdC8vYWRkIGluZGljZXNcblx0XHR2YXIgYnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMgKiA0KTtcblx0XHR2YXIgaW5kaWNlcyA9IG5ldyBVaW50MzJBcnJheShidWZmKTtcblxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBudW1Qb2ludHM7IGkrKylcblx0XHR7XG5cdFx0XHRpbmRpY2VzW2ldID0gaTtcblx0XHR9XG5cdFx0XG5cdFx0YXR0cmlidXRlQnVmZmVyc1tQb2ludEF0dHJpYnV0ZS5JTkRJQ0VTLm5hbWVdID0ge2J1ZmZlcjogYnVmZiwgYXR0cmlidXRlOiBQb2ludEF0dHJpYnV0ZS5JTkRJQ0VTfTtcblxuXHRcdHZhciBtZXNzYWdlID1cblx0XHR7XG5cdFx0XHRidWZmZXI6IGJ1ZmZlcixcblx0XHRcdG1lYW46IG1lYW4sXG5cdFx0XHRhdHRyaWJ1dGVCdWZmZXJzOiBhdHRyaWJ1dGVCdWZmZXJzLFxuXHRcdFx0dGlnaHRCb3VuZGluZ0JveDoge21pbjogdGlnaHRCb3hNaW4sIG1heDogdGlnaHRCb3hNYXh9LFxuXHRcdH07XG5cblx0XHR2YXIgdHJhbnNmZXJhYmxlcyA9IFtdO1xuXHRcdGZvcih2YXIgcHJvcGVydHkgaW4gbWVzc2FnZS5hdHRyaWJ1dGVCdWZmZXJzKVxuXHRcdHtcblx0XHRcdHRyYW5zZmVyYWJsZXMucHVzaChtZXNzYWdlLmF0dHJpYnV0ZUJ1ZmZlcnNbcHJvcGVydHldLmJ1ZmZlcik7XG5cdFx0fVxuXHRcdHRyYW5zZmVyYWJsZXMucHVzaChidWZmZXIpO1xuXG5cdFx0cG9zdE1lc3NhZ2UobWVzc2FnZSwgdHJhbnNmZXJhYmxlcyk7XG5cdH1cblx0Y2F0Y2goZSlcblx0e1xuXHRcdHBvc3RNZXNzYWdlKHtlcnJvcjogXCJFeGVwdGlvbiB0aHJvd24gZHVyaW5nIGV4ZWN1dGlvbi5cIn0pO1xuXHR9XG59O1xuXG5cbmZ1bmN0aW9uIFZlcnNpb24odmVyc2lvbilcbntcblx0dGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcblx0dmFyIHZtTGVuZ3RoID0gKHZlcnNpb24uaW5kZXhPZihcIi5cIikgPT09IC0xKSA/IHZlcnNpb24ubGVuZ3RoIDogdmVyc2lvbi5pbmRleE9mKFwiLlwiKTtcblx0dGhpcy52ZXJzaW9uTWFqb3IgPSBwYXJzZUludCh2ZXJzaW9uLnN1YnN0cigwLCB2bUxlbmd0aCkpO1xuXHR0aGlzLnZlcnNpb25NaW5vciA9IHBhcnNlSW50KHZlcnNpb24uc3Vic3RyKHZtTGVuZ3RoICsgMSkpO1xuXG5cdGlmKHRoaXMudmVyc2lvbk1pbm9yLmxlbmd0aCA9PT0gMClcblx0e1xuXHRcdHRoaXMudmVyc2lvbk1pbm9yID0gMDtcblx0fVxufTtcblxuVmVyc2lvbi5wcm90b3R5cGUubmV3ZXJUaGFuID0gZnVuY3Rpb24odmVyc2lvbilcbntcblx0dmFyIHYgPSBuZXcgVmVyc2lvbih2ZXJzaW9uKTtcblxuXHRpZigodGhpcy52ZXJzaW9uTWFqb3IgPiB2LnZlcnNpb25NYWpvcikgfHwgKHRoaXMudmVyc2lvbk1ham9yID09PSB2LnZlcnNpb25NYWpvciAmJiB0aGlzLnZlcnNpb25NaW5vciA+IHYudmVyc2lvbk1pbm9yKSlcblx0e1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHRyZXR1cm4gZmFsc2U7XG59O1xuXG52YXIgUG9pbnRBdHRyaWJ1dGVOYW1lcyA9XG57XG5cdFBPU0lUSU9OX0NBUlRFU0lBTjogMCwgLy9mbG9hdCB4LCB5LCB6LFxuXHRDT0xPUl9QQUNLRUQ6IDEsIC8vYnl0ZSByLCBnLCBiLCBhLCBJOiBbMCwxXVxuXHRDT0xPUl9GTE9BVFNfMTogMiwgLy9mbG9hdCByLCBnLCBiLCBJOiBbMCwxXVxuXHRDT0xPUl9GTE9BVFNfMjU1OiAzLCAvL2Zsb2F0IHIsIGcsIGIsIEk6IFswLDI1NV1cblx0Tk9STUFMX0ZMT0FUUzogNCwgLy9mbG9hdCB4LCB5LCB6LFxuXHRGSUxMRVI6IDUsXG5cdElOVEVOU0lUWTogNixcblx0Q0xBU1NJRklDQVRJT046IDcsXG5cdE5PUk1BTF9TUEhFUkVNQVBQRUQ6IDgsXG5cdE5PUk1BTF9PQ1QxNjogOSxcblx0Tk9STUFMOiAxMCxcblx0UkVUVVJOX05VTUJFUjogMTEsXG5cdE5VTUJFUl9PRl9SRVRVUk5TOiAxMixcblx0U09VUkNFX0lEOiAxMyxcblx0SU5ESUNFUzogMTQsXG5cdFNQQUNJTkc6IDE1XG59O1xuXG4vKipcbiAqIFNvbWUgdHlwZXMgb2YgcG9zc2libGUgcG9pbnQgYXR0cmlidXRlIGRhdGEgZm9ybWF0c1xuICpcbiAqIEBjbGFzc1xuICovXG52YXIgUG9pbnRBdHRyaWJ1dGVUeXBlcyA9XG57XG5cdERBVEFfVFlQRV9ET1VCTEU6IHtvcmRpbmFsOiAwLCBzaXplOiA4fSxcblx0REFUQV9UWVBFX0ZMT0FUOiB7b3JkaW5hbDogMSwgc2l6ZTogNH0sXG5cdERBVEFfVFlQRV9JTlQ4OiB7b3JkaW5hbDogMiwgc2l6ZTogMX0sXG5cdERBVEFfVFlQRV9VSU5UODoge29yZGluYWw6IDMsIHNpemU6IDF9LFxuXHREQVRBX1RZUEVfSU5UMTY6IHtvcmRpbmFsOiA0LCBzaXplOiAyfSxcblx0REFUQV9UWVBFX1VJTlQxNjoge29yZGluYWw6IDUsIHNpemU6IDJ9LFxuXHREQVRBX1RZUEVfSU5UMzI6IHtvcmRpbmFsOiA2LCBzaXplOiA0fSxcblx0REFUQV9UWVBFX1VJTlQzMjoge29yZGluYWw6IDcsIHNpemU6IDR9LFxuXHREQVRBX1RZUEVfSU5UNjQ6IHtvcmRpbmFsOiA4LCBzaXplOiA4fSxcblx0REFUQV9UWVBFX1VJTlQ2NDoge29yZGluYWw6IDksIHNpemU6IDh9XG59O1xuXG52YXIgaSA9IDA7XG5mb3IodmFyIG9iaiBpbiBQb2ludEF0dHJpYnV0ZVR5cGVzKVxue1xuXHRQb2ludEF0dHJpYnV0ZVR5cGVzW2ldID0gUG9pbnRBdHRyaWJ1dGVUeXBlc1tvYmpdO1xuXHRpKys7XG59XG5cbmZ1bmN0aW9uIFBvaW50QXR0cmlidXRlKG5hbWUsIHR5cGUsIG51bUVsZW1lbnRzKVxue1xuXHR0aGlzLm5hbWUgPSBuYW1lO1xuXHR0aGlzLnR5cGUgPSB0eXBlO1xuXHR0aGlzLm51bUVsZW1lbnRzID0gbnVtRWxlbWVudHM7XG5cdHRoaXMuYnl0ZVNpemUgPSB0aGlzLm51bUVsZW1lbnRzICogdGhpcy50eXBlLnNpemU7XG59O1xuXG5Qb2ludEF0dHJpYnV0ZS5QT1NJVElPTl9DQVJURVNJQU4gPSBuZXcgUG9pbnRBdHRyaWJ1dGUoUG9pbnRBdHRyaWJ1dGVOYW1lcy5QT1NJVElPTl9DQVJURVNJQU4sIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0ZMT0FULCAzKTtcblBvaW50QXR0cmlidXRlLlJHQkFfUEFDS0VEID0gbmV3IFBvaW50QXR0cmlidXRlKFBvaW50QXR0cmlidXRlTmFtZXMuQ09MT1JfUEFDS0VELCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9JTlQ4LCA0KTtcblBvaW50QXR0cmlidXRlLkNPTE9SX1BBQ0tFRCA9IFBvaW50QXR0cmlidXRlLlJHQkFfUEFDS0VEO1xuUG9pbnRBdHRyaWJ1dGUuUkdCX1BBQ0tFRCA9IG5ldyBQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWVzLkNPTE9SX1BBQ0tFRCwgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfSU5UOCwgMyk7XG5Qb2ludEF0dHJpYnV0ZS5OT1JNQUxfRkxPQVRTID0gbmV3IFBvaW50QXR0cmlidXRlKFBvaW50QXR0cmlidXRlTmFtZXMuTk9STUFMX0ZMT0FUUywgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfRkxPQVQsIDMpO1xuUG9pbnRBdHRyaWJ1dGUuRklMTEVSXzFCID0gbmV3IFBvaW50QXR0cmlidXRlKFBvaW50QXR0cmlidXRlTmFtZXMuRklMTEVSLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMSk7XG5Qb2ludEF0dHJpYnV0ZS5JTlRFTlNJVFkgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoUG9pbnRBdHRyaWJ1dGVOYW1lcy5JTlRFTlNJVFksIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQxNiwgMSk7XG5Qb2ludEF0dHJpYnV0ZS5DTEFTU0lGSUNBVElPTiA9IG5ldyBQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWVzLkNMQVNTSUZJQ0FUSU9OLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMSk7XG5Qb2ludEF0dHJpYnV0ZS5OT1JNQUxfU1BIRVJFTUFQUEVEID0gbmV3IFBvaW50QXR0cmlidXRlKFBvaW50QXR0cmlidXRlTmFtZXMuTk9STUFMX1NQSEVSRU1BUFBFRCwgUG9pbnRBdHRyaWJ1dGVUeXBlcy5EQVRBX1RZUEVfVUlOVDgsIDIpO1xuUG9pbnRBdHRyaWJ1dGUuTk9STUFMX09DVDE2ID0gbmV3IFBvaW50QXR0cmlidXRlKFBvaW50QXR0cmlidXRlTmFtZXMuTk9STUFMX09DVDE2LCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMik7XG5Qb2ludEF0dHJpYnV0ZS5OT1JNQUwgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoUG9pbnRBdHRyaWJ1dGVOYW1lcy5OT1JNQUwsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0ZMT0FULCAzKTtcblBvaW50QXR0cmlidXRlLlJFVFVSTl9OVU1CRVIgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoUG9pbnRBdHRyaWJ1dGVOYW1lcy5SRVRVUk5fTlVNQkVSLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMSk7XG5Qb2ludEF0dHJpYnV0ZS5OVU1CRVJfT0ZfUkVUVVJOUyA9IG5ldyBQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWVzLk5VTUJFUl9PRl9SRVRVUk5TLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UOCwgMSk7XG5Qb2ludEF0dHJpYnV0ZS5TT1VSQ0VfSUQgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoUG9pbnRBdHRyaWJ1dGVOYW1lcy5TT1VSQ0VfSUQsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX1VJTlQ4LCAxKTtcblBvaW50QXR0cmlidXRlLklORElDRVMgPSBuZXcgUG9pbnRBdHRyaWJ1dGUoUG9pbnRBdHRyaWJ1dGVOYW1lcy5JTkRJQ0VTLCBQb2ludEF0dHJpYnV0ZVR5cGVzLkRBVEFfVFlQRV9VSU5UMzIsIDEpO1xuUG9pbnRBdHRyaWJ1dGUuU1BBQ0lORyA9IG5ldyBQb2ludEF0dHJpYnV0ZShQb2ludEF0dHJpYnV0ZU5hbWVzLlNQQUNJTkcsIFBvaW50QXR0cmlidXRlVHlwZXMuREFUQV9UWVBFX0ZMT0FULCAxKTtcblxuZnVuY3Rpb24gUG9pbnRBdHRyaWJ1dGVzKHBvaW50QXR0cmlidXRlcylcbntcblx0dGhpcy5hdHRyaWJ1dGVzID0gW107XG5cdHRoaXMuYnl0ZVNpemUgPSAwO1xuXHR0aGlzLnNpemUgPSAwO1xuXG5cdGlmKHBvaW50QXR0cmlidXRlcyAhPSBudWxsKVxuXHR7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHBvaW50QXR0cmlidXRlcy5sZW5ndGg7IGkrKylcblx0XHR7XG5cdFx0XHR2YXIgcG9pbnRBdHRyaWJ1dGVOYW1lID0gcG9pbnRBdHRyaWJ1dGVzW2ldO1xuXHRcdFx0dmFyIHBvaW50QXR0cmlidXRlID0gUG9pbnRBdHRyaWJ1dGVbcG9pbnRBdHRyaWJ1dGVOYW1lXTtcblx0XHRcdHRoaXMuYXR0cmlidXRlcy5wdXNoKHBvaW50QXR0cmlidXRlKTtcblx0XHRcdHRoaXMuYnl0ZVNpemUgKz0gcG9pbnRBdHRyaWJ1dGUuYnl0ZVNpemU7XG5cdFx0XHR0aGlzLnNpemUrKztcblx0XHR9XG5cdH1cbn07XG5cblBvaW50QXR0cmlidXRlcy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24ocG9pbnRBdHRyaWJ1dGUpXG57XG5cdHRoaXMuYXR0cmlidXRlcy5wdXNoKHBvaW50QXR0cmlidXRlKTtcblx0dGhpcy5ieXRlU2l6ZSArPSBwb2ludEF0dHJpYnV0ZS5ieXRlU2l6ZTtcblx0dGhpcy5zaXplKys7XG59O1xuXG5Qb2ludEF0dHJpYnV0ZXMucHJvdG90eXBlLmhhc0NvbG9ycyA9IGZ1bmN0aW9uKClcbntcblx0Zm9yKHZhciBuYW1lIGluIHRoaXMuYXR0cmlidXRlcylcblx0e1xuXHRcdHZhciBwb2ludEF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tuYW1lXTtcblx0XHRpZihwb2ludEF0dHJpYnV0ZS5uYW1lID09PSBQb2ludEF0dHJpYnV0ZU5hbWVzLkNPTE9SX1BBQ0tFRClcblx0XHR7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59O1xuXG5Qb2ludEF0dHJpYnV0ZXMucHJvdG90eXBlLmhhc05vcm1hbHMgPSBmdW5jdGlvbigpXG57XG5cdGZvcih2YXIgbmFtZSBpbiB0aGlzLmF0dHJpYnV0ZXMpXG5cdHtcblx0XHR2YXIgcG9pbnRBdHRyaWJ1dGUgPSB0aGlzLmF0dHJpYnV0ZXNbbmFtZV07XG5cdFx0aWYoXG5cdFx0XHRwb2ludEF0dHJpYnV0ZSA9PT0gUG9pbnRBdHRyaWJ1dGUuTk9STUFMX1NQSEVSRU1BUFBFRCB8fFxuXHRcdFx0cG9pbnRBdHRyaWJ1dGUgPT09IFBvaW50QXR0cmlidXRlLk5PUk1BTF9GTE9BVFMgfHxcblx0XHRcdHBvaW50QXR0cmlidXRlID09PSBQb2ludEF0dHJpYnV0ZS5OT1JNQUwgfHxcblx0XHRcdHBvaW50QXR0cmlidXRlID09PSBQb2ludEF0dHJpYnV0ZS5OT1JNQUxfT0NUMTYpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmYWxzZTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9",null)}},"./source/workers/DEMWorker.js":function(e,t,r){e.exports=function(){return r("./node_modules/worker-loader/dist/workers/InlineWorker.js")("/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./source/workers/DEMWorker.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./source/workers/DEMWorker.js\":\n/*!*************************************!*\\\n  !*** ./source/workers/DEMWorker.js ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nonmessage = function(event)\n{\n\tvar boundingBox = event.data.boundingBox;\n\tvar position = new Float32Array(event.data.position);\n\tvar numPoints = position.length / 3;\n\tvar width = 64, height = 64;\n\n\tvar boxSize =\n\t{\n\t\tx: boundingBox.max[0] - boundingBox.min[0],\n\t\ty: boundingBox.max[1] - boundingBox.min[1],\n\t\tz: boundingBox.max[2] - boundingBox.min[2]\n\t};\n\n\tvar dem = new Float32Array(width * height);\n\tdem.fill(-Infinity);\n\n\tfor(var i = 0; i < numPoints; i++)\n\t{\n\t\tvar x = position[3 * i + 0];\n\t\tvar y = position[3 * i + 1];\n\t\tvar z = position[3 * i + 2];\n\n\t\tvar dx = x / boxSize.x;\n\t\tvar dy = y / boxSize.y;\n\n\t\tvar ix = parseInt(Math.min(width * dx, width - 1));\n\t\tvar iy = parseInt(Math.min(height * dy, height - 1));\n\n\t\tvar index = ix + width * iy;\n\t\tdem[index] = z;\n\t}\n\n\tvar message =\n\t{\n\t\tdem:\n\t\t{\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdata: dem.buffer\n\t\t}\n\t};\n\n\tpostMessage(message, [message.dem.data]);\n};\n\n\n/***/ })\n\n/******/ });\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3dvcmtlcnMvREVNV29ya2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHlDQUF5QyxpQ0FBaUM7UUFDMUUsZ0hBQWdILG1CQUFtQixFQUFFO1FBQ3JJO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFlO1FBQ2hEO1FBQ0E7UUFDQTs7UUFFQTtRQUNBLHNEQUFzRCwrREFBK0Q7O1FBRXJIO1FBQ0E7OztRQUdBO1FBQ0E7Ozs7Ozs7Ozs7Ozs7QUNsRmE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6ImY3NDM4YmJiODU0Y2M1MjE4MTE5Lndvcmtlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc291cmNlL3dvcmtlcnMvREVNV29ya2VyLmpzXCIpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KVxue1xuXHR2YXIgYm91bmRpbmdCb3ggPSBldmVudC5kYXRhLmJvdW5kaW5nQm94O1xuXHR2YXIgcG9zaXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KGV2ZW50LmRhdGEucG9zaXRpb24pO1xuXHR2YXIgbnVtUG9pbnRzID0gcG9zaXRpb24ubGVuZ3RoIC8gMztcblx0dmFyIHdpZHRoID0gNjQsIGhlaWdodCA9IDY0O1xuXG5cdHZhciBib3hTaXplID1cblx0e1xuXHRcdHg6IGJvdW5kaW5nQm94Lm1heFswXSAtIGJvdW5kaW5nQm94Lm1pblswXSxcblx0XHR5OiBib3VuZGluZ0JveC5tYXhbMV0gLSBib3VuZGluZ0JveC5taW5bMV0sXG5cdFx0ejogYm91bmRpbmdCb3gubWF4WzJdIC0gYm91bmRpbmdCb3gubWluWzJdXG5cdH07XG5cblx0dmFyIGRlbSA9IG5ldyBGbG9hdDMyQXJyYXkod2lkdGggKiBoZWlnaHQpO1xuXHRkZW0uZmlsbCgtSW5maW5pdHkpO1xuXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBudW1Qb2ludHM7IGkrKylcblx0e1xuXHRcdHZhciB4ID0gcG9zaXRpb25bMyAqIGkgKyAwXTtcblx0XHR2YXIgeSA9IHBvc2l0aW9uWzMgKiBpICsgMV07XG5cdFx0dmFyIHogPSBwb3NpdGlvblszICogaSArIDJdO1xuXG5cdFx0dmFyIGR4ID0geCAvIGJveFNpemUueDtcblx0XHR2YXIgZHkgPSB5IC8gYm94U2l6ZS55O1xuXG5cdFx0dmFyIGl4ID0gcGFyc2VJbnQoTWF0aC5taW4od2lkdGggKiBkeCwgd2lkdGggLSAxKSk7XG5cdFx0dmFyIGl5ID0gcGFyc2VJbnQoTWF0aC5taW4oaGVpZ2h0ICogZHksIGhlaWdodCAtIDEpKTtcblxuXHRcdHZhciBpbmRleCA9IGl4ICsgd2lkdGggKiBpeTtcblx0XHRkZW1baW5kZXhdID0gejtcblx0fVxuXG5cdHZhciBtZXNzYWdlID1cblx0e1xuXHRcdGRlbTpcblx0XHR7XG5cdFx0XHR3aWR0aDogd2lkdGgsXG5cdFx0XHRoZWlnaHQ6IGhlaWdodCxcblx0XHRcdGRhdGE6IGRlbS5idWZmZXJcblx0XHR9XG5cdH07XG5cblx0cG9zdE1lc3NhZ2UobWVzc2FnZSwgW21lc3NhZ2UuZGVtLmRhdGFdKTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9",null)}},"./source/workers/EptBinaryDecoderWorker.js":function(e,t,r){e.exports=function(){return r("./node_modules/worker-loader/dist/workers/InlineWorker.js")('/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== \'undefined\' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: \'Module\' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, \'__esModule\', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === \'object\' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, \'default\', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != \'string\') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module[\'default\']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, \'a\', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = "";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = "./source/workers/EptBinaryDecoderWorker.js");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ "./source/workers/EptBinaryDecoderWorker.js":\n/*!**************************************************!*\\\n  !*** ./source/workers/EptBinaryDecoderWorker.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nPotree = { };\n\nonmessage = function(event) {\n  if (!event.data || !event.data.buffer) {\n    return;\n  }\n\tlet buffer = event.data.buffer;\n\tlet view = new DataView(buffer);\n\tlet schema = event.data.schema;\n\tlet scale = event.data.scale;\n\tlet offset = event.data.offset;\n\tlet mins = event.data.mins;\n\n\tlet dimensions = schema.reduce((p, c) => {\n\t\tp[c.name] = c;\n\t\treturn p;\n\t}, { });\n\n\tlet dimOffset = (name) => {\n\t\tlet offset = 0;\n\t\tfor (var i = 0; i < schema.length; ++i) {\n\t\t\tif (schema[i].name == name) return offset;\n\t\t\toffset += schema[i].size;\n\t\t}\n\t\treturn undefined;\n\t};\n\n\tlet getExtractor = (name) => {\n\t\tlet offset = dimOffset(name);\n\t\tlet type = dimensions[name].type;\n\t\tlet size = dimensions[name].size;\n\n\t\tif (type == "signed") switch (size) {\n\t\t\tcase 1: return (p) => view.getInt8(p + offset);\n\t\t\tcase 2: return (p) => view.getInt16(p + offset, true);\n\t\t\tcase 4: return (p) => view.getInt32(p + offset, true);\n\t\t\tcase 8: return (p) => view.getInt64(p + offset, true);\n\t\t}\n\t\tif (type == "unsigned") switch (size) {\n\t\t\tcase 1: return (p) => view.getUint8(p + offset);\n\t\t\tcase 2: return (p) => view.getUint16(p + offset, true);\n\t\t\tcase 4: return (p) => view.getUint32(p + offset, true);\n\t\t\tcase 8: return (p) => view.getUint64(p + offset, true);\n\t\t}\n\t\tif (type == "float") switch (size) {\n\t\t\tcase 4: return (p) => view.getFloat32(p + offset, true);\n\t\t\tcase 8: return (p) => view.getFloat64(p + offset, true);\n\t\t}\n\n\t\tlet str = JSON.stringify(dimensions[name]);\n\t\tthrow new Error(`Invalid dimension specification for ${name}: ${str}`);\n\t};\n\n\tlet pointSize = schema.reduce((p, c) => p + c.size, 0);\n\tlet numPoints = buffer.byteLength / pointSize;\n\n\tlet xyzBuffer, rgbBuffer, intensityBuffer, classificationBuffer,\n\t\treturnNumberBuffer, numberOfReturnsBuffer, pointSourceIdBuffer;\n\tlet xyz, rgb, intensity, classification, returnNumber, numberOfReturns,\n\t\tpointSourceId;\n\tlet xyzExtractor, rgbExtractor, intensityExtractor, classificationExtractor,\n\t\treturnNumberExtractor, numberOfReturnsExtractor, pointSourceIdExtractor;\n\tlet twoByteColor = false;\n\n\tif (dimensions["X"] && dimensions["Y"] && dimensions["Z"]) {\n\t\txyzBuffer = new ArrayBuffer(numPoints * 4 * 3);\n\t\txyz = new Float32Array(xyzBuffer);\n\t\txyzExtractor = [\n\t\t\tgetExtractor("X"),\n\t\t\tgetExtractor("Y"),\n\t\t\tgetExtractor("Z")\n\t\t];\n\t}\n\n\tif (dimensions["Red"] && dimensions["Green"] && dimensions["Blue"]) {\n\t\trgbBuffer = new ArrayBuffer(numPoints * 4);\n\t\trgb = new Uint8Array(rgbBuffer);\n\t\trgbExtractor = [\n\t\t\tgetExtractor("Red"),\n\t\t\tgetExtractor("Green"),\n\t\t\tgetExtractor("Blue")\n\t\t];\n\n\t\tlet r, g, b, pos;\n\t\tfor (let i = 0; i < numPoints && !twoByteColor; ++i) {\n\t\t\tpos = i * pointSize;\n\t\t\tr = rgbExtractor[0](pos);\n\t\t\tg = rgbExtractor[1](pos);\n\t\t\tb = rgbExtractor[2](pos);\n\t\t\tif (r > 255 || g > 255 || b > 255) twoByteColor = true;\n\t\t}\n\t}\n\n\tif (dimensions["Intensity"]) {\n\t\tintensityBuffer = new ArrayBuffer(numPoints * 4);\n\t\tintensity = new Float32Array(intensityBuffer);\n\t\tintensityExtractor = getExtractor("Intensity");\n\t}\n\n\tif (dimensions["Classification"]) {\n\t\tclassificationBuffer = new ArrayBuffer(numPoints);\n\t\tclassification = new Uint8Array(classificationBuffer);\n\t\tclassificationExtractor = getExtractor("Classification");\n\t}\n\n\tif (dimensions["ReturnNumber"]) {\n\t\treturnNumberBuffer = new ArrayBuffer(numPoints);\n\t\treturnNumber = new Uint8Array(returnNumberBuffer);\n\t\treturnNumberExtractor = getExtractor("ReturnNumber");\n\t}\n\n\tif (dimensions["NumberOfReturns"]) {\n\t\tnumberOfReturnsBuffer = new ArrayBuffer(numPoints);\n\t\tnumberOfReturns = new Uint8Array(numberOfReturnsBuffer);\n\t\tnumberOfReturnsExtractor = getExtractor("NumberOfReturns");\n\t}\n\n\tif (dimensions["PointSourceId"]) {\n\t\tpointSourceIdBuffer = new ArrayBuffer(numPoints * 2);\n\t\tpointSourceId = new Uint16Array(pointSourceIdBuffer);\n\t\tpointSourceIdExtractor = getExtractor("PointSourceId");\n\t}\n\n\tlet mean = [0, 0, 0];\n\tlet bounds = {\n\t\tmin: [Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE],\n\t\tmax: [-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE],\n\t};\n\n\tlet x, y, z, r, g, b;\n\tfor (let i = 0; i < numPoints; ++i) {\n\t\tlet pos = i * pointSize;\n\t\tif (xyz) {\n\t\t\tx = xyzExtractor[0](pos) * scale.x + offset.x - mins[0];\n\t\t\ty = xyzExtractor[1](pos) * scale.y + offset.y - mins[1];\n\t\t\tz = xyzExtractor[2](pos) * scale.z + offset.z - mins[2];\n\n\t\t\tmean[0] += x / numPoints;\n\t\t\tmean[1] += y / numPoints;\n\t\t\tmean[2] += z / numPoints;\n\n\t\t\tbounds.min[0] = Math.min(bounds.min[0], x);\n\t\t\tbounds.min[1] = Math.min(bounds.min[1], y);\n\t\t\tbounds.min[2] = Math.min(bounds.min[2], z);\n\n\t\t\tbounds.max[0] = Math.max(bounds.max[0], x);\n\t\t\tbounds.max[1] = Math.max(bounds.max[1], y);\n\t\t\tbounds.max[2] = Math.max(bounds.max[2], z);\n\n\t\t\txyz[3 * i + 0] = x;\n\t\t\txyz[3 * i + 1] = y;\n\t\t\txyz[3 * i + 2] = z;\n\t\t}\n\n\t\tif (rgb) {\n\t\t\tr = rgbExtractor[0](pos);\n\t\t\tg = rgbExtractor[1](pos);\n\t\t\tb = rgbExtractor[2](pos);\n\n\t\t\tif (twoByteColor) {\n\t\t\t\tr /= 256;\n\t\t\t\tg /= 256;\n\t\t\t\tb /= 256;\n\t\t\t}\n\n\t\t\trgb[4 * i + 0] = r;\n\t\t\trgb[4 * i + 1] = g;\n\t\t\trgb[4 * i + 2] = b;\n\t\t}\n\n\t\tif (intensity) intensity[i] = intensityExtractor(pos);\n\t\tif (classification) classification[i] = classificationExtractor(pos);\n\t\tif (returnNumber) returnNumber[i] = returnNumberExtractor(pos);\n\t\tif (numberOfReturns) numberOfReturns[i] = numberOfReturnsExtractor(pos);\n\t\tif (pointSourceId) pointSourceId[i] = pointSourceIdExtractor(pos);\n\t}\n\n\tlet indicesBuffer = new ArrayBuffer(numPoints * 4);\n\tlet indices = new Uint32Array(indicesBuffer);\n\tfor (let i = 0; i < numPoints; ++i) {\n\t\tindices[i] = i;\n\t}\n\n\tlet message = {\n\t\tnumPoints: numPoints,\n\t\ttightBoundingBox: bounds,\n\t\tmean: mean,\n\n\t\tposition: xyzBuffer,\n\t\tcolor: rgbBuffer,\n\t\tintensity: intensityBuffer,\n\t\tclassification: classificationBuffer,\n\t\treturnNumber: returnNumberBuffer,\n\t\tnumberOfReturns: numberOfReturnsBuffer,\n\t\tpointSourceId: pointSourceIdBuffer,\n\t\tindices: indicesBuffer\n\t};\n\n\tlet transferables = [\n\t\tmessage.position,\n\t\tmessage.color,\n\t\tmessage.intensity,\n\t\tmessage.classification,\n\t\tmessage.returnNumber,\n\t\tmessage.numberOfReturns,\n\t\tmessage.pointSourceId,\n\t\tmessage.indices\n\t].filter((v) => v);\n\n\tpostMessage(message, transferables);\n}\n\n\n\n/***/ })\n\n/******/ });\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3dvcmtlcnMvRXB0QmluYXJ5RGVjb2Rlcldvcmtlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO1FBQUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7OztRQUdBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwwQ0FBMEMsZ0NBQWdDO1FBQzFFO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0Esd0RBQXdELGtCQUFrQjtRQUMxRTtRQUNBLGlEQUFpRCxjQUFjO1FBQy9EOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSx5Q0FBeUMsaUNBQWlDO1FBQzFFLGdIQUFnSCxtQkFBbUIsRUFBRTtRQUNySTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDJCQUEyQiwwQkFBMEIsRUFBRTtRQUN2RCxpQ0FBaUMsZUFBZTtRQUNoRDtRQUNBO1FBQ0E7O1FBRUE7UUFDQSxzREFBc0QsK0RBQStEOztRQUVySDtRQUNBOzs7UUFHQTtRQUNBOzs7Ozs7Ozs7Ozs7QUNsRkEsVUFBVTs7QUFFVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLEdBQUcsRUFBRTs7QUFFUDtBQUNBO0FBQ0EsaUJBQWlCLG1CQUFtQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EseURBQXlELEtBQUssSUFBSSxJQUFJO0FBQ3RFOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsZ0NBQWdDO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLGVBQWU7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLGVBQWU7QUFDL0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsImZpbGUiOiI0MTdlZjc0M2NlNDU3MDUxNDdhNi53b3JrZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NvdXJjZS93b3JrZXJzL0VwdEJpbmFyeURlY29kZXJXb3JrZXIuanNcIik7XG4iLCJQb3RyZWUgPSB7IH07XG5cbm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIGlmICghZXZlbnQuZGF0YSB8fCAhZXZlbnQuZGF0YS5idWZmZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblx0bGV0IGJ1ZmZlciA9IGV2ZW50LmRhdGEuYnVmZmVyO1xuXHRsZXQgdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xuXHRsZXQgc2NoZW1hID0gZXZlbnQuZGF0YS5zY2hlbWE7XG5cdGxldCBzY2FsZSA9IGV2ZW50LmRhdGEuc2NhbGU7XG5cdGxldCBvZmZzZXQgPSBldmVudC5kYXRhLm9mZnNldDtcblx0bGV0IG1pbnMgPSBldmVudC5kYXRhLm1pbnM7XG5cblx0bGV0IGRpbWVuc2lvbnMgPSBzY2hlbWEucmVkdWNlKChwLCBjKSA9PiB7XG5cdFx0cFtjLm5hbWVdID0gYztcblx0XHRyZXR1cm4gcDtcblx0fSwgeyB9KTtcblxuXHRsZXQgZGltT2Zmc2V0ID0gKG5hbWUpID0+IHtcblx0XHRsZXQgb2Zmc2V0ID0gMDtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5sZW5ndGg7ICsraSkge1xuXHRcdFx0aWYgKHNjaGVtYVtpXS5uYW1lID09IG5hbWUpIHJldHVybiBvZmZzZXQ7XG5cdFx0XHRvZmZzZXQgKz0gc2NoZW1hW2ldLnNpemU7XG5cdFx0fVxuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH07XG5cblx0bGV0IGdldEV4dHJhY3RvciA9IChuYW1lKSA9PiB7XG5cdFx0bGV0IG9mZnNldCA9IGRpbU9mZnNldChuYW1lKTtcblx0XHRsZXQgdHlwZSA9IGRpbWVuc2lvbnNbbmFtZV0udHlwZTtcblx0XHRsZXQgc2l6ZSA9IGRpbWVuc2lvbnNbbmFtZV0uc2l6ZTtcblxuXHRcdGlmICh0eXBlID09IFwic2lnbmVkXCIpIHN3aXRjaCAoc2l6ZSkge1xuXHRcdFx0Y2FzZSAxOiByZXR1cm4gKHApID0+IHZpZXcuZ2V0SW50OChwICsgb2Zmc2V0KTtcblx0XHRcdGNhc2UgMjogcmV0dXJuIChwKSA9PiB2aWV3LmdldEludDE2KHAgKyBvZmZzZXQsIHRydWUpO1xuXHRcdFx0Y2FzZSA0OiByZXR1cm4gKHApID0+IHZpZXcuZ2V0SW50MzIocCArIG9mZnNldCwgdHJ1ZSk7XG5cdFx0XHRjYXNlIDg6IHJldHVybiAocCkgPT4gdmlldy5nZXRJbnQ2NChwICsgb2Zmc2V0LCB0cnVlKTtcblx0XHR9XG5cdFx0aWYgKHR5cGUgPT0gXCJ1bnNpZ25lZFwiKSBzd2l0Y2ggKHNpemUpIHtcblx0XHRcdGNhc2UgMTogcmV0dXJuIChwKSA9PiB2aWV3LmdldFVpbnQ4KHAgKyBvZmZzZXQpO1xuXHRcdFx0Y2FzZSAyOiByZXR1cm4gKHApID0+IHZpZXcuZ2V0VWludDE2KHAgKyBvZmZzZXQsIHRydWUpO1xuXHRcdFx0Y2FzZSA0OiByZXR1cm4gKHApID0+IHZpZXcuZ2V0VWludDMyKHAgKyBvZmZzZXQsIHRydWUpO1xuXHRcdFx0Y2FzZSA4OiByZXR1cm4gKHApID0+IHZpZXcuZ2V0VWludDY0KHAgKyBvZmZzZXQsIHRydWUpO1xuXHRcdH1cblx0XHRpZiAodHlwZSA9PSBcImZsb2F0XCIpIHN3aXRjaCAoc2l6ZSkge1xuXHRcdFx0Y2FzZSA0OiByZXR1cm4gKHApID0+IHZpZXcuZ2V0RmxvYXQzMihwICsgb2Zmc2V0LCB0cnVlKTtcblx0XHRcdGNhc2UgODogcmV0dXJuIChwKSA9PiB2aWV3LmdldEZsb2F0NjQocCArIG9mZnNldCwgdHJ1ZSk7XG5cdFx0fVxuXG5cdFx0bGV0IHN0ciA9IEpTT04uc3RyaW5naWZ5KGRpbWVuc2lvbnNbbmFtZV0pO1xuXHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBkaW1lbnNpb24gc3BlY2lmaWNhdGlvbiBmb3IgJHtuYW1lfTogJHtzdHJ9YCk7XG5cdH07XG5cblx0bGV0IHBvaW50U2l6ZSA9IHNjaGVtYS5yZWR1Y2UoKHAsIGMpID0+IHAgKyBjLnNpemUsIDApO1xuXHRsZXQgbnVtUG9pbnRzID0gYnVmZmVyLmJ5dGVMZW5ndGggLyBwb2ludFNpemU7XG5cblx0bGV0IHh5ekJ1ZmZlciwgcmdiQnVmZmVyLCBpbnRlbnNpdHlCdWZmZXIsIGNsYXNzaWZpY2F0aW9uQnVmZmVyLFxuXHRcdHJldHVybk51bWJlckJ1ZmZlciwgbnVtYmVyT2ZSZXR1cm5zQnVmZmVyLCBwb2ludFNvdXJjZUlkQnVmZmVyO1xuXHRsZXQgeHl6LCByZ2IsIGludGVuc2l0eSwgY2xhc3NpZmljYXRpb24sIHJldHVybk51bWJlciwgbnVtYmVyT2ZSZXR1cm5zLFxuXHRcdHBvaW50U291cmNlSWQ7XG5cdGxldCB4eXpFeHRyYWN0b3IsIHJnYkV4dHJhY3RvciwgaW50ZW5zaXR5RXh0cmFjdG9yLCBjbGFzc2lmaWNhdGlvbkV4dHJhY3Rvcixcblx0XHRyZXR1cm5OdW1iZXJFeHRyYWN0b3IsIG51bWJlck9mUmV0dXJuc0V4dHJhY3RvciwgcG9pbnRTb3VyY2VJZEV4dHJhY3Rvcjtcblx0bGV0IHR3b0J5dGVDb2xvciA9IGZhbHNlO1xuXG5cdGlmIChkaW1lbnNpb25zW1wiWFwiXSAmJiBkaW1lbnNpb25zW1wiWVwiXSAmJiBkaW1lbnNpb25zW1wiWlwiXSkge1xuXHRcdHh5ekJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMgKiA0ICogMyk7XG5cdFx0eHl6ID0gbmV3IEZsb2F0MzJBcnJheSh4eXpCdWZmZXIpO1xuXHRcdHh5ekV4dHJhY3RvciA9IFtcblx0XHRcdGdldEV4dHJhY3RvcihcIlhcIiksXG5cdFx0XHRnZXRFeHRyYWN0b3IoXCJZXCIpLFxuXHRcdFx0Z2V0RXh0cmFjdG9yKFwiWlwiKVxuXHRcdF07XG5cdH1cblxuXHRpZiAoZGltZW5zaW9uc1tcIlJlZFwiXSAmJiBkaW1lbnNpb25zW1wiR3JlZW5cIl0gJiYgZGltZW5zaW9uc1tcIkJsdWVcIl0pIHtcblx0XHRyZ2JCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogNCk7XG5cdFx0cmdiID0gbmV3IFVpbnQ4QXJyYXkocmdiQnVmZmVyKTtcblx0XHRyZ2JFeHRyYWN0b3IgPSBbXG5cdFx0XHRnZXRFeHRyYWN0b3IoXCJSZWRcIiksXG5cdFx0XHRnZXRFeHRyYWN0b3IoXCJHcmVlblwiKSxcblx0XHRcdGdldEV4dHJhY3RvcihcIkJsdWVcIilcblx0XHRdO1xuXG5cdFx0bGV0IHIsIGcsIGIsIHBvcztcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG51bVBvaW50cyAmJiAhdHdvQnl0ZUNvbG9yOyArK2kpIHtcblx0XHRcdHBvcyA9IGkgKiBwb2ludFNpemU7XG5cdFx0XHRyID0gcmdiRXh0cmFjdG9yWzBdKHBvcyk7XG5cdFx0XHRnID0gcmdiRXh0cmFjdG9yWzFdKHBvcyk7XG5cdFx0XHRiID0gcmdiRXh0cmFjdG9yWzJdKHBvcyk7XG5cdFx0XHRpZiAociA+IDI1NSB8fCBnID4gMjU1IHx8IGIgPiAyNTUpIHR3b0J5dGVDb2xvciA9IHRydWU7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGRpbWVuc2lvbnNbXCJJbnRlbnNpdHlcIl0pIHtcblx0XHRpbnRlbnNpdHlCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogNCk7XG5cdFx0aW50ZW5zaXR5ID0gbmV3IEZsb2F0MzJBcnJheShpbnRlbnNpdHlCdWZmZXIpO1xuXHRcdGludGVuc2l0eUV4dHJhY3RvciA9IGdldEV4dHJhY3RvcihcIkludGVuc2l0eVwiKTtcblx0fVxuXG5cdGlmIChkaW1lbnNpb25zW1wiQ2xhc3NpZmljYXRpb25cIl0pIHtcblx0XHRjbGFzc2lmaWNhdGlvbkJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMpO1xuXHRcdGNsYXNzaWZpY2F0aW9uID0gbmV3IFVpbnQ4QXJyYXkoY2xhc3NpZmljYXRpb25CdWZmZXIpO1xuXHRcdGNsYXNzaWZpY2F0aW9uRXh0cmFjdG9yID0gZ2V0RXh0cmFjdG9yKFwiQ2xhc3NpZmljYXRpb25cIik7XG5cdH1cblxuXHRpZiAoZGltZW5zaW9uc1tcIlJldHVybk51bWJlclwiXSkge1xuXHRcdHJldHVybk51bWJlckJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMpO1xuXHRcdHJldHVybk51bWJlciA9IG5ldyBVaW50OEFycmF5KHJldHVybk51bWJlckJ1ZmZlcik7XG5cdFx0cmV0dXJuTnVtYmVyRXh0cmFjdG9yID0gZ2V0RXh0cmFjdG9yKFwiUmV0dXJuTnVtYmVyXCIpO1xuXHR9XG5cblx0aWYgKGRpbWVuc2lvbnNbXCJOdW1iZXJPZlJldHVybnNcIl0pIHtcblx0XHRudW1iZXJPZlJldHVybnNCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzKTtcblx0XHRudW1iZXJPZlJldHVybnMgPSBuZXcgVWludDhBcnJheShudW1iZXJPZlJldHVybnNCdWZmZXIpO1xuXHRcdG51bWJlck9mUmV0dXJuc0V4dHJhY3RvciA9IGdldEV4dHJhY3RvcihcIk51bWJlck9mUmV0dXJuc1wiKTtcblx0fVxuXG5cdGlmIChkaW1lbnNpb25zW1wiUG9pbnRTb3VyY2VJZFwiXSkge1xuXHRcdHBvaW50U291cmNlSWRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzICogMik7XG5cdFx0cG9pbnRTb3VyY2VJZCA9IG5ldyBVaW50MTZBcnJheShwb2ludFNvdXJjZUlkQnVmZmVyKTtcblx0XHRwb2ludFNvdXJjZUlkRXh0cmFjdG9yID0gZ2V0RXh0cmFjdG9yKFwiUG9pbnRTb3VyY2VJZFwiKTtcblx0fVxuXG5cdGxldCBtZWFuID0gWzAsIDAsIDBdO1xuXHRsZXQgYm91bmRzID0ge1xuXHRcdG1pbjogW051bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUVdLFxuXHRcdG1heDogWy1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUVdLFxuXHR9O1xuXG5cdGxldCB4LCB5LCB6LCByLCBnLCBiO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IG51bVBvaW50czsgKytpKSB7XG5cdFx0bGV0IHBvcyA9IGkgKiBwb2ludFNpemU7XG5cdFx0aWYgKHh5eikge1xuXHRcdFx0eCA9IHh5ekV4dHJhY3RvclswXShwb3MpICogc2NhbGUueCArIG9mZnNldC54IC0gbWluc1swXTtcblx0XHRcdHkgPSB4eXpFeHRyYWN0b3JbMV0ocG9zKSAqIHNjYWxlLnkgKyBvZmZzZXQueSAtIG1pbnNbMV07XG5cdFx0XHR6ID0geHl6RXh0cmFjdG9yWzJdKHBvcykgKiBzY2FsZS56ICsgb2Zmc2V0LnogLSBtaW5zWzJdO1xuXG5cdFx0XHRtZWFuWzBdICs9IHggLyBudW1Qb2ludHM7XG5cdFx0XHRtZWFuWzFdICs9IHkgLyBudW1Qb2ludHM7XG5cdFx0XHRtZWFuWzJdICs9IHogLyBudW1Qb2ludHM7XG5cblx0XHRcdGJvdW5kcy5taW5bMF0gPSBNYXRoLm1pbihib3VuZHMubWluWzBdLCB4KTtcblx0XHRcdGJvdW5kcy5taW5bMV0gPSBNYXRoLm1pbihib3VuZHMubWluWzFdLCB5KTtcblx0XHRcdGJvdW5kcy5taW5bMl0gPSBNYXRoLm1pbihib3VuZHMubWluWzJdLCB6KTtcblxuXHRcdFx0Ym91bmRzLm1heFswXSA9IE1hdGgubWF4KGJvdW5kcy5tYXhbMF0sIHgpO1xuXHRcdFx0Ym91bmRzLm1heFsxXSA9IE1hdGgubWF4KGJvdW5kcy5tYXhbMV0sIHkpO1xuXHRcdFx0Ym91bmRzLm1heFsyXSA9IE1hdGgubWF4KGJvdW5kcy5tYXhbMl0sIHopO1xuXG5cdFx0XHR4eXpbMyAqIGkgKyAwXSA9IHg7XG5cdFx0XHR4eXpbMyAqIGkgKyAxXSA9IHk7XG5cdFx0XHR4eXpbMyAqIGkgKyAyXSA9IHo7XG5cdFx0fVxuXG5cdFx0aWYgKHJnYikge1xuXHRcdFx0ciA9IHJnYkV4dHJhY3RvclswXShwb3MpO1xuXHRcdFx0ZyA9IHJnYkV4dHJhY3RvclsxXShwb3MpO1xuXHRcdFx0YiA9IHJnYkV4dHJhY3RvclsyXShwb3MpO1xuXG5cdFx0XHRpZiAodHdvQnl0ZUNvbG9yKSB7XG5cdFx0XHRcdHIgLz0gMjU2O1xuXHRcdFx0XHRnIC89IDI1Njtcblx0XHRcdFx0YiAvPSAyNTY7XG5cdFx0XHR9XG5cblx0XHRcdHJnYls0ICogaSArIDBdID0gcjtcblx0XHRcdHJnYls0ICogaSArIDFdID0gZztcblx0XHRcdHJnYls0ICogaSArIDJdID0gYjtcblx0XHR9XG5cblx0XHRpZiAoaW50ZW5zaXR5KSBpbnRlbnNpdHlbaV0gPSBpbnRlbnNpdHlFeHRyYWN0b3IocG9zKTtcblx0XHRpZiAoY2xhc3NpZmljYXRpb24pIGNsYXNzaWZpY2F0aW9uW2ldID0gY2xhc3NpZmljYXRpb25FeHRyYWN0b3IocG9zKTtcblx0XHRpZiAocmV0dXJuTnVtYmVyKSByZXR1cm5OdW1iZXJbaV0gPSByZXR1cm5OdW1iZXJFeHRyYWN0b3IocG9zKTtcblx0XHRpZiAobnVtYmVyT2ZSZXR1cm5zKSBudW1iZXJPZlJldHVybnNbaV0gPSBudW1iZXJPZlJldHVybnNFeHRyYWN0b3IocG9zKTtcblx0XHRpZiAocG9pbnRTb3VyY2VJZCkgcG9pbnRTb3VyY2VJZFtpXSA9IHBvaW50U291cmNlSWRFeHRyYWN0b3IocG9zKTtcblx0fVxuXG5cdGxldCBpbmRpY2VzQnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQpO1xuXHRsZXQgaW5kaWNlcyA9IG5ldyBVaW50MzJBcnJheShpbmRpY2VzQnVmZmVyKTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBudW1Qb2ludHM7ICsraSkge1xuXHRcdGluZGljZXNbaV0gPSBpO1xuXHR9XG5cblx0bGV0IG1lc3NhZ2UgPSB7XG5cdFx0bnVtUG9pbnRzOiBudW1Qb2ludHMsXG5cdFx0dGlnaHRCb3VuZGluZ0JveDogYm91bmRzLFxuXHRcdG1lYW46IG1lYW4sXG5cblx0XHRwb3NpdGlvbjogeHl6QnVmZmVyLFxuXHRcdGNvbG9yOiByZ2JCdWZmZXIsXG5cdFx0aW50ZW5zaXR5OiBpbnRlbnNpdHlCdWZmZXIsXG5cdFx0Y2xhc3NpZmljYXRpb246IGNsYXNzaWZpY2F0aW9uQnVmZmVyLFxuXHRcdHJldHVybk51bWJlcjogcmV0dXJuTnVtYmVyQnVmZmVyLFxuXHRcdG51bWJlck9mUmV0dXJuczogbnVtYmVyT2ZSZXR1cm5zQnVmZmVyLFxuXHRcdHBvaW50U291cmNlSWQ6IHBvaW50U291cmNlSWRCdWZmZXIsXG5cdFx0aW5kaWNlczogaW5kaWNlc0J1ZmZlclxuXHR9O1xuXG5cdGxldCB0cmFuc2ZlcmFibGVzID0gW1xuXHRcdG1lc3NhZ2UucG9zaXRpb24sXG5cdFx0bWVzc2FnZS5jb2xvcixcblx0XHRtZXNzYWdlLmludGVuc2l0eSxcblx0XHRtZXNzYWdlLmNsYXNzaWZpY2F0aW9uLFxuXHRcdG1lc3NhZ2UucmV0dXJuTnVtYmVyLFxuXHRcdG1lc3NhZ2UubnVtYmVyT2ZSZXR1cm5zLFxuXHRcdG1lc3NhZ2UucG9pbnRTb3VyY2VJZCxcblx0XHRtZXNzYWdlLmluZGljZXNcblx0XS5maWx0ZXIoKHYpID0+IHYpO1xuXG5cdHBvc3RNZXNzYWdlKG1lc3NhZ2UsIHRyYW5zZmVyYWJsZXMpO1xufVxuXG4iXSwic291cmNlUm9vdCI6IiJ9',null)}},"./source/workers/EptLaszipDecoderWorker.js":function(e,t,r){e.exports=function(){return r("./node_modules/worker-loader/dist/workers/InlineWorker.js")('/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== \'undefined\' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: \'Module\' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, \'__esModule\', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === \'object\' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, \'default\', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != \'string\') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module[\'default\']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, \'a\', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = "";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = "./source/workers/EptLaszipDecoderWorker.js");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ "./source/workers/EptLaszipDecoderWorker.js":\n/*!**************************************************!*\\\n  !*** ./source/workers/EptLaszipDecoderWorker.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nfunction readUsingDataView(event) {\n  performance.mark("laslaz-start");\n\n  if (!event.data || !event.data.buffer) {\n    return;\n  }\n\n\tlet buffer = event.data.buffer;\n\tlet numPoints = event.data.numPoints;\n\tlet pointSize = event.data.pointSize;\n\tlet pointFormat = event.data.pointFormatID;\n\tlet scale = event.data.scale;\n\tlet offset = event.data.offset;\n\n\tlet sourceUint8 = new Uint8Array(buffer);\n\tlet sourceView = new DataView(buffer);\n\n\tlet tightBoundingBox = {\n\t\tmin: [\n\t\t\tNumber.POSITIVE_INFINITY,\n\t\t\tNumber.POSITIVE_INFINITY,\n\t\t\tNumber.POSITIVE_INFINITY\n\t\t],\n\t\tmax: [\n\t\t\tNumber.NEGATIVE_INFINITY,\n\t\t\tNumber.NEGATIVE_INFINITY,\n\t\t\tNumber.NEGATIVE_INFINITY\n\t\t]\n\t};\n\n\tlet mean = [0, 0, 0];\n\n\tlet pBuff = new ArrayBuffer(numPoints * 3 * 4);\n\tlet cBuff = new ArrayBuffer(numPoints * 4);\n\tlet iBuff = new ArrayBuffer(numPoints * 4);\n\tlet clBuff = new ArrayBuffer(numPoints);\n\tlet rnBuff = new ArrayBuffer(numPoints);\n\tlet nrBuff = new ArrayBuffer(numPoints);\n\tlet psBuff = new ArrayBuffer(numPoints * 2);\n\n\tlet positions = new Float32Array(pBuff);\n\tlet colors = new Uint8Array(cBuff);\n\tlet intensities = new Float32Array(iBuff);\n\tlet classifications = new Uint8Array(clBuff);\n\tlet returnNumbers = new Uint8Array(rnBuff);\n\tlet numberOfReturns = new Uint8Array(nrBuff);\n\tlet pointSourceIDs = new Uint16Array(psBuff);\n\n\t// Point format 3 contains an 8-byte GpsTime before RGB values, so make\n\t// sure we have the correct color offset.\n\tlet hasColor = pointFormat == 2 || pointFormat == 3;\n\tlet co = pointFormat == 2 ? 20 : 28;\n\n\t// TODO This should be cached per-resource since this is an expensive check.\n\tlet twoByteColor = false;\n\tif (hasColor) {\n\t\tlet r, g, b, pos;\n\t\tfor (let i = 0; i < numPoints && !twoByteColor; ++i) {\n\t\t\tpos = i * pointSize;\n\t\t\tr = sourceView.getUint16(pos + co, true)\n\t\t\tg = sourceView.getUint16(pos + co + 2, true)\n\t\t\tb = sourceView.getUint16(pos + co + 4, true)\n\t\t\tif (r > 255 || g > 255 || b > 255) twoByteColor = true;\n\t\t}\n\t}\n\n\tfor (let i = 0; i < numPoints; i++) {\n\t\t// POSITION\n\t\tlet ux = sourceView.getInt32(i * pointSize + 0, true);\n\t\tlet uy = sourceView.getInt32(i * pointSize + 4, true);\n\t\tlet uz = sourceView.getInt32(i * pointSize + 8, true);\n\n\t\tx = ux * scale[0] + offset[0] - event.data.mins[0];\n\t\ty = uy * scale[1] + offset[1] - event.data.mins[1];\n\t\tz = uz * scale[2] + offset[2] - event.data.mins[2];\n\n\t\tpositions[3 * i + 0] = x;\n\t\tpositions[3 * i + 1] = y;\n\t\tpositions[3 * i + 2] = z;\n\n\t\tmean[0] += x / numPoints;\n\t\tmean[1] += y / numPoints;\n\t\tmean[2] += z / numPoints;\n\n\t\ttightBoundingBox.min[0] = Math.min(tightBoundingBox.min[0], x);\n\t\ttightBoundingBox.min[1] = Math.min(tightBoundingBox.min[1], y);\n\t\ttightBoundingBox.min[2] = Math.min(tightBoundingBox.min[2], z);\n\n\t\ttightBoundingBox.max[0] = Math.max(tightBoundingBox.max[0], x);\n\t\ttightBoundingBox.max[1] = Math.max(tightBoundingBox.max[1], y);\n\t\ttightBoundingBox.max[2] = Math.max(tightBoundingBox.max[2], z);\n\n\t\t// INTENSITY\n\t\tlet intensity = sourceView.getUint16(i * pointSize + 12, true);\n\t\tintensities[i] = intensity;\n\n\t\t// RETURN NUMBER, stored in the first 3 bits - 00000111\n\t\t// number of returns stored in next 3 bits\t - 00111000\n\t\tlet returnNumberAndNumberOfReturns = sourceView.getUint8(i * pointSize + 14, true);\n\t\tlet returnNumber = returnNumberAndNumberOfReturns & 0b0111;\n\t\tlet numberOfReturn = (returnNumberAndNumberOfReturns & 0b00111000) >> 3;\n\t\treturnNumbers[i] = returnNumber;\n\t\tnumberOfReturns[i] = numberOfReturn;\n\n\t\t// CLASSIFICATION\n\t\tlet classification = sourceView.getUint8(i * pointSize + 15, true);\n\t\tclassifications[i] = classification;\n\n\t\t// POINT SOURCE ID\n\t\tlet pointSourceID = sourceView.getUint16(i * pointSize + 18, true);\n\t\tpointSourceIDs[i] = pointSourceID;\n\n\t\t// COLOR, if available\n\t\tif (hasColor) {\n\t\t\tlet r = sourceView.getUint16(i * pointSize + co, true)\n\t\t\tlet g = sourceView.getUint16(i * pointSize + co + 2, true)\n\t\t\tlet b = sourceView.getUint16(i * pointSize + co + 4, true)\n\n\t\t\tif (twoByteColor) {\n\t\t\t\tr /= 256;\n\t\t\t\tg /= 256;\n\t\t\t\tb /= 256;\n\t\t\t}\n\n\t\t\tcolors[4 * i + 0] = r;\n\t\t\tcolors[4 * i + 1] = g;\n\t\t\tcolors[4 * i + 2] = b;\n\t\t\tcolors[4 * i + 3] = 255;\n\t\t}\n\t}\n\n\tlet indices = new ArrayBuffer(numPoints * 4);\n\tlet iIndices = new Uint32Array(indices);\n\tfor (let i = 0; i < numPoints; i++) {\n\t\tiIndices[i] = i;\n\t}\n\n\tperformance.mark("laslaz-end");\n\n\t//{ // print timings\n\t//\t  performance.measure("laslaz", "laslaz-start", "laslaz-end");\n\t//\t  let measure = performance.getEntriesByType("measure")[0];\n\t//\t  let dpp = 1000 * measure.duration / numPoints;\n\t//\t  let debugMessage = `${measure.duration.toFixed(3)} ms, ${numPoints} points, ${dpp.toFixed(3)} \xb5s / point`;\n\t//\t  console.log(debugMessage);\n\t//}\n\tperformance.clearMarks();\n\tperformance.clearMeasures();\n\n\tlet message = {\n\t\tmean: mean,\n\t\tposition: pBuff,\n\t\tcolor: cBuff,\n\t\tintensity: iBuff,\n\t\tclassification: clBuff,\n\t\treturnNumber: rnBuff,\n\t\tnumberOfReturns: nrBuff,\n\t\tpointSourceID: psBuff,\n\t\ttightBoundingBox: tightBoundingBox,\n\t\tindices: indices\n\t};\n\n\tlet transferables = [\n\t\tmessage.position,\n\t\tmessage.color,\n\t\tmessage.intensity,\n\t\tmessage.classification,\n\t\tmessage.returnNumber,\n\t\tmessage.numberOfReturns,\n\t\tmessage.pointSourceID,\n\t\tmessage.indices\n\t];\n\n\tpostMessage(message, transferables);\n};\n\n\n\nonmessage = readUsingDataView;\n\n\n\n/***/ })\n\n/******/ });\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3dvcmtlcnMvRXB0TGFzemlwRGVjb2Rlcldvcmtlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO1FBQUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7OztRQUdBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwwQ0FBMEMsZ0NBQWdDO1FBQzFFO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0Esd0RBQXdELGtCQUFrQjtRQUMxRTtRQUNBLGlEQUFpRCxjQUFjO1FBQy9EOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSx5Q0FBeUMsaUNBQWlDO1FBQzFFLGdIQUFnSCxtQkFBbUIsRUFBRTtRQUNySTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDJCQUEyQiwwQkFBMEIsRUFBRTtRQUN2RCxpQ0FBaUMsZUFBZTtRQUNoRDtRQUNBO1FBQ0E7O1FBRUE7UUFDQSxzREFBc0QsK0RBQStEOztRQUVySDtRQUNBOzs7UUFHQTtRQUNBOzs7Ozs7Ozs7Ozs7QUNsRkE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdDQUFnQztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IsZUFBZTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQixlQUFlO0FBQy9CO0FBQ0E7O0FBRUE7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0QkFBNEIsT0FBTyxVQUFVLFdBQVcsZUFBZTtBQUNuRztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7OztBQUlBIiwiZmlsZSI6IjdjNDZhZWFhMWY1MTUxOWJlYzBlLndvcmtlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc291cmNlL3dvcmtlcnMvRXB0TGFzemlwRGVjb2Rlcldvcmtlci5qc1wiKTtcbiIsImZ1bmN0aW9uIHJlYWRVc2luZ0RhdGFWaWV3KGV2ZW50KSB7XG4gIHBlcmZvcm1hbmNlLm1hcmsoXCJsYXNsYXotc3RhcnRcIik7XG5cbiAgaWYgKCFldmVudC5kYXRhIHx8ICFldmVudC5kYXRhLmJ1ZmZlcikge1xuICAgIHJldHVybjtcbiAgfVxuXG5cdGxldCBidWZmZXIgPSBldmVudC5kYXRhLmJ1ZmZlcjtcblx0bGV0IG51bVBvaW50cyA9IGV2ZW50LmRhdGEubnVtUG9pbnRzO1xuXHRsZXQgcG9pbnRTaXplID0gZXZlbnQuZGF0YS5wb2ludFNpemU7XG5cdGxldCBwb2ludEZvcm1hdCA9IGV2ZW50LmRhdGEucG9pbnRGb3JtYXRJRDtcblx0bGV0IHNjYWxlID0gZXZlbnQuZGF0YS5zY2FsZTtcblx0bGV0IG9mZnNldCA9IGV2ZW50LmRhdGEub2Zmc2V0O1xuXG5cdGxldCBzb3VyY2VVaW50OCA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG5cdGxldCBzb3VyY2VWaWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlcik7XG5cblx0bGV0IHRpZ2h0Qm91bmRpbmdCb3ggPSB7XG5cdFx0bWluOiBbXG5cdFx0XHROdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG5cdFx0XHROdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG5cdFx0XHROdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFlcblx0XHRdLFxuXHRcdG1heDogW1xuXHRcdFx0TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLFxuXHRcdFx0TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLFxuXHRcdFx0TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZXG5cdFx0XVxuXHR9O1xuXG5cdGxldCBtZWFuID0gWzAsIDAsIDBdO1xuXG5cdGxldCBwQnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMgKiAzICogNCk7XG5cdGxldCBjQnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMgKiA0KTtcblx0bGV0IGlCdWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQpO1xuXHRsZXQgY2xCdWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyk7XG5cdGxldCBybkJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzKTtcblx0bGV0IG5yQnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMpO1xuXHRsZXQgcHNCdWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDIpO1xuXG5cdGxldCBwb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KHBCdWZmKTtcblx0bGV0IGNvbG9ycyA9IG5ldyBVaW50OEFycmF5KGNCdWZmKTtcblx0bGV0IGludGVuc2l0aWVzID0gbmV3IEZsb2F0MzJBcnJheShpQnVmZik7XG5cdGxldCBjbGFzc2lmaWNhdGlvbnMgPSBuZXcgVWludDhBcnJheShjbEJ1ZmYpO1xuXHRsZXQgcmV0dXJuTnVtYmVycyA9IG5ldyBVaW50OEFycmF5KHJuQnVmZik7XG5cdGxldCBudW1iZXJPZlJldHVybnMgPSBuZXcgVWludDhBcnJheShuckJ1ZmYpO1xuXHRsZXQgcG9pbnRTb3VyY2VJRHMgPSBuZXcgVWludDE2QXJyYXkocHNCdWZmKTtcblxuXHQvLyBQb2ludCBmb3JtYXQgMyBjb250YWlucyBhbiA4LWJ5dGUgR3BzVGltZSBiZWZvcmUgUkdCIHZhbHVlcywgc28gbWFrZVxuXHQvLyBzdXJlIHdlIGhhdmUgdGhlIGNvcnJlY3QgY29sb3Igb2Zmc2V0LlxuXHRsZXQgaGFzQ29sb3IgPSBwb2ludEZvcm1hdCA9PSAyIHx8IHBvaW50Rm9ybWF0ID09IDM7XG5cdGxldCBjbyA9IHBvaW50Rm9ybWF0ID09IDIgPyAyMCA6IDI4O1xuXG5cdC8vIFRPRE8gVGhpcyBzaG91bGQgYmUgY2FjaGVkIHBlci1yZXNvdXJjZSBzaW5jZSB0aGlzIGlzIGFuIGV4cGVuc2l2ZSBjaGVjay5cblx0bGV0IHR3b0J5dGVDb2xvciA9IGZhbHNlO1xuXHRpZiAoaGFzQ29sb3IpIHtcblx0XHRsZXQgciwgZywgYiwgcG9zO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbnVtUG9pbnRzICYmICF0d29CeXRlQ29sb3I7ICsraSkge1xuXHRcdFx0cG9zID0gaSAqIHBvaW50U2l6ZTtcblx0XHRcdHIgPSBzb3VyY2VWaWV3LmdldFVpbnQxNihwb3MgKyBjbywgdHJ1ZSlcblx0XHRcdGcgPSBzb3VyY2VWaWV3LmdldFVpbnQxNihwb3MgKyBjbyArIDIsIHRydWUpXG5cdFx0XHRiID0gc291cmNlVmlldy5nZXRVaW50MTYocG9zICsgY28gKyA0LCB0cnVlKVxuXHRcdFx0aWYgKHIgPiAyNTUgfHwgZyA+IDI1NSB8fCBiID4gMjU1KSB0d29CeXRlQ29sb3IgPSB0cnVlO1xuXHRcdH1cblx0fVxuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbnVtUG9pbnRzOyBpKyspIHtcblx0XHQvLyBQT1NJVElPTlxuXHRcdGxldCB1eCA9IHNvdXJjZVZpZXcuZ2V0SW50MzIoaSAqIHBvaW50U2l6ZSArIDAsIHRydWUpO1xuXHRcdGxldCB1eSA9IHNvdXJjZVZpZXcuZ2V0SW50MzIoaSAqIHBvaW50U2l6ZSArIDQsIHRydWUpO1xuXHRcdGxldCB1eiA9IHNvdXJjZVZpZXcuZ2V0SW50MzIoaSAqIHBvaW50U2l6ZSArIDgsIHRydWUpO1xuXG5cdFx0eCA9IHV4ICogc2NhbGVbMF0gKyBvZmZzZXRbMF0gLSBldmVudC5kYXRhLm1pbnNbMF07XG5cdFx0eSA9IHV5ICogc2NhbGVbMV0gKyBvZmZzZXRbMV0gLSBldmVudC5kYXRhLm1pbnNbMV07XG5cdFx0eiA9IHV6ICogc2NhbGVbMl0gKyBvZmZzZXRbMl0gLSBldmVudC5kYXRhLm1pbnNbMl07XG5cblx0XHRwb3NpdGlvbnNbMyAqIGkgKyAwXSA9IHg7XG5cdFx0cG9zaXRpb25zWzMgKiBpICsgMV0gPSB5O1xuXHRcdHBvc2l0aW9uc1szICogaSArIDJdID0gejtcblxuXHRcdG1lYW5bMF0gKz0geCAvIG51bVBvaW50cztcblx0XHRtZWFuWzFdICs9IHkgLyBudW1Qb2ludHM7XG5cdFx0bWVhblsyXSArPSB6IC8gbnVtUG9pbnRzO1xuXG5cdFx0dGlnaHRCb3VuZGluZ0JveC5taW5bMF0gPSBNYXRoLm1pbih0aWdodEJvdW5kaW5nQm94Lm1pblswXSwgeCk7XG5cdFx0dGlnaHRCb3VuZGluZ0JveC5taW5bMV0gPSBNYXRoLm1pbih0aWdodEJvdW5kaW5nQm94Lm1pblsxXSwgeSk7XG5cdFx0dGlnaHRCb3VuZGluZ0JveC5taW5bMl0gPSBNYXRoLm1pbih0aWdodEJvdW5kaW5nQm94Lm1pblsyXSwgeik7XG5cblx0XHR0aWdodEJvdW5kaW5nQm94Lm1heFswXSA9IE1hdGgubWF4KHRpZ2h0Qm91bmRpbmdCb3gubWF4WzBdLCB4KTtcblx0XHR0aWdodEJvdW5kaW5nQm94Lm1heFsxXSA9IE1hdGgubWF4KHRpZ2h0Qm91bmRpbmdCb3gubWF4WzFdLCB5KTtcblx0XHR0aWdodEJvdW5kaW5nQm94Lm1heFsyXSA9IE1hdGgubWF4KHRpZ2h0Qm91bmRpbmdCb3gubWF4WzJdLCB6KTtcblxuXHRcdC8vIElOVEVOU0lUWVxuXHRcdGxldCBpbnRlbnNpdHkgPSBzb3VyY2VWaWV3LmdldFVpbnQxNihpICogcG9pbnRTaXplICsgMTIsIHRydWUpO1xuXHRcdGludGVuc2l0aWVzW2ldID0gaW50ZW5zaXR5O1xuXG5cdFx0Ly8gUkVUVVJOIE5VTUJFUiwgc3RvcmVkIGluIHRoZSBmaXJzdCAzIGJpdHMgLSAwMDAwMDExMVxuXHRcdC8vIG51bWJlciBvZiByZXR1cm5zIHN0b3JlZCBpbiBuZXh0IDMgYml0c1x0IC0gMDAxMTEwMDBcblx0XHRsZXQgcmV0dXJuTnVtYmVyQW5kTnVtYmVyT2ZSZXR1cm5zID0gc291cmNlVmlldy5nZXRVaW50OChpICogcG9pbnRTaXplICsgMTQsIHRydWUpO1xuXHRcdGxldCByZXR1cm5OdW1iZXIgPSByZXR1cm5OdW1iZXJBbmROdW1iZXJPZlJldHVybnMgJiAwYjAxMTE7XG5cdFx0bGV0IG51bWJlck9mUmV0dXJuID0gKHJldHVybk51bWJlckFuZE51bWJlck9mUmV0dXJucyAmIDBiMDAxMTEwMDApID4+IDM7XG5cdFx0cmV0dXJuTnVtYmVyc1tpXSA9IHJldHVybk51bWJlcjtcblx0XHRudW1iZXJPZlJldHVybnNbaV0gPSBudW1iZXJPZlJldHVybjtcblxuXHRcdC8vIENMQVNTSUZJQ0FUSU9OXG5cdFx0bGV0IGNsYXNzaWZpY2F0aW9uID0gc291cmNlVmlldy5nZXRVaW50OChpICogcG9pbnRTaXplICsgMTUsIHRydWUpO1xuXHRcdGNsYXNzaWZpY2F0aW9uc1tpXSA9IGNsYXNzaWZpY2F0aW9uO1xuXG5cdFx0Ly8gUE9JTlQgU09VUkNFIElEXG5cdFx0bGV0IHBvaW50U291cmNlSUQgPSBzb3VyY2VWaWV3LmdldFVpbnQxNihpICogcG9pbnRTaXplICsgMTgsIHRydWUpO1xuXHRcdHBvaW50U291cmNlSURzW2ldID0gcG9pbnRTb3VyY2VJRDtcblxuXHRcdC8vIENPTE9SLCBpZiBhdmFpbGFibGVcblx0XHRpZiAoaGFzQ29sb3IpIHtcblx0XHRcdGxldCByID0gc291cmNlVmlldy5nZXRVaW50MTYoaSAqIHBvaW50U2l6ZSArIGNvLCB0cnVlKVxuXHRcdFx0bGV0IGcgPSBzb3VyY2VWaWV3LmdldFVpbnQxNihpICogcG9pbnRTaXplICsgY28gKyAyLCB0cnVlKVxuXHRcdFx0bGV0IGIgPSBzb3VyY2VWaWV3LmdldFVpbnQxNihpICogcG9pbnRTaXplICsgY28gKyA0LCB0cnVlKVxuXG5cdFx0XHRpZiAodHdvQnl0ZUNvbG9yKSB7XG5cdFx0XHRcdHIgLz0gMjU2O1xuXHRcdFx0XHRnIC89IDI1Njtcblx0XHRcdFx0YiAvPSAyNTY7XG5cdFx0XHR9XG5cblx0XHRcdGNvbG9yc1s0ICogaSArIDBdID0gcjtcblx0XHRcdGNvbG9yc1s0ICogaSArIDFdID0gZztcblx0XHRcdGNvbG9yc1s0ICogaSArIDJdID0gYjtcblx0XHRcdGNvbG9yc1s0ICogaSArIDNdID0gMjU1O1xuXHRcdH1cblx0fVxuXG5cdGxldCBpbmRpY2VzID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQpO1xuXHRsZXQgaUluZGljZXMgPSBuZXcgVWludDMyQXJyYXkoaW5kaWNlcyk7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbnVtUG9pbnRzOyBpKyspIHtcblx0XHRpSW5kaWNlc1tpXSA9IGk7XG5cdH1cblxuXHRwZXJmb3JtYW5jZS5tYXJrKFwibGFzbGF6LWVuZFwiKTtcblxuXHQvL3sgLy8gcHJpbnQgdGltaW5nc1xuXHQvL1x0ICBwZXJmb3JtYW5jZS5tZWFzdXJlKFwibGFzbGF6XCIsIFwibGFzbGF6LXN0YXJ0XCIsIFwibGFzbGF6LWVuZFwiKTtcblx0Ly9cdCAgbGV0IG1lYXN1cmUgPSBwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwibWVhc3VyZVwiKVswXTtcblx0Ly9cdCAgbGV0IGRwcCA9IDEwMDAgKiBtZWFzdXJlLmR1cmF0aW9uIC8gbnVtUG9pbnRzO1xuXHQvL1x0ICBsZXQgZGVidWdNZXNzYWdlID0gYCR7bWVhc3VyZS5kdXJhdGlvbi50b0ZpeGVkKDMpfSBtcywgJHtudW1Qb2ludHN9IHBvaW50cywgJHtkcHAudG9GaXhlZCgzKX0gwrVzIC8gcG9pbnRgO1xuXHQvL1x0ICBjb25zb2xlLmxvZyhkZWJ1Z01lc3NhZ2UpO1xuXHQvL31cblx0cGVyZm9ybWFuY2UuY2xlYXJNYXJrcygpO1xuXHRwZXJmb3JtYW5jZS5jbGVhck1lYXN1cmVzKCk7XG5cblx0bGV0IG1lc3NhZ2UgPSB7XG5cdFx0bWVhbjogbWVhbixcblx0XHRwb3NpdGlvbjogcEJ1ZmYsXG5cdFx0Y29sb3I6IGNCdWZmLFxuXHRcdGludGVuc2l0eTogaUJ1ZmYsXG5cdFx0Y2xhc3NpZmljYXRpb246IGNsQnVmZixcblx0XHRyZXR1cm5OdW1iZXI6IHJuQnVmZixcblx0XHRudW1iZXJPZlJldHVybnM6IG5yQnVmZixcblx0XHRwb2ludFNvdXJjZUlEOiBwc0J1ZmYsXG5cdFx0dGlnaHRCb3VuZGluZ0JveDogdGlnaHRCb3VuZGluZ0JveCxcblx0XHRpbmRpY2VzOiBpbmRpY2VzXG5cdH07XG5cblx0bGV0IHRyYW5zZmVyYWJsZXMgPSBbXG5cdFx0bWVzc2FnZS5wb3NpdGlvbixcblx0XHRtZXNzYWdlLmNvbG9yLFxuXHRcdG1lc3NhZ2UuaW50ZW5zaXR5LFxuXHRcdG1lc3NhZ2UuY2xhc3NpZmljYXRpb24sXG5cdFx0bWVzc2FnZS5yZXR1cm5OdW1iZXIsXG5cdFx0bWVzc2FnZS5udW1iZXJPZlJldHVybnMsXG5cdFx0bWVzc2FnZS5wb2ludFNvdXJjZUlELFxuXHRcdG1lc3NhZ2UuaW5kaWNlc1xuXHRdO1xuXG5cdHBvc3RNZXNzYWdlKG1lc3NhZ2UsIHRyYW5zZmVyYWJsZXMpO1xufTtcblxuXG5cbm9ubWVzc2FnZSA9IHJlYWRVc2luZ0RhdGFWaWV3O1xuXG4iXSwic291cmNlUm9vdCI6IiJ9',null)}},"./source/workers/LASDecoderWorker.js":function(e,t,r){e.exports=function(){return r("./node_modules/worker-loader/dist/workers/InlineWorker.js")("/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./source/workers/LASDecoderWorker.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./source/workers/LASDecoderWorker.js\":\n/*!********************************************!*\\\n  !*** ./source/workers/LASDecoderWorker.js ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nonmessage = function(event)\n{\n  if (!event.data || !event.data.buffer) {\n    return;\n  }\n\tvar buffer = event.data.buffer;\n\tvar numPoints = event.data.numPoints;\n\tvar sourcePointSize = event.data.pointSize;\n\tvar pointFormatID = event.data.pointFormatID;\n\tvar scale = event.data.scale;\n\tvar offset = event.data.offset;\n\n\tvar sourceUint8 = new Uint8Array(buffer);\n\tvar sourceView = new DataView(buffer);\n\t\n\tvar targetPointSize = 40;\n\tvar targetBuffer = new ArrayBuffer(numPoints * targetPointSize);\n\tvar targetView = new DataView(targetBuffer);\n\n\tvar tightBoundingBox =\n\t{\n\t\tmin: [ Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY ],\n\t\tmax: [ Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY ]\n\t};\n\n\tvar mean = [0, 0, 0];\n\n\tvar pBuff = new ArrayBuffer(numPoints * 3 * 4);\n\tvar cBuff = new ArrayBuffer(numPoints * 4);\n\tvar iBuff = new ArrayBuffer(numPoints * 4);\n\tvar clBuff = new ArrayBuffer(numPoints);\n\tvar rnBuff = new ArrayBuffer(numPoints);\n\tvar nrBuff = new ArrayBuffer(numPoints);\n\tvar psBuff = new ArrayBuffer(numPoints * 2);\n\n\tvar positions = new Float32Array(pBuff);\n\tvar colors = new Uint8Array(cBuff);\n\tvar intensities = new Float32Array(iBuff);\n\tvar classifications = new Uint8Array(clBuff);\n\tvar returnNumbers = new Uint8Array(rnBuff);\n\tvar numberOfReturns = new Uint8Array(nrBuff);\n\tvar pointSourceIDs = new Uint16Array(psBuff);\n\t\n\tfor (var i = 0; i < numPoints; i++)\n\t{\n\t\t//POSITION\n\t\tvar ux = sourceView.getInt32(i * sourcePointSize + 0, true);\n\t\tvar uy = sourceView.getInt32(i * sourcePointSize + 4, true);\n\t\tvar uz = sourceView.getInt32(i * sourcePointSize + 8, true);\n\n\t\tvar x = ux * scale[0] + offset[0] - event.data.mins[0];\n\t\tvar y = uy * scale[1] + offset[1] - event.data.mins[1];\n\t\tvar z = uz * scale[2] + offset[2] - event.data.mins[2];\n\n\t\tpositions[3 * i + 0] = x;\n\t\tpositions[3 * i + 1] = y;\n\t\tpositions[3 * i + 2] = z;\n\n\t\tmean[0] += x / numPoints;\n\t\tmean[1] += y / numPoints;\n\t\tmean[2] += z / numPoints;\n\n\t\ttightBoundingBox.min[0] = Math.min(tightBoundingBox.min[0], x);\n\t\ttightBoundingBox.min[1] = Math.min(tightBoundingBox.min[1], y);\n\t\ttightBoundingBox.min[2] = Math.min(tightBoundingBox.min[2], z);\n\n\t\ttightBoundingBox.max[0] = Math.max(tightBoundingBox.max[0], x);\n\t\ttightBoundingBox.max[1] = Math.max(tightBoundingBox.max[1], y);\n\t\ttightBoundingBox.max[2] = Math.max(tightBoundingBox.max[2], z);\n\n\t\t//INTENSITY\n\t\tvar intensity = sourceView.getUint16(i * sourcePointSize + 12, true);\n\t\tintensities[i] = intensity;\n\n\t\t//RETURN NUMBER, stored in the first 3 bits - 00000111\n\t\t//number of returns stored in next 3 bits   - 00111000\n\t\tvar returnNumberAndNumberOfReturns = sourceView.getUint8(i * sourcePointSize + 14, true);\n\t\tvar returnNumber = returnNumberAndNumberOfReturns & 0b0111;\n\t\tvar numberOfReturn = (returnNumberAndNumberOfReturns & 0b00111000) >> 3;\n\t\treturnNumbers[i] = returnNumber;\n\t\tnumberOfReturns[i] = numberOfReturn;\n\n\t\t//CLASSIFICATION\n\t\tvar classification = sourceView.getUint8(i * sourcePointSize + 15, true);\n\t\tclassifications[i] = classification;\n\n\t\t//POINT SOURCE ID\n\t\tvar pointSourceID = sourceView.getUint16(i * sourcePointSize + 18, true);\n\t\tpointSourceIDs[i] = pointSourceID;\n\n\t\t//COLOR, if available\n\t\tif (pointFormatID === 2) {\t\t\t\n\t\t\tvar r = sourceView.getUint16(i * sourcePointSize + 20, true) / 256;\n\t\t\tvar g = sourceView.getUint16(i * sourcePointSize + 22, true) / 256;\n\t\t\tvar b = sourceView.getUint16(i * sourcePointSize + 24, true) / 256;\n\n\t\t\tcolors[4 * i + 0] = r;\n\t\t\tcolors[4 * i + 1] = g;\n\t\t\tcolors[4 * i + 2] = b;\n\t\t\tcolors[4 * i + 3] = 255;\n\t\t}\n\t}\n\n\tvar indices = new ArrayBuffer(numPoints * 4);\n\tvar iIndices = new Uint32Array(indices);\n\tfor (var i = 0; i < numPoints; i++)\n\t{\n\t\tiIndices[i] = i;\n\t}\n\n\tvar message =\n\t{\n\t\tmean: mean,\n\t\tposition: pBuff,\n\t\tcolor: cBuff,\n\t\tintensity: iBuff,\n\t\tclassification: clBuff,\n\t\treturnNumber: rnBuff,\n\t\tnumberOfReturns: nrBuff,\n\t\tpointSourceID: psBuff,\n\t\ttightBoundingBox: tightBoundingBox,\n\t\tindices: indices\n\t};\n\n\tvar transferables =\n\t[\n\t\tmessage.position,\n\t\tmessage.color,\n\t\tmessage.intensity,\n\t\tmessage.classification,\n\t\tmessage.returnNumber,\n\t\tmessage.numberOfReturns,\n\t\tmessage.pointSourceID,\n\t\tmessage.indices\n\t];\n\n\tpostMessage(message, transferables);\n};\n\n\n/***/ })\n\n/******/ });\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3dvcmtlcnMvTEFTRGVjb2Rlcldvcmtlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO1FBQUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7OztRQUdBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwwQ0FBMEMsZ0NBQWdDO1FBQzFFO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0Esd0RBQXdELGtCQUFrQjtRQUMxRTtRQUNBLGlEQUFpRCxjQUFjO1FBQy9EOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSx5Q0FBeUMsaUNBQWlDO1FBQzFFLGdIQUFnSCxtQkFBbUIsRUFBRTtRQUNySTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDJCQUEyQiwwQkFBMEIsRUFBRTtRQUN2RCxpQ0FBaUMsZUFBZTtRQUNoRDtRQUNBO1FBQ0E7O1FBRUE7UUFDQSxzREFBc0QsK0RBQStEOztRQUVySDtRQUNBOzs7UUFHQTtRQUNBOzs7Ozs7Ozs7Ozs7O0FDbEZhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IsZUFBZTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQixlQUFlO0FBQy9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJmaWxlIjoiOTdjNGViOGVlNDAyNzM0MTk5Mjcud29ya2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zb3VyY2Uvd29ya2Vycy9MQVNEZWNvZGVyV29ya2VyLmpzXCIpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KVxue1xuICBpZiAoIWV2ZW50LmRhdGEgfHwgIWV2ZW50LmRhdGEuYnVmZmVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cdHZhciBidWZmZXIgPSBldmVudC5kYXRhLmJ1ZmZlcjtcblx0dmFyIG51bVBvaW50cyA9IGV2ZW50LmRhdGEubnVtUG9pbnRzO1xuXHR2YXIgc291cmNlUG9pbnRTaXplID0gZXZlbnQuZGF0YS5wb2ludFNpemU7XG5cdHZhciBwb2ludEZvcm1hdElEID0gZXZlbnQuZGF0YS5wb2ludEZvcm1hdElEO1xuXHR2YXIgc2NhbGUgPSBldmVudC5kYXRhLnNjYWxlO1xuXHR2YXIgb2Zmc2V0ID0gZXZlbnQuZGF0YS5vZmZzZXQ7XG5cblx0dmFyIHNvdXJjZVVpbnQ4ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcblx0dmFyIHNvdXJjZVZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcblx0XG5cdHZhciB0YXJnZXRQb2ludFNpemUgPSA0MDtcblx0dmFyIHRhcmdldEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMgKiB0YXJnZXRQb2ludFNpemUpO1xuXHR2YXIgdGFyZ2V0VmlldyA9IG5ldyBEYXRhVmlldyh0YXJnZXRCdWZmZXIpO1xuXG5cdHZhciB0aWdodEJvdW5kaW5nQm94ID1cblx0e1xuXHRcdG1pbjogWyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIF0sXG5cdFx0bWF4OiBbIE51bWJlci5ORUdBVElWRV9JTkZJTklUWSwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkgXVxuXHR9O1xuXG5cdHZhciBtZWFuID0gWzAsIDAsIDBdO1xuXG5cdHZhciBwQnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMgKiAzICogNCk7XG5cdHZhciBjQnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMgKiA0KTtcblx0dmFyIGlCdWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQpO1xuXHR2YXIgY2xCdWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyk7XG5cdHZhciBybkJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobnVtUG9pbnRzKTtcblx0dmFyIG5yQnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihudW1Qb2ludHMpO1xuXHR2YXIgcHNCdWZmID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDIpO1xuXG5cdHZhciBwb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KHBCdWZmKTtcblx0dmFyIGNvbG9ycyA9IG5ldyBVaW50OEFycmF5KGNCdWZmKTtcblx0dmFyIGludGVuc2l0aWVzID0gbmV3IEZsb2F0MzJBcnJheShpQnVmZik7XG5cdHZhciBjbGFzc2lmaWNhdGlvbnMgPSBuZXcgVWludDhBcnJheShjbEJ1ZmYpO1xuXHR2YXIgcmV0dXJuTnVtYmVycyA9IG5ldyBVaW50OEFycmF5KHJuQnVmZik7XG5cdHZhciBudW1iZXJPZlJldHVybnMgPSBuZXcgVWludDhBcnJheShuckJ1ZmYpO1xuXHR2YXIgcG9pbnRTb3VyY2VJRHMgPSBuZXcgVWludDE2QXJyYXkocHNCdWZmKTtcblx0XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbnVtUG9pbnRzOyBpKyspXG5cdHtcblx0XHQvL1BPU0lUSU9OXG5cdFx0dmFyIHV4ID0gc291cmNlVmlldy5nZXRJbnQzMihpICogc291cmNlUG9pbnRTaXplICsgMCwgdHJ1ZSk7XG5cdFx0dmFyIHV5ID0gc291cmNlVmlldy5nZXRJbnQzMihpICogc291cmNlUG9pbnRTaXplICsgNCwgdHJ1ZSk7XG5cdFx0dmFyIHV6ID0gc291cmNlVmlldy5nZXRJbnQzMihpICogc291cmNlUG9pbnRTaXplICsgOCwgdHJ1ZSk7XG5cblx0XHR2YXIgeCA9IHV4ICogc2NhbGVbMF0gKyBvZmZzZXRbMF0gLSBldmVudC5kYXRhLm1pbnNbMF07XG5cdFx0dmFyIHkgPSB1eSAqIHNjYWxlWzFdICsgb2Zmc2V0WzFdIC0gZXZlbnQuZGF0YS5taW5zWzFdO1xuXHRcdHZhciB6ID0gdXogKiBzY2FsZVsyXSArIG9mZnNldFsyXSAtIGV2ZW50LmRhdGEubWluc1syXTtcblxuXHRcdHBvc2l0aW9uc1szICogaSArIDBdID0geDtcblx0XHRwb3NpdGlvbnNbMyAqIGkgKyAxXSA9IHk7XG5cdFx0cG9zaXRpb25zWzMgKiBpICsgMl0gPSB6O1xuXG5cdFx0bWVhblswXSArPSB4IC8gbnVtUG9pbnRzO1xuXHRcdG1lYW5bMV0gKz0geSAvIG51bVBvaW50cztcblx0XHRtZWFuWzJdICs9IHogLyBudW1Qb2ludHM7XG5cblx0XHR0aWdodEJvdW5kaW5nQm94Lm1pblswXSA9IE1hdGgubWluKHRpZ2h0Qm91bmRpbmdCb3gubWluWzBdLCB4KTtcblx0XHR0aWdodEJvdW5kaW5nQm94Lm1pblsxXSA9IE1hdGgubWluKHRpZ2h0Qm91bmRpbmdCb3gubWluWzFdLCB5KTtcblx0XHR0aWdodEJvdW5kaW5nQm94Lm1pblsyXSA9IE1hdGgubWluKHRpZ2h0Qm91bmRpbmdCb3gubWluWzJdLCB6KTtcblxuXHRcdHRpZ2h0Qm91bmRpbmdCb3gubWF4WzBdID0gTWF0aC5tYXgodGlnaHRCb3VuZGluZ0JveC5tYXhbMF0sIHgpO1xuXHRcdHRpZ2h0Qm91bmRpbmdCb3gubWF4WzFdID0gTWF0aC5tYXgodGlnaHRCb3VuZGluZ0JveC5tYXhbMV0sIHkpO1xuXHRcdHRpZ2h0Qm91bmRpbmdCb3gubWF4WzJdID0gTWF0aC5tYXgodGlnaHRCb3VuZGluZ0JveC5tYXhbMl0sIHopO1xuXG5cdFx0Ly9JTlRFTlNJVFlcblx0XHR2YXIgaW50ZW5zaXR5ID0gc291cmNlVmlldy5nZXRVaW50MTYoaSAqIHNvdXJjZVBvaW50U2l6ZSArIDEyLCB0cnVlKTtcblx0XHRpbnRlbnNpdGllc1tpXSA9IGludGVuc2l0eTtcblxuXHRcdC8vUkVUVVJOIE5VTUJFUiwgc3RvcmVkIGluIHRoZSBmaXJzdCAzIGJpdHMgLSAwMDAwMDExMVxuXHRcdC8vbnVtYmVyIG9mIHJldHVybnMgc3RvcmVkIGluIG5leHQgMyBiaXRzICAgLSAwMDExMTAwMFxuXHRcdHZhciByZXR1cm5OdW1iZXJBbmROdW1iZXJPZlJldHVybnMgPSBzb3VyY2VWaWV3LmdldFVpbnQ4KGkgKiBzb3VyY2VQb2ludFNpemUgKyAxNCwgdHJ1ZSk7XG5cdFx0dmFyIHJldHVybk51bWJlciA9IHJldHVybk51bWJlckFuZE51bWJlck9mUmV0dXJucyAmIDBiMDExMTtcblx0XHR2YXIgbnVtYmVyT2ZSZXR1cm4gPSAocmV0dXJuTnVtYmVyQW5kTnVtYmVyT2ZSZXR1cm5zICYgMGIwMDExMTAwMCkgPj4gMztcblx0XHRyZXR1cm5OdW1iZXJzW2ldID0gcmV0dXJuTnVtYmVyO1xuXHRcdG51bWJlck9mUmV0dXJuc1tpXSA9IG51bWJlck9mUmV0dXJuO1xuXG5cdFx0Ly9DTEFTU0lGSUNBVElPTlxuXHRcdHZhciBjbGFzc2lmaWNhdGlvbiA9IHNvdXJjZVZpZXcuZ2V0VWludDgoaSAqIHNvdXJjZVBvaW50U2l6ZSArIDE1LCB0cnVlKTtcblx0XHRjbGFzc2lmaWNhdGlvbnNbaV0gPSBjbGFzc2lmaWNhdGlvbjtcblxuXHRcdC8vUE9JTlQgU09VUkNFIElEXG5cdFx0dmFyIHBvaW50U291cmNlSUQgPSBzb3VyY2VWaWV3LmdldFVpbnQxNihpICogc291cmNlUG9pbnRTaXplICsgMTgsIHRydWUpO1xuXHRcdHBvaW50U291cmNlSURzW2ldID0gcG9pbnRTb3VyY2VJRDtcblxuXHRcdC8vQ09MT1IsIGlmIGF2YWlsYWJsZVxuXHRcdGlmIChwb2ludEZvcm1hdElEID09PSAyKSB7XHRcdFx0XG5cdFx0XHR2YXIgciA9IHNvdXJjZVZpZXcuZ2V0VWludDE2KGkgKiBzb3VyY2VQb2ludFNpemUgKyAyMCwgdHJ1ZSkgLyAyNTY7XG5cdFx0XHR2YXIgZyA9IHNvdXJjZVZpZXcuZ2V0VWludDE2KGkgKiBzb3VyY2VQb2ludFNpemUgKyAyMiwgdHJ1ZSkgLyAyNTY7XG5cdFx0XHR2YXIgYiA9IHNvdXJjZVZpZXcuZ2V0VWludDE2KGkgKiBzb3VyY2VQb2ludFNpemUgKyAyNCwgdHJ1ZSkgLyAyNTY7XG5cblx0XHRcdGNvbG9yc1s0ICogaSArIDBdID0gcjtcblx0XHRcdGNvbG9yc1s0ICogaSArIDFdID0gZztcblx0XHRcdGNvbG9yc1s0ICogaSArIDJdID0gYjtcblx0XHRcdGNvbG9yc1s0ICogaSArIDNdID0gMjU1O1xuXHRcdH1cblx0fVxuXG5cdHZhciBpbmRpY2VzID0gbmV3IEFycmF5QnVmZmVyKG51bVBvaW50cyAqIDQpO1xuXHR2YXIgaUluZGljZXMgPSBuZXcgVWludDMyQXJyYXkoaW5kaWNlcyk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbnVtUG9pbnRzOyBpKyspXG5cdHtcblx0XHRpSW5kaWNlc1tpXSA9IGk7XG5cdH1cblxuXHR2YXIgbWVzc2FnZSA9XG5cdHtcblx0XHRtZWFuOiBtZWFuLFxuXHRcdHBvc2l0aW9uOiBwQnVmZixcblx0XHRjb2xvcjogY0J1ZmYsXG5cdFx0aW50ZW5zaXR5OiBpQnVmZixcblx0XHRjbGFzc2lmaWNhdGlvbjogY2xCdWZmLFxuXHRcdHJldHVybk51bWJlcjogcm5CdWZmLFxuXHRcdG51bWJlck9mUmV0dXJuczogbnJCdWZmLFxuXHRcdHBvaW50U291cmNlSUQ6IHBzQnVmZixcblx0XHR0aWdodEJvdW5kaW5nQm94OiB0aWdodEJvdW5kaW5nQm94LFxuXHRcdGluZGljZXM6IGluZGljZXNcblx0fTtcblxuXHR2YXIgdHJhbnNmZXJhYmxlcyA9XG5cdFtcblx0XHRtZXNzYWdlLnBvc2l0aW9uLFxuXHRcdG1lc3NhZ2UuY29sb3IsXG5cdFx0bWVzc2FnZS5pbnRlbnNpdHksXG5cdFx0bWVzc2FnZS5jbGFzc2lmaWNhdGlvbixcblx0XHRtZXNzYWdlLnJldHVybk51bWJlcixcblx0XHRtZXNzYWdlLm51bWJlck9mUmV0dXJucyxcblx0XHRtZXNzYWdlLnBvaW50U291cmNlSUQsXG5cdFx0bWVzc2FnZS5pbmRpY2VzXG5cdF07XG5cblx0cG9zdE1lc3NhZ2UobWVzc2FnZSwgdHJhbnNmZXJhYmxlcyk7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==",null)}},three:function(e,t){e.exports=r(2)}}))},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__223__},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=function(e,t,r){if(!e.props.bounds)return[t,r];var a=e.props.bounds;a="string"==typeof a?a:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(a);var s=o(e);if("string"==typeof a){var c,l=s.ownerDocument,u=l.defaultView;if(!((c="parent"===a?s.parentNode:l.querySelector(a))instanceof u.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var d=u.getComputedStyle(s),p=u.getComputedStyle(c);a={left:-s.offsetLeft+(0,n.int)(p.paddingLeft)+(0,n.int)(d.marginLeft),top:-s.offsetTop+(0,n.int)(p.paddingTop)+(0,n.int)(d.marginTop),right:(0,i.innerWidth)(c)-(0,i.outerWidth)(s)-s.offsetLeft+(0,n.int)(p.paddingRight)-(0,n.int)(d.marginRight),bottom:(0,i.innerHeight)(c)-(0,i.outerHeight)(s)-s.offsetTop+(0,n.int)(p.paddingBottom)-(0,n.int)(d.marginBottom)}}return(0,n.isNum)(a.right)&&(t=Math.min(t,a.right)),(0,n.isNum)(a.bottom)&&(r=Math.min(r,a.bottom)),(0,n.isNum)(a.left)&&(t=Math.max(t,a.left)),(0,n.isNum)(a.top)&&(r=Math.max(r,a.top)),[t,r]},t.snapToGrid=function(e,t,r){return[Math.round(t/e[0])*e[0],Math.round(r/e[1])*e[1]]},t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.getControlPosition=function(e,t,r){var n="number"==typeof t?(0,i.getTouch)(e,t):null;if("number"==typeof t&&!n)return null;var a=o(r),s=r.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,i.offsetXYFromParent)(n||e,s,r.props.scale)},t.createCoreData=function(e,t,r){var i=e.state,a=!(0,n.isNum)(i.lastX),s=o(e);return a?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:r,x:t,y:r}:{node:s,deltaX:t-i.lastX,deltaY:r-i.lastY,lastX:i.lastX,lastY:i.lastY,x:t,y:r}},t.createDraggableData=function(e,t){var r=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/r,y:e.state.y+t.deltaY/r,deltaX:t.deltaX/r,deltaY:t.deltaY/r,lastX:e.state.x,lastY:e.state.y}};var n=r(128),i=r(146);function o(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},function(e,t,r){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,r){var n=r(226),i={};for(var o in n)n.hasOwnProperty(o)&&(i[n[o]]=o);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var c=a[s].channels,l=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:c}),Object.defineProperty(a[s],"labels",{value:l})}a.rgb.hsl=function(e){var t,r,n=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(n,i,o),s=Math.max(n,i,o),c=s-a;return s===a?t=0:n===s?t=(i-o)/c:i===s?t=2+(o-n)/c:o===s&&(t=4+(n-i)/c),(t=Math.min(60*t,360))<0&&(t+=360),r=(a+s)/2,[t,100*(s===a?0:r<=.5?c/(s+a):c/(2-s-a)),100*r]},a.rgb.hsv=function(e){var t,r,n,i,o,a=e[0]/255,s=e[1]/255,c=e[2]/255,l=Math.max(a,s,c),u=l-Math.min(a,s,c),d=function(e){return(l-e)/6/u+.5};return 0===u?i=o=0:(o=u/l,t=d(a),r=d(s),n=d(c),a===l?i=n-r:s===l?i=1/3+t-n:c===l&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*l]},a.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2];return[a.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(r,n))*100,100*(n=1-1/255*Math.max(t,Math.max(r,n)))]},a.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-i)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},a.rgb.keyword=function(e){var t=i[e];if(t)return t;var r,o,a,s=1/0;for(var c in n)if(n.hasOwnProperty(c)){var l=(o=e,a=n[c],Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));l<s&&(s=l,r=c)}return r},a.keyword.rgb=function(e){return n[e]},a.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},a.rgb.lab=function(e){var t=a.rgb.xyz(e),r=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(e){var t,r,n,i,o,a=e[0]/360,s=e[1]/100,c=e[2]/100;if(0===s)return[o=255*c,o,o];t=2*c-(r=c<.5?c*(1+s):c+s-c*s),i=[0,0,0];for(var l=0;l<3;l++)(n=a+1/3*-(l-1))<0&&n++,n>1&&n--,o=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,i[l]=255*o;return i},a.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=r,o=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,i*=o<=1?o:2-o,[t,100*(0===n?2*i/(o+i):2*r/(n+r)),(n+r)/2*100]},a.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*n*(1-r),s=255*n*(1-r*o),c=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,c,a];case 1:return[s,n,a];case 2:return[a,n,c];case 3:return[a,s,n];case 4:return[c,a,n];case 5:return[n,a,s]}},a.hsv.hsl=function(e){var t,r,n,i=e[0],o=e[1]/100,a=e[2]/100,s=Math.max(a,.01);return n=(2-o)*a,r=o*s,[i,100*(r=(r/=(t=(2-o)*s)<=1?t:2-t)||0),100*(n/=2)]},a.hwb.rgb=function(e){var t,r,n,i,o,a,s,c=e[0]/360,l=e[1]/100,u=e[2]/100,d=l+u;switch(d>1&&(l/=d,u/=d),n=6*c-(t=Math.floor(6*c)),0!=(1&t)&&(n=1-n),i=l+n*((r=1-u)-l),t){default:case 6:case 0:o=r,a=i,s=l;break;case 1:o=i,a=r,s=l;break;case 2:o=l,a=r,s=i;break;case 3:o=l,a=i,s=r;break;case 4:o=i,a=l,s=r;break;case 5:o=r,a=l,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},a.xyz.rgb=function(e){var t,r,n,i=e[0]/100,o=e[1]/100,a=e[2]/100;return r=-.9689*i+1.8758*o+.0415*a,n=.0557*i+-.204*o+1.057*a,t=(t=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},a.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},a.lab.xyz=function(e){var t,r,n,i=e[0];t=e[1]/500+(r=(i+16)/116),n=r-e[2]/200;var o=Math.pow(r,3),a=Math.pow(t,3),s=Math.pow(n,3);return r=o>.008856?o:(r-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,n=s>.008856?s:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},a.lab.lch=function(e){var t,r=e[0],n=e[1],i=e[2];return(t=360*Math.atan2(i,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+i*i),t]},a.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},a.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],i=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},a.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map((function(e){return e+e})).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},a.rgb.hcg=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255,o=Math.max(Math.max(r,n),i),a=Math.min(Math.min(r,n),i),s=o-a;return t=s<=0?0:o===r?(n-i)/s%6:o===n?2+(i-r)/s:4+(r-n)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(e){var t,r=e[1]/100,n=e[2]/100,i=0;return(t=n<.5?2*r*n:2*r*(1-n))<1&&(i=(n-.5*t)/(1-t)),[e[0],100*t,100*i]},a.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},a.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var i,o=[0,0,0],a=t%1*6,s=a%1,c=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=c,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=c,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=c}return i=(1-r)*n,[255*(r*o[0]+i),255*(r*o[1]+i),255*(r*o[2]+i)]},a.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},a.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},a.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},a.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(57))},function(e,t,r){var n=r(230),i=r(98);e.exports=function(e,t){return e&&n(e,t,i)}},function(e,t,r){var n=r(315)();e.exports=n},function(e,t,r){var n=r(316),i=r(148),o=r(25),a=r(129),s=r(149),c=r(150),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),u=!r&&i(e),d=!r&&!u&&a(e),p=!r&&!u&&!d&&c(e),h=r||u||d||p,f=h?n(e.length,String):[],g=f.length;for(var m in e)!t&&!l.call(e,m)||h&&("length"==m||d&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||f.push(m);return f}},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(131);e.exports=function(e){return"function"==typeof e?e:n}},function(e,t,r){var n=r(62),i=r(156),o=r(42),a=Function.prototype,s=Object.prototype,c=a.toString,l=s.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=n(e))return!1;var t=i(e);if(null===t)return!0;var r=l.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==u}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,r){var n=r(351),i=r(42);e.exports=function e(t,r,o,a,s){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!=t&&r!=r:n(t,r,o,a,e,s))}},function(e,t,r){var n=r(352),i=r(355),o=r(356);e.exports=function(e,t,r,a,s,c){var l=1&r,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var p=c.get(e),h=c.get(t);if(p&&h)return p==t&&h==e;var f=-1,g=!0,m=2&r?new n:void 0;for(c.set(e,t),c.set(t,e);++f<u;){var y=e[f],v=t[f];if(a)var b=l?a(v,y,f,t,e,c):a(y,v,f,e,t,c);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(y===e||s(y,e,r,a,c)))return m.push(t)}))){g=!1;break}}else if(y!==v&&!s(y,v,r,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},function(e,t,r){var n=r(33).Uint8Array;e.exports=n},function(e,t,r){var n=r(241),i=r(159),o=r(98);e.exports=function(e){return n(e,o,i)}},function(e,t,r){var n=r(242),i=r(25);e.exports=function(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}},function(e,t){e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},function(e,t){e.exports=function(){return[]}},function(e,t,r){var n=r(32);e.exports=function(e){return e==e&&!n(e)}},function(e,t){e.exports=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}},function(e,t,r){var n=r(247),i=r(139);e.exports=function(e,t){for(var r=0,o=(t=n(t,e)).length;null!=e&&r<o;)e=e[i(t[r++])];return r&&r==o?e:void 0}},function(e,t,r){var n=r(25),i=r(160),o=r(369),a=r(372);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,r){var n=r(229),i=r(381)(n);e.exports=i},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},function(e,t,r){var n=r(161),i=r(99),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];o.call(e,t)&&i(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t,r){var n=r(63),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,r){(function(e){var n=r(33),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}}).call(this,r(130)(e))},function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t,r){var n=r(242),i=r(156),o=r(159),a=r(243),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,r){var n=r(162);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},function(e,t,r){var n=r(397),i=r(156),o=r(154);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:n(i(e))}},function(e,t,r){var n=r(161),i=r(99);e.exports=function(e,t,r){(void 0!==r&&!i(e[t],r)||void 0===r&&!(t in e))&&n(e,t,r)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,r){var n=r(32),i=r(428),o=r(429),a=Math.max,s=Math.min;e.exports=function(e,t,r){var c,l,u,d,p,h,f=0,g=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=c,n=l;return c=l=void 0,f=t,d=e.apply(n,r)}function b(e){return f=e,p=setTimeout(S,t),g?v(e):d}function x(e){var r=e-h;return void 0===h||r>=t||r<0||m&&e-f>=u}function S(){var e=i();if(x(e))return A(e);p=setTimeout(S,function(e){var r=t-(e-h);return m?s(r,u-(e-f)):r}(e))}function A(e){return p=void 0,y&&c?v(e):(c=l=void 0,d)}function w(){var e=i(),r=x(e);if(c=arguments,l=this,h=e,r){if(void 0===p)return b(h);if(m)return clearTimeout(p),p=setTimeout(S,t),v(h)}return void 0===p&&(p=setTimeout(S,t)),d}return t=o(t)||0,n(r)&&(g=!!r.leading,u=(m="maxWait"in r)?a(o(r.maxWait)||0,t):u,y="trailing"in r?!!r.trailing:y),w.cancel=function(){void 0!==p&&clearTimeout(p),f=0,c=h=l=p=void 0},w.flush=function(){return void 0===p?d:A(i())},w}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=l(o),s=l(r(259)),c=l(r(43));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.ColorWrap=function(e){var t=function(t){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.handleChange=function(e,r){if(c.default.simpleCheckForValidColor(e)){var n=c.default.toState(e,e.h||t.state.oldHue);t.setState(n),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,n,r),t.props.onChange&&t.props.onChange(n,r)}},t.handleSwatchHover=function(e,r){if(c.default.simpleCheckForValidColor(e)){var n=c.default.toState(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(n,r)}},t.state=n({},c.default.toState(e.color,0)),t.debounce=(0,s.default)((function(e,t,r){e(t,r)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),i(r,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),a.default.createElement(e,n({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return n({},c.default.toState(e.color,t.oldHue))}}]),r}(o.PureComponent||o.Component);return t.propTypes=n({},e.propTypes),t.defaultProps=n({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=u},function(e,t,r){"use strict";r.r(t),r.d(t,"red",(function(){return n})),r.d(t,"pink",(function(){return i})),r.d(t,"purple",(function(){return o})),r.d(t,"deepPurple",(function(){return a})),r.d(t,"indigo",(function(){return s})),r.d(t,"blue",(function(){return c})),r.d(t,"lightBlue",(function(){return l})),r.d(t,"cyan",(function(){return u})),r.d(t,"teal",(function(){return d})),r.d(t,"green",(function(){return p})),r.d(t,"lightGreen",(function(){return h})),r.d(t,"lime",(function(){return f})),r.d(t,"yellow",(function(){return g})),r.d(t,"amber",(function(){return m})),r.d(t,"orange",(function(){return y})),r.d(t,"deepOrange",(function(){return v})),r.d(t,"brown",(function(){return b})),r.d(t,"grey",(function(){return x})),r.d(t,"blueGrey",(function(){return S})),r.d(t,"darkText",(function(){return A})),r.d(t,"lightText",(function(){return w})),r.d(t,"darkIcons",(function(){return _})),r.d(t,"lightIcons",(function(){return T})),r.d(t,"white",(function(){return E})),r.d(t,"black",(function(){return B}));var n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},i={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},a={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},c={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},l={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},u={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},d={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},p={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},h={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},f={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},g={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},m={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},y={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},v={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},b={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},x={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},S={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},A={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},w={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},_={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},T={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},E="#ffffff",B="#000000";t.default={red:n,pink:i,purple:o,deepPurple:a,indigo:s,blue:c,lightBlue:l,cyan:u,teal:d,green:p,lightGreen:h,lime:f,yellow:g,amber:m,orange:y,deepOrange:v,brown:b,grey:x,blueGrey:S,darkText:A,lightText:w,darkIcons:_,lightIcons:T,white:E,black:B}},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},,,,,,,,,function(e,t,r){"use strict";var n=r(298),i=n.default,o=n.DraggableCore;e.exports=i,e.exports.default=i,e.exports.DraggableCore=o},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__273__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__274__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__275__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__276__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__277__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__278__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__279__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__280__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__281__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__282__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__283__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__284__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__285__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__286__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__287__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__288__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__289__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__290__},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var n=r(310);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return v(n).default}});var i=r(437);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return v(i).default}});var o=r(439);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return v(o).default}});var a=r(441);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return v(a).default}});var s=r(447);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return v(s).default}});var c=r(450);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return v(c).default}});var l=r(452);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return v(l).default}});var u=r(454);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return v(u).default}});var d=r(455);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return v(d).default}});var p=r(461);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return v(p).default}});var h=r(464);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return v(h).default}});var f=r(468);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return v(f).default}});var g=r(472);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return v(g).default}});var m=r(260);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return v(m).default}});var y=v(a);function v(e){return e&&e.__esModule?e:{default:e}}t.default=y.default},function(e,t,r){var n=r(476),i=r(477),o=i;o.v1=n,o.v4=i,e.exports=o},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__293__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__294__},function(e,t,r){"use strict";(function(e){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(479)),o=n(r(484));function a(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function s(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}var c=s((function(e,t){var r=i,n=Function("return this")();r.exportSymbol("proto.google.protobuf.ListValue",null,n),r.exportSymbol("proto.google.protobuf.NullValue",null,n),r.exportSymbol("proto.google.protobuf.Struct",null,n),r.exportSymbol("proto.google.protobuf.Value",null,n),r.exportSymbol("proto.google.protobuf.Value.KindCase",null,n),proto.google.protobuf.Struct=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.google.protobuf.Struct,i.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.Struct.displayName="proto.google.protobuf.Struct"),proto.google.protobuf.Value=function(e){i.Message.initialize(this,e,0,-1,null,proto.google.protobuf.Value.oneofGroups_)},r.inherits(proto.google.protobuf.Value,i.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.Value.displayName="proto.google.protobuf.Value"),proto.google.protobuf.ListValue=function(e){i.Message.initialize(this,e,0,-1,proto.google.protobuf.ListValue.repeatedFields_,null)},r.inherits(proto.google.protobuf.ListValue,i.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.ListValue.displayName="proto.google.protobuf.ListValue"),i.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Struct.prototype.toObject=function(e){return proto.google.protobuf.Struct.toObject(e,this)},proto.google.protobuf.Struct.toObject=function(e,t){var r,n={fieldsMap:(r=t.getFieldsMap())?r.toObject(e,proto.google.protobuf.Value.toObject):[]};return e&&(n.$jspbMessageInstance=t),n}),proto.google.protobuf.Struct.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.google.protobuf.Struct;return proto.google.protobuf.Struct.deserializeBinaryFromReader(r,t)},proto.google.protobuf.Struct.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=e.getFieldsMap();t.readMessage(r,(function(e,t){i.Map.deserializeBinary(e,t,i.BinaryReader.prototype.readString,i.BinaryReader.prototype.readMessage,proto.google.protobuf.Value.deserializeBinaryFromReader,"",new proto.google.protobuf.Value)}));break;default:t.skipField()}return e},proto.google.protobuf.Struct.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.google.protobuf.Struct.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.Struct.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getFieldsMap(!0))&&r.getLength()>0&&r.serializeBinary(1,t,i.BinaryWriter.prototype.writeString,i.BinaryWriter.prototype.writeMessage,proto.google.protobuf.Value.serializeBinaryToWriter)},proto.google.protobuf.Struct.prototype.getFieldsMap=function(e){return i.Message.getMapField(this,1,e,proto.google.protobuf.Value)},proto.google.protobuf.Struct.prototype.clearFieldsMap=function(){return this.getFieldsMap().clear(),this},proto.google.protobuf.Value.oneofGroups_=[[1,2,3,4,5,6]],proto.google.protobuf.Value.KindCase={KIND_NOT_SET:0,NULL_VALUE:1,NUMBER_VALUE:2,STRING_VALUE:3,BOOL_VALUE:4,STRUCT_VALUE:5,LIST_VALUE:6},proto.google.protobuf.Value.prototype.getKindCase=function(){return i.Message.computeOneofCase(this,proto.google.protobuf.Value.oneofGroups_[0])},i.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Value.prototype.toObject=function(e){return proto.google.protobuf.Value.toObject(e,this)},proto.google.protobuf.Value.toObject=function(e,t){var r,n={nullValue:i.Message.getFieldWithDefault(t,1,0),numberValue:i.Message.getFloatingPointFieldWithDefault(t,2,0),stringValue:i.Message.getFieldWithDefault(t,3,""),boolValue:i.Message.getBooleanFieldWithDefault(t,4,!1),structValue:(r=t.getStructValue())&&proto.google.protobuf.Struct.toObject(e,r),listValue:(r=t.getListValue())&&proto.google.protobuf.ListValue.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.google.protobuf.Value.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.google.protobuf.Value;return proto.google.protobuf.Value.deserializeBinaryFromReader(r,t)},proto.google.protobuf.Value.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readEnum();e.setNullValue(r);break;case 2:r=t.readDouble(),e.setNumberValue(r);break;case 3:r=t.readString(),e.setStringValue(r);break;case 4:r=t.readBool(),e.setBoolValue(r);break;case 5:r=new proto.google.protobuf.Struct,t.readMessage(r,proto.google.protobuf.Struct.deserializeBinaryFromReader),e.setStructValue(r);break;case 6:r=new proto.google.protobuf.ListValue,t.readMessage(r,proto.google.protobuf.ListValue.deserializeBinaryFromReader),e.setListValue(r);break;default:t.skipField()}return e},proto.google.protobuf.Value.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.google.protobuf.Value.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.Value.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=i.Message.getField(e,1))&&t.writeEnum(1,r),null!=(r=i.Message.getField(e,2))&&t.writeDouble(2,r),null!=(r=i.Message.getField(e,3))&&t.writeString(3,r),null!=(r=i.Message.getField(e,4))&&t.writeBool(4,r),null!=(r=e.getStructValue())&&t.writeMessage(5,r,proto.google.protobuf.Struct.serializeBinaryToWriter),null!=(r=e.getListValue())&&t.writeMessage(6,r,proto.google.protobuf.ListValue.serializeBinaryToWriter)},proto.google.protobuf.Value.prototype.getNullValue=function(){return i.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Value.prototype.setNullValue=function(e){return i.Message.setOneofField(this,1,proto.google.protobuf.Value.oneofGroups_[0],e)},proto.google.protobuf.Value.prototype.clearNullValue=function(){return i.Message.setOneofField(this,1,proto.google.protobuf.Value.oneofGroups_[0],void 0)},proto.google.protobuf.Value.prototype.hasNullValue=function(){return null!=i.Message.getField(this,1)},proto.google.protobuf.Value.prototype.getNumberValue=function(){return i.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.google.protobuf.Value.prototype.setNumberValue=function(e){return i.Message.setOneofField(this,2,proto.google.protobuf.Value.oneofGroups_[0],e)},proto.google.protobuf.Value.prototype.clearNumberValue=function(){return i.Message.setOneofField(this,2,proto.google.protobuf.Value.oneofGroups_[0],void 0)},proto.google.protobuf.Value.prototype.hasNumberValue=function(){return null!=i.Message.getField(this,2)},proto.google.protobuf.Value.prototype.getStringValue=function(){return i.Message.getFieldWithDefault(this,3,"")},proto.google.protobuf.Value.prototype.setStringValue=function(e){return i.Message.setOneofField(this,3,proto.google.protobuf.Value.oneofGroups_[0],e)},proto.google.protobuf.Value.prototype.clearStringValue=function(){return i.Message.setOneofField(this,3,proto.google.protobuf.Value.oneofGroups_[0],void 0)},proto.google.protobuf.Value.prototype.hasStringValue=function(){return null!=i.Message.getField(this,3)},proto.google.protobuf.Value.prototype.getBoolValue=function(){return i.Message.getBooleanFieldWithDefault(this,4,!1)},proto.google.protobuf.Value.prototype.setBoolValue=function(e){return i.Message.setOneofField(this,4,proto.google.protobuf.Value.oneofGroups_[0],e)},proto.google.protobuf.Value.prototype.clearBoolValue=function(){return i.Message.setOneofField(this,4,proto.google.protobuf.Value.oneofGroups_[0],void 0)},proto.google.protobuf.Value.prototype.hasBoolValue=function(){return null!=i.Message.getField(this,4)},proto.google.protobuf.Value.prototype.getStructValue=function(){return i.Message.getWrapperField(this,proto.google.protobuf.Struct,5)},proto.google.protobuf.Value.prototype.setStructValue=function(e){return i.Message.setOneofWrapperField(this,5,proto.google.protobuf.Value.oneofGroups_[0],e)},proto.google.protobuf.Value.prototype.clearStructValue=function(){return this.setStructValue(void 0)},proto.google.protobuf.Value.prototype.hasStructValue=function(){return null!=i.Message.getField(this,5)},proto.google.protobuf.Value.prototype.getListValue=function(){return i.Message.getWrapperField(this,proto.google.protobuf.ListValue,6)},proto.google.protobuf.Value.prototype.setListValue=function(e){return i.Message.setOneofWrapperField(this,6,proto.google.protobuf.Value.oneofGroups_[0],e)},proto.google.protobuf.Value.prototype.clearListValue=function(){return this.setListValue(void 0)},proto.google.protobuf.Value.prototype.hasListValue=function(){return null!=i.Message.getField(this,6)},proto.google.protobuf.ListValue.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.ListValue.prototype.toObject=function(e){return proto.google.protobuf.ListValue.toObject(e,this)},proto.google.protobuf.ListValue.toObject=function(e,t){var r={valuesList:i.Message.toObjectList(t.getValuesList(),proto.google.protobuf.Value.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.google.protobuf.ListValue.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.google.protobuf.ListValue;return proto.google.protobuf.ListValue.deserializeBinaryFromReader(r,t)},proto.google.protobuf.ListValue.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.google.protobuf.Value;t.readMessage(r,proto.google.protobuf.Value.deserializeBinaryFromReader),e.addValues(r);break;default:t.skipField()}return e},proto.google.protobuf.ListValue.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.google.protobuf.ListValue.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.ListValue.serializeBinaryToWriter=function(e,t){var r;(r=e.getValuesList()).length>0&&t.writeRepeatedMessage(1,r,proto.google.protobuf.Value.serializeBinaryToWriter)},proto.google.protobuf.ListValue.prototype.getValuesList=function(){return i.Message.getRepeatedWrapperField(this,proto.google.protobuf.Value,1)},proto.google.protobuf.ListValue.prototype.setValuesList=function(e){return i.Message.setRepeatedWrapperField(this,1,e)},proto.google.protobuf.ListValue.prototype.addValues=function(e,t){return i.Message.addToRepeatedWrapperField(this,1,e,proto.google.protobuf.Value,t)},proto.google.protobuf.ListValue.prototype.clearValuesList=function(){return this.setValuesList([])},proto.google.protobuf.NullValue={NULL_VALUE:0},r.object.extend(t,proto.google.protobuf),proto.google.protobuf.JavaScriptValue,proto.google.protobuf.Value.prototype.toJavaScript=function(){var e=proto.google.protobuf.Value.KindCase;switch(this.getKindCase()){case e.NULL_VALUE:return null;case e.NUMBER_VALUE:return this.getNumberValue();case e.STRING_VALUE:return this.getStringValue();case e.BOOL_VALUE:return this.getBoolValue();case e.STRUCT_VALUE:return this.getStructValue().toJavaScript();case e.LIST_VALUE:return this.getListValue().toJavaScript();default:throw new Error("Unexpected struct type")}},proto.google.protobuf.Value.fromJavaScript=function(e){var t=new proto.google.protobuf.Value;switch(r.typeOf(e)){case"string":t.setStringValue(e);break;case"number":t.setNumberValue(e);break;case"boolean":t.setBoolValue(e);break;case"null":t.setNullValue(proto.google.protobuf.NullValue.NULL_VALUE);break;case"array":t.setListValue(proto.google.protobuf.ListValue.fromJavaScript(e));break;case"object":t.setStructValue(proto.google.protobuf.Struct.fromJavaScript(e));break;default:throw new Error("Unexpected struct type.")}return t},proto.google.protobuf.ListValue.prototype.toJavaScript=function(){for(var e=[],t=this.getValuesList(),r=0;r<t.length;r++)e[r]=t[r].toJavaScript();return e},proto.google.protobuf.ListValue.fromJavaScript=function(e){for(var t=new proto.google.protobuf.ListValue,r=0;r<e.length;r++)t.addValues(proto.google.protobuf.Value.fromJavaScript(e[r]));return t},proto.google.protobuf.Struct.prototype.toJavaScript=function(){var e={};return this.getFieldsMap().forEach((function(t,r){e[r]=t.toJavaScript()})),e},proto.google.protobuf.Struct.fromJavaScript=function(e){var t=new proto.google.protobuf.Struct,r=t.getFieldsMap();for(var n in e){var i=e[n];r.set(n,proto.google.protobuf.Value.fromJavaScript(i))}return t}})),l=s((function(e,t){var r=i,n=Function("return this")();r.exportSymbol("proto.google.protobuf.BoolValue",null,n),r.exportSymbol("proto.google.protobuf.BytesValue",null,n),r.exportSymbol("proto.google.protobuf.DoubleValue",null,n),r.exportSymbol("proto.google.protobuf.FloatValue",null,n),r.exportSymbol("proto.google.protobuf.Int32Value",null,n),r.exportSymbol("proto.google.protobuf.Int64Value",null,n),r.exportSymbol("proto.google.protobuf.StringValue",null,n),r.exportSymbol("proto.google.protobuf.UInt32Value",null,n),r.exportSymbol("proto.google.protobuf.UInt64Value",null,n),proto.google.protobuf.DoubleValue=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.google.protobuf.DoubleValue,i.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.DoubleValue.displayName="proto.google.protobuf.DoubleValue"),proto.google.protobuf.FloatValue=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.google.protobuf.FloatValue,i.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.FloatValue.displayName="proto.google.protobuf.FloatValue"),proto.google.protobuf.Int64Value=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.google.protobuf.Int64Value,i.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.Int64Value.displayName="proto.google.protobuf.Int64Value"),proto.google.protobuf.UInt64Value=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.google.protobuf.UInt64Value,i.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt64Value.displayName="proto.google.protobuf.UInt64Value"),proto.google.protobuf.Int32Value=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.google.protobuf.Int32Value,i.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.Int32Value.displayName="proto.google.protobuf.Int32Value"),proto.google.protobuf.UInt32Value=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.google.protobuf.UInt32Value,i.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt32Value.displayName="proto.google.protobuf.UInt32Value"),proto.google.protobuf.BoolValue=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.google.protobuf.BoolValue,i.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.BoolValue.displayName="proto.google.protobuf.BoolValue"),proto.google.protobuf.StringValue=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.google.protobuf.StringValue,i.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.StringValue.displayName="proto.google.protobuf.StringValue"),proto.google.protobuf.BytesValue=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.google.protobuf.BytesValue,i.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.BytesValue.displayName="proto.google.protobuf.BytesValue"),i.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.DoubleValue.prototype.toObject=function(e){return proto.google.protobuf.DoubleValue.toObject(e,this)},proto.google.protobuf.DoubleValue.toObject=function(e,t){var r={value:i.Message.getFloatingPointFieldWithDefault(t,1,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.google.protobuf.DoubleValue.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.google.protobuf.DoubleValue;return proto.google.protobuf.DoubleValue.deserializeBinaryFromReader(r,t)},proto.google.protobuf.DoubleValue.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readDouble();e.setValue(r);break;default:t.skipField()}return e},proto.google.protobuf.DoubleValue.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.google.protobuf.DoubleValue.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.DoubleValue.serializeBinaryToWriter=function(e,t){var r;0!==(r=e.getValue())&&t.writeDouble(1,r)},proto.google.protobuf.DoubleValue.prototype.getValue=function(){return i.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.DoubleValue.prototype.setValue=function(e){return i.Message.setProto3FloatField(this,1,e)},i.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.FloatValue.prototype.toObject=function(e){return proto.google.protobuf.FloatValue.toObject(e,this)},proto.google.protobuf.FloatValue.toObject=function(e,t){var r={value:i.Message.getFloatingPointFieldWithDefault(t,1,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.google.protobuf.FloatValue.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.google.protobuf.FloatValue;return proto.google.protobuf.FloatValue.deserializeBinaryFromReader(r,t)},proto.google.protobuf.FloatValue.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setValue(r);break;default:t.skipField()}return e},proto.google.protobuf.FloatValue.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.google.protobuf.FloatValue.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.FloatValue.serializeBinaryToWriter=function(e,t){var r;0!==(r=e.getValue())&&t.writeFloat(1,r)},proto.google.protobuf.FloatValue.prototype.getValue=function(){return i.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.FloatValue.prototype.setValue=function(e){return i.Message.setProto3FloatField(this,1,e)},i.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int64Value.prototype.toObject=function(e){return proto.google.protobuf.Int64Value.toObject(e,this)},proto.google.protobuf.Int64Value.toObject=function(e,t){var r={value:i.Message.getFieldWithDefault(t,1,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.google.protobuf.Int64Value.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.google.protobuf.Int64Value;return proto.google.protobuf.Int64Value.deserializeBinaryFromReader(r,t)},proto.google.protobuf.Int64Value.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt64();e.setValue(r);break;default:t.skipField()}return e},proto.google.protobuf.Int64Value.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.google.protobuf.Int64Value.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.Int64Value.serializeBinaryToWriter=function(e,t){var r;0!==(r=e.getValue())&&t.writeInt64(1,r)},proto.google.protobuf.Int64Value.prototype.getValue=function(){return i.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int64Value.prototype.setValue=function(e){return i.Message.setProto3IntField(this,1,e)},i.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt64Value.prototype.toObject=function(e){return proto.google.protobuf.UInt64Value.toObject(e,this)},proto.google.protobuf.UInt64Value.toObject=function(e,t){var r={value:i.Message.getFieldWithDefault(t,1,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.google.protobuf.UInt64Value.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.google.protobuf.UInt64Value;return proto.google.protobuf.UInt64Value.deserializeBinaryFromReader(r,t)},proto.google.protobuf.UInt64Value.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readUint64();e.setValue(r);break;default:t.skipField()}return e},proto.google.protobuf.UInt64Value.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.google.protobuf.UInt64Value.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.UInt64Value.serializeBinaryToWriter=function(e,t){var r;0!==(r=e.getValue())&&t.writeUint64(1,r)},proto.google.protobuf.UInt64Value.prototype.getValue=function(){return i.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt64Value.prototype.setValue=function(e){return i.Message.setProto3IntField(this,1,e)},i.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int32Value.prototype.toObject=function(e){return proto.google.protobuf.Int32Value.toObject(e,this)},proto.google.protobuf.Int32Value.toObject=function(e,t){var r={value:i.Message.getFieldWithDefault(t,1,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.google.protobuf.Int32Value.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.google.protobuf.Int32Value;return proto.google.protobuf.Int32Value.deserializeBinaryFromReader(r,t)},proto.google.protobuf.Int32Value.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setValue(r);break;default:t.skipField()}return e},proto.google.protobuf.Int32Value.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.google.protobuf.Int32Value.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.Int32Value.serializeBinaryToWriter=function(e,t){var r;0!==(r=e.getValue())&&t.writeInt32(1,r)},proto.google.protobuf.Int32Value.prototype.getValue=function(){return i.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int32Value.prototype.setValue=function(e){return i.Message.setProto3IntField(this,1,e)},i.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt32Value.prototype.toObject=function(e){return proto.google.protobuf.UInt32Value.toObject(e,this)},proto.google.protobuf.UInt32Value.toObject=function(e,t){var r={value:i.Message.getFieldWithDefault(t,1,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.google.protobuf.UInt32Value.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.google.protobuf.UInt32Value;return proto.google.protobuf.UInt32Value.deserializeBinaryFromReader(r,t)},proto.google.protobuf.UInt32Value.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readUint32();e.setValue(r);break;default:t.skipField()}return e},proto.google.protobuf.UInt32Value.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.google.protobuf.UInt32Value.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.UInt32Value.serializeBinaryToWriter=function(e,t){var r;0!==(r=e.getValue())&&t.writeUint32(1,r)},proto.google.protobuf.UInt32Value.prototype.getValue=function(){return i.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt32Value.prototype.setValue=function(e){return i.Message.setProto3IntField(this,1,e)},i.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BoolValue.prototype.toObject=function(e){return proto.google.protobuf.BoolValue.toObject(e,this)},proto.google.protobuf.BoolValue.toObject=function(e,t){var r={value:i.Message.getBooleanFieldWithDefault(t,1,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.google.protobuf.BoolValue.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.google.protobuf.BoolValue;return proto.google.protobuf.BoolValue.deserializeBinaryFromReader(r,t)},proto.google.protobuf.BoolValue.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setValue(r);break;default:t.skipField()}return e},proto.google.protobuf.BoolValue.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.google.protobuf.BoolValue.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.BoolValue.serializeBinaryToWriter=function(e,t){var r;(r=e.getValue())&&t.writeBool(1,r)},proto.google.protobuf.BoolValue.prototype.getValue=function(){return i.Message.getBooleanFieldWithDefault(this,1,!1)},proto.google.protobuf.BoolValue.prototype.setValue=function(e){return i.Message.setProto3BooleanField(this,1,e)},i.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.StringValue.prototype.toObject=function(e){return proto.google.protobuf.StringValue.toObject(e,this)},proto.google.protobuf.StringValue.toObject=function(e,t){var r={value:i.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.google.protobuf.StringValue.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.google.protobuf.StringValue;return proto.google.protobuf.StringValue.deserializeBinaryFromReader(r,t)},proto.google.protobuf.StringValue.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setValue(r);break;default:t.skipField()}return e},proto.google.protobuf.StringValue.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.google.protobuf.StringValue.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.StringValue.serializeBinaryToWriter=function(e,t){var r;(r=e.getValue()).length>0&&t.writeString(1,r)},proto.google.protobuf.StringValue.prototype.getValue=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.StringValue.prototype.setValue=function(e){return i.Message.setProto3StringField(this,1,e)},i.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BytesValue.prototype.toObject=function(e){return proto.google.protobuf.BytesValue.toObject(e,this)},proto.google.protobuf.BytesValue.toObject=function(e,t){var r={value:t.getValue_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.google.protobuf.BytesValue.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.google.protobuf.BytesValue;return proto.google.protobuf.BytesValue.deserializeBinaryFromReader(r,t)},proto.google.protobuf.BytesValue.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setValue(r);break;default:t.skipField()}return e},proto.google.protobuf.BytesValue.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.google.protobuf.BytesValue.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.BytesValue.serializeBinaryToWriter=function(e,t){var r;(r=e.getValue_asU8()).length>0&&t.writeBytes(1,r)},proto.google.protobuf.BytesValue.prototype.getValue=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.BytesValue.prototype.getValue_asB64=function(){return i.Message.bytesAsB64(this.getValue())},proto.google.protobuf.BytesValue.prototype.getValue_asU8=function(){return i.Message.bytesAsU8(this.getValue())},proto.google.protobuf.BytesValue.prototype.setValue=function(e){return i.Message.setProto3BytesField(this,1,e)},r.object.extend(t,proto.google.protobuf)})),u=s((function(e,t){var r=i,n=Function("return this")();r.exportSymbol("proto.google.protobuf.Empty",null,n),proto.google.protobuf.Empty=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.google.protobuf.Empty,i.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.Empty.displayName="proto.google.protobuf.Empty"),i.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Empty.prototype.toObject=function(e){return proto.google.protobuf.Empty.toObject(e,this)},proto.google.protobuf.Empty.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.google.protobuf.Empty.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.google.protobuf.Empty;return proto.google.protobuf.Empty.deserializeBinaryFromReader(r,t)},proto.google.protobuf.Empty.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)t.getFieldNumber(),t.skipField();return e},proto.google.protobuf.Empty.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.google.protobuf.Empty.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.google.protobuf.Empty.serializeBinaryToWriter=function(e,t){},r.object.extend(t,proto.google.protobuf)})),d=s((function(e,t){var r=i,n=Function("return this")();r.object.extend(proto,c),r.object.extend(proto,l),r.exportSymbol("proto.com.cognite.seismic.CRS",null,n),r.exportSymbol("proto.com.cognite.seismic.Coordinate",null,n),r.exportSymbol("proto.com.cognite.seismic.File",null,n),r.exportSymbol("proto.com.cognite.seismic.FileStep",null,n),r.exportSymbol("proto.com.cognite.seismic.GeoJson",null,n),r.exportSymbol("proto.com.cognite.seismic.Geometry",null,n),r.exportSymbol("proto.com.cognite.seismic.Geometry.FormatCase",null,n),r.exportSymbol("proto.com.cognite.seismic.Identifier",null,n),r.exportSymbol("proto.com.cognite.seismic.Identifier.FindbyCase",null,n),r.exportSymbol("proto.com.cognite.seismic.InterpolationMethod",null,n),r.exportSymbol("proto.com.cognite.seismic.JobStatus",null,n),r.exportSymbol("proto.com.cognite.seismic.LineDescriptor",null,n),r.exportSymbol("proto.com.cognite.seismic.LineRange",null,n),r.exportSymbol("proto.com.cognite.seismic.LineSelect",null,n),r.exportSymbol("proto.com.cognite.seismic.LineSelect.DirectionCase",null,n),r.exportSymbol("proto.com.cognite.seismic.Project",null,n),r.exportSymbol("proto.com.cognite.seismic.SurfacePoint",null,n),r.exportSymbol("proto.com.cognite.seismic.Survey",null,n),r.exportSymbol("proto.com.cognite.seismic.Trace",null,n),r.exportSymbol("proto.com.cognite.seismic.Wkt",null,n),proto.com.cognite.seismic.Coordinate=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.Coordinate,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.Coordinate.displayName="proto.com.cognite.seismic.Coordinate"),proto.com.cognite.seismic.Trace=function(e){i.Message.initialize(this,e,0,-1,proto.com.cognite.seismic.Trace.repeatedFields_,null)},r.inherits(proto.com.cognite.seismic.Trace,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.Trace.displayName="proto.com.cognite.seismic.Trace"),proto.com.cognite.seismic.SurfacePoint=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.SurfacePoint,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.SurfacePoint.displayName="proto.com.cognite.seismic.SurfacePoint"),proto.com.cognite.seismic.Survey=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.Survey,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.Survey.displayName="proto.com.cognite.seismic.Survey"),proto.com.cognite.seismic.File=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.File,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.File.displayName="proto.com.cognite.seismic.File"),proto.com.cognite.seismic.Project=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.Project,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.Project.displayName="proto.com.cognite.seismic.Project"),proto.com.cognite.seismic.Identifier=function(e){i.Message.initialize(this,e,0,-1,null,proto.com.cognite.seismic.Identifier.oneofGroups_)},r.inherits(proto.com.cognite.seismic.Identifier,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.Identifier.displayName="proto.com.cognite.seismic.Identifier"),proto.com.cognite.seismic.LineDescriptor=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.LineDescriptor,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.LineDescriptor.displayName="proto.com.cognite.seismic.LineDescriptor"),proto.com.cognite.seismic.LineSelect=function(e){i.Message.initialize(this,e,0,-1,null,proto.com.cognite.seismic.LineSelect.oneofGroups_)},r.inherits(proto.com.cognite.seismic.LineSelect,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.LineSelect.displayName="proto.com.cognite.seismic.LineSelect"),proto.com.cognite.seismic.LineRange=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.LineRange,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.LineRange.displayName="proto.com.cognite.seismic.LineRange"),proto.com.cognite.seismic.CRS=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.CRS,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.CRS.displayName="proto.com.cognite.seismic.CRS"),proto.com.cognite.seismic.Wkt=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.Wkt,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.Wkt.displayName="proto.com.cognite.seismic.Wkt"),proto.com.cognite.seismic.GeoJson=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.GeoJson,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.GeoJson.displayName="proto.com.cognite.seismic.GeoJson"),proto.com.cognite.seismic.Geometry=function(e){i.Message.initialize(this,e,0,-1,null,proto.com.cognite.seismic.Geometry.oneofGroups_)},r.inherits(proto.com.cognite.seismic.Geometry,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.Geometry.displayName="proto.com.cognite.seismic.Geometry"),i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.Coordinate.prototype.toObject=function(e){return proto.com.cognite.seismic.Coordinate.toObject(e,this)},proto.com.cognite.seismic.Coordinate.toObject=function(e,t){var r={crs:i.Message.getFieldWithDefault(t,1,""),x:i.Message.getFloatingPointFieldWithDefault(t,2,0),y:i.Message.getFloatingPointFieldWithDefault(t,3,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.Coordinate.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.Coordinate;return proto.com.cognite.seismic.Coordinate.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.Coordinate.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setCrs(r);break;case 2:r=t.readFloat(),e.setX(r);break;case 3:r=t.readFloat(),e.setY(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.Coordinate.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.Coordinate.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.Coordinate.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getCrs()).length>0&&t.writeString(1,r),0!==(r=e.getX())&&t.writeFloat(2,r),0!==(r=e.getY())&&t.writeFloat(3,r)},proto.com.cognite.seismic.Coordinate.prototype.getCrs=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.com.cognite.seismic.Coordinate.prototype.setCrs=function(e){return i.Message.setProto3StringField(this,1,e)},proto.com.cognite.seismic.Coordinate.prototype.getX=function(){return i.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.com.cognite.seismic.Coordinate.prototype.setX=function(e){return i.Message.setProto3FloatField(this,2,e)},proto.com.cognite.seismic.Coordinate.prototype.getY=function(){return i.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.com.cognite.seismic.Coordinate.prototype.setY=function(e){return i.Message.setProto3FloatField(this,3,e)},proto.com.cognite.seismic.Trace.repeatedFields_=[4],i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.Trace.prototype.toObject=function(e){return proto.com.cognite.seismic.Trace.toObject(e,this)},proto.com.cognite.seismic.Trace.toObject=function(e,t){var r,n={traceHeader:t.getTraceHeader_asB64(),iline:(r=t.getIline())&&l.Int32Value.toObject(e,r),xline:(r=t.getXline())&&l.Int32Value.toObject(e,r),traceList:null==(r=i.Message.getRepeatedFloatingPointField(t,4))?void 0:r,coordinate:(r=t.getCoordinate())&&proto.com.cognite.seismic.Coordinate.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.Trace.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.Trace;return proto.com.cognite.seismic.Trace.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.Trace.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setTraceHeader(r);break;case 2:r=new l.Int32Value,t.readMessage(r,l.Int32Value.deserializeBinaryFromReader),e.setIline(r);break;case 3:r=new l.Int32Value,t.readMessage(r,l.Int32Value.deserializeBinaryFromReader),e.setXline(r);break;case 4:r=t.readPackedFloat(),e.setTraceList(r);break;case 5:r=new proto.com.cognite.seismic.Coordinate,t.readMessage(r,proto.com.cognite.seismic.Coordinate.deserializeBinaryFromReader),e.setCoordinate(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.Trace.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.Trace.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.Trace.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getTraceHeader_asU8()).length>0&&t.writeBytes(1,r),null!=(r=e.getIline())&&t.writeMessage(2,r,l.Int32Value.serializeBinaryToWriter),null!=(r=e.getXline())&&t.writeMessage(3,r,l.Int32Value.serializeBinaryToWriter),(r=e.getTraceList()).length>0&&t.writePackedFloat(4,r),null!=(r=e.getCoordinate())&&t.writeMessage(5,r,proto.com.cognite.seismic.Coordinate.serializeBinaryToWriter)},proto.com.cognite.seismic.Trace.prototype.getTraceHeader=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.com.cognite.seismic.Trace.prototype.getTraceHeader_asB64=function(){return i.Message.bytesAsB64(this.getTraceHeader())},proto.com.cognite.seismic.Trace.prototype.getTraceHeader_asU8=function(){return i.Message.bytesAsU8(this.getTraceHeader())},proto.com.cognite.seismic.Trace.prototype.setTraceHeader=function(e){return i.Message.setProto3BytesField(this,1,e)},proto.com.cognite.seismic.Trace.prototype.getIline=function(){return i.Message.getWrapperField(this,l.Int32Value,2)},proto.com.cognite.seismic.Trace.prototype.setIline=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.Trace.prototype.clearIline=function(){return this.setIline(void 0)},proto.com.cognite.seismic.Trace.prototype.hasIline=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.Trace.prototype.getXline=function(){return i.Message.getWrapperField(this,l.Int32Value,3)},proto.com.cognite.seismic.Trace.prototype.setXline=function(e){return i.Message.setWrapperField(this,3,e)},proto.com.cognite.seismic.Trace.prototype.clearXline=function(){return this.setXline(void 0)},proto.com.cognite.seismic.Trace.prototype.hasXline=function(){return null!=i.Message.getField(this,3)},proto.com.cognite.seismic.Trace.prototype.getTraceList=function(){return i.Message.getRepeatedFloatingPointField(this,4)},proto.com.cognite.seismic.Trace.prototype.setTraceList=function(e){return i.Message.setField(this,4,e||[])},proto.com.cognite.seismic.Trace.prototype.addTrace=function(e,t){return i.Message.addToRepeatedField(this,4,e,t)},proto.com.cognite.seismic.Trace.prototype.clearTraceList=function(){return this.setTraceList([])},proto.com.cognite.seismic.Trace.prototype.getCoordinate=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.Coordinate,5)},proto.com.cognite.seismic.Trace.prototype.setCoordinate=function(e){return i.Message.setWrapperField(this,5,e)},proto.com.cognite.seismic.Trace.prototype.clearCoordinate=function(){return this.setCoordinate(void 0)},proto.com.cognite.seismic.Trace.prototype.hasCoordinate=function(){return null!=i.Message.getField(this,5)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.SurfacePoint.prototype.toObject=function(e){return proto.com.cognite.seismic.SurfacePoint.toObject(e,this)},proto.com.cognite.seismic.SurfacePoint.toObject=function(e,t){var r={iline:i.Message.getFieldWithDefault(t,1,0),xline:i.Message.getFieldWithDefault(t,2,0),value:i.Message.getFloatingPointFieldWithDefault(t,3,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.SurfacePoint.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.SurfacePoint;return proto.com.cognite.seismic.SurfacePoint.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.SurfacePoint.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setIline(r);break;case 2:r=t.readInt32(),e.setXline(r);break;case 3:r=t.readFloat(),e.setValue(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.SurfacePoint.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.SurfacePoint.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.SurfacePoint.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getIline())&&t.writeInt32(1,r),0!==(r=e.getXline())&&t.writeInt32(2,r),0!==(r=e.getValue())&&t.writeFloat(3,r)},proto.com.cognite.seismic.SurfacePoint.prototype.getIline=function(){return i.Message.getFieldWithDefault(this,1,0)},proto.com.cognite.seismic.SurfacePoint.prototype.setIline=function(e){return i.Message.setProto3IntField(this,1,e)},proto.com.cognite.seismic.SurfacePoint.prototype.getXline=function(){return i.Message.getFieldWithDefault(this,2,0)},proto.com.cognite.seismic.SurfacePoint.prototype.setXline=function(e){return i.Message.setProto3IntField(this,2,e)},proto.com.cognite.seismic.SurfacePoint.prototype.getValue=function(){return i.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.com.cognite.seismic.SurfacePoint.prototype.setValue=function(e){return i.Message.setProto3FloatField(this,3,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.Survey.prototype.toObject=function(e){return proto.com.cognite.seismic.Survey.toObject(e,this)},proto.com.cognite.seismic.Survey.toObject=function(e,t){var r,n={id:i.Message.getFieldWithDefault(t,1,""),name:i.Message.getFieldWithDefault(t,2,""),metadataMap:(r=t.getMetadataMap())?r.toObject(e,void 0):[]};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.Survey.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.Survey;return proto.com.cognite.seismic.Survey.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.Survey.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setId(r);break;case 2:r=t.readString(),e.setName(r);break;case 3:r=e.getMetadataMap(),t.readMessage(r,(function(e,t){i.Map.deserializeBinary(e,t,i.BinaryReader.prototype.readString,i.BinaryReader.prototype.readString,null,"","")}));break;default:t.skipField()}return e},proto.com.cognite.seismic.Survey.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.Survey.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.Survey.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getId()).length>0&&t.writeString(1,r),(r=e.getName()).length>0&&t.writeString(2,r),(r=e.getMetadataMap(!0))&&r.getLength()>0&&r.serializeBinary(3,t,i.BinaryWriter.prototype.writeString,i.BinaryWriter.prototype.writeString)},proto.com.cognite.seismic.Survey.prototype.getId=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.com.cognite.seismic.Survey.prototype.setId=function(e){return i.Message.setProto3StringField(this,1,e)},proto.com.cognite.seismic.Survey.prototype.getName=function(){return i.Message.getFieldWithDefault(this,2,"")},proto.com.cognite.seismic.Survey.prototype.setName=function(e){return i.Message.setProto3StringField(this,2,e)},proto.com.cognite.seismic.Survey.prototype.getMetadataMap=function(e){return i.Message.getMapField(this,3,e,null)},proto.com.cognite.seismic.Survey.prototype.clearMetadataMap=function(){return this.getMetadataMap().clear(),this},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.File.prototype.toObject=function(e){return proto.com.cognite.seismic.File.toObject(e,this)},proto.com.cognite.seismic.File.toObject=function(e,t){var r,n={id:i.Message.getFieldWithDefault(t,1,""),name:i.Message.getFieldWithDefault(t,2,""),metadataMap:(r=t.getMetadataMap())?r.toObject(e,void 0):[],isTemporary:i.Message.getBooleanFieldWithDefault(t,4,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.File.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.File;return proto.com.cognite.seismic.File.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.File.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setId(r);break;case 2:r=t.readString(),e.setName(r);break;case 3:r=e.getMetadataMap(),t.readMessage(r,(function(e,t){i.Map.deserializeBinary(e,t,i.BinaryReader.prototype.readString,i.BinaryReader.prototype.readString,null,"","")}));break;case 4:r=t.readBool(),e.setIsTemporary(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.File.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.File.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.File.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getId()).length>0&&t.writeString(1,r),(r=e.getName()).length>0&&t.writeString(2,r),(r=e.getMetadataMap(!0))&&r.getLength()>0&&r.serializeBinary(3,t,i.BinaryWriter.prototype.writeString,i.BinaryWriter.prototype.writeString),(r=e.getIsTemporary())&&t.writeBool(4,r)},proto.com.cognite.seismic.File.prototype.getId=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.com.cognite.seismic.File.prototype.setId=function(e){return i.Message.setProto3StringField(this,1,e)},proto.com.cognite.seismic.File.prototype.getName=function(){return i.Message.getFieldWithDefault(this,2,"")},proto.com.cognite.seismic.File.prototype.setName=function(e){return i.Message.setProto3StringField(this,2,e)},proto.com.cognite.seismic.File.prototype.getMetadataMap=function(e){return i.Message.getMapField(this,3,e,null)},proto.com.cognite.seismic.File.prototype.clearMetadataMap=function(){return this.getMetadataMap().clear(),this},proto.com.cognite.seismic.File.prototype.getIsTemporary=function(){return i.Message.getBooleanFieldWithDefault(this,4,!1)},proto.com.cognite.seismic.File.prototype.setIsTemporary=function(e){return i.Message.setProto3BooleanField(this,4,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.Project.prototype.toObject=function(e){return proto.com.cognite.seismic.Project.toObject(e,this)},proto.com.cognite.seismic.Project.toObject=function(e,t){var r={id:i.Message.getFieldWithDefault(t,1,""),alias:i.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.Project.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.Project;return proto.com.cognite.seismic.Project.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.Project.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setId(r);break;case 2:r=t.readString(),e.setAlias(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.Project.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.Project.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.Project.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getId()).length>0&&t.writeString(1,r),(r=e.getAlias()).length>0&&t.writeString(2,r)},proto.com.cognite.seismic.Project.prototype.getId=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.com.cognite.seismic.Project.prototype.setId=function(e){return i.Message.setProto3StringField(this,1,e)},proto.com.cognite.seismic.Project.prototype.getAlias=function(){return i.Message.getFieldWithDefault(this,2,"")},proto.com.cognite.seismic.Project.prototype.setAlias=function(e){return i.Message.setProto3StringField(this,2,e)},proto.com.cognite.seismic.Identifier.oneofGroups_=[[1,2]],proto.com.cognite.seismic.Identifier.FindbyCase={FINDBY_NOT_SET:0,ID:1,NAME:2},proto.com.cognite.seismic.Identifier.prototype.getFindbyCase=function(){return i.Message.computeOneofCase(this,proto.com.cognite.seismic.Identifier.oneofGroups_[0])},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.Identifier.prototype.toObject=function(e){return proto.com.cognite.seismic.Identifier.toObject(e,this)},proto.com.cognite.seismic.Identifier.toObject=function(e,t){var r={id:i.Message.getFieldWithDefault(t,1,""),name:i.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.Identifier.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.Identifier;return proto.com.cognite.seismic.Identifier.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.Identifier.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setId(r);break;case 2:r=t.readString(),e.setName(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.Identifier.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.Identifier.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.Identifier.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=i.Message.getField(e,1))&&t.writeString(1,r),null!=(r=i.Message.getField(e,2))&&t.writeString(2,r)},proto.com.cognite.seismic.Identifier.prototype.getId=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.com.cognite.seismic.Identifier.prototype.setId=function(e){return i.Message.setOneofField(this,1,proto.com.cognite.seismic.Identifier.oneofGroups_[0],e)},proto.com.cognite.seismic.Identifier.prototype.clearId=function(){return i.Message.setOneofField(this,1,proto.com.cognite.seismic.Identifier.oneofGroups_[0],void 0)},proto.com.cognite.seismic.Identifier.prototype.hasId=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.Identifier.prototype.getName=function(){return i.Message.getFieldWithDefault(this,2,"")},proto.com.cognite.seismic.Identifier.prototype.setName=function(e){return i.Message.setOneofField(this,2,proto.com.cognite.seismic.Identifier.oneofGroups_[0],e)},proto.com.cognite.seismic.Identifier.prototype.clearName=function(){return i.Message.setOneofField(this,2,proto.com.cognite.seismic.Identifier.oneofGroups_[0],void 0)},proto.com.cognite.seismic.Identifier.prototype.hasName=function(){return null!=i.Message.getField(this,2)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.LineDescriptor.prototype.toObject=function(e){return proto.com.cognite.seismic.LineDescriptor.toObject(e,this)},proto.com.cognite.seismic.LineDescriptor.toObject=function(e,t){var r,n={min:(r=t.getMin())&&l.Int32Value.toObject(e,r),max:(r=t.getMax())&&l.Int32Value.toObject(e,r),step:(r=t.getStep())&&l.Int32Value.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.LineDescriptor.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.LineDescriptor;return proto.com.cognite.seismic.LineDescriptor.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.LineDescriptor.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new l.Int32Value;t.readMessage(r,l.Int32Value.deserializeBinaryFromReader),e.setMin(r);break;case 2:r=new l.Int32Value,t.readMessage(r,l.Int32Value.deserializeBinaryFromReader),e.setMax(r);break;case 3:r=new l.Int32Value,t.readMessage(r,l.Int32Value.deserializeBinaryFromReader),e.setStep(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.LineDescriptor.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.LineDescriptor.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.LineDescriptor.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getMin())&&t.writeMessage(1,r,l.Int32Value.serializeBinaryToWriter),null!=(r=e.getMax())&&t.writeMessage(2,r,l.Int32Value.serializeBinaryToWriter),null!=(r=e.getStep())&&t.writeMessage(3,r,l.Int32Value.serializeBinaryToWriter)},proto.com.cognite.seismic.LineDescriptor.prototype.getMin=function(){return i.Message.getWrapperField(this,l.Int32Value,1)},proto.com.cognite.seismic.LineDescriptor.prototype.setMin=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.LineDescriptor.prototype.clearMin=function(){return this.setMin(void 0)},proto.com.cognite.seismic.LineDescriptor.prototype.hasMin=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.LineDescriptor.prototype.getMax=function(){return i.Message.getWrapperField(this,l.Int32Value,2)},proto.com.cognite.seismic.LineDescriptor.prototype.setMax=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.LineDescriptor.prototype.clearMax=function(){return this.setMax(void 0)},proto.com.cognite.seismic.LineDescriptor.prototype.hasMax=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.LineDescriptor.prototype.getStep=function(){return i.Message.getWrapperField(this,l.Int32Value,3)},proto.com.cognite.seismic.LineDescriptor.prototype.setStep=function(e){return i.Message.setWrapperField(this,3,e)},proto.com.cognite.seismic.LineDescriptor.prototype.clearStep=function(){return this.setStep(void 0)},proto.com.cognite.seismic.LineDescriptor.prototype.hasStep=function(){return null!=i.Message.getField(this,3)},proto.com.cognite.seismic.LineSelect.oneofGroups_=[[1,2]],proto.com.cognite.seismic.LineSelect.DirectionCase={DIRECTION_NOT_SET:0,ILINE:1,XLINE:2},proto.com.cognite.seismic.LineSelect.prototype.getDirectionCase=function(){return i.Message.computeOneofCase(this,proto.com.cognite.seismic.LineSelect.oneofGroups_[0])},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.LineSelect.prototype.toObject=function(e){return proto.com.cognite.seismic.LineSelect.toObject(e,this)},proto.com.cognite.seismic.LineSelect.toObject=function(e,t){var r={iline:i.Message.getFieldWithDefault(t,1,0),xline:i.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.LineSelect.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.LineSelect;return proto.com.cognite.seismic.LineSelect.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.LineSelect.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setIline(r);break;case 2:r=t.readInt32(),e.setXline(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.LineSelect.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.LineSelect.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.LineSelect.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=i.Message.getField(e,1))&&t.writeInt32(1,r),null!=(r=i.Message.getField(e,2))&&t.writeInt32(2,r)},proto.com.cognite.seismic.LineSelect.prototype.getIline=function(){return i.Message.getFieldWithDefault(this,1,0)},proto.com.cognite.seismic.LineSelect.prototype.setIline=function(e){return i.Message.setOneofField(this,1,proto.com.cognite.seismic.LineSelect.oneofGroups_[0],e)},proto.com.cognite.seismic.LineSelect.prototype.clearIline=function(){return i.Message.setOneofField(this,1,proto.com.cognite.seismic.LineSelect.oneofGroups_[0],void 0)},proto.com.cognite.seismic.LineSelect.prototype.hasIline=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.LineSelect.prototype.getXline=function(){return i.Message.getFieldWithDefault(this,2,0)},proto.com.cognite.seismic.LineSelect.prototype.setXline=function(e){return i.Message.setOneofField(this,2,proto.com.cognite.seismic.LineSelect.oneofGroups_[0],e)},proto.com.cognite.seismic.LineSelect.prototype.clearXline=function(){return i.Message.setOneofField(this,2,proto.com.cognite.seismic.LineSelect.oneofGroups_[0],void 0)},proto.com.cognite.seismic.LineSelect.prototype.hasXline=function(){return null!=i.Message.getField(this,2)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.LineRange.prototype.toObject=function(e){return proto.com.cognite.seismic.LineRange.toObject(e,this)},proto.com.cognite.seismic.LineRange.toObject=function(e,t){var r,n={fromLine:(r=t.getFromLine())&&l.Int32Value.toObject(e,r),toLine:(r=t.getToLine())&&l.Int32Value.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.LineRange.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.LineRange;return proto.com.cognite.seismic.LineRange.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.LineRange.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new l.Int32Value;t.readMessage(r,l.Int32Value.deserializeBinaryFromReader),e.setFromLine(r);break;case 2:r=new l.Int32Value,t.readMessage(r,l.Int32Value.deserializeBinaryFromReader),e.setToLine(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.LineRange.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.LineRange.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.LineRange.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFromLine())&&t.writeMessage(1,r,l.Int32Value.serializeBinaryToWriter),null!=(r=e.getToLine())&&t.writeMessage(2,r,l.Int32Value.serializeBinaryToWriter)},proto.com.cognite.seismic.LineRange.prototype.getFromLine=function(){return i.Message.getWrapperField(this,l.Int32Value,1)},proto.com.cognite.seismic.LineRange.prototype.setFromLine=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.LineRange.prototype.clearFromLine=function(){return this.setFromLine(void 0)},proto.com.cognite.seismic.LineRange.prototype.hasFromLine=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.LineRange.prototype.getToLine=function(){return i.Message.getWrapperField(this,l.Int32Value,2)},proto.com.cognite.seismic.LineRange.prototype.setToLine=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.LineRange.prototype.clearToLine=function(){return this.setToLine(void 0)},proto.com.cognite.seismic.LineRange.prototype.hasToLine=function(){return null!=i.Message.getField(this,2)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.CRS.prototype.toObject=function(e){return proto.com.cognite.seismic.CRS.toObject(e,this)},proto.com.cognite.seismic.CRS.toObject=function(e,t){var r={crs:i.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.CRS.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.CRS;return proto.com.cognite.seismic.CRS.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.CRS.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setCrs(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.CRS.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.CRS.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.CRS.serializeBinaryToWriter=function(e,t){var r;(r=e.getCrs()).length>0&&t.writeString(1,r)},proto.com.cognite.seismic.CRS.prototype.getCrs=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.com.cognite.seismic.CRS.prototype.setCrs=function(e){return i.Message.setProto3StringField(this,1,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.Wkt.prototype.toObject=function(e){return proto.com.cognite.seismic.Wkt.toObject(e,this)},proto.com.cognite.seismic.Wkt.toObject=function(e,t){var r={geometry:i.Message.getFieldWithDefault(t,1,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.Wkt.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.Wkt;return proto.com.cognite.seismic.Wkt.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.Wkt.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setGeometry(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.Wkt.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.Wkt.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.Wkt.serializeBinaryToWriter=function(e,t){var r;(r=e.getGeometry()).length>0&&t.writeString(1,r)},proto.com.cognite.seismic.Wkt.prototype.getGeometry=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.com.cognite.seismic.Wkt.prototype.setGeometry=function(e){return i.Message.setProto3StringField(this,1,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.GeoJson.prototype.toObject=function(e){return proto.com.cognite.seismic.GeoJson.toObject(e,this)},proto.com.cognite.seismic.GeoJson.toObject=function(e,t){var r,n={json:(r=t.getJson())&&c.Struct.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.GeoJson.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.GeoJson;return proto.com.cognite.seismic.GeoJson.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.GeoJson.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new c.Struct;t.readMessage(r,c.Struct.deserializeBinaryFromReader),e.setJson(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.GeoJson.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.GeoJson.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.GeoJson.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getJson())&&t.writeMessage(1,r,c.Struct.serializeBinaryToWriter)},proto.com.cognite.seismic.GeoJson.prototype.getJson=function(){return i.Message.getWrapperField(this,c.Struct,1)},proto.com.cognite.seismic.GeoJson.prototype.setJson=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.GeoJson.prototype.clearJson=function(){return this.setJson(void 0)},proto.com.cognite.seismic.GeoJson.prototype.hasJson=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.Geometry.oneofGroups_=[[2,3]],proto.com.cognite.seismic.Geometry.FormatCase={FORMAT_NOT_SET:0,WKT:2,GEO:3},proto.com.cognite.seismic.Geometry.prototype.getFormatCase=function(){return i.Message.computeOneofCase(this,proto.com.cognite.seismic.Geometry.oneofGroups_[0])},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.Geometry.prototype.toObject=function(e){return proto.com.cognite.seismic.Geometry.toObject(e,this)},proto.com.cognite.seismic.Geometry.toObject=function(e,t){var r,n={crs:(r=t.getCrs())&&proto.com.cognite.seismic.CRS.toObject(e,r),wkt:(r=t.getWkt())&&proto.com.cognite.seismic.Wkt.toObject(e,r),geo:(r=t.getGeo())&&proto.com.cognite.seismic.GeoJson.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.Geometry.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.Geometry;return proto.com.cognite.seismic.Geometry.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.Geometry.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.com.cognite.seismic.CRS;t.readMessage(r,proto.com.cognite.seismic.CRS.deserializeBinaryFromReader),e.setCrs(r);break;case 2:r=new proto.com.cognite.seismic.Wkt,t.readMessage(r,proto.com.cognite.seismic.Wkt.deserializeBinaryFromReader),e.setWkt(r);break;case 3:r=new proto.com.cognite.seismic.GeoJson,t.readMessage(r,proto.com.cognite.seismic.GeoJson.deserializeBinaryFromReader),e.setGeo(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.Geometry.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.Geometry.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.Geometry.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getCrs())&&t.writeMessage(1,r,proto.com.cognite.seismic.CRS.serializeBinaryToWriter),null!=(r=e.getWkt())&&t.writeMessage(2,r,proto.com.cognite.seismic.Wkt.serializeBinaryToWriter),null!=(r=e.getGeo())&&t.writeMessage(3,r,proto.com.cognite.seismic.GeoJson.serializeBinaryToWriter)},proto.com.cognite.seismic.Geometry.prototype.getCrs=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.CRS,1)},proto.com.cognite.seismic.Geometry.prototype.setCrs=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.Geometry.prototype.clearCrs=function(){return this.setCrs(void 0)},proto.com.cognite.seismic.Geometry.prototype.hasCrs=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.Geometry.prototype.getWkt=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.Wkt,2)},proto.com.cognite.seismic.Geometry.prototype.setWkt=function(e){return i.Message.setOneofWrapperField(this,2,proto.com.cognite.seismic.Geometry.oneofGroups_[0],e)},proto.com.cognite.seismic.Geometry.prototype.clearWkt=function(){return this.setWkt(void 0)},proto.com.cognite.seismic.Geometry.prototype.hasWkt=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.Geometry.prototype.getGeo=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.GeoJson,3)},proto.com.cognite.seismic.Geometry.prototype.setGeo=function(e){return i.Message.setOneofWrapperField(this,3,proto.com.cognite.seismic.Geometry.oneofGroups_[0],e)},proto.com.cognite.seismic.Geometry.prototype.clearGeo=function(){return this.setGeo(void 0)},proto.com.cognite.seismic.Geometry.prototype.hasGeo=function(){return null!=i.Message.getField(this,3)},proto.com.cognite.seismic.JobStatus={NONE:0,QUEUED:1,IN_PROGRESS:2,SUCCESS:3,FAILED:4,TIMEOUT:5},proto.com.cognite.seismic.FileStep={REGISTER:0,INSERT_FILE_HEADERS:1,INSERT_TRACE_HEADERS:2,INSERT_DATA:3,COMPUTE_COVERAGE:4,COMPUTE_GRID:5,DELETING:254,DELETE:255},proto.com.cognite.seismic.InterpolationMethod={NEAREST_TRACE:0,INVERSE_DISTANCE_WEIGHTING:1},r.object.extend(t,proto.com.cognite.seismic)})),p=s((function(e,t){var r=i,n=Function("return this")();r.object.extend(proto,d),r.object.extend(proto,l),r.exportSymbol("proto.com.cognite.seismic.AvailableLines",null,n),r.exportSymbol("proto.com.cognite.seismic.BinaryHeader",null,n),r.exportSymbol("proto.com.cognite.seismic.CoordinateQuery",null,n),r.exportSymbol("proto.com.cognite.seismic.CoordinateTraceQueryRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.DataCoverageResponse",null,n),r.exportSymbol("proto.com.cognite.seismic.FileCoverageRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.FileLineQueryRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.FileQueryRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.GeometryCubeRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.GeometrySliceQueryRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.GeometryTimeSliceQueryRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.GetBinaryHeaderResponse",null,n),r.exportSymbol("proto.com.cognite.seismic.GetFileResponse",null,n),r.exportSymbol("proto.com.cognite.seismic.GetSurveyResponse",null,n),r.exportSymbol("proto.com.cognite.seismic.GetTextHeaderResponse",null,n),r.exportSymbol("proto.com.cognite.seismic.HeaderFileQueryRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.KeyValueFilter",null,n),r.exportSymbol("proto.com.cognite.seismic.LineBasedRectangle",null,n),r.exportSymbol("proto.com.cognite.seismic.LineBasedVolume",null,n),r.exportSymbol("proto.com.cognite.seismic.LineCubeRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.LineRangeResponse",null,n),r.exportSymbol("proto.com.cognite.seismic.LineSliceQueryRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.LineTimeSliceQueryRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.LineTraceQueryRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.ListFilesResponse",null,n),r.exportSymbol("proto.com.cognite.seismic.ListSurveysQueryRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.MetadataFilter",null,n),r.exportSymbol("proto.com.cognite.seismic.NavigationPolygonRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.PathQueryRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.PositionQuery",null,n),r.exportSymbol("proto.com.cognite.seismic.SearchSurveyRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.SegYQueryRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.SegYQueryRequest.QueryCase",null,n),r.exportSymbol("proto.com.cognite.seismic.SegYQueryResponse",null,n),r.exportSymbol("proto.com.cognite.seismic.SurveyQueryRequest",null,n),r.exportSymbol("proto.com.cognite.seismic.SurveyWithFiles",null,n),r.exportSymbol("proto.com.cognite.seismic.SurveyWithFilesResponse",null,n),r.exportSymbol("proto.com.cognite.seismic.TextHeader",null,n),r.exportSymbol("proto.com.cognite.seismic.VolumeRequest",null,n),proto.com.cognite.seismic.SurveyQueryRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.SurveyQueryRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.SurveyQueryRequest.displayName="proto.com.cognite.seismic.SurveyQueryRequest"),proto.com.cognite.seismic.ListSurveysQueryRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.ListSurveysQueryRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.ListSurveysQueryRequest.displayName="proto.com.cognite.seismic.ListSurveysQueryRequest"),proto.com.cognite.seismic.FileQueryRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.FileQueryRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.FileQueryRequest.displayName="proto.com.cognite.seismic.FileQueryRequest"),proto.com.cognite.seismic.FileLineQueryRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.FileLineQueryRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.FileLineQueryRequest.displayName="proto.com.cognite.seismic.FileLineQueryRequest"),proto.com.cognite.seismic.HeaderFileQueryRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.HeaderFileQueryRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.HeaderFileQueryRequest.displayName="proto.com.cognite.seismic.HeaderFileQueryRequest"),proto.com.cognite.seismic.FileCoverageRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.FileCoverageRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.FileCoverageRequest.displayName="proto.com.cognite.seismic.FileCoverageRequest"),proto.com.cognite.seismic.NavigationPolygonRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.NavigationPolygonRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.NavigationPolygonRequest.displayName="proto.com.cognite.seismic.NavigationPolygonRequest"),proto.com.cognite.seismic.LineTraceQueryRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.LineTraceQueryRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.LineTraceQueryRequest.displayName="proto.com.cognite.seismic.LineTraceQueryRequest"),proto.com.cognite.seismic.CoordinateTraceQueryRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.CoordinateTraceQueryRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.CoordinateTraceQueryRequest.displayName="proto.com.cognite.seismic.CoordinateTraceQueryRequest"),proto.com.cognite.seismic.LineSliceQueryRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.LineSliceQueryRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.LineSliceQueryRequest.displayName="proto.com.cognite.seismic.LineSliceQueryRequest"),proto.com.cognite.seismic.GeometrySliceQueryRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.GeometrySliceQueryRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.GeometrySliceQueryRequest.displayName="proto.com.cognite.seismic.GeometrySliceQueryRequest"),proto.com.cognite.seismic.LineCubeRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.LineCubeRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.LineCubeRequest.displayName="proto.com.cognite.seismic.LineCubeRequest"),proto.com.cognite.seismic.GeometryCubeRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.GeometryCubeRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.GeometryCubeRequest.displayName="proto.com.cognite.seismic.GeometryCubeRequest"),proto.com.cognite.seismic.LineTimeSliceQueryRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.LineTimeSliceQueryRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.LineTimeSliceQueryRequest.displayName="proto.com.cognite.seismic.LineTimeSliceQueryRequest"),proto.com.cognite.seismic.GeometryTimeSliceQueryRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.GeometryTimeSliceQueryRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.displayName="proto.com.cognite.seismic.GeometryTimeSliceQueryRequest"),proto.com.cognite.seismic.VolumeRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.VolumeRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.VolumeRequest.displayName="proto.com.cognite.seismic.VolumeRequest"),proto.com.cognite.seismic.SegYQueryRequest=function(e){i.Message.initialize(this,e,0,-1,null,proto.com.cognite.seismic.SegYQueryRequest.oneofGroups_)},r.inherits(proto.com.cognite.seismic.SegYQueryRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.SegYQueryRequest.displayName="proto.com.cognite.seismic.SegYQueryRequest"),proto.com.cognite.seismic.PathQueryRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.PathQueryRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.PathQueryRequest.displayName="proto.com.cognite.seismic.PathQueryRequest"),proto.com.cognite.seismic.SearchSurveyRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.SearchSurveyRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.SearchSurveyRequest.displayName="proto.com.cognite.seismic.SearchSurveyRequest"),proto.com.cognite.seismic.LineBasedRectangle=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.LineBasedRectangle,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.LineBasedRectangle.displayName="proto.com.cognite.seismic.LineBasedRectangle"),proto.com.cognite.seismic.LineBasedVolume=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.LineBasedVolume,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.LineBasedVolume.displayName="proto.com.cognite.seismic.LineBasedVolume"),proto.com.cognite.seismic.MetadataFilter=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.MetadataFilter,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.MetadataFilter.displayName="proto.com.cognite.seismic.MetadataFilter"),proto.com.cognite.seismic.KeyValueFilter=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.KeyValueFilter,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.KeyValueFilter.displayName="proto.com.cognite.seismic.KeyValueFilter"),proto.com.cognite.seismic.CoordinateQuery=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.CoordinateQuery,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.CoordinateQuery.displayName="proto.com.cognite.seismic.CoordinateQuery"),proto.com.cognite.seismic.PositionQuery=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.PositionQuery,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.PositionQuery.displayName="proto.com.cognite.seismic.PositionQuery"),proto.com.cognite.seismic.AvailableLines=function(e){i.Message.initialize(this,e,0,-1,proto.com.cognite.seismic.AvailableLines.repeatedFields_,null)},r.inherits(proto.com.cognite.seismic.AvailableLines,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.AvailableLines.displayName="proto.com.cognite.seismic.AvailableLines"),proto.com.cognite.seismic.LineRangeResponse=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.LineRangeResponse,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.LineRangeResponse.displayName="proto.com.cognite.seismic.LineRangeResponse"),proto.com.cognite.seismic.SurveyWithFilesResponse=function(e){i.Message.initialize(this,e,0,-1,proto.com.cognite.seismic.SurveyWithFilesResponse.repeatedFields_,null)},r.inherits(proto.com.cognite.seismic.SurveyWithFilesResponse,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.SurveyWithFilesResponse.displayName="proto.com.cognite.seismic.SurveyWithFilesResponse"),proto.com.cognite.seismic.SurveyWithFiles=function(e){i.Message.initialize(this,e,0,-1,proto.com.cognite.seismic.SurveyWithFiles.repeatedFields_,null)},r.inherits(proto.com.cognite.seismic.SurveyWithFiles,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.SurveyWithFiles.displayName="proto.com.cognite.seismic.SurveyWithFiles"),proto.com.cognite.seismic.DataCoverageResponse=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.DataCoverageResponse,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.DataCoverageResponse.displayName="proto.com.cognite.seismic.DataCoverageResponse"),proto.com.cognite.seismic.GetSurveyResponse=function(e){i.Message.initialize(this,e,0,-1,proto.com.cognite.seismic.GetSurveyResponse.repeatedFields_,null)},r.inherits(proto.com.cognite.seismic.GetSurveyResponse,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.GetSurveyResponse.displayName="proto.com.cognite.seismic.GetSurveyResponse"),proto.com.cognite.seismic.GetFileResponse=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.GetFileResponse,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.GetFileResponse.displayName="proto.com.cognite.seismic.GetFileResponse"),proto.com.cognite.seismic.ListFilesResponse=function(e){i.Message.initialize(this,e,0,-1,proto.com.cognite.seismic.ListFilesResponse.repeatedFields_,null)},r.inherits(proto.com.cognite.seismic.ListFilesResponse,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.ListFilesResponse.displayName="proto.com.cognite.seismic.ListFilesResponse"),proto.com.cognite.seismic.GetBinaryHeaderResponse=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.GetBinaryHeaderResponse,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.GetBinaryHeaderResponse.displayName="proto.com.cognite.seismic.GetBinaryHeaderResponse"),proto.com.cognite.seismic.GetTextHeaderResponse=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.GetTextHeaderResponse,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.GetTextHeaderResponse.displayName="proto.com.cognite.seismic.GetTextHeaderResponse"),proto.com.cognite.seismic.TextHeader=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.TextHeader,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.TextHeader.displayName="proto.com.cognite.seismic.TextHeader"),proto.com.cognite.seismic.BinaryHeader=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.BinaryHeader,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.BinaryHeader.displayName="proto.com.cognite.seismic.BinaryHeader"),proto.com.cognite.seismic.SegYQueryResponse=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.com.cognite.seismic.SegYQueryResponse,i.Message),r.DEBUG&&!COMPILED&&(proto.com.cognite.seismic.SegYQueryResponse.displayName="proto.com.cognite.seismic.SegYQueryResponse"),i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.SurveyQueryRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.SurveyQueryRequest.toObject(e,this)},proto.com.cognite.seismic.SurveyQueryRequest.toObject=function(e,t){var r,n={survey:(r=t.getSurvey())&&d.Identifier.toObject(e,r),listFiles:i.Message.getBooleanFieldWithDefault(t,2,!1),includeMetadata:i.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.SurveyQueryRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.SurveyQueryRequest;return proto.com.cognite.seismic.SurveyQueryRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.SurveyQueryRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setSurvey(r);break;case 2:r=t.readBool(),e.setListFiles(r);break;case 3:r=t.readBool(),e.setIncludeMetadata(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.SurveyQueryRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.SurveyQueryRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.SurveyQueryRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getSurvey())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter),(r=e.getListFiles())&&t.writeBool(2,r),(r=e.getIncludeMetadata())&&t.writeBool(3,r)},proto.com.cognite.seismic.SurveyQueryRequest.prototype.getSurvey=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.SurveyQueryRequest.prototype.setSurvey=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.SurveyQueryRequest.prototype.clearSurvey=function(){return this.setSurvey(void 0)},proto.com.cognite.seismic.SurveyQueryRequest.prototype.hasSurvey=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.SurveyQueryRequest.prototype.getListFiles=function(){return i.Message.getBooleanFieldWithDefault(this,2,!1)},proto.com.cognite.seismic.SurveyQueryRequest.prototype.setListFiles=function(e){return i.Message.setProto3BooleanField(this,2,e)},proto.com.cognite.seismic.SurveyQueryRequest.prototype.getIncludeMetadata=function(){return i.Message.getBooleanFieldWithDefault(this,3,!1)},proto.com.cognite.seismic.SurveyQueryRequest.prototype.setIncludeMetadata=function(e){return i.Message.setProto3BooleanField(this,3,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.ListSurveysQueryRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.ListSurveysQueryRequest.toObject(e,this)},proto.com.cognite.seismic.ListSurveysQueryRequest.toObject=function(e,t){var r={listFiles:i.Message.getBooleanFieldWithDefault(t,1,!1),includeMetadata:i.Message.getBooleanFieldWithDefault(t,2,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.ListSurveysQueryRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.ListSurveysQueryRequest;return proto.com.cognite.seismic.ListSurveysQueryRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.ListSurveysQueryRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBool();e.setListFiles(r);break;case 2:r=t.readBool(),e.setIncludeMetadata(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.ListSurveysQueryRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.ListSurveysQueryRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.ListSurveysQueryRequest.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getListFiles())&&t.writeBool(1,r),(r=e.getIncludeMetadata())&&t.writeBool(2,r)},proto.com.cognite.seismic.ListSurveysQueryRequest.prototype.getListFiles=function(){return i.Message.getBooleanFieldWithDefault(this,1,!1)},proto.com.cognite.seismic.ListSurveysQueryRequest.prototype.setListFiles=function(e){return i.Message.setProto3BooleanField(this,1,e)},proto.com.cognite.seismic.ListSurveysQueryRequest.prototype.getIncludeMetadata=function(){return i.Message.getBooleanFieldWithDefault(this,2,!1)},proto.com.cognite.seismic.ListSurveysQueryRequest.prototype.setIncludeMetadata=function(e){return i.Message.setProto3BooleanField(this,2,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.FileQueryRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.FileQueryRequest.toObject(e,this)},proto.com.cognite.seismic.FileQueryRequest.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.Identifier.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.FileQueryRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.FileQueryRequest;return proto.com.cognite.seismic.FileQueryRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.FileQueryRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setFile(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.FileQueryRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.FileQueryRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.FileQueryRequest.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getFile())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter)},proto.com.cognite.seismic.FileQueryRequest.prototype.getFile=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.FileQueryRequest.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.FileQueryRequest.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.FileQueryRequest.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.FileLineQueryRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.FileLineQueryRequest.toObject(e,this)},proto.com.cognite.seismic.FileLineQueryRequest.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.Identifier.toObject(e,r),line:i.Message.getFieldWithDefault(t,2,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.FileLineQueryRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.FileLineQueryRequest;return proto.com.cognite.seismic.FileLineQueryRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.FileLineQueryRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setFile(r);break;case 2:r=t.readInt32(),e.setLine(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.FileLineQueryRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.FileLineQueryRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.FileLineQueryRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFile())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter),0!==(r=e.getLine())&&t.writeInt32(2,r)},proto.com.cognite.seismic.FileLineQueryRequest.prototype.getFile=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.FileLineQueryRequest.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.FileLineQueryRequest.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.FileLineQueryRequest.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.FileLineQueryRequest.prototype.getLine=function(){return i.Message.getFieldWithDefault(this,2,0)},proto.com.cognite.seismic.FileLineQueryRequest.prototype.setLine=function(e){return i.Message.setProto3IntField(this,2,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.HeaderFileQueryRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.HeaderFileQueryRequest.toObject(e,this)},proto.com.cognite.seismic.HeaderFileQueryRequest.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.Identifier.toObject(e,r),includeRawHeader:i.Message.getBooleanFieldWithDefault(t,2,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.HeaderFileQueryRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.HeaderFileQueryRequest;return proto.com.cognite.seismic.HeaderFileQueryRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.HeaderFileQueryRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setFile(r);break;case 2:r=t.readBool(),e.setIncludeRawHeader(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.HeaderFileQueryRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.HeaderFileQueryRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.HeaderFileQueryRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFile())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter),(r=e.getIncludeRawHeader())&&t.writeBool(2,r)},proto.com.cognite.seismic.HeaderFileQueryRequest.prototype.getFile=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.HeaderFileQueryRequest.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.HeaderFileQueryRequest.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.HeaderFileQueryRequest.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.HeaderFileQueryRequest.prototype.getIncludeRawHeader=function(){return i.Message.getBooleanFieldWithDefault(this,2,!1)},proto.com.cognite.seismic.HeaderFileQueryRequest.prototype.setIncludeRawHeader=function(e){return i.Message.setProto3BooleanField(this,2,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.FileCoverageRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.FileCoverageRequest.toObject(e,this)},proto.com.cognite.seismic.FileCoverageRequest.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.Identifier.toObject(e,r),crs:(r=t.getCrs())&&d.CRS.toObject(e,r),inWkt:i.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.FileCoverageRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.FileCoverageRequest;return proto.com.cognite.seismic.FileCoverageRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.FileCoverageRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setFile(r);break;case 2:r=new d.CRS,t.readMessage(r,d.CRS.deserializeBinaryFromReader),e.setCrs(r);break;case 3:r=t.readBool(),e.setInWkt(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.FileCoverageRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.FileCoverageRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.FileCoverageRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFile())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter),null!=(r=e.getCrs())&&t.writeMessage(2,r,d.CRS.serializeBinaryToWriter),(r=e.getInWkt())&&t.writeBool(3,r)},proto.com.cognite.seismic.FileCoverageRequest.prototype.getFile=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.FileCoverageRequest.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.FileCoverageRequest.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.FileCoverageRequest.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.FileCoverageRequest.prototype.getCrs=function(){return i.Message.getWrapperField(this,d.CRS,2)},proto.com.cognite.seismic.FileCoverageRequest.prototype.setCrs=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.FileCoverageRequest.prototype.clearCrs=function(){return this.setCrs(void 0)},proto.com.cognite.seismic.FileCoverageRequest.prototype.hasCrs=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.FileCoverageRequest.prototype.getInWkt=function(){return i.Message.getBooleanFieldWithDefault(this,3,!1)},proto.com.cognite.seismic.FileCoverageRequest.prototype.setInWkt=function(e){return i.Message.setProto3BooleanField(this,3,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.NavigationPolygonRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.NavigationPolygonRequest.toObject(e,this)},proto.com.cognite.seismic.NavigationPolygonRequest.toObject=function(e,t){var r,n={survey:(r=t.getSurvey())&&d.Identifier.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.NavigationPolygonRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.NavigationPolygonRequest;return proto.com.cognite.seismic.NavigationPolygonRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.NavigationPolygonRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setSurvey(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.NavigationPolygonRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.NavigationPolygonRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.NavigationPolygonRequest.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getSurvey())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter)},proto.com.cognite.seismic.NavigationPolygonRequest.prototype.getSurvey=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.NavigationPolygonRequest.prototype.setSurvey=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.NavigationPolygonRequest.prototype.clearSurvey=function(){return this.setSurvey(void 0)},proto.com.cognite.seismic.NavigationPolygonRequest.prototype.hasSurvey=function(){return null!=i.Message.getField(this,1)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.LineTraceQueryRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.LineTraceQueryRequest.toObject(e,this)},proto.com.cognite.seismic.LineTraceQueryRequest.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.Identifier.toObject(e,r),position:(r=t.getPosition())&&proto.com.cognite.seismic.PositionQuery.toObject(e,r),includeTraceHeader:i.Message.getBooleanFieldWithDefault(t,4,!1),includeTraceCoordinates:i.Message.getBooleanFieldWithDefault(t,5,!1),includeTraceData:i.Message.getBooleanFieldWithDefault(t,6,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.LineTraceQueryRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.LineTraceQueryRequest;return proto.com.cognite.seismic.LineTraceQueryRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.LineTraceQueryRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setFile(r);break;case 3:r=new proto.com.cognite.seismic.PositionQuery,t.readMessage(r,proto.com.cognite.seismic.PositionQuery.deserializeBinaryFromReader),e.setPosition(r);break;case 4:r=t.readBool(),e.setIncludeTraceHeader(r);break;case 5:r=t.readBool(),e.setIncludeTraceCoordinates(r);break;case 6:r=t.readBool(),e.setIncludeTraceData(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.LineTraceQueryRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.LineTraceQueryRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.LineTraceQueryRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFile())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter),null!=(r=e.getPosition())&&t.writeMessage(3,r,proto.com.cognite.seismic.PositionQuery.serializeBinaryToWriter),(r=e.getIncludeTraceHeader())&&t.writeBool(4,r),(r=e.getIncludeTraceCoordinates())&&t.writeBool(5,r),(r=e.getIncludeTraceData())&&t.writeBool(6,r)},proto.com.cognite.seismic.LineTraceQueryRequest.prototype.getFile=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.LineTraceQueryRequest.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.LineTraceQueryRequest.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.LineTraceQueryRequest.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.LineTraceQueryRequest.prototype.getPosition=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.PositionQuery,3)},proto.com.cognite.seismic.LineTraceQueryRequest.prototype.setPosition=function(e){return i.Message.setWrapperField(this,3,e)},proto.com.cognite.seismic.LineTraceQueryRequest.prototype.clearPosition=function(){return this.setPosition(void 0)},proto.com.cognite.seismic.LineTraceQueryRequest.prototype.hasPosition=function(){return null!=i.Message.getField(this,3)},proto.com.cognite.seismic.LineTraceQueryRequest.prototype.getIncludeTraceHeader=function(){return i.Message.getBooleanFieldWithDefault(this,4,!1)},proto.com.cognite.seismic.LineTraceQueryRequest.prototype.setIncludeTraceHeader=function(e){return i.Message.setProto3BooleanField(this,4,e)},proto.com.cognite.seismic.LineTraceQueryRequest.prototype.getIncludeTraceCoordinates=function(){return i.Message.getBooleanFieldWithDefault(this,5,!1)},proto.com.cognite.seismic.LineTraceQueryRequest.prototype.setIncludeTraceCoordinates=function(e){return i.Message.setProto3BooleanField(this,5,e)},proto.com.cognite.seismic.LineTraceQueryRequest.prototype.getIncludeTraceData=function(){return i.Message.getBooleanFieldWithDefault(this,6,!1)},proto.com.cognite.seismic.LineTraceQueryRequest.prototype.setIncludeTraceData=function(e){return i.Message.setProto3BooleanField(this,6,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.CoordinateTraceQueryRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.CoordinateTraceQueryRequest.toObject(e,this)},proto.com.cognite.seismic.CoordinateTraceQueryRequest.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.Identifier.toObject(e,r),coordinates:(r=t.getCoordinates())&&proto.com.cognite.seismic.CoordinateQuery.toObject(e,r),maxRadius:i.Message.getFloatingPointFieldWithDefault(t,3,0),includeTraceHeader:i.Message.getBooleanFieldWithDefault(t,4,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.CoordinateTraceQueryRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.CoordinateTraceQueryRequest;return proto.com.cognite.seismic.CoordinateTraceQueryRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.CoordinateTraceQueryRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setFile(r);break;case 2:r=new proto.com.cognite.seismic.CoordinateQuery,t.readMessage(r,proto.com.cognite.seismic.CoordinateQuery.deserializeBinaryFromReader),e.setCoordinates(r);break;case 3:r=t.readFloat(),e.setMaxRadius(r);break;case 4:r=t.readBool(),e.setIncludeTraceHeader(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.CoordinateTraceQueryRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.CoordinateTraceQueryRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.CoordinateTraceQueryRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFile())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter),null!=(r=e.getCoordinates())&&t.writeMessage(2,r,proto.com.cognite.seismic.CoordinateQuery.serializeBinaryToWriter),0!==(r=e.getMaxRadius())&&t.writeFloat(3,r),(r=e.getIncludeTraceHeader())&&t.writeBool(4,r)},proto.com.cognite.seismic.CoordinateTraceQueryRequest.prototype.getFile=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.CoordinateTraceQueryRequest.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.CoordinateTraceQueryRequest.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.CoordinateTraceQueryRequest.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.CoordinateTraceQueryRequest.prototype.getCoordinates=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.CoordinateQuery,2)},proto.com.cognite.seismic.CoordinateTraceQueryRequest.prototype.setCoordinates=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.CoordinateTraceQueryRequest.prototype.clearCoordinates=function(){return this.setCoordinates(void 0)},proto.com.cognite.seismic.CoordinateTraceQueryRequest.prototype.hasCoordinates=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.CoordinateTraceQueryRequest.prototype.getMaxRadius=function(){return i.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.com.cognite.seismic.CoordinateTraceQueryRequest.prototype.setMaxRadius=function(e){return i.Message.setProto3FloatField(this,3,e)},proto.com.cognite.seismic.CoordinateTraceQueryRequest.prototype.getIncludeTraceHeader=function(){return i.Message.getBooleanFieldWithDefault(this,4,!1)},proto.com.cognite.seismic.CoordinateTraceQueryRequest.prototype.setIncludeTraceHeader=function(e){return i.Message.setProto3BooleanField(this,4,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.LineSliceQueryRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.LineSliceQueryRequest.toObject(e,this)},proto.com.cognite.seismic.LineSliceQueryRequest.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.Identifier.toObject(e,r),line:(r=t.getLine())&&d.LineSelect.toObject(e,r),includeTraceHeader:i.Message.getBooleanFieldWithDefault(t,3,!1),range:(r=t.getRange())&&d.LineRange.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.LineSliceQueryRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.LineSliceQueryRequest;return proto.com.cognite.seismic.LineSliceQueryRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.LineSliceQueryRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setFile(r);break;case 2:r=new d.LineSelect,t.readMessage(r,d.LineSelect.deserializeBinaryFromReader),e.setLine(r);break;case 3:r=t.readBool(),e.setIncludeTraceHeader(r);break;case 4:r=new d.LineRange,t.readMessage(r,d.LineRange.deserializeBinaryFromReader),e.setRange(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.LineSliceQueryRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.LineSliceQueryRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.LineSliceQueryRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFile())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter),null!=(r=e.getLine())&&t.writeMessage(2,r,d.LineSelect.serializeBinaryToWriter),(r=e.getIncludeTraceHeader())&&t.writeBool(3,r),null!=(r=e.getRange())&&t.writeMessage(4,r,d.LineRange.serializeBinaryToWriter)},proto.com.cognite.seismic.LineSliceQueryRequest.prototype.getFile=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.LineSliceQueryRequest.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.LineSliceQueryRequest.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.LineSliceQueryRequest.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.LineSliceQueryRequest.prototype.getLine=function(){return i.Message.getWrapperField(this,d.LineSelect,2)},proto.com.cognite.seismic.LineSliceQueryRequest.prototype.setLine=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.LineSliceQueryRequest.prototype.clearLine=function(){return this.setLine(void 0)},proto.com.cognite.seismic.LineSliceQueryRequest.prototype.hasLine=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.LineSliceQueryRequest.prototype.getIncludeTraceHeader=function(){return i.Message.getBooleanFieldWithDefault(this,3,!1)},proto.com.cognite.seismic.LineSliceQueryRequest.prototype.setIncludeTraceHeader=function(e){return i.Message.setProto3BooleanField(this,3,e)},proto.com.cognite.seismic.LineSliceQueryRequest.prototype.getRange=function(){return i.Message.getWrapperField(this,d.LineRange,4)},proto.com.cognite.seismic.LineSliceQueryRequest.prototype.setRange=function(e){return i.Message.setWrapperField(this,4,e)},proto.com.cognite.seismic.LineSliceQueryRequest.prototype.clearRange=function(){return this.setRange(void 0)},proto.com.cognite.seismic.LineSliceQueryRequest.prototype.hasRange=function(){return null!=i.Message.getField(this,4)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.GeometrySliceQueryRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.GeometrySliceQueryRequest.toObject(e,this)},proto.com.cognite.seismic.GeometrySliceQueryRequest.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.Identifier.toObject(e,r),arbitraryLine:(r=t.getArbitraryLine())&&d.Geometry.toObject(e,r),interpolationMethod:i.Message.getFieldWithDefault(t,3,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.GeometrySliceQueryRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.GeometrySliceQueryRequest;return proto.com.cognite.seismic.GeometrySliceQueryRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.GeometrySliceQueryRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setFile(r);break;case 2:r=new d.Geometry,t.readMessage(r,d.Geometry.deserializeBinaryFromReader),e.setArbitraryLine(r);break;case 3:r=t.readEnum(),e.setInterpolationMethod(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.GeometrySliceQueryRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.GeometrySliceQueryRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.GeometrySliceQueryRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFile())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter),null!=(r=e.getArbitraryLine())&&t.writeMessage(2,r,d.Geometry.serializeBinaryToWriter),0!==(r=e.getInterpolationMethod())&&t.writeEnum(3,r)},proto.com.cognite.seismic.GeometrySliceQueryRequest.prototype.getFile=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.GeometrySliceQueryRequest.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.GeometrySliceQueryRequest.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.GeometrySliceQueryRequest.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.GeometrySliceQueryRequest.prototype.getArbitraryLine=function(){return i.Message.getWrapperField(this,d.Geometry,2)},proto.com.cognite.seismic.GeometrySliceQueryRequest.prototype.setArbitraryLine=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.GeometrySliceQueryRequest.prototype.clearArbitraryLine=function(){return this.setArbitraryLine(void 0)},proto.com.cognite.seismic.GeometrySliceQueryRequest.prototype.hasArbitraryLine=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.GeometrySliceQueryRequest.prototype.getInterpolationMethod=function(){return i.Message.getFieldWithDefault(this,3,0)},proto.com.cognite.seismic.GeometrySliceQueryRequest.prototype.setInterpolationMethod=function(e){return i.Message.setProto3EnumField(this,3,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.LineCubeRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.LineCubeRequest.toObject(e,this)},proto.com.cognite.seismic.LineCubeRequest.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.Identifier.toObject(e,r),rectangle:(r=t.getRectangle())&&proto.com.cognite.seismic.LineBasedRectangle.toObject(e,r),includeTraceHeader:i.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.LineCubeRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.LineCubeRequest;return proto.com.cognite.seismic.LineCubeRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.LineCubeRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setFile(r);break;case 2:r=new proto.com.cognite.seismic.LineBasedRectangle,t.readMessage(r,proto.com.cognite.seismic.LineBasedRectangle.deserializeBinaryFromReader),e.setRectangle(r);break;case 3:r=t.readBool(),e.setIncludeTraceHeader(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.LineCubeRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.LineCubeRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.LineCubeRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFile())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter),null!=(r=e.getRectangle())&&t.writeMessage(2,r,proto.com.cognite.seismic.LineBasedRectangle.serializeBinaryToWriter),(r=e.getIncludeTraceHeader())&&t.writeBool(3,r)},proto.com.cognite.seismic.LineCubeRequest.prototype.getFile=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.LineCubeRequest.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.LineCubeRequest.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.LineCubeRequest.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.LineCubeRequest.prototype.getRectangle=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.LineBasedRectangle,2)},proto.com.cognite.seismic.LineCubeRequest.prototype.setRectangle=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.LineCubeRequest.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.com.cognite.seismic.LineCubeRequest.prototype.hasRectangle=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.LineCubeRequest.prototype.getIncludeTraceHeader=function(){return i.Message.getBooleanFieldWithDefault(this,3,!1)},proto.com.cognite.seismic.LineCubeRequest.prototype.setIncludeTraceHeader=function(e){return i.Message.setProto3BooleanField(this,3,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.GeometryCubeRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.GeometryCubeRequest.toObject(e,this)},proto.com.cognite.seismic.GeometryCubeRequest.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.Identifier.toObject(e,r),geometry:(r=t.getGeometry())&&d.Geometry.toObject(e,r),includeTraceHeader:i.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.GeometryCubeRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.GeometryCubeRequest;return proto.com.cognite.seismic.GeometryCubeRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.GeometryCubeRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setFile(r);break;case 2:r=new d.Geometry,t.readMessage(r,d.Geometry.deserializeBinaryFromReader),e.setGeometry(r);break;case 3:r=t.readBool(),e.setIncludeTraceHeader(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.GeometryCubeRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.GeometryCubeRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.GeometryCubeRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFile())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter),null!=(r=e.getGeometry())&&t.writeMessage(2,r,d.Geometry.serializeBinaryToWriter),(r=e.getIncludeTraceHeader())&&t.writeBool(3,r)},proto.com.cognite.seismic.GeometryCubeRequest.prototype.getFile=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.GeometryCubeRequest.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.GeometryCubeRequest.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.GeometryCubeRequest.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.GeometryCubeRequest.prototype.getGeometry=function(){return i.Message.getWrapperField(this,d.Geometry,2)},proto.com.cognite.seismic.GeometryCubeRequest.prototype.setGeometry=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.GeometryCubeRequest.prototype.clearGeometry=function(){return this.setGeometry(void 0)},proto.com.cognite.seismic.GeometryCubeRequest.prototype.hasGeometry=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.GeometryCubeRequest.prototype.getIncludeTraceHeader=function(){return i.Message.getBooleanFieldWithDefault(this,3,!1)},proto.com.cognite.seismic.GeometryCubeRequest.prototype.setIncludeTraceHeader=function(e){return i.Message.setProto3BooleanField(this,3,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.LineTimeSliceQueryRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.LineTimeSliceQueryRequest.toObject(e,this)},proto.com.cognite.seismic.LineTimeSliceQueryRequest.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.Identifier.toObject(e,r),rectangle:(r=t.getRectangle())&&proto.com.cognite.seismic.LineBasedRectangle.toObject(e,r),z:(r=t.getZ())&&l.Int32Value.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.LineTimeSliceQueryRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.LineTimeSliceQueryRequest;return proto.com.cognite.seismic.LineTimeSliceQueryRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.LineTimeSliceQueryRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setFile(r);break;case 2:r=new proto.com.cognite.seismic.LineBasedRectangle,t.readMessage(r,proto.com.cognite.seismic.LineBasedRectangle.deserializeBinaryFromReader),e.setRectangle(r);break;case 3:r=new l.Int32Value,t.readMessage(r,l.Int32Value.deserializeBinaryFromReader),e.setZ(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.LineTimeSliceQueryRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.LineTimeSliceQueryRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.LineTimeSliceQueryRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFile())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter),null!=(r=e.getRectangle())&&t.writeMessage(2,r,proto.com.cognite.seismic.LineBasedRectangle.serializeBinaryToWriter),null!=(r=e.getZ())&&t.writeMessage(3,r,l.Int32Value.serializeBinaryToWriter)},proto.com.cognite.seismic.LineTimeSliceQueryRequest.prototype.getFile=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.LineTimeSliceQueryRequest.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.LineTimeSliceQueryRequest.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.LineTimeSliceQueryRequest.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.LineTimeSliceQueryRequest.prototype.getRectangle=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.LineBasedRectangle,2)},proto.com.cognite.seismic.LineTimeSliceQueryRequest.prototype.setRectangle=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.LineTimeSliceQueryRequest.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.com.cognite.seismic.LineTimeSliceQueryRequest.prototype.hasRectangle=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.LineTimeSliceQueryRequest.prototype.getZ=function(){return i.Message.getWrapperField(this,l.Int32Value,3)},proto.com.cognite.seismic.LineTimeSliceQueryRequest.prototype.setZ=function(e){return i.Message.setWrapperField(this,3,e)},proto.com.cognite.seismic.LineTimeSliceQueryRequest.prototype.clearZ=function(){return this.setZ(void 0)},proto.com.cognite.seismic.LineTimeSliceQueryRequest.prototype.hasZ=function(){return null!=i.Message.getField(this,3)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.toObject(e,this)},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.Identifier.toObject(e,r),geometry:(r=t.getGeometry())&&d.Geometry.toObject(e,r),z:(r=t.getZ())&&l.Int32Value.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.GeometryTimeSliceQueryRequest;return proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setFile(r);break;case 2:r=new d.Geometry,t.readMessage(r,d.Geometry.deserializeBinaryFromReader),e.setGeometry(r);break;case 3:r=new l.Int32Value,t.readMessage(r,l.Int32Value.deserializeBinaryFromReader),e.setZ(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFile())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter),null!=(r=e.getGeometry())&&t.writeMessage(2,r,d.Geometry.serializeBinaryToWriter),null!=(r=e.getZ())&&t.writeMessage(3,r,l.Int32Value.serializeBinaryToWriter)},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.prototype.getFile=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.prototype.getGeometry=function(){return i.Message.getWrapperField(this,d.Geometry,2)},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.prototype.setGeometry=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.prototype.clearGeometry=function(){return this.setGeometry(void 0)},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.prototype.hasGeometry=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.prototype.getZ=function(){return i.Message.getWrapperField(this,l.Int32Value,3)},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.prototype.setZ=function(e){return i.Message.setWrapperField(this,3,e)},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.prototype.clearZ=function(){return this.setZ(void 0)},proto.com.cognite.seismic.GeometryTimeSliceQueryRequest.prototype.hasZ=function(){return null!=i.Message.getField(this,3)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.VolumeRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.VolumeRequest.toObject(e,this)},proto.com.cognite.seismic.VolumeRequest.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.Identifier.toObject(e,r),volume:(r=t.getVolume())&&proto.com.cognite.seismic.LineBasedVolume.toObject(e,r),includeTraceHeader:i.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.VolumeRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.VolumeRequest;return proto.com.cognite.seismic.VolumeRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.VolumeRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setFile(r);break;case 2:r=new proto.com.cognite.seismic.LineBasedVolume,t.readMessage(r,proto.com.cognite.seismic.LineBasedVolume.deserializeBinaryFromReader),e.setVolume(r);break;case 3:r=t.readBool(),e.setIncludeTraceHeader(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.VolumeRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.VolumeRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.VolumeRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFile())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter),null!=(r=e.getVolume())&&t.writeMessage(2,r,proto.com.cognite.seismic.LineBasedVolume.serializeBinaryToWriter),(r=e.getIncludeTraceHeader())&&t.writeBool(3,r)},proto.com.cognite.seismic.VolumeRequest.prototype.getFile=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.VolumeRequest.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.VolumeRequest.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.VolumeRequest.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.VolumeRequest.prototype.getVolume=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.LineBasedVolume,2)},proto.com.cognite.seismic.VolumeRequest.prototype.setVolume=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.VolumeRequest.prototype.clearVolume=function(){return this.setVolume(void 0)},proto.com.cognite.seismic.VolumeRequest.prototype.hasVolume=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.VolumeRequest.prototype.getIncludeTraceHeader=function(){return i.Message.getBooleanFieldWithDefault(this,3,!1)},proto.com.cognite.seismic.VolumeRequest.prototype.setIncludeTraceHeader=function(e){return i.Message.setProto3BooleanField(this,3,e)},proto.com.cognite.seismic.SegYQueryRequest.oneofGroups_=[[2,3]],proto.com.cognite.seismic.SegYQueryRequest.QueryCase={QUERY_NOT_SET:0,POLYGON:2,LINES:3},proto.com.cognite.seismic.SegYQueryRequest.prototype.getQueryCase=function(){return i.Message.computeOneofCase(this,proto.com.cognite.seismic.SegYQueryRequest.oneofGroups_[0])},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.SegYQueryRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.SegYQueryRequest.toObject(e,this)},proto.com.cognite.seismic.SegYQueryRequest.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.Identifier.toObject(e,r),polygon:(r=t.getPolygon())&&d.Geometry.toObject(e,r),lines:(r=t.getLines())&&proto.com.cognite.seismic.LineBasedRectangle.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.SegYQueryRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.SegYQueryRequest;return proto.com.cognite.seismic.SegYQueryRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.SegYQueryRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setFile(r);break;case 2:r=new d.Geometry,t.readMessage(r,d.Geometry.deserializeBinaryFromReader),e.setPolygon(r);break;case 3:r=new proto.com.cognite.seismic.LineBasedRectangle,t.readMessage(r,proto.com.cognite.seismic.LineBasedRectangle.deserializeBinaryFromReader),e.setLines(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.SegYQueryRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.SegYQueryRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.SegYQueryRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFile())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter),null!=(r=e.getPolygon())&&t.writeMessage(2,r,d.Geometry.serializeBinaryToWriter),null!=(r=e.getLines())&&t.writeMessage(3,r,proto.com.cognite.seismic.LineBasedRectangle.serializeBinaryToWriter)},proto.com.cognite.seismic.SegYQueryRequest.prototype.getFile=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.SegYQueryRequest.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.SegYQueryRequest.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.SegYQueryRequest.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.SegYQueryRequest.prototype.getPolygon=function(){return i.Message.getWrapperField(this,d.Geometry,2)},proto.com.cognite.seismic.SegYQueryRequest.prototype.setPolygon=function(e){return i.Message.setOneofWrapperField(this,2,proto.com.cognite.seismic.SegYQueryRequest.oneofGroups_[0],e)},proto.com.cognite.seismic.SegYQueryRequest.prototype.clearPolygon=function(){return this.setPolygon(void 0)},proto.com.cognite.seismic.SegYQueryRequest.prototype.hasPolygon=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.SegYQueryRequest.prototype.getLines=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.LineBasedRectangle,3)},proto.com.cognite.seismic.SegYQueryRequest.prototype.setLines=function(e){return i.Message.setOneofWrapperField(this,3,proto.com.cognite.seismic.SegYQueryRequest.oneofGroups_[0],e)},proto.com.cognite.seismic.SegYQueryRequest.prototype.clearLines=function(){return this.setLines(void 0)},proto.com.cognite.seismic.SegYQueryRequest.prototype.hasLines=function(){return null!=i.Message.getField(this,3)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.PathQueryRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.PathQueryRequest.toObject(e,this)},proto.com.cognite.seismic.PathQueryRequest.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.Identifier.toObject(e,r),geometry:(r=t.getGeometry())&&d.Geometry.toObject(e,r),includeTraceHeader:i.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.PathQueryRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.PathQueryRequest;return proto.com.cognite.seismic.PathQueryRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.PathQueryRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Identifier;t.readMessage(r,d.Identifier.deserializeBinaryFromReader),e.setFile(r);break;case 2:r=new d.Geometry,t.readMessage(r,d.Geometry.deserializeBinaryFromReader),e.setGeometry(r);break;case 3:r=t.readBool(),e.setIncludeTraceHeader(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.PathQueryRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.PathQueryRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.PathQueryRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFile())&&t.writeMessage(1,r,d.Identifier.serializeBinaryToWriter),null!=(r=e.getGeometry())&&t.writeMessage(2,r,d.Geometry.serializeBinaryToWriter),(r=e.getIncludeTraceHeader())&&t.writeBool(3,r)},proto.com.cognite.seismic.PathQueryRequest.prototype.getFile=function(){return i.Message.getWrapperField(this,d.Identifier,1)},proto.com.cognite.seismic.PathQueryRequest.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.PathQueryRequest.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.PathQueryRequest.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.PathQueryRequest.prototype.getGeometry=function(){return i.Message.getWrapperField(this,d.Geometry,2)},proto.com.cognite.seismic.PathQueryRequest.prototype.setGeometry=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.PathQueryRequest.prototype.clearGeometry=function(){return this.setGeometry(void 0)},proto.com.cognite.seismic.PathQueryRequest.prototype.hasGeometry=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.PathQueryRequest.prototype.getIncludeTraceHeader=function(){return i.Message.getBooleanFieldWithDefault(this,3,!1)},proto.com.cognite.seismic.PathQueryRequest.prototype.setIncludeTraceHeader=function(e){return i.Message.setProto3BooleanField(this,3,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.SearchSurveyRequest.prototype.toObject=function(e){return proto.com.cognite.seismic.SearchSurveyRequest.toObject(e,this)},proto.com.cognite.seismic.SearchSurveyRequest.toObject=function(e,t){var r,n={polygon:(r=t.getPolygon())&&d.Geometry.toObject(e,r),surveyMetadata:(r=t.getSurveyMetadata())&&proto.com.cognite.seismic.MetadataFilter.toObject(e,r),fileMetadata:(r=t.getFileMetadata())&&proto.com.cognite.seismic.MetadataFilter.toObject(e,r),includeMetadata:i.Message.getBooleanFieldWithDefault(t,4,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.SearchSurveyRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.SearchSurveyRequest;return proto.com.cognite.seismic.SearchSurveyRequest.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.SearchSurveyRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Geometry;t.readMessage(r,d.Geometry.deserializeBinaryFromReader),e.setPolygon(r);break;case 2:r=new proto.com.cognite.seismic.MetadataFilter,t.readMessage(r,proto.com.cognite.seismic.MetadataFilter.deserializeBinaryFromReader),e.setSurveyMetadata(r);break;case 3:r=new proto.com.cognite.seismic.MetadataFilter,t.readMessage(r,proto.com.cognite.seismic.MetadataFilter.deserializeBinaryFromReader),e.setFileMetadata(r);break;case 4:r=t.readBool(),e.setIncludeMetadata(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.SearchSurveyRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.SearchSurveyRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.SearchSurveyRequest.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getPolygon())&&t.writeMessage(1,r,d.Geometry.serializeBinaryToWriter),null!=(r=e.getSurveyMetadata())&&t.writeMessage(2,r,proto.com.cognite.seismic.MetadataFilter.serializeBinaryToWriter),null!=(r=e.getFileMetadata())&&t.writeMessage(3,r,proto.com.cognite.seismic.MetadataFilter.serializeBinaryToWriter),(r=e.getIncludeMetadata())&&t.writeBool(4,r)},proto.com.cognite.seismic.SearchSurveyRequest.prototype.getPolygon=function(){return i.Message.getWrapperField(this,d.Geometry,1)},proto.com.cognite.seismic.SearchSurveyRequest.prototype.setPolygon=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.SearchSurveyRequest.prototype.clearPolygon=function(){return this.setPolygon(void 0)},proto.com.cognite.seismic.SearchSurveyRequest.prototype.hasPolygon=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.SearchSurveyRequest.prototype.getSurveyMetadata=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.MetadataFilter,2)},proto.com.cognite.seismic.SearchSurveyRequest.prototype.setSurveyMetadata=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.SearchSurveyRequest.prototype.clearSurveyMetadata=function(){return this.setSurveyMetadata(void 0)},proto.com.cognite.seismic.SearchSurveyRequest.prototype.hasSurveyMetadata=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.SearchSurveyRequest.prototype.getFileMetadata=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.MetadataFilter,3)},proto.com.cognite.seismic.SearchSurveyRequest.prototype.setFileMetadata=function(e){return i.Message.setWrapperField(this,3,e)},proto.com.cognite.seismic.SearchSurveyRequest.prototype.clearFileMetadata=function(){return this.setFileMetadata(void 0)},proto.com.cognite.seismic.SearchSurveyRequest.prototype.hasFileMetadata=function(){return null!=i.Message.getField(this,3)},proto.com.cognite.seismic.SearchSurveyRequest.prototype.getIncludeMetadata=function(){return i.Message.getBooleanFieldWithDefault(this,4,!1)},proto.com.cognite.seismic.SearchSurveyRequest.prototype.setIncludeMetadata=function(e){return i.Message.setProto3BooleanField(this,4,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.LineBasedRectangle.prototype.toObject=function(e){return proto.com.cognite.seismic.LineBasedRectangle.toObject(e,this)},proto.com.cognite.seismic.LineBasedRectangle.toObject=function(e,t){var r,n={topLeft:(r=t.getTopLeft())&&proto.com.cognite.seismic.PositionQuery.toObject(e,r),bottomRight:(r=t.getBottomRight())&&proto.com.cognite.seismic.PositionQuery.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.LineBasedRectangle.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.LineBasedRectangle;return proto.com.cognite.seismic.LineBasedRectangle.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.LineBasedRectangle.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.com.cognite.seismic.PositionQuery;t.readMessage(r,proto.com.cognite.seismic.PositionQuery.deserializeBinaryFromReader),e.setTopLeft(r);break;case 2:r=new proto.com.cognite.seismic.PositionQuery,t.readMessage(r,proto.com.cognite.seismic.PositionQuery.deserializeBinaryFromReader),e.setBottomRight(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.LineBasedRectangle.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.LineBasedRectangle.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.LineBasedRectangle.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getTopLeft())&&t.writeMessage(1,r,proto.com.cognite.seismic.PositionQuery.serializeBinaryToWriter),null!=(r=e.getBottomRight())&&t.writeMessage(2,r,proto.com.cognite.seismic.PositionQuery.serializeBinaryToWriter)},proto.com.cognite.seismic.LineBasedRectangle.prototype.getTopLeft=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.PositionQuery,1)},proto.com.cognite.seismic.LineBasedRectangle.prototype.setTopLeft=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.LineBasedRectangle.prototype.clearTopLeft=function(){return this.setTopLeft(void 0)},proto.com.cognite.seismic.LineBasedRectangle.prototype.hasTopLeft=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.LineBasedRectangle.prototype.getBottomRight=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.PositionQuery,2)},proto.com.cognite.seismic.LineBasedRectangle.prototype.setBottomRight=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.LineBasedRectangle.prototype.clearBottomRight=function(){return this.setBottomRight(void 0)},proto.com.cognite.seismic.LineBasedRectangle.prototype.hasBottomRight=function(){return null!=i.Message.getField(this,2)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.LineBasedVolume.prototype.toObject=function(e){return proto.com.cognite.seismic.LineBasedVolume.toObject(e,this)},proto.com.cognite.seismic.LineBasedVolume.toObject=function(e,t){var r,n={iline:(r=t.getIline())&&d.LineDescriptor.toObject(e,r),xline:(r=t.getXline())&&d.LineDescriptor.toObject(e,r),z:(r=t.getZ())&&d.LineDescriptor.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.LineBasedVolume.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.LineBasedVolume;return proto.com.cognite.seismic.LineBasedVolume.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.LineBasedVolume.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.LineDescriptor;t.readMessage(r,d.LineDescriptor.deserializeBinaryFromReader),e.setIline(r);break;case 2:r=new d.LineDescriptor,t.readMessage(r,d.LineDescriptor.deserializeBinaryFromReader),e.setXline(r);break;case 3:r=new d.LineDescriptor,t.readMessage(r,d.LineDescriptor.deserializeBinaryFromReader),e.setZ(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.LineBasedVolume.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.LineBasedVolume.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.LineBasedVolume.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getIline())&&t.writeMessage(1,r,d.LineDescriptor.serializeBinaryToWriter),null!=(r=e.getXline())&&t.writeMessage(2,r,d.LineDescriptor.serializeBinaryToWriter),null!=(r=e.getZ())&&t.writeMessage(3,r,d.LineDescriptor.serializeBinaryToWriter)},proto.com.cognite.seismic.LineBasedVolume.prototype.getIline=function(){return i.Message.getWrapperField(this,d.LineDescriptor,1)},proto.com.cognite.seismic.LineBasedVolume.prototype.setIline=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.LineBasedVolume.prototype.clearIline=function(){return this.setIline(void 0)},proto.com.cognite.seismic.LineBasedVolume.prototype.hasIline=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.LineBasedVolume.prototype.getXline=function(){return i.Message.getWrapperField(this,d.LineDescriptor,2)},proto.com.cognite.seismic.LineBasedVolume.prototype.setXline=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.LineBasedVolume.prototype.clearXline=function(){return this.setXline(void 0)},proto.com.cognite.seismic.LineBasedVolume.prototype.hasXline=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.LineBasedVolume.prototype.getZ=function(){return i.Message.getWrapperField(this,d.LineDescriptor,3)},proto.com.cognite.seismic.LineBasedVolume.prototype.setZ=function(e){return i.Message.setWrapperField(this,3,e)},proto.com.cognite.seismic.LineBasedVolume.prototype.clearZ=function(){return this.setZ(void 0)},proto.com.cognite.seismic.LineBasedVolume.prototype.hasZ=function(){return null!=i.Message.getField(this,3)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.MetadataFilter.prototype.toObject=function(e){return proto.com.cognite.seismic.MetadataFilter.toObject(e,this)},proto.com.cognite.seismic.MetadataFilter.toObject=function(e,t){var r,n={filterMap:(r=t.getFilterMap())?r.toObject(e,void 0):[]};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.MetadataFilter.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.MetadataFilter;return proto.com.cognite.seismic.MetadataFilter.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.MetadataFilter.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=e.getFilterMap();t.readMessage(r,(function(e,t){i.Map.deserializeBinary(e,t,i.BinaryReader.prototype.readString,i.BinaryReader.prototype.readString,null,"","")}));break;default:t.skipField()}return e},proto.com.cognite.seismic.MetadataFilter.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.MetadataFilter.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.MetadataFilter.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getFilterMap(!0))&&r.getLength()>0&&r.serializeBinary(1,t,i.BinaryWriter.prototype.writeString,i.BinaryWriter.prototype.writeString)},proto.com.cognite.seismic.MetadataFilter.prototype.getFilterMap=function(e){return i.Message.getMapField(this,1,e,null)},proto.com.cognite.seismic.MetadataFilter.prototype.clearFilterMap=function(){return this.getFilterMap().clear(),this},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.KeyValueFilter.prototype.toObject=function(e){return proto.com.cognite.seismic.KeyValueFilter.toObject(e,this)},proto.com.cognite.seismic.KeyValueFilter.toObject=function(e,t){var r={key:i.Message.getFieldWithDefault(t,1,""),value:i.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.KeyValueFilter.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.KeyValueFilter;return proto.com.cognite.seismic.KeyValueFilter.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.KeyValueFilter.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setKey(r);break;case 2:r=t.readString(),e.setValue(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.KeyValueFilter.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.KeyValueFilter.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.KeyValueFilter.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getKey()).length>0&&t.writeString(1,r),(r=e.getValue()).length>0&&t.writeString(2,r)},proto.com.cognite.seismic.KeyValueFilter.prototype.getKey=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.com.cognite.seismic.KeyValueFilter.prototype.setKey=function(e){return i.Message.setProto3StringField(this,1,e)},proto.com.cognite.seismic.KeyValueFilter.prototype.getValue=function(){return i.Message.getFieldWithDefault(this,2,"")},proto.com.cognite.seismic.KeyValueFilter.prototype.setValue=function(e){return i.Message.setProto3StringField(this,2,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.CoordinateQuery.prototype.toObject=function(e){return proto.com.cognite.seismic.CoordinateQuery.toObject(e,this)},proto.com.cognite.seismic.CoordinateQuery.toObject=function(e,t){var r={x:i.Message.getFloatingPointFieldWithDefault(t,1,0),y:i.Message.getFloatingPointFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.CoordinateQuery.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.CoordinateQuery;return proto.com.cognite.seismic.CoordinateQuery.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.CoordinateQuery.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readFloat();e.setX(r);break;case 2:r=t.readFloat(),e.setY(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.CoordinateQuery.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.CoordinateQuery.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.CoordinateQuery.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getX())&&t.writeFloat(1,r),0!==(r=e.getY())&&t.writeFloat(2,r)},proto.com.cognite.seismic.CoordinateQuery.prototype.getX=function(){return i.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.com.cognite.seismic.CoordinateQuery.prototype.setX=function(e){return i.Message.setProto3FloatField(this,1,e)},proto.com.cognite.seismic.CoordinateQuery.prototype.getY=function(){return i.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.com.cognite.seismic.CoordinateQuery.prototype.setY=function(e){return i.Message.setProto3FloatField(this,2,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.PositionQuery.prototype.toObject=function(e){return proto.com.cognite.seismic.PositionQuery.toObject(e,this)},proto.com.cognite.seismic.PositionQuery.toObject=function(e,t){var r={iline:i.Message.getFieldWithDefault(t,1,0),xline:i.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.PositionQuery.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.PositionQuery;return proto.com.cognite.seismic.PositionQuery.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.PositionQuery.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setIline(r);break;case 2:r=t.readInt32(),e.setXline(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.PositionQuery.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.PositionQuery.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.PositionQuery.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getIline())&&t.writeInt32(1,r),0!==(r=e.getXline())&&t.writeInt32(2,r)},proto.com.cognite.seismic.PositionQuery.prototype.getIline=function(){return i.Message.getFieldWithDefault(this,1,0)},proto.com.cognite.seismic.PositionQuery.prototype.setIline=function(e){return i.Message.setProto3IntField(this,1,e)},proto.com.cognite.seismic.PositionQuery.prototype.getXline=function(){return i.Message.getFieldWithDefault(this,2,0)},proto.com.cognite.seismic.PositionQuery.prototype.setXline=function(e){return i.Message.setProto3IntField(this,2,e)},proto.com.cognite.seismic.AvailableLines.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.AvailableLines.prototype.toObject=function(e){return proto.com.cognite.seismic.AvailableLines.toObject(e,this)},proto.com.cognite.seismic.AvailableLines.toObject=function(e,t){var r,n={linesList:null==(r=i.Message.getRepeatedField(t,1))?void 0:r};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.AvailableLines.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.AvailableLines;return proto.com.cognite.seismic.AvailableLines.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.AvailableLines.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readPackedInt32();e.setLinesList(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.AvailableLines.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.AvailableLines.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.AvailableLines.serializeBinaryToWriter=function(e,t){var r;(r=e.getLinesList()).length>0&&t.writePackedInt32(1,r)},proto.com.cognite.seismic.AvailableLines.prototype.getLinesList=function(){return i.Message.getRepeatedField(this,1)},proto.com.cognite.seismic.AvailableLines.prototype.setLinesList=function(e){return i.Message.setField(this,1,e||[])},proto.com.cognite.seismic.AvailableLines.prototype.addLines=function(e,t){return i.Message.addToRepeatedField(this,1,e,t)},proto.com.cognite.seismic.AvailableLines.prototype.clearLinesList=function(){return this.setLinesList([])},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.LineRangeResponse.prototype.toObject=function(e){return proto.com.cognite.seismic.LineRangeResponse.toObject(e,this)},proto.com.cognite.seismic.LineRangeResponse.toObject=function(e,t){var r,n={inline:(r=t.getInline())&&d.LineDescriptor.toObject(e,r),xline:(r=t.getXline())&&d.LineDescriptor.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.LineRangeResponse.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.LineRangeResponse;return proto.com.cognite.seismic.LineRangeResponse.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.LineRangeResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.LineDescriptor;t.readMessage(r,d.LineDescriptor.deserializeBinaryFromReader),e.setInline(r);break;case 2:r=new d.LineDescriptor,t.readMessage(r,d.LineDescriptor.deserializeBinaryFromReader),e.setXline(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.LineRangeResponse.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.LineRangeResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.LineRangeResponse.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getInline())&&t.writeMessage(1,r,d.LineDescriptor.serializeBinaryToWriter),null!=(r=e.getXline())&&t.writeMessage(2,r,d.LineDescriptor.serializeBinaryToWriter)},proto.com.cognite.seismic.LineRangeResponse.prototype.getInline=function(){return i.Message.getWrapperField(this,d.LineDescriptor,1)},proto.com.cognite.seismic.LineRangeResponse.prototype.setInline=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.LineRangeResponse.prototype.clearInline=function(){return this.setInline(void 0)},proto.com.cognite.seismic.LineRangeResponse.prototype.hasInline=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.LineRangeResponse.prototype.getXline=function(){return i.Message.getWrapperField(this,d.LineDescriptor,2)},proto.com.cognite.seismic.LineRangeResponse.prototype.setXline=function(e){return i.Message.setWrapperField(this,2,e)},proto.com.cognite.seismic.LineRangeResponse.prototype.clearXline=function(){return this.setXline(void 0)},proto.com.cognite.seismic.LineRangeResponse.prototype.hasXline=function(){return null!=i.Message.getField(this,2)},proto.com.cognite.seismic.SurveyWithFilesResponse.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.SurveyWithFilesResponse.prototype.toObject=function(e){return proto.com.cognite.seismic.SurveyWithFilesResponse.toObject(e,this)},proto.com.cognite.seismic.SurveyWithFilesResponse.toObject=function(e,t){var r={surveysList:i.Message.toObjectList(t.getSurveysList(),proto.com.cognite.seismic.SurveyWithFiles.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.SurveyWithFilesResponse.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.SurveyWithFilesResponse;return proto.com.cognite.seismic.SurveyWithFilesResponse.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.SurveyWithFilesResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.com.cognite.seismic.SurveyWithFiles;t.readMessage(r,proto.com.cognite.seismic.SurveyWithFiles.deserializeBinaryFromReader),e.addSurveys(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.SurveyWithFilesResponse.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.SurveyWithFilesResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.SurveyWithFilesResponse.serializeBinaryToWriter=function(e,t){var r;(r=e.getSurveysList()).length>0&&t.writeRepeatedMessage(1,r,proto.com.cognite.seismic.SurveyWithFiles.serializeBinaryToWriter)},proto.com.cognite.seismic.SurveyWithFilesResponse.prototype.getSurveysList=function(){return i.Message.getRepeatedWrapperField(this,proto.com.cognite.seismic.SurveyWithFiles,1)},proto.com.cognite.seismic.SurveyWithFilesResponse.prototype.setSurveysList=function(e){return i.Message.setRepeatedWrapperField(this,1,e)},proto.com.cognite.seismic.SurveyWithFilesResponse.prototype.addSurveys=function(e,t){return i.Message.addToRepeatedWrapperField(this,1,e,proto.com.cognite.seismic.SurveyWithFiles,t)},proto.com.cognite.seismic.SurveyWithFilesResponse.prototype.clearSurveysList=function(){return this.setSurveysList([])},proto.com.cognite.seismic.SurveyWithFiles.repeatedFields_=[4],i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.SurveyWithFiles.prototype.toObject=function(e){return proto.com.cognite.seismic.SurveyWithFiles.toObject(e,this)},proto.com.cognite.seismic.SurveyWithFiles.toObject=function(e,t){var r,n={id:i.Message.getFieldWithDefault(t,1,""),name:i.Message.getFieldWithDefault(t,2,""),metadataMap:(r=t.getMetadataMap())?r.toObject(e,void 0):[],filesList:i.Message.toObjectList(t.getFilesList(),d.File.toObject,e)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.SurveyWithFiles.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.SurveyWithFiles;return proto.com.cognite.seismic.SurveyWithFiles.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.SurveyWithFiles.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setId(r);break;case 2:r=t.readString(),e.setName(r);break;case 3:r=e.getMetadataMap(),t.readMessage(r,(function(e,t){i.Map.deserializeBinary(e,t,i.BinaryReader.prototype.readString,i.BinaryReader.prototype.readString,null,"","")}));break;case 4:r=new d.File,t.readMessage(r,d.File.deserializeBinaryFromReader),e.addFiles(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.SurveyWithFiles.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.SurveyWithFiles.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.SurveyWithFiles.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getId()).length>0&&t.writeString(1,r),(r=e.getName()).length>0&&t.writeString(2,r),(r=e.getMetadataMap(!0))&&r.getLength()>0&&r.serializeBinary(3,t,i.BinaryWriter.prototype.writeString,i.BinaryWriter.prototype.writeString),(r=e.getFilesList()).length>0&&t.writeRepeatedMessage(4,r,d.File.serializeBinaryToWriter)},proto.com.cognite.seismic.SurveyWithFiles.prototype.getId=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.com.cognite.seismic.SurveyWithFiles.prototype.setId=function(e){return i.Message.setProto3StringField(this,1,e)},proto.com.cognite.seismic.SurveyWithFiles.prototype.getName=function(){return i.Message.getFieldWithDefault(this,2,"")},proto.com.cognite.seismic.SurveyWithFiles.prototype.setName=function(e){return i.Message.setProto3StringField(this,2,e)},proto.com.cognite.seismic.SurveyWithFiles.prototype.getMetadataMap=function(e){return i.Message.getMapField(this,3,e,null)},proto.com.cognite.seismic.SurveyWithFiles.prototype.clearMetadataMap=function(){return this.getMetadataMap().clear(),this},proto.com.cognite.seismic.SurveyWithFiles.prototype.getFilesList=function(){return i.Message.getRepeatedWrapperField(this,d.File,4)},proto.com.cognite.seismic.SurveyWithFiles.prototype.setFilesList=function(e){return i.Message.setRepeatedWrapperField(this,4,e)},proto.com.cognite.seismic.SurveyWithFiles.prototype.addFiles=function(e,t){return i.Message.addToRepeatedWrapperField(this,4,e,proto.com.cognite.seismic.File,t)},proto.com.cognite.seismic.SurveyWithFiles.prototype.clearFilesList=function(){return this.setFilesList([])},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.DataCoverageResponse.prototype.toObject=function(e){return proto.com.cognite.seismic.DataCoverageResponse.toObject(e,this)},proto.com.cognite.seismic.DataCoverageResponse.toObject=function(e,t){var r,n={polygon:(r=t.getPolygon())&&d.Geometry.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.DataCoverageResponse.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.DataCoverageResponse;return proto.com.cognite.seismic.DataCoverageResponse.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.DataCoverageResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Geometry;t.readMessage(r,d.Geometry.deserializeBinaryFromReader),e.setPolygon(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.DataCoverageResponse.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.DataCoverageResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.DataCoverageResponse.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getPolygon())&&t.writeMessage(1,r,d.Geometry.serializeBinaryToWriter)},proto.com.cognite.seismic.DataCoverageResponse.prototype.getPolygon=function(){return i.Message.getWrapperField(this,d.Geometry,1)},proto.com.cognite.seismic.DataCoverageResponse.prototype.setPolygon=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.DataCoverageResponse.prototype.clearPolygon=function(){return this.setPolygon(void 0)},proto.com.cognite.seismic.DataCoverageResponse.prototype.hasPolygon=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.GetSurveyResponse.repeatedFields_=[2],i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.GetSurveyResponse.prototype.toObject=function(e){return proto.com.cognite.seismic.GetSurveyResponse.toObject(e,this)},proto.com.cognite.seismic.GetSurveyResponse.toObject=function(e,t){var r,n={survey:(r=t.getSurvey())&&d.Survey.toObject(e,r),filesList:i.Message.toObjectList(t.getFilesList(),d.File.toObject,e)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.GetSurveyResponse.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.GetSurveyResponse;return proto.com.cognite.seismic.GetSurveyResponse.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.GetSurveyResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.Survey;t.readMessage(r,d.Survey.deserializeBinaryFromReader),e.setSurvey(r);break;case 2:r=new d.File,t.readMessage(r,d.File.deserializeBinaryFromReader),e.addFiles(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.GetSurveyResponse.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.GetSurveyResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.GetSurveyResponse.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getSurvey())&&t.writeMessage(1,r,d.Survey.serializeBinaryToWriter),(r=e.getFilesList()).length>0&&t.writeRepeatedMessage(2,r,d.File.serializeBinaryToWriter)},proto.com.cognite.seismic.GetSurveyResponse.prototype.getSurvey=function(){return i.Message.getWrapperField(this,d.Survey,1)},proto.com.cognite.seismic.GetSurveyResponse.prototype.setSurvey=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.GetSurveyResponse.prototype.clearSurvey=function(){return this.setSurvey(void 0)},proto.com.cognite.seismic.GetSurveyResponse.prototype.hasSurvey=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.GetSurveyResponse.prototype.getFilesList=function(){return i.Message.getRepeatedWrapperField(this,d.File,2)},proto.com.cognite.seismic.GetSurveyResponse.prototype.setFilesList=function(e){return i.Message.setRepeatedWrapperField(this,2,e)},proto.com.cognite.seismic.GetSurveyResponse.prototype.addFiles=function(e,t){return i.Message.addToRepeatedWrapperField(this,2,e,proto.com.cognite.seismic.File,t)},proto.com.cognite.seismic.GetSurveyResponse.prototype.clearFilesList=function(){return this.setFilesList([])},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.GetFileResponse.prototype.toObject=function(e){return proto.com.cognite.seismic.GetFileResponse.toObject(e,this)},proto.com.cognite.seismic.GetFileResponse.toObject=function(e,t){var r,n={file:(r=t.getFile())&&d.File.toObject(e,r),crs:i.Message.getFieldWithDefault(t,2,""),path:i.Message.getFieldWithDefault(t,3,""),surveyName:i.Message.getFieldWithDefault(t,4,""),lastStep:i.Message.getFieldWithDefault(t,5,"")};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.GetFileResponse.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.GetFileResponse;return proto.com.cognite.seismic.GetFileResponse.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.GetFileResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.File;t.readMessage(r,d.File.deserializeBinaryFromReader),e.setFile(r);break;case 2:r=t.readString(),e.setCrs(r);break;case 3:r=t.readString(),e.setPath(r);break;case 4:r=t.readString(),e.setSurveyName(r);break;case 5:r=t.readString(),e.setLastStep(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.GetFileResponse.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.GetFileResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.GetFileResponse.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getFile())&&t.writeMessage(1,r,d.File.serializeBinaryToWriter),(r=e.getCrs()).length>0&&t.writeString(2,r),(r=e.getPath()).length>0&&t.writeString(3,r),(r=e.getSurveyName()).length>0&&t.writeString(4,r),(r=e.getLastStep()).length>0&&t.writeString(5,r)},proto.com.cognite.seismic.GetFileResponse.prototype.getFile=function(){return i.Message.getWrapperField(this,d.File,1)},proto.com.cognite.seismic.GetFileResponse.prototype.setFile=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.GetFileResponse.prototype.clearFile=function(){return this.setFile(void 0)},proto.com.cognite.seismic.GetFileResponse.prototype.hasFile=function(){return null!=i.Message.getField(this,1)},proto.com.cognite.seismic.GetFileResponse.prototype.getCrs=function(){return i.Message.getFieldWithDefault(this,2,"")},proto.com.cognite.seismic.GetFileResponse.prototype.setCrs=function(e){return i.Message.setProto3StringField(this,2,e)},proto.com.cognite.seismic.GetFileResponse.prototype.getPath=function(){return i.Message.getFieldWithDefault(this,3,"")},proto.com.cognite.seismic.GetFileResponse.prototype.setPath=function(e){return i.Message.setProto3StringField(this,3,e)},proto.com.cognite.seismic.GetFileResponse.prototype.getSurveyName=function(){return i.Message.getFieldWithDefault(this,4,"")},proto.com.cognite.seismic.GetFileResponse.prototype.setSurveyName=function(e){return i.Message.setProto3StringField(this,4,e)},proto.com.cognite.seismic.GetFileResponse.prototype.getLastStep=function(){return i.Message.getFieldWithDefault(this,5,"")},proto.com.cognite.seismic.GetFileResponse.prototype.setLastStep=function(e){return i.Message.setProto3StringField(this,5,e)},proto.com.cognite.seismic.ListFilesResponse.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.ListFilesResponse.prototype.toObject=function(e){return proto.com.cognite.seismic.ListFilesResponse.toObject(e,this)},proto.com.cognite.seismic.ListFilesResponse.toObject=function(e,t){var r={filesList:i.Message.toObjectList(t.getFilesList(),d.File.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.ListFilesResponse.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.ListFilesResponse;return proto.com.cognite.seismic.ListFilesResponse.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.ListFilesResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new d.File;t.readMessage(r,d.File.deserializeBinaryFromReader),e.addFiles(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.ListFilesResponse.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.ListFilesResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.ListFilesResponse.serializeBinaryToWriter=function(e,t){var r;(r=e.getFilesList()).length>0&&t.writeRepeatedMessage(1,r,d.File.serializeBinaryToWriter)},proto.com.cognite.seismic.ListFilesResponse.prototype.getFilesList=function(){return i.Message.getRepeatedWrapperField(this,d.File,1)},proto.com.cognite.seismic.ListFilesResponse.prototype.setFilesList=function(e){return i.Message.setRepeatedWrapperField(this,1,e)},proto.com.cognite.seismic.ListFilesResponse.prototype.addFiles=function(e,t){return i.Message.addToRepeatedWrapperField(this,1,e,proto.com.cognite.seismic.File,t)},proto.com.cognite.seismic.ListFilesResponse.prototype.clearFilesList=function(){return this.setFilesList([])},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.GetBinaryHeaderResponse.prototype.toObject=function(e){return proto.com.cognite.seismic.GetBinaryHeaderResponse.toObject(e,this)},proto.com.cognite.seismic.GetBinaryHeaderResponse.toObject=function(e,t){var r,n={meta:(r=t.getMeta())&&proto.com.cognite.seismic.BinaryHeader.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.GetBinaryHeaderResponse.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.GetBinaryHeaderResponse;return proto.com.cognite.seismic.GetBinaryHeaderResponse.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.GetBinaryHeaderResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.com.cognite.seismic.BinaryHeader;t.readMessage(r,proto.com.cognite.seismic.BinaryHeader.deserializeBinaryFromReader),e.setMeta(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.GetBinaryHeaderResponse.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.GetBinaryHeaderResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.GetBinaryHeaderResponse.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getMeta())&&t.writeMessage(1,r,proto.com.cognite.seismic.BinaryHeader.serializeBinaryToWriter)},proto.com.cognite.seismic.GetBinaryHeaderResponse.prototype.getMeta=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.BinaryHeader,1)},proto.com.cognite.seismic.GetBinaryHeaderResponse.prototype.setMeta=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.GetBinaryHeaderResponse.prototype.clearMeta=function(){return this.setMeta(void 0)},proto.com.cognite.seismic.GetBinaryHeaderResponse.prototype.hasMeta=function(){return null!=i.Message.getField(this,1)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.GetTextHeaderResponse.prototype.toObject=function(e){return proto.com.cognite.seismic.GetTextHeaderResponse.toObject(e,this)},proto.com.cognite.seismic.GetTextHeaderResponse.toObject=function(e,t){var r,n={meta:(r=t.getMeta())&&proto.com.cognite.seismic.TextHeader.toObject(e,r)};return e&&(n.$jspbMessageInstance=t),n}),proto.com.cognite.seismic.GetTextHeaderResponse.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.GetTextHeaderResponse;return proto.com.cognite.seismic.GetTextHeaderResponse.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.GetTextHeaderResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=new proto.com.cognite.seismic.TextHeader;t.readMessage(r,proto.com.cognite.seismic.TextHeader.deserializeBinaryFromReader),e.setMeta(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.GetTextHeaderResponse.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.GetTextHeaderResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.GetTextHeaderResponse.serializeBinaryToWriter=function(e,t){var r;null!=(r=e.getMeta())&&t.writeMessage(1,r,proto.com.cognite.seismic.TextHeader.serializeBinaryToWriter)},proto.com.cognite.seismic.GetTextHeaderResponse.prototype.getMeta=function(){return i.Message.getWrapperField(this,proto.com.cognite.seismic.TextHeader,1)},proto.com.cognite.seismic.GetTextHeaderResponse.prototype.setMeta=function(e){return i.Message.setWrapperField(this,1,e)},proto.com.cognite.seismic.GetTextHeaderResponse.prototype.clearMeta=function(){return this.setMeta(void 0)},proto.com.cognite.seismic.GetTextHeaderResponse.prototype.hasMeta=function(){return null!=i.Message.getField(this,1)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.TextHeader.prototype.toObject=function(e){return proto.com.cognite.seismic.TextHeader.toObject(e,this)},proto.com.cognite.seismic.TextHeader.toObject=function(e,t){var r={fileId:i.Message.getFieldWithDefault(t,1,""),header:i.Message.getFieldWithDefault(t,2,""),rawHeader:i.Message.getFieldWithDefault(t,3,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.TextHeader.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.TextHeader;return proto.com.cognite.seismic.TextHeader.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.TextHeader.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setFileId(r);break;case 2:r=t.readString(),e.setHeader(r);break;case 3:r=t.readString(),e.setRawHeader(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.TextHeader.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.TextHeader.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.TextHeader.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getFileId()).length>0&&t.writeString(1,r),(r=e.getHeader()).length>0&&t.writeString(2,r),(r=e.getRawHeader()).length>0&&t.writeString(3,r)},proto.com.cognite.seismic.TextHeader.prototype.getFileId=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.com.cognite.seismic.TextHeader.prototype.setFileId=function(e){return i.Message.setProto3StringField(this,1,e)},proto.com.cognite.seismic.TextHeader.prototype.getHeader=function(){return i.Message.getFieldWithDefault(this,2,"")},proto.com.cognite.seismic.TextHeader.prototype.setHeader=function(e){return i.Message.setProto3StringField(this,2,e)},proto.com.cognite.seismic.TextHeader.prototype.getRawHeader=function(){return i.Message.getFieldWithDefault(this,3,"")},proto.com.cognite.seismic.TextHeader.prototype.setRawHeader=function(e){return i.Message.setProto3StringField(this,3,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.BinaryHeader.prototype.toObject=function(e){return proto.com.cognite.seismic.BinaryHeader.toObject(e,this)},proto.com.cognite.seismic.BinaryHeader.toObject=function(e,t){var r={fileId:i.Message.getFieldWithDefault(t,1,""),traces:i.Message.getFieldWithDefault(t,2,0),traceDataType:i.Message.getFieldWithDefault(t,3,0),fixedLengthTraces:i.Message.getFieldWithDefault(t,4,0),segyRevision:i.Message.getFieldWithDefault(t,5,0),auxtraces:i.Message.getFieldWithDefault(t,6,0),interval:i.Message.getFieldWithDefault(t,7,0),intervalOriginal:i.Message.getFieldWithDefault(t,8,0),samples:i.Message.getFieldWithDefault(t,9,0),samplesOriginal:i.Message.getFieldWithDefault(t,10,0),ensembleFold:i.Message.getFieldWithDefault(t,11,0),verticalSum:i.Message.getFieldWithDefault(t,12,0),traceTypeSortingCode:i.Message.getFieldWithDefault(t,13,0),sweepTypeCode:i.Message.getFieldWithDefault(t,14,0),sweepFrequencyStart:i.Message.getFieldWithDefault(t,15,0),sweepFrequencyEnd:i.Message.getFieldWithDefault(t,16,0),sweepLength:i.Message.getFieldWithDefault(t,17,0),sweepChannel:i.Message.getFieldWithDefault(t,18,0),sweepTaperStart:i.Message.getFieldWithDefault(t,19,0),sweepTaperEnd:i.Message.getFieldWithDefault(t,20,0),sweepTaperType:i.Message.getFieldWithDefault(t,21,0),correlatedTraces:i.Message.getFieldWithDefault(t,22,0),amplitudeRecovery:i.Message.getFieldWithDefault(t,23,0),originalMeasurementSystem:i.Message.getFieldWithDefault(t,24,0),impulseSignalPolarity:i.Message.getFieldWithDefault(t,25,0),vibratoryPolarityCode:i.Message.getFieldWithDefault(t,26,0),rawHeader:t.getRawHeader_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.BinaryHeader.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.BinaryHeader;return proto.com.cognite.seismic.BinaryHeader.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.BinaryHeader.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readString();e.setFileId(r);break;case 2:r=t.readInt32(),e.setTraces(r);break;case 3:r=t.readInt32(),e.setTraceDataType(r);break;case 4:r=t.readInt32(),e.setFixedLengthTraces(r);break;case 5:r=t.readInt32(),e.setSegyRevision(r);break;case 6:r=t.readInt32(),e.setAuxtraces(r);break;case 7:r=t.readInt32(),e.setInterval(r);break;case 8:r=t.readInt32(),e.setIntervalOriginal(r);break;case 9:r=t.readInt32(),e.setSamples(r);break;case 10:r=t.readInt32(),e.setSamplesOriginal(r);break;case 11:r=t.readInt32(),e.setEnsembleFold(r);break;case 12:r=t.readInt32(),e.setVerticalSum(r);break;case 13:r=t.readInt32(),e.setTraceTypeSortingCode(r);break;case 14:r=t.readInt32(),e.setSweepTypeCode(r);break;case 15:r=t.readInt32(),e.setSweepFrequencyStart(r);break;case 16:r=t.readInt32(),e.setSweepFrequencyEnd(r);break;case 17:r=t.readInt32(),e.setSweepLength(r);break;case 18:r=t.readInt32(),e.setSweepChannel(r);break;case 19:r=t.readInt32(),e.setSweepTaperStart(r);break;case 20:r=t.readInt32(),e.setSweepTaperEnd(r);break;case 21:r=t.readInt32(),e.setSweepTaperType(r);break;case 22:r=t.readInt32(),e.setCorrelatedTraces(r);break;case 23:r=t.readInt32(),e.setAmplitudeRecovery(r);break;case 24:r=t.readInt32(),e.setOriginalMeasurementSystem(r);break;case 25:r=t.readInt32(),e.setImpulseSignalPolarity(r);break;case 26:r=t.readInt32(),e.setVibratoryPolarityCode(r);break;case 27:r=t.readBytes(),e.setRawHeader(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.BinaryHeader.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.BinaryHeader.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.BinaryHeader.serializeBinaryToWriter=function(e,t){var r=void 0;(r=e.getFileId()).length>0&&t.writeString(1,r),0!==(r=e.getTraces())&&t.writeInt32(2,r),0!==(r=e.getTraceDataType())&&t.writeInt32(3,r),0!==(r=e.getFixedLengthTraces())&&t.writeInt32(4,r),0!==(r=e.getSegyRevision())&&t.writeInt32(5,r),0!==(r=e.getAuxtraces())&&t.writeInt32(6,r),0!==(r=e.getInterval())&&t.writeInt32(7,r),0!==(r=e.getIntervalOriginal())&&t.writeInt32(8,r),0!==(r=e.getSamples())&&t.writeInt32(9,r),0!==(r=e.getSamplesOriginal())&&t.writeInt32(10,r),0!==(r=e.getEnsembleFold())&&t.writeInt32(11,r),0!==(r=e.getVerticalSum())&&t.writeInt32(12,r),0!==(r=e.getTraceTypeSortingCode())&&t.writeInt32(13,r),0!==(r=e.getSweepTypeCode())&&t.writeInt32(14,r),0!==(r=e.getSweepFrequencyStart())&&t.writeInt32(15,r),0!==(r=e.getSweepFrequencyEnd())&&t.writeInt32(16,r),0!==(r=e.getSweepLength())&&t.writeInt32(17,r),0!==(r=e.getSweepChannel())&&t.writeInt32(18,r),0!==(r=e.getSweepTaperStart())&&t.writeInt32(19,r),0!==(r=e.getSweepTaperEnd())&&t.writeInt32(20,r),0!==(r=e.getSweepTaperType())&&t.writeInt32(21,r),0!==(r=e.getCorrelatedTraces())&&t.writeInt32(22,r),0!==(r=e.getAmplitudeRecovery())&&t.writeInt32(23,r),0!==(r=e.getOriginalMeasurementSystem())&&t.writeInt32(24,r),0!==(r=e.getImpulseSignalPolarity())&&t.writeInt32(25,r),0!==(r=e.getVibratoryPolarityCode())&&t.writeInt32(26,r),(r=e.getRawHeader_asU8()).length>0&&t.writeBytes(27,r)},proto.com.cognite.seismic.BinaryHeader.prototype.getFileId=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.com.cognite.seismic.BinaryHeader.prototype.setFileId=function(e){return i.Message.setProto3StringField(this,1,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getTraces=function(){return i.Message.getFieldWithDefault(this,2,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setTraces=function(e){return i.Message.setProto3IntField(this,2,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getTraceDataType=function(){return i.Message.getFieldWithDefault(this,3,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setTraceDataType=function(e){return i.Message.setProto3IntField(this,3,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getFixedLengthTraces=function(){return i.Message.getFieldWithDefault(this,4,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setFixedLengthTraces=function(e){return i.Message.setProto3IntField(this,4,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getSegyRevision=function(){return i.Message.getFieldWithDefault(this,5,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setSegyRevision=function(e){return i.Message.setProto3IntField(this,5,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getAuxtraces=function(){return i.Message.getFieldWithDefault(this,6,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setAuxtraces=function(e){return i.Message.setProto3IntField(this,6,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getInterval=function(){return i.Message.getFieldWithDefault(this,7,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setInterval=function(e){return i.Message.setProto3IntField(this,7,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getIntervalOriginal=function(){return i.Message.getFieldWithDefault(this,8,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setIntervalOriginal=function(e){return i.Message.setProto3IntField(this,8,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getSamples=function(){return i.Message.getFieldWithDefault(this,9,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setSamples=function(e){return i.Message.setProto3IntField(this,9,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getSamplesOriginal=function(){return i.Message.getFieldWithDefault(this,10,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setSamplesOriginal=function(e){return i.Message.setProto3IntField(this,10,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getEnsembleFold=function(){return i.Message.getFieldWithDefault(this,11,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setEnsembleFold=function(e){return i.Message.setProto3IntField(this,11,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getVerticalSum=function(){return i.Message.getFieldWithDefault(this,12,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setVerticalSum=function(e){return i.Message.setProto3IntField(this,12,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getTraceTypeSortingCode=function(){return i.Message.getFieldWithDefault(this,13,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setTraceTypeSortingCode=function(e){return i.Message.setProto3IntField(this,13,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getSweepTypeCode=function(){return i.Message.getFieldWithDefault(this,14,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setSweepTypeCode=function(e){return i.Message.setProto3IntField(this,14,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getSweepFrequencyStart=function(){return i.Message.getFieldWithDefault(this,15,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setSweepFrequencyStart=function(e){return i.Message.setProto3IntField(this,15,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getSweepFrequencyEnd=function(){return i.Message.getFieldWithDefault(this,16,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setSweepFrequencyEnd=function(e){return i.Message.setProto3IntField(this,16,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getSweepLength=function(){return i.Message.getFieldWithDefault(this,17,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setSweepLength=function(e){return i.Message.setProto3IntField(this,17,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getSweepChannel=function(){return i.Message.getFieldWithDefault(this,18,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setSweepChannel=function(e){return i.Message.setProto3IntField(this,18,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getSweepTaperStart=function(){return i.Message.getFieldWithDefault(this,19,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setSweepTaperStart=function(e){return i.Message.setProto3IntField(this,19,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getSweepTaperEnd=function(){return i.Message.getFieldWithDefault(this,20,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setSweepTaperEnd=function(e){return i.Message.setProto3IntField(this,20,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getSweepTaperType=function(){return i.Message.getFieldWithDefault(this,21,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setSweepTaperType=function(e){return i.Message.setProto3IntField(this,21,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getCorrelatedTraces=function(){return i.Message.getFieldWithDefault(this,22,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setCorrelatedTraces=function(e){return i.Message.setProto3IntField(this,22,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getAmplitudeRecovery=function(){return i.Message.getFieldWithDefault(this,23,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setAmplitudeRecovery=function(e){return i.Message.setProto3IntField(this,23,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getOriginalMeasurementSystem=function(){return i.Message.getFieldWithDefault(this,24,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setOriginalMeasurementSystem=function(e){return i.Message.setProto3IntField(this,24,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getImpulseSignalPolarity=function(){return i.Message.getFieldWithDefault(this,25,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setImpulseSignalPolarity=function(e){return i.Message.setProto3IntField(this,25,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getVibratoryPolarityCode=function(){return i.Message.getFieldWithDefault(this,26,0)},proto.com.cognite.seismic.BinaryHeader.prototype.setVibratoryPolarityCode=function(e){return i.Message.setProto3IntField(this,26,e)},proto.com.cognite.seismic.BinaryHeader.prototype.getRawHeader=function(){return i.Message.getFieldWithDefault(this,27,"")},proto.com.cognite.seismic.BinaryHeader.prototype.getRawHeader_asB64=function(){return i.Message.bytesAsB64(this.getRawHeader())},proto.com.cognite.seismic.BinaryHeader.prototype.getRawHeader_asU8=function(){return i.Message.bytesAsU8(this.getRawHeader())},proto.com.cognite.seismic.BinaryHeader.prototype.setRawHeader=function(e){return i.Message.setProto3BytesField(this,27,e)},i.Message.GENERATE_TO_OBJECT&&(proto.com.cognite.seismic.SegYQueryResponse.prototype.toObject=function(e){return proto.com.cognite.seismic.SegYQueryResponse.toObject(e,this)},proto.com.cognite.seismic.SegYQueryResponse.toObject=function(e,t){var r={content:t.getContent_asB64()};return e&&(r.$jspbMessageInstance=t),r}),proto.com.cognite.seismic.SegYQueryResponse.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.com.cognite.seismic.SegYQueryResponse;return proto.com.cognite.seismic.SegYQueryResponse.deserializeBinaryFromReader(r,t)},proto.com.cognite.seismic.SegYQueryResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var r=t.readBytes();e.setContent(r);break;default:t.skipField()}return e},proto.com.cognite.seismic.SegYQueryResponse.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.com.cognite.seismic.SegYQueryResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.com.cognite.seismic.SegYQueryResponse.serializeBinaryToWriter=function(e,t){var r;(r=e.getContent_asU8()).length>0&&t.writeBytes(1,r)},proto.com.cognite.seismic.SegYQueryResponse.prototype.getContent=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.com.cognite.seismic.SegYQueryResponse.prototype.getContent_asB64=function(){return i.Message.bytesAsB64(this.getContent())},proto.com.cognite.seismic.SegYQueryResponse.prototype.getContent_asU8=function(){return i.Message.bytesAsU8(this.getContent())},proto.com.cognite.seismic.SegYQueryResponse.prototype.setContent=function(e){return i.Message.setProto3BytesField(this,1,e)},r.object.extend(t,proto.com.cognite.seismic)})),h=i;Function("return this")(),h.object.extend(proto,u),h.object.extend(proto,d),h.object.extend(proto,p);var f={};f.web=o;var g={com:{}};g.com.cognite={},g.com.cognite.seismic={},g.com.cognite.seismic.QueryClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new f.web.GrpcWebClientBase(r),this.hostname_=e},g.com.cognite.seismic.QueryPromiseClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new f.web.GrpcWebClientBase(r),this.hostname_=e};var m=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetSurvey",f.web.MethodType.UNARY,p.SurveyQueryRequest,p.GetSurveyResponse,(function(e){return e.serializeBinary()}),p.GetSurveyResponse.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(p.GetSurveyResponse,(function(e){return e.serializeBinary()}),p.GetSurveyResponse.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getSurvey=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/com.cognite.seismic.Query/GetSurvey",e,t||{},m,r)},g.com.cognite.seismic.QueryPromiseClient.prototype.getSurvey=function(e,t){return this.client_.unaryCall(this.hostname_+"/com.cognite.seismic.Query/GetSurvey",e,t||{},m)};var y=new f.web.MethodDescriptor("/com.cognite.seismic.Query/ListSurveys",f.web.MethodType.UNARY,p.ListSurveysQueryRequest,p.SurveyWithFilesResponse,(function(e){return e.serializeBinary()}),p.SurveyWithFilesResponse.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(p.SurveyWithFilesResponse,(function(e){return e.serializeBinary()}),p.SurveyWithFilesResponse.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.listSurveys=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/com.cognite.seismic.Query/ListSurveys",e,t||{},y,r)},g.com.cognite.seismic.QueryPromiseClient.prototype.listSurveys=function(e,t){return this.client_.unaryCall(this.hostname_+"/com.cognite.seismic.Query/ListSurveys",e,t||{},y)};var v=new f.web.MethodDescriptor("/com.cognite.seismic.Query/ListFiles",f.web.MethodType.UNARY,u.Empty,p.ListFilesResponse,(function(e){return e.serializeBinary()}),p.ListFilesResponse.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(p.ListFilesResponse,(function(e){return e.serializeBinary()}),p.ListFilesResponse.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.listFiles=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/com.cognite.seismic.Query/ListFiles",e,t||{},v,r)},g.com.cognite.seismic.QueryPromiseClient.prototype.listFiles=function(e,t){return this.client_.unaryCall(this.hostname_+"/com.cognite.seismic.Query/ListFiles",e,t||{},v)};var b=new f.web.MethodDescriptor("/com.cognite.seismic.Query/SearchSurveys",f.web.MethodType.UNARY,p.SearchSurveyRequest,p.SurveyWithFilesResponse,(function(e){return e.serializeBinary()}),p.SurveyWithFilesResponse.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(p.SurveyWithFilesResponse,(function(e){return e.serializeBinary()}),p.SurveyWithFilesResponse.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.searchSurveys=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/com.cognite.seismic.Query/SearchSurveys",e,t||{},b,r)},g.com.cognite.seismic.QueryPromiseClient.prototype.searchSurveys=function(e,t){return this.client_.unaryCall(this.hostname_+"/com.cognite.seismic.Query/SearchSurveys",e,t||{},b)};var x=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetFile",f.web.MethodType.UNARY,p.FileQueryRequest,p.GetFileResponse,(function(e){return e.serializeBinary()}),p.GetFileResponse.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(p.GetFileResponse,(function(e){return e.serializeBinary()}),p.GetFileResponse.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getFile=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/com.cognite.seismic.Query/GetFile",e,t||{},x,r)},g.com.cognite.seismic.QueryPromiseClient.prototype.getFile=function(e,t){return this.client_.unaryCall(this.hostname_+"/com.cognite.seismic.Query/GetFile",e,t||{},x)};var S=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetBinaryHeader",f.web.MethodType.UNARY,p.HeaderFileQueryRequest,p.GetBinaryHeaderResponse,(function(e){return e.serializeBinary()}),p.GetBinaryHeaderResponse.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(p.GetBinaryHeaderResponse,(function(e){return e.serializeBinary()}),p.GetBinaryHeaderResponse.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getBinaryHeader=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/com.cognite.seismic.Query/GetBinaryHeader",e,t||{},S,r)},g.com.cognite.seismic.QueryPromiseClient.prototype.getBinaryHeader=function(e,t){return this.client_.unaryCall(this.hostname_+"/com.cognite.seismic.Query/GetBinaryHeader",e,t||{},S)};var A=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetTextHeader",f.web.MethodType.UNARY,p.HeaderFileQueryRequest,p.GetTextHeaderResponse,(function(e){return e.serializeBinary()}),p.GetTextHeaderResponse.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(p.GetTextHeaderResponse,(function(e){return e.serializeBinary()}),p.GetTextHeaderResponse.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getTextHeader=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/com.cognite.seismic.Query/GetTextHeader",e,t||{},A,r)},g.com.cognite.seismic.QueryPromiseClient.prototype.getTextHeader=function(e,t){return this.client_.unaryCall(this.hostname_+"/com.cognite.seismic.Query/GetTextHeader",e,t||{},A)};var w=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetFileDataCoverage",f.web.MethodType.UNARY,p.FileCoverageRequest,p.DataCoverageResponse,(function(e){return e.serializeBinary()}),p.DataCoverageResponse.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(p.DataCoverageResponse,(function(e){return e.serializeBinary()}),p.DataCoverageResponse.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getFileDataCoverage=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/com.cognite.seismic.Query/GetFileDataCoverage",e,t||{},w,r)},g.com.cognite.seismic.QueryPromiseClient.prototype.getFileDataCoverage=function(e,t){return this.client_.unaryCall(this.hostname_+"/com.cognite.seismic.Query/GetFileDataCoverage",e,t||{},w)};var _=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetFileLineRange",f.web.MethodType.UNARY,p.FileQueryRequest,p.LineRangeResponse,(function(e){return e.serializeBinary()}),p.LineRangeResponse.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(p.LineRangeResponse,(function(e){return e.serializeBinary()}),p.LineRangeResponse.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getFileLineRange=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/com.cognite.seismic.Query/GetFileLineRange",e,t||{},_,r)},g.com.cognite.seismic.QueryPromiseClient.prototype.getFileLineRange=function(e,t){return this.client_.unaryCall(this.hostname_+"/com.cognite.seismic.Query/GetFileLineRange",e,t||{},_)};var T=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetCrosslinesByInline",f.web.MethodType.UNARY,p.FileLineQueryRequest,p.AvailableLines,(function(e){return e.serializeBinary()}),p.AvailableLines.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(p.AvailableLines,(function(e){return e.serializeBinary()}),p.AvailableLines.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getCrosslinesByInline=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/com.cognite.seismic.Query/GetCrosslinesByInline",e,t||{},T,r)},g.com.cognite.seismic.QueryPromiseClient.prototype.getCrosslinesByInline=function(e,t){return this.client_.unaryCall(this.hostname_+"/com.cognite.seismic.Query/GetCrosslinesByInline",e,t||{},T)};var E=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetInlinesByCrossline",f.web.MethodType.UNARY,p.FileLineQueryRequest,p.AvailableLines,(function(e){return e.serializeBinary()}),p.AvailableLines.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(p.AvailableLines,(function(e){return e.serializeBinary()}),p.AvailableLines.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getInlinesByCrossline=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/com.cognite.seismic.Query/GetInlinesByCrossline",e,t||{},E,r)},g.com.cognite.seismic.QueryPromiseClient.prototype.getInlinesByCrossline=function(e,t){return this.client_.unaryCall(this.hostname_+"/com.cognite.seismic.Query/GetInlinesByCrossline",e,t||{},E)};var B=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetTraceByCoordinates",f.web.MethodType.UNARY,p.CoordinateTraceQueryRequest,d.Trace,(function(e){return e.serializeBinary()}),d.Trace.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(d.Trace,(function(e){return e.serializeBinary()}),d.Trace.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getTraceByCoordinates=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/com.cognite.seismic.Query/GetTraceByCoordinates",e,t||{},B,r)},g.com.cognite.seismic.QueryPromiseClient.prototype.getTraceByCoordinates=function(e,t){return this.client_.unaryCall(this.hostname_+"/com.cognite.seismic.Query/GetTraceByCoordinates",e,t||{},B)};var R=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetSliceByLine",f.web.MethodType.SERVER_STREAMING,p.LineSliceQueryRequest,d.Trace,(function(e){return e.serializeBinary()}),d.Trace.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(d.Trace,(function(e){return e.serializeBinary()}),d.Trace.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getSliceByLine=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetSliceByLine",e,t||{},R)},g.com.cognite.seismic.QueryPromiseClient.prototype.getSliceByLine=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetSliceByLine",e,t||{},R)};var M=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetSliceByGeometry",f.web.MethodType.SERVER_STREAMING,p.GeometrySliceQueryRequest,d.Trace,(function(e){return e.serializeBinary()}),d.Trace.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(d.Trace,(function(e){return e.serializeBinary()}),d.Trace.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getSliceByGeometry=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetSliceByGeometry",e,t||{},M)},g.com.cognite.seismic.QueryPromiseClient.prototype.getSliceByGeometry=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetSliceByGeometry",e,t||{},M)};var C=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetCubeByLines",f.web.MethodType.SERVER_STREAMING,p.LineCubeRequest,d.Trace,(function(e){return e.serializeBinary()}),d.Trace.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(d.Trace,(function(e){return e.serializeBinary()}),d.Trace.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getCubeByLines=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetCubeByLines",e,t||{},C)},g.com.cognite.seismic.QueryPromiseClient.prototype.getCubeByLines=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetCubeByLines",e,t||{},C)};var O=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetCubeByGeometry",f.web.MethodType.SERVER_STREAMING,p.GeometryCubeRequest,d.Trace,(function(e){return e.serializeBinary()}),d.Trace.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(d.Trace,(function(e){return e.serializeBinary()}),d.Trace.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getCubeByGeometry=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetCubeByGeometry",e,t||{},O)},g.com.cognite.seismic.QueryPromiseClient.prototype.getCubeByGeometry=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetCubeByGeometry",e,t||{},O)};var I=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetSegYFile",f.web.MethodType.SERVER_STREAMING,p.SegYQueryRequest,p.SegYQueryResponse,(function(e){return e.serializeBinary()}),p.SegYQueryResponse.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(p.SegYQueryResponse,(function(e){return e.serializeBinary()}),p.SegYQueryResponse.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getSegYFile=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetSegYFile",e,t||{},I)},g.com.cognite.seismic.QueryPromiseClient.prototype.getSegYFile=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetSegYFile",e,t||{},I)};var F=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetTimeSliceByLines",f.web.MethodType.SERVER_STREAMING,p.LineTimeSliceQueryRequest,d.SurfacePoint,(function(e){return e.serializeBinary()}),d.SurfacePoint.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(d.SurfacePoint,(function(e){return e.serializeBinary()}),d.SurfacePoint.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getTimeSliceByLines=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetTimeSliceByLines",e,t||{},F)},g.com.cognite.seismic.QueryPromiseClient.prototype.getTimeSliceByLines=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetTimeSliceByLines",e,t||{},F)};var N=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetTimeSliceByGeometry",f.web.MethodType.SERVER_STREAMING,p.GeometryTimeSliceQueryRequest,d.SurfacePoint,(function(e){return e.serializeBinary()}),d.SurfacePoint.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(d.SurfacePoint,(function(e){return e.serializeBinary()}),d.SurfacePoint.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getTimeSliceByGeometry=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetTimeSliceByGeometry",e,t||{},N)},g.com.cognite.seismic.QueryPromiseClient.prototype.getTimeSliceByGeometry=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetTimeSliceByGeometry",e,t||{},N)};var L=new f.web.MethodDescriptor("/com.cognite.seismic.Query/GetVolume",f.web.MethodType.SERVER_STREAMING,p.VolumeRequest,d.Trace,(function(e){return e.serializeBinary()}),d.Trace.deserializeBinary);new f.web.AbstractClientBase.MethodInfo(d.Trace,(function(e){return e.serializeBinary()}),d.Trace.deserializeBinary),g.com.cognite.seismic.QueryClient.prototype.getVolume=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetVolume",e,t||{},L)},g.com.cognite.seismic.QueryPromiseClient.prototype.getVolume=function(e,t){return this.client_.serverStreaming(this.hostname_+"/com.cognite.seismic.Query/GetVolume",e,t||{},L)};var P=g.com.cognite.seismic,D=function(e){var t=e.fileId,r=e.fileName,n=new d.Identifier;return t&&n.setId(t),r&&n.setName(r),n},U=function(e){return e.map((function(e){return e.toObject()}))};function G(e){return new Promise((function(t,r){var n=[];e.on("error",(function(e){console.error(e),r(e)})),e.on("data",(function(e){n.push(e)})),e.on("status",(function(e){0===e.code&&t(n)})),e.on("end",(function(){t(n)}))}))}var j=function(){function e(t,r){_classCallCheck(this,e),this.query=t,this.option=r}return _createClass(e,[{key:"getTextHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a(this,void 0,void 0,_regeneratorRuntime.mark((function r(){var n,i;return _regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=new d.Identifier).setId(e),(i=new p.HeaderFileQueryRequest).setFile(n),i.setIncludeRawHeader(t),r.next=6,this.query.getTextHeader(i,this.option.metadata);case 6:return r.abrupt("return",r.sent.toObject());case 7:case"end":return r.stop()}}),r,this)})))}},{key:"getFileDataCoverage",value:function(e){var t,r,n,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EPSG:4230";return a(this,void 0,void 0,_regeneratorRuntime.mark((function a(){var s,c,l,u,h,f;return _regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=new p.FileCoverageRequest,(c=new d.Identifier).setId(e),(l=new d.CRS).setCrs(o),s.setFile(c),s.setCrs(l),a.next=6,this.query.getFileDataCoverage(s,this.option.metadata);case 6:return u=a.sent.toObject(!0),(h=null===(r=null===(t=u.polygon)||void 0===t?void 0:t.geo)||void 0===r?void 0:r.json)&&delete(f=h.$jspbMessageInstance.toJavaScript()).crs,a.abrupt("return",{polygon:{crs:{crs:null===(i=null===(n=u.polygon)||void 0===n?void 0:n.crs)||void 0===i?void 0:i.crs},geo:f}});case 10:case"end":return a.stop()}}),a,this)})))}},{key:"getLineRange",value:function(e){var t=e.fileId,r=e.fileName;return a(this,void 0,void 0,_regeneratorRuntime.mark((function e(){var n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new p.FileQueryRequest).setFile(D({fileId:t,fileName:r})),e.next=4,this.query.getFileLineRange(n,this.option.metadata);case 4:return e.abrupt("return",e.sent.toObject());case 5:case"end":return e.stop()}}),e,this)})))}}]),e}(),z=function(){function e(t,r){_classCallCheck(this,e),this.query=t,this.option=r}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(this,void 0,void 0,_regeneratorRuntime.mark((function n(){var i,o;return _regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(i=new d.Identifier).setName(e),(o=new p.SurveyQueryRequest).setSurvey(i),o.setIncludeMetadata(r),o.setListFiles(t),n.next=6,this.query.getSurvey(o,this.option.metadata);case 6:return n.abrupt("return",n.sent.toObject());case 7:case"end":return n.stop()}}),n,this)})))}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EPSG:4230",r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return a(this,void 0,void 0,_regeneratorRuntime.mark((function o(){var a,s,l,u,h;return _regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return(a=new d.CRS).setCrs(t),s=new d.GeoJson,l=c.Struct.fromJavaScript(Object.assign({},e.geometry)),s.setJson(l),(u=new d.Geometry).setGeo(s),u.setCrs(a),(h=new p.SearchSurveyRequest).setPolygon(u),h.setIncludeMetadata(i),h.setSurveyMetadata(r),h.setFileMetadata(n),o.next=10,this.query.searchSurveys(h,this.option.metadata);case 10:return o.abrupt("return",o.sent.toObject());case 11:case"end":return o.stop()}}),o,this)})))}}]),e}(),k=function(){function e(t,r){_classCallCheck(this,e),this.query=t,this.option=r}return _createClass(e,[{key:"getLineDescriptor",value:function(e){if(e){var t=new l.Int32Value,r=new l.Int32Value;t.setValue(e.min),r.setValue(e.max);var n=new d.LineDescriptor;return n.setMin(t),n.setMax(r),n}}},{key:"get",value:function(e,t){var r=e.fileId,n=e.fileName,i=t.iline,o=t.xline,s=t.z,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(this,void 0,void 0,_regeneratorRuntime.mark((function e(){var t,a,l,u,d;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new p.LineBasedVolume,(a=new p.VolumeRequest).setFile(D({fileId:r,fileName:n})),l=this.getLineDescriptor(i),u=this.getLineDescriptor(o),d=this.getLineDescriptor(s),t.setIline(l),t.setXline(u),t.setZ(d),a.setVolume(t),a.setIncludeTraceHeader(c),e.abrupt("return",G(this.query.getVolume(a,this.option.metadata)).then(U));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getTrace",value:function(e,t,r){var n=e.fileId,i=e.fileName;return a(this,void 0,void 0,_regeneratorRuntime.mark((function e(){var o;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get({fileId:n,fileName:i},{iline:{min:t,max:t},xline:{min:r,max:r}},!0);case 2:return o=e.sent,e.abrupt("return",o&&o.length>0?Promise.resolve(o[0]):Promise.reject("Trace not found"));case 4:case"end":return e.stop()}}),e,this)})))}}]),e}(),V=function(){function e(t,r){_classCallCheck(this,e),this.query=t,this.option=r}return _createClass(e,[{key:"getArbitraryLine",value:function(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"EPSG:4230";return a(this,void 0,void 0,_regeneratorRuntime.mark((function a(){var s;return _regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s={type:"LineString",coordinates:[[t,r],[n,i]]},a.next=3,this.getSliceByGeometry(e,s,o);case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a,this)})))}},{key:"getSliceByGeometry",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG:4230";return a(this,void 0,void 0,_regeneratorRuntime.mark((function n(){var i,o,a,s,l,u,h;return _regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(i=new d.Identifier).setId(e),(o=new d.CRS).setCrs(r),a=Object.assign({},t),s=c.Struct.fromJavaScript(a),(l=new d.GeoJson).setJson(s),(u=new d.Geometry).setGeo(l),u.setCrs(o),(h=new p.GeometrySliceQueryRequest).setFile(i),h.setArbitraryLine(u),h.setInterpolationMethod(d.InterpolationMethod.NEAREST_TRACE),n.t0=G,n.next=13,this.query.getSliceByGeometry(h,this.option.metadata);case 13:return n.t1=n.sent,n.abrupt("return",(0,n.t0)(n.t1).then(U).then((function(e){return e.map((function(e){return Object.assign(Object.assign({},e),{sum:e.traceList.reduce((function(e,t){return(e||0)+(t||0)}),0)})}))})));case 15:case"end":return n.stop()}}),n,this)})))}}]),e}();t.CogniteSeismicClient=function(){return function t(r){var n=r.api_key,i=r.api_url,o=void 0===i?"https://api.cognitedata.com:443":i,a=r.token,s=r.debug;_classCallCheck(this,t);var c=e.env.API_URL||o,l={};n&&(l["api-key"]=n),a&&(l.Authorization="Bearer "+a),this.query=new P.QueryPromiseClient(c),s&&(window.__GRPCWEB_DEVTOOLS__||function(){})([this.query]),this.option={metadata:l,timeout:1e4},this.file=new j(this.query,this.option),this.slice=new V(this.query,this.option),this.survey=new z(this.query,this.option),this.volume=new k(this.query,this.option)}}()}).call(this,r(140))},function(e,t,r){},function(e,t){e.exports=["alignContent","MozAlignContent","WebkitAlignContent","MSAlignContent","OAlignContent","alignItems","MozAlignItems","WebkitAlignItems","MSAlignItems","OAlignItems","alignSelf","MozAlignSelf","WebkitAlignSelf","MSAlignSelf","OAlignSelf","all","MozAll","WebkitAll","MSAll","OAll","animation","MozAnimation","WebkitAnimation","MSAnimation","OAnimation","animationDelay","MozAnimationDelay","WebkitAnimationDelay","MSAnimationDelay","OAnimationDelay","animationDirection","MozAnimationDirection","WebkitAnimationDirection","MSAnimationDirection","OAnimationDirection","animationDuration","MozAnimationDuration","WebkitAnimationDuration","MSAnimationDuration","OAnimationDuration","animationFillMode","MozAnimationFillMode","WebkitAnimationFillMode","MSAnimationFillMode","OAnimationFillMode","animationIterationCount","MozAnimationIterationCount","WebkitAnimationIterationCount","MSAnimationIterationCount","OAnimationIterationCount","animationName","MozAnimationName","WebkitAnimationName","MSAnimationName","OAnimationName","animationPlayState","MozAnimationPlayState","WebkitAnimationPlayState","MSAnimationPlayState","OAnimationPlayState","animationTimingFunction","MozAnimationTimingFunction","WebkitAnimationTimingFunction","MSAnimationTimingFunction","OAnimationTimingFunction","backfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","MSBackfaceVisibility","OBackfaceVisibility","background","MozBackground","WebkitBackground","MSBackground","OBackground","backgroundAttachment","MozBackgroundAttachment","WebkitBackgroundAttachment","MSBackgroundAttachment","OBackgroundAttachment","backgroundBlendMode","MozBackgroundBlendMode","WebkitBackgroundBlendMode","MSBackgroundBlendMode","OBackgroundBlendMode","backgroundClip","MozBackgroundClip","WebkitBackgroundClip","MSBackgroundClip","OBackgroundClip","backgroundColor","MozBackgroundColor","WebkitBackgroundColor","MSBackgroundColor","OBackgroundColor","backgroundImage","MozBackgroundImage","WebkitBackgroundImage","MSBackgroundImage","OBackgroundImage","backgroundOrigin","MozBackgroundOrigin","WebkitBackgroundOrigin","MSBackgroundOrigin","OBackgroundOrigin","backgroundPosition","MozBackgroundPosition","WebkitBackgroundPosition","MSBackgroundPosition","OBackgroundPosition","backgroundRepeat","MozBackgroundRepeat","WebkitBackgroundRepeat","MSBackgroundRepeat","OBackgroundRepeat","backgroundSize","MozBackgroundSize","WebkitBackgroundSize","MSBackgroundSize","OBackgroundSize","blockSize","MozBlockSize","WebkitBlockSize","MSBlockSize","OBlockSize","border","MozBorder","WebkitBorder","MSBorder","OBorder","borderBlockEnd","MozBorderBlockEnd","WebkitBorderBlockEnd","MSBorderBlockEnd","OBorderBlockEnd","borderBlockEndColor","MozBorderBlockEndColor","WebkitBorderBlockEndColor","MSBorderBlockEndColor","OBorderBlockEndColor","borderBlockEndStyle","MozBorderBlockEndStyle","WebkitBorderBlockEndStyle","MSBorderBlockEndStyle","OBorderBlockEndStyle","borderBlockEndWidth","MozBorderBlockEndWidth","WebkitBorderBlockEndWidth","MSBorderBlockEndWidth","OBorderBlockEndWidth","borderBlockStart","MozBorderBlockStart","WebkitBorderBlockStart","MSBorderBlockStart","OBorderBlockStart","borderBlockStartColor","MozBorderBlockStartColor","WebkitBorderBlockStartColor","MSBorderBlockStartColor","OBorderBlockStartColor","borderBlockStartStyle","MozBorderBlockStartStyle","WebkitBorderBlockStartStyle","MSBorderBlockStartStyle","OBorderBlockStartStyle","borderBlockStartWidth","MozBorderBlockStartWidth","WebkitBorderBlockStartWidth","MSBorderBlockStartWidth","OBorderBlockStartWidth","borderBottom","MozBorderBottom","WebkitBorderBottom","MSBorderBottom","OBorderBottom","borderBottomColor","MozBorderBottomColor","WebkitBorderBottomColor","MSBorderBottomColor","OBorderBottomColor","borderBottomLeftRadius","MozBorderBottomLeftRadius","WebkitBorderBottomLeftRadius","MSBorderBottomLeftRadius","OBorderBottomLeftRadius","borderBottomRightRadius","MozBorderBottomRightRadius","WebkitBorderBottomRightRadius","MSBorderBottomRightRadius","OBorderBottomRightRadius","borderBottomStyle","MozBorderBottomStyle","WebkitBorderBottomStyle","MSBorderBottomStyle","OBorderBottomStyle","borderBottomWidth","MozBorderBottomWidth","WebkitBorderBottomWidth","MSBorderBottomWidth","OBorderBottomWidth","borderCollapse","MozBorderCollapse","WebkitBorderCollapse","MSBorderCollapse","OBorderCollapse","borderColor","MozBorderColor","WebkitBorderColor","MSBorderColor","OBorderColor","borderImage","MozBorderImage","WebkitBorderImage","MSBorderImage","OBorderImage","borderImageOutset","MozBorderImageOutset","WebkitBorderImageOutset","MSBorderImageOutset","OBorderImageOutset","borderImageRepeat","MozBorderImageRepeat","WebkitBorderImageRepeat","MSBorderImageRepeat","OBorderImageRepeat","borderImageSlice","MozBorderImageSlice","WebkitBorderImageSlice","MSBorderImageSlice","OBorderImageSlice","borderImageSource","MozBorderImageSource","WebkitBorderImageSource","MSBorderImageSource","OBorderImageSource","borderImageWidth","MozBorderImageWidth","WebkitBorderImageWidth","MSBorderImageWidth","OBorderImageWidth","borderInlineEnd","MozBorderInlineEnd","WebkitBorderInlineEnd","MSBorderInlineEnd","OBorderInlineEnd","borderInlineEndColor","MozBorderInlineEndColor","WebkitBorderInlineEndColor","MSBorderInlineEndColor","OBorderInlineEndColor","borderInlineEndStyle","MozBorderInlineEndStyle","WebkitBorderInlineEndStyle","MSBorderInlineEndStyle","OBorderInlineEndStyle","borderInlineEndWidth","MozBorderInlineEndWidth","WebkitBorderInlineEndWidth","MSBorderInlineEndWidth","OBorderInlineEndWidth","borderInlineStart","MozBorderInlineStart","WebkitBorderInlineStart","MSBorderInlineStart","OBorderInlineStart","borderInlineStartColor","MozBorderInlineStartColor","WebkitBorderInlineStartColor","MSBorderInlineStartColor","OBorderInlineStartColor","borderInlineStartStyle","MozBorderInlineStartStyle","WebkitBorderInlineStartStyle","MSBorderInlineStartStyle","OBorderInlineStartStyle","borderInlineStartWidth","MozBorderInlineStartWidth","WebkitBorderInlineStartWidth","MSBorderInlineStartWidth","OBorderInlineStartWidth","borderLeft","MozBorderLeft","WebkitBorderLeft","MSBorderLeft","OBorderLeft","borderLeftColor","MozBorderLeftColor","WebkitBorderLeftColor","MSBorderLeftColor","OBorderLeftColor","borderLeftStyle","MozBorderLeftStyle","WebkitBorderLeftStyle","MSBorderLeftStyle","OBorderLeftStyle","borderLeftWidth","MozBorderLeftWidth","WebkitBorderLeftWidth","MSBorderLeftWidth","OBorderLeftWidth","borderRadius","MozBorderRadius","WebkitBorderRadius","MSBorderRadius","OBorderRadius","borderRight","MozBorderRight","WebkitBorderRight","MSBorderRight","OBorderRight","borderRightColor","MozBorderRightColor","WebkitBorderRightColor","MSBorderRightColor","OBorderRightColor","borderRightStyle","MozBorderRightStyle","WebkitBorderRightStyle","MSBorderRightStyle","OBorderRightStyle","borderRightWidth","MozBorderRightWidth","WebkitBorderRightWidth","MSBorderRightWidth","OBorderRightWidth","borderSpacing","MozBorderSpacing","WebkitBorderSpacing","MSBorderSpacing","OBorderSpacing","borderStyle","MozBorderStyle","WebkitBorderStyle","MSBorderStyle","OBorderStyle","borderTop","MozBorderTop","WebkitBorderTop","MSBorderTop","OBorderTop","borderTopColor","MozBorderTopColor","WebkitBorderTopColor","MSBorderTopColor","OBorderTopColor","borderTopLeftRadius","MozBorderTopLeftRadius","WebkitBorderTopLeftRadius","MSBorderTopLeftRadius","OBorderTopLeftRadius","borderTopRightRadius","MozBorderTopRightRadius","WebkitBorderTopRightRadius","MSBorderTopRightRadius","OBorderTopRightRadius","borderTopStyle","MozBorderTopStyle","WebkitBorderTopStyle","MSBorderTopStyle","OBorderTopStyle","borderTopWidth","MozBorderTopWidth","WebkitBorderTopWidth","MSBorderTopWidth","OBorderTopWidth","borderWidth","MozBorderWidth","WebkitBorderWidth","MSBorderWidth","OBorderWidth","bottom","MozBottom","WebkitBottom","MSBottom","OBottom","boxDecorationBreak","MozBoxDecorationBreak","WebkitBoxDecorationBreak","MSBoxDecorationBreak","OBoxDecorationBreak","boxShadow","MozBoxShadow","WebkitBoxShadow","MSBoxShadow","OBoxShadow","boxSizing","MozBoxSizing","WebkitBoxSizing","MSBoxSizing","OBoxSizing","breakAfter","MozBreakAfter","WebkitBreakAfter","MSBreakAfter","OBreakAfter","breakBefore","MozBreakBefore","WebkitBreakBefore","MSBreakBefore","OBreakBefore","breakInside","MozBreakInside","WebkitBreakInside","MSBreakInside","OBreakInside","captionSide","MozCaptionSide","WebkitCaptionSide","MSCaptionSide","OCaptionSide","caretColor","MozCaretColor","WebkitCaretColor","MSCaretColor","OCaretColor","ch","MozCh","WebkitCh","MSCh","OCh","clear","MozClear","WebkitClear","MSClear","OClear","clip","MozClip","WebkitClip","MSClip","OClip","clipPath","MozClipPath","WebkitClipPath","MSClipPath","OClipPath","cm","MozCm","WebkitCm","MSCm","OCm","color","MozColor","WebkitColor","MSColor","OColor","columnCount","MozColumnCount","WebkitColumnCount","MSColumnCount","OColumnCount","columnFill","MozColumnFill","WebkitColumnFill","MSColumnFill","OColumnFill","columnGap","MozColumnGap","WebkitColumnGap","MSColumnGap","OColumnGap","columnRule","MozColumnRule","WebkitColumnRule","MSColumnRule","OColumnRule","columnRuleColor","MozColumnRuleColor","WebkitColumnRuleColor","MSColumnRuleColor","OColumnRuleColor","columnRuleStyle","MozColumnRuleStyle","WebkitColumnRuleStyle","MSColumnRuleStyle","OColumnRuleStyle","columnRuleWidth","MozColumnRuleWidth","WebkitColumnRuleWidth","MSColumnRuleWidth","OColumnRuleWidth","columnSpan","MozColumnSpan","WebkitColumnSpan","MSColumnSpan","OColumnSpan","columnWidth","MozColumnWidth","WebkitColumnWidth","MSColumnWidth","OColumnWidth","columns","MozColumns","WebkitColumns","MSColumns","OColumns","content","MozContent","WebkitContent","MSContent","OContent","counterIncrement","MozCounterIncrement","WebkitCounterIncrement","MSCounterIncrement","OCounterIncrement","counterReset","MozCounterReset","WebkitCounterReset","MSCounterReset","OCounterReset","cursor","MozCursor","WebkitCursor","MSCursor","OCursor","deg","MozDeg","WebkitDeg","MSDeg","ODeg","direction","MozDirection","WebkitDirection","MSDirection","ODirection","display","MozDisplay","WebkitDisplay","MSDisplay","ODisplay","dpcm","MozDpcm","WebkitDpcm","MSDpcm","ODpcm","dpi","MozDpi","WebkitDpi","MSDpi","ODpi","dppx","MozDppx","WebkitDppx","MSDppx","ODppx","em","MozEm","WebkitEm","MSEm","OEm","emptyCells","MozEmptyCells","WebkitEmptyCells","MSEmptyCells","OEmptyCells","ex","MozEx","WebkitEx","MSEx","OEx","filter","MozFilter","WebkitFilter","MSFilter","OFilter","flexBasis","MozFlexBasis","WebkitFlexBasis","MSFlexBasis","OFlexBasis","flexDirection","MozFlexDirection","WebkitFlexDirection","MSFlexDirection","OFlexDirection","flexFlow","MozFlexFlow","WebkitFlexFlow","MSFlexFlow","OFlexFlow","flexGrow","MozFlexGrow","WebkitFlexGrow","MSFlexGrow","OFlexGrow","flexShrink","MozFlexShrink","WebkitFlexShrink","MSFlexShrink","OFlexShrink","flexWrap","MozFlexWrap","WebkitFlexWrap","MSFlexWrap","OFlexWrap","float","MozFloat","WebkitFloat","MSFloat","OFloat","font","MozFont","WebkitFont","MSFont","OFont","fontFamily","MozFontFamily","WebkitFontFamily","MSFontFamily","OFontFamily","fontFeatureSettings","MozFontFeatureSettings","WebkitFontFeatureSettings","MSFontFeatureSettings","OFontFeatureSettings","fontKerning","MozFontKerning","WebkitFontKerning","MSFontKerning","OFontKerning","fontLanguageOverride","MozFontLanguageOverride","WebkitFontLanguageOverride","MSFontLanguageOverride","OFontLanguageOverride","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","fontSizeAdjust","MozFontSizeAdjust","WebkitFontSizeAdjust","MSFontSizeAdjust","OFontSizeAdjust","fontStretch","MozFontStretch","WebkitFontStretch","MSFontStretch","OFontStretch","fontStyle","MozFontStyle","WebkitFontStyle","MSFontStyle","OFontStyle","fontSynthesis","MozFontSynthesis","WebkitFontSynthesis","MSFontSynthesis","OFontSynthesis","fontVariant","MozFontVariant","WebkitFontVariant","MSFontVariant","OFontVariant","fontVariantAlternates","MozFontVariantAlternates","WebkitFontVariantAlternates","MSFontVariantAlternates","OFontVariantAlternates","fontVariantCaps","MozFontVariantCaps","WebkitFontVariantCaps","MSFontVariantCaps","OFontVariantCaps","fontVariantEastAsian","MozFontVariantEastAsian","WebkitFontVariantEastAsian","MSFontVariantEastAsian","OFontVariantEastAsian","fontVariantLigatures","MozFontVariantLigatures","WebkitFontVariantLigatures","MSFontVariantLigatures","OFontVariantLigatures","fontVariantNumeric","MozFontVariantNumeric","WebkitFontVariantNumeric","MSFontVariantNumeric","OFontVariantNumeric","fontVariantPosition","MozFontVariantPosition","WebkitFontVariantPosition","MSFontVariantPosition","OFontVariantPosition","fontWeight","MozFontWeight","WebkitFontWeight","MSFontWeight","OFontWeight","fr","MozFr","WebkitFr","MSFr","OFr","grad","MozGrad","WebkitGrad","MSGrad","OGrad","grid","MozGrid","WebkitGrid","MSGrid","OGrid","gridArea","MozGridArea","WebkitGridArea","MSGridArea","OGridArea","gridAutoColumns","MozGridAutoColumns","WebkitGridAutoColumns","MSGridAutoColumns","OGridAutoColumns","gridAutoFlow","MozGridAutoFlow","WebkitGridAutoFlow","MSGridAutoFlow","OGridAutoFlow","gridAutoRows","MozGridAutoRows","WebkitGridAutoRows","MSGridAutoRows","OGridAutoRows","gridColumn","MozGridColumn","WebkitGridColumn","MSGridColumn","OGridColumn","gridColumnEnd","MozGridColumnEnd","WebkitGridColumnEnd","MSGridColumnEnd","OGridColumnEnd","gridColumnGap","MozGridColumnGap","WebkitGridColumnGap","MSGridColumnGap","OGridColumnGap","gridColumnStart","MozGridColumnStart","WebkitGridColumnStart","MSGridColumnStart","OGridColumnStart","gridGap","MozGridGap","WebkitGridGap","MSGridGap","OGridGap","gridRow","MozGridRow","WebkitGridRow","MSGridRow","OGridRow","gridRowEnd","MozGridRowEnd","WebkitGridRowEnd","MSGridRowEnd","OGridRowEnd","gridRowGap","MozGridRowGap","WebkitGridRowGap","MSGridRowGap","OGridRowGap","gridRowStart","MozGridRowStart","WebkitGridRowStart","MSGridRowStart","OGridRowStart","gridTemplate","MozGridTemplate","WebkitGridTemplate","MSGridTemplate","OGridTemplate","gridTemplateAreas","MozGridTemplateAreas","WebkitGridTemplateAreas","MSGridTemplateAreas","OGridTemplateAreas","gridTemplateColumns","MozGridTemplateColumns","WebkitGridTemplateColumns","MSGridTemplateColumns","OGridTemplateColumns","gridTemplateRows","MozGridTemplateRows","WebkitGridTemplateRows","MSGridTemplateRows","OGridTemplateRows","height","MozHeight","WebkitHeight","MSHeight","OHeight","hyphens","MozHyphens","WebkitHyphens","MSHyphens","OHyphens","hz","MozHz","WebkitHz","MSHz","OHz","imageOrientation","MozImageOrientation","WebkitImageOrientation","MSImageOrientation","OImageOrientation","imageRendering","MozImageRendering","WebkitImageRendering","MSImageRendering","OImageRendering","imageResolution","MozImageResolution","WebkitImageResolution","MSImageResolution","OImageResolution","imeMode","MozImeMode","WebkitImeMode","MSImeMode","OImeMode","in","MozIn","WebkitIn","MSIn","OIn","inherit","MozInherit","WebkitInherit","MSInherit","OInherit","initial","MozInitial","WebkitInitial","MSInitial","OInitial","inlineSize","MozInlineSize","WebkitInlineSize","MSInlineSize","OInlineSize","isolation","MozIsolation","WebkitIsolation","MSIsolation","OIsolation","justifyContent","MozJustifyContent","WebkitJustifyContent","MSJustifyContent","OJustifyContent","khz","MozKhz","WebkitKhz","MSKhz","OKhz","left","MozLeft","WebkitLeft","MSLeft","OLeft","letterSpacing","MozLetterSpacing","WebkitLetterSpacing","MSLetterSpacing","OLetterSpacing","lineBreak","MozLineBreak","WebkitLineBreak","MSLineBreak","OLineBreak","lineHeight","MozLineHeight","WebkitLineHeight","MSLineHeight","OLineHeight","listStyle","MozListStyle","WebkitListStyle","MSListStyle","OListStyle","listStyleImage","MozListStyleImage","WebkitListStyleImage","MSListStyleImage","OListStyleImage","listStylePosition","MozListStylePosition","WebkitListStylePosition","MSListStylePosition","OListStylePosition","listStyleType","MozListStyleType","WebkitListStyleType","MSListStyleType","OListStyleType","margin","MozMargin","WebkitMargin","MSMargin","OMargin","marginBlockEnd","MozMarginBlockEnd","WebkitMarginBlockEnd","MSMarginBlockEnd","OMarginBlockEnd","marginBlockStart","MozMarginBlockStart","WebkitMarginBlockStart","MSMarginBlockStart","OMarginBlockStart","marginBottom","MozMarginBottom","WebkitMarginBottom","MSMarginBottom","OMarginBottom","marginInlineEnd","MozMarginInlineEnd","WebkitMarginInlineEnd","MSMarginInlineEnd","OMarginInlineEnd","marginInlineStart","MozMarginInlineStart","WebkitMarginInlineStart","MSMarginInlineStart","OMarginInlineStart","marginLeft","MozMarginLeft","WebkitMarginLeft","MSMarginLeft","OMarginLeft","marginRight","MozMarginRight","WebkitMarginRight","MSMarginRight","OMarginRight","marginTop","MozMarginTop","WebkitMarginTop","MSMarginTop","OMarginTop","mask","MozMask","WebkitMask","MSMask","OMask","maskClip","MozMaskClip","WebkitMaskClip","MSMaskClip","OMaskClip","maskComposite","MozMaskComposite","WebkitMaskComposite","MSMaskComposite","OMaskComposite","maskImage","MozMaskImage","WebkitMaskImage","MSMaskImage","OMaskImage","maskMode","MozMaskMode","WebkitMaskMode","MSMaskMode","OMaskMode","maskOrigin","MozMaskOrigin","WebkitMaskOrigin","MSMaskOrigin","OMaskOrigin","maskPosition","MozMaskPosition","WebkitMaskPosition","MSMaskPosition","OMaskPosition","maskRepeat","MozMaskRepeat","WebkitMaskRepeat","MSMaskRepeat","OMaskRepeat","maskSize","MozMaskSize","WebkitMaskSize","MSMaskSize","OMaskSize","maskType","MozMaskType","WebkitMaskType","MSMaskType","OMaskType","maxHeight","MozMaxHeight","WebkitMaxHeight","MSMaxHeight","OMaxHeight","maxWidth","MozMaxWidth","WebkitMaxWidth","MSMaxWidth","OMaxWidth","minBlockSize","MozMinBlockSize","WebkitMinBlockSize","MSMinBlockSize","OMinBlockSize","minHeight","MozMinHeight","WebkitMinHeight","MSMinHeight","OMinHeight","minInlineSize","MozMinInlineSize","WebkitMinInlineSize","MSMinInlineSize","OMinInlineSize","minWidth","MozMinWidth","WebkitMinWidth","MSMinWidth","OMinWidth","mixBlendMode","MozMixBlendMode","WebkitMixBlendMode","MSMixBlendMode","OMixBlendMode","mm","MozMm","WebkitMm","MSMm","OMm","ms","MozMs","WebkitMs","MSMs","OMs","objectFit","MozObjectFit","WebkitObjectFit","MSObjectFit","OObjectFit","objectPosition","MozObjectPosition","WebkitObjectPosition","MSObjectPosition","OObjectPosition","offsetBlockEnd","MozOffsetBlockEnd","WebkitOffsetBlockEnd","MSOffsetBlockEnd","OOffsetBlockEnd","offsetBlockStart","MozOffsetBlockStart","WebkitOffsetBlockStart","MSOffsetBlockStart","OOffsetBlockStart","offsetInlineEnd","MozOffsetInlineEnd","WebkitOffsetInlineEnd","MSOffsetInlineEnd","OOffsetInlineEnd","offsetInlineStart","MozOffsetInlineStart","WebkitOffsetInlineStart","MSOffsetInlineStart","OOffsetInlineStart","opacity","MozOpacity","WebkitOpacity","MSOpacity","OOpacity","order","MozOrder","WebkitOrder","MSOrder","OOrder","orphans","MozOrphans","WebkitOrphans","MSOrphans","OOrphans","outline","MozOutline","WebkitOutline","MSOutline","OOutline","outlineColor","MozOutlineColor","WebkitOutlineColor","MSOutlineColor","OOutlineColor","outlineOffset","MozOutlineOffset","WebkitOutlineOffset","MSOutlineOffset","OOutlineOffset","outlineStyle","MozOutlineStyle","WebkitOutlineStyle","MSOutlineStyle","OOutlineStyle","outlineWidth","MozOutlineWidth","WebkitOutlineWidth","MSOutlineWidth","OOutlineWidth","overflow","MozOverflow","WebkitOverflow","MSOverflow","OOverflow","overflowWrap","MozOverflowWrap","WebkitOverflowWrap","MSOverflowWrap","OOverflowWrap","overflowX","MozOverflowX","WebkitOverflowX","MSOverflowX","OOverflowX","overflowY","MozOverflowY","WebkitOverflowY","MSOverflowY","OOverflowY","padding","MozPadding","WebkitPadding","MSPadding","OPadding","paddingBlockEnd","MozPaddingBlockEnd","WebkitPaddingBlockEnd","MSPaddingBlockEnd","OPaddingBlockEnd","paddingBlockStart","MozPaddingBlockStart","WebkitPaddingBlockStart","MSPaddingBlockStart","OPaddingBlockStart","paddingBottom","MozPaddingBottom","WebkitPaddingBottom","MSPaddingBottom","OPaddingBottom","paddingInlineEnd","MozPaddingInlineEnd","WebkitPaddingInlineEnd","MSPaddingInlineEnd","OPaddingInlineEnd","paddingInlineStart","MozPaddingInlineStart","WebkitPaddingInlineStart","MSPaddingInlineStart","OPaddingInlineStart","paddingLeft","MozPaddingLeft","WebkitPaddingLeft","MSPaddingLeft","OPaddingLeft","paddingRight","MozPaddingRight","WebkitPaddingRight","MSPaddingRight","OPaddingRight","paddingTop","MozPaddingTop","WebkitPaddingTop","MSPaddingTop","OPaddingTop","pageBreakAfter","MozPageBreakAfter","WebkitPageBreakAfter","MSPageBreakAfter","OPageBreakAfter","pageBreakBefore","MozPageBreakBefore","WebkitPageBreakBefore","MSPageBreakBefore","OPageBreakBefore","pageBreakInside","MozPageBreakInside","WebkitPageBreakInside","MSPageBreakInside","OPageBreakInside","pc","MozPc","WebkitPc","MSPc","OPc","perspective","MozPerspective","WebkitPerspective","MSPerspective","OPerspective","perspectiveOrigin","MozPerspectiveOrigin","WebkitPerspectiveOrigin","MSPerspectiveOrigin","OPerspectiveOrigin","pointerEvents","MozPointerEvents","WebkitPointerEvents","MSPointerEvents","OPointerEvents","position","MozPosition","WebkitPosition","MSPosition","OPosition","pt","MozPt","WebkitPt","MSPt","OPt","px","MozPx","WebkitPx","MSPx","OPx","q","MozQ","WebkitQ","MSQ","OQ","quotes","MozQuotes","WebkitQuotes","MSQuotes","OQuotes","rad","MozRad","WebkitRad","MSRad","ORad","rem","MozRem","WebkitRem","MSRem","ORem","resize","MozResize","WebkitResize","MSResize","OResize","revert","MozRevert","WebkitRevert","MSRevert","ORevert","right","MozRight","WebkitRight","MSRight","ORight","rubyAlign","MozRubyAlign","WebkitRubyAlign","MSRubyAlign","ORubyAlign","rubyMerge","MozRubyMerge","WebkitRubyMerge","MSRubyMerge","ORubyMerge","rubyPosition","MozRubyPosition","WebkitRubyPosition","MSRubyPosition","ORubyPosition","s","MozS","WebkitS","MSS","OS","scrollBehavior","MozScrollBehavior","WebkitScrollBehavior","MSScrollBehavior","OScrollBehavior","scrollSnapCoordinate","MozScrollSnapCoordinate","WebkitScrollSnapCoordinate","MSScrollSnapCoordinate","OScrollSnapCoordinate","scrollSnapDestination","MozScrollSnapDestination","WebkitScrollSnapDestination","MSScrollSnapDestination","OScrollSnapDestination","scrollSnapType","MozScrollSnapType","WebkitScrollSnapType","MSScrollSnapType","OScrollSnapType","shapeImageThreshold","MozShapeImageThreshold","WebkitShapeImageThreshold","MSShapeImageThreshold","OShapeImageThreshold","shapeMargin","MozShapeMargin","WebkitShapeMargin","MSShapeMargin","OShapeMargin","shapeOutside","MozShapeOutside","WebkitShapeOutside","MSShapeOutside","OShapeOutside","tabSize","MozTabSize","WebkitTabSize","MSTabSize","OTabSize","tableLayout","MozTableLayout","WebkitTableLayout","MSTableLayout","OTableLayout","textAlign","MozTextAlign","WebkitTextAlign","MSTextAlign","OTextAlign","textAlignLast","MozTextAlignLast","WebkitTextAlignLast","MSTextAlignLast","OTextAlignLast","textCombineUpright","MozTextCombineUpright","WebkitTextCombineUpright","MSTextCombineUpright","OTextCombineUpright","textDecoration","MozTextDecoration","WebkitTextDecoration","MSTextDecoration","OTextDecoration","textDecorationColor","MozTextDecorationColor","WebkitTextDecorationColor","MSTextDecorationColor","OTextDecorationColor","textDecorationLine","MozTextDecorationLine","WebkitTextDecorationLine","MSTextDecorationLine","OTextDecorationLine","textDecorationStyle","MozTextDecorationStyle","WebkitTextDecorationStyle","MSTextDecorationStyle","OTextDecorationStyle","textEmphasis","MozTextEmphasis","WebkitTextEmphasis","MSTextEmphasis","OTextEmphasis","textEmphasisColor","MozTextEmphasisColor","WebkitTextEmphasisColor","MSTextEmphasisColor","OTextEmphasisColor","textEmphasisPosition","MozTextEmphasisPosition","WebkitTextEmphasisPosition","MSTextEmphasisPosition","OTextEmphasisPosition","textEmphasisStyle","MozTextEmphasisStyle","WebkitTextEmphasisStyle","MSTextEmphasisStyle","OTextEmphasisStyle","textIndent","MozTextIndent","WebkitTextIndent","MSTextIndent","OTextIndent","textOrientation","MozTextOrientation","WebkitTextOrientation","MSTextOrientation","OTextOrientation","textOverflow","MozTextOverflow","WebkitTextOverflow","MSTextOverflow","OTextOverflow","textRendering","MozTextRendering","WebkitTextRendering","MSTextRendering","OTextRendering","textShadow","MozTextShadow","WebkitTextShadow","MSTextShadow","OTextShadow","textTransform","MozTextTransform","WebkitTextTransform","MSTextTransform","OTextTransform","textUnderlinePosition","MozTextUnderlinePosition","WebkitTextUnderlinePosition","MSTextUnderlinePosition","OTextUnderlinePosition","top","MozTop","WebkitTop","MSTop","OTop","touchAction","MozTouchAction","WebkitTouchAction","MSTouchAction","OTouchAction","transform","MozTransform","WebkitTransform","msTransform","OTransform","transformBox","MozTransformBox","WebkitTransformBox","MSTransformBox","OTransformBox","transformOrigin","MozTransformOrigin","WebkitTransformOrigin","MSTransformOrigin","OTransformOrigin","transformStyle","MozTransformStyle","WebkitTransformStyle","MSTransformStyle","OTransformStyle","transition","MozTransition","WebkitTransition","MSTransition","OTransition","transitionDelay","MozTransitionDelay","WebkitTransitionDelay","MSTransitionDelay","OTransitionDelay","transitionDuration","MozTransitionDuration","WebkitTransitionDuration","MSTransitionDuration","OTransitionDuration","transitionProperty","MozTransitionProperty","WebkitTransitionProperty","MSTransitionProperty","OTransitionProperty","transitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","MSTransitionTimingFunction","OTransitionTimingFunction","turn","MozTurn","WebkitTurn","MSTurn","OTurn","unicodeBidi","MozUnicodeBidi","WebkitUnicodeBidi","MSUnicodeBidi","OUnicodeBidi","unset","MozUnset","WebkitUnset","MSUnset","OUnset","verticalAlign","MozVerticalAlign","WebkitVerticalAlign","MSVerticalAlign","OVerticalAlign","vh","MozVh","WebkitVh","MSVh","OVh","visibility","MozVisibility","WebkitVisibility","MSVisibility","OVisibility","vmax","MozVmax","WebkitVmax","MSVmax","OVmax","vmin","MozVmin","WebkitVmin","MSVmin","OVmin","vw","MozVw","WebkitVw","MSVw","OVw","whiteSpace","MozWhiteSpace","WebkitWhiteSpace","MSWhiteSpace","OWhiteSpace","widows","MozWidows","WebkitWidows","MSWidows","OWidows","width","MozWidth","WebkitWidth","MSWidth","OWidth","willChange","MozWillChange","WebkitWillChange","MSWillChange","OWillChange","wordBreak","MozWordBreak","WebkitWordBreak","MSWordBreak","OWordBreak","wordSpacing","MozWordSpacing","WebkitWordSpacing","MSWordSpacing","OWordSpacing","wordWrap","MozWordWrap","WebkitWordWrap","MSWordWrap","OWordWrap","writingMode","MozWritingMode","WebkitWritingMode","MSWritingMode","OWritingMode","zIndex","MozZIndex","WebkitZIndex","MSZIndex","OZIndex","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","flex","MozFlex","WebkitFlex","MSFlex","OFlex","fr","MozFr","WebkitFr","MSFr","OFr","overflowScrolling","MozOverflowScrolling","WebkitOverflowScrolling","MSOverflowScrolling","OOverflowScrolling","userSelect","MozUserSelect","WebkitUserSelect","MSUserSelect","OUserSelect"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(r(1)),i=p(r(3)),o=p(r(223)),a=p(r(299)),s=r(146),c=r(224),l=r(128),u=p(r(301)),d=p(r(225));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var i=w(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return S(this,r)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),_(A(n=t.call(this,e)),"onDragStart",(function(e,t){if((0,d.default)("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,(0,c.createDraggableData)(A(n),t)))return!1;n.setState({dragging:!0,dragged:!0})})),_(A(n),"onDrag",(function(e,t){if(!n.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);var r=(0,c.createDraggableData)(A(n),t),i={x:r.x,y:r.y};if(n.props.bounds){var o=i.x,a=i.y;i.x+=n.state.slackX,i.y+=n.state.slackY;var s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,c.getBoundPosition)(A(n),i.x,i.y),2),l=s[0],u=s[1];i.x=l,i.y=u,i.slackX=n.state.slackX+(o-i.x),i.slackY=n.state.slackY+(a-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-n.state.x,r.deltaY=i.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(i)})),_(A(n),"onDragStop",(function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,(0,c.createDraggableData)(A(n),t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var i=n.props.position,o=i.x,a=i.y;r.x=o,r.y=a}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:y({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return b(r,null,[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.position,n=t.prevPropsPosition;return!r||n&&r.x===n.x&&r.y===n.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:r,prevPropsPosition:n}),{x:r.x,y:r.y,prevPropsPosition:y({},r)})}}]),b(r,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,r=(t.axis,t.bounds,t.children),i=t.defaultPosition,o=t.defaultClassName,l=t.defaultClassNameDragging,d=t.defaultClassNameDragged,p=t.position,h=t.positionOffset,g=(t.scale,function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),m={},v=null,b=!Boolean(p)||this.state.dragging,x=p||i,S={x:(0,c.canDragX)(this)&&b?this.state.x:x.x,y:(0,c.canDragY)(this)&&b?this.state.y:x.y};this.state.isElementSVG?v=(0,s.createSVGTransform)(S,h):m=(0,s.createCSSTransform)(S,h);var A=(0,a.default)(r.props.className||"",o,(_(e={},l,this.state.dragging),_(e,d,this.state.dragged),e));return n.createElement(u.default,f({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(r),{className:A,style:y(y({},r.props.style),m),transform:v}))}}]),r}(n.Component);t.default=T,_(T,"displayName","Draggable"),_(T,"propTypes",y(y({},u.default.propTypes),{},{axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe})),_(T,"defaultProps",y(y({},u.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))},function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var a=i.apply(null,n);a&&e.push(a)}else if("object"===o)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=i,t.browserPrefixToKey=o,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0;var n=["Moz","Webkit","O","ms"];function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var r=0;r<n.length;r++)if(o(e,n[r])in t)return n[r];return""}function o(e,t){return t?"".concat(t).concat(function(e){for(var t="",r=!0,n=0;n<e.length;n++)r?(t+=e[n].toUpperCase(),r=!1):"-"===e[n]?r=!0:t+=e[n];return t}(e)):e}var a=i();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=n?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(r(1)),i=u(r(3)),o=u(r(223)),a=r(146),s=r(224),c=r(128),l=u(r(225));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S={start:"touchstart",move:"touchmove",stop:"touchend"},A={start:"mousedown",move:"mousemove",stop:"mouseup"},w=A,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,r,i=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var i=b(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y(this,r)}}(c);function c(){var e;f(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return x(v(e=i.call.apply(i,[this].concat(r))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),x(v(e),"mounted",!1),x(v(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var r=e.findDOMNode();if(!r||!r.ownerDocument||!r.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var n=r.ownerDocument;if(!(e.props.disabled||!(t.target instanceof n.defaultView.Node)||e.props.handle&&!(0,a.matchesSelectorAndParentsTo)(t.target,e.props.handle,r)||e.props.cancel&&(0,a.matchesSelectorAndParentsTo)(t.target,e.props.cancel,r))){"touchstart"===t.type&&t.preventDefault();var i=(0,a.getTouchIdentifier)(t);e.setState({touchIdentifier:i});var o=(0,s.getControlPosition)(t,i,v(e));if(null!=o){var c=o.x,u=o.y,d=(0,s.createCoreData)(v(e),c,u);(0,l.default)("DraggableCore: handleDragStart: %j",d),(0,l.default)("calling",e.props.onStart),!1!==e.props.onStart(t,d)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(n),e.setState({dragging:!0,lastX:c,lastY:u}),(0,a.addEvent)(n,w.move,e.handleDrag),(0,a.addEvent)(n,w.stop,e.handleDragStop))}}})),x(v(e),"handleDrag",(function(t){var r=(0,s.getControlPosition)(t,e.state.touchIdentifier,v(e));if(null!=r){var n=r.x,i=r.y;if(Array.isArray(e.props.grid)){var o=n-e.state.lastX,a=i-e.state.lastY,c=p((0,s.snapToGrid)(e.props.grid,o,a),2);if(o=c[0],a=c[1],!o&&!a)return;n=e.state.lastX+o,i=e.state.lastY+a}var u=(0,s.createCoreData)(v(e),n,i);if((0,l.default)("DraggableCore: handleDrag: %j",u),!1!==e.props.onDrag(t,u)&&!1!==e.mounted)e.setState({lastX:n,lastY:i});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(d)}}})),x(v(e),"handleDragStop",(function(t){if(e.state.dragging){var r=(0,s.getControlPosition)(t,e.state.touchIdentifier,v(e));if(null!=r){var n=r.x,i=r.y,o=(0,s.createCoreData)(v(e),n,i);if(!1===e.props.onStop(t,o)||!1===e.mounted)return!1;var c=e.findDOMNode();c&&e.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(c.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",o),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),c&&((0,l.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(c.ownerDocument,w.move,e.handleDrag),(0,a.removeEvent)(c.ownerDocument,w.stop,e.handleDragStop))}}})),x(v(e),"onMouseDown",(function(t){return w=A,e.handleDragStart(t)})),x(v(e),"onMouseUp",(function(t){return w=A,e.handleDragStop(t)})),x(v(e),"onTouchStart",(function(t){return w=S,e.handleDragStart(t)})),x(v(e),"onTouchEnd",(function(t){return w=S,e.handleDragStop(t)})),e}return t=c,(r=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,a.addEvent)(e,S.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,a.removeEvent)(t,A.move,this.handleDrag),(0,a.removeEvent)(t,S.move,this.handleDrag),(0,a.removeEvent)(t,A.stop,this.handleDragStop),(0,a.removeEvent)(t,S.stop,this.handleDragStop),(0,a.removeEvent)(e,S.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this)}},{key:"render",value:function(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&g(t.prototype,r),c}(n.Component);t.default=_,x(_,"displayName","DraggableCore"),x(_,"propTypes",{allowAnyClick:i.default.bool,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),x(_,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},function(e,t,r){var n=r(226),i=r(303),o={};for(var a in n)n.hasOwnProperty(a)&&(o[n[a]]=a);var s=e.exports={to:{},get:{}};function c(e,t,r){return Math.min(Math.max(t,e),r)}function l(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}s.get=function(e){var t,r;switch(e.substring(0,3).toLowerCase()){case"hsl":t=s.get.hsl(e),r="hsl";break;case"hwb":t=s.get.hwb(e),r="hwb";break;default:t=s.get.rgb(e),r="rgb"}return t?{model:r,value:t}:null},s.get.rgb=function(e){if(!e)return null;var t,r,i,o=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],r=0;r<3;r++){var a=2*r;o[r]=parseInt(t.slice(a,a+2),16)}i&&(o[3]=Math.round(parseInt(i,16)/255*100)/100)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],r=0;r<3;r++)o[r]=parseInt(t[r]+t[r],16);i&&(o[3]=Math.round(parseInt(i+i,16)/255*100)/100)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<3;r++)o[r]=parseInt(t[r+1],0);t[4]&&(o[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(o=n[t[1]])?(o[3]=1,o):null:null;for(r=0;r<3;r++)o[r]=Math.round(2.55*parseFloat(t[r+1]));t[4]&&(o[3]=parseFloat(t[4]))}for(r=0;r<3;r++)o[r]=c(o[r],0,255);return o[3]=c(o[3],0,1),o},s.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},s.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},s.to.hex=function(){var e=i(arguments);return"#"+l(e[0])+l(e[1])+l(e[2])+(e[3]<1?l(Math.round(255*e[3])):"")},s.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},s.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"},s.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},s.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},s.to.keyword=function(e){return o[e.slice(0,3)]}},function(e,t,r){"use strict";var n=r(304),i=Array.prototype.concat,o=Array.prototype.slice,a=e.exports=function(e){for(var t=[],r=0,a=e.length;r<a;r++){var s=e[r];n(s)?t=i.call(t,o.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},function(e,t){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t,r){var n=r(227),i=r(306),o={};Object.keys(n).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:n[e].channels}),Object.defineProperty(o[e],"labels",{value:n[e].labels});var t=i(e);Object.keys(t).forEach((function(r){var n=t[r];o[e][r]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(n),o[e][r].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)}))})),e.exports=o},function(e,t,r){var n=r(227);function i(e){var t=function(){for(var e={},t=Object.keys(n),r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var i=r.pop(),o=Object.keys(n[i]),a=o.length,s=0;s<a;s++){var c=o[s],l=t[c];-1===l.distance&&(l.distance=t[i].distance+1,l.parent=i,r.unshift(c))}return t}function o(e,t){return function(r){return t(e(r))}}function a(e,t){for(var r=[t[e].parent,e],i=n[t[e].parent][e],a=t[e].parent;t[a].parent;)r.unshift(t[a].parent),i=o(n[t[a].parent][a],i),a=t[a].parent;return i.conversion=r,i}e.exports=function(e){for(var t=i(e),r={},n=Object.keys(t),o=n.length,s=0;s<o;s++){var c=n[s];null!==t[c].parent&&(r[c]=a(c,t))}return r}},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=c(r(1)),o=c(r(4)),a=r(12),s=c(r(436));function c(e){return e&&e.__esModule?e:{default:e}}var l=t.AlphaPicker=function(e){var t=e.rgb,r=e.hsl,s=e.width,c=e.height,l=e.onChange,u=e.direction,d=e.style,p=e.renderers,h=e.pointer,f=e.className,g=void 0===f?"":f,m=(0,o.default)({default:{picker:{position:"relative",width:s,height:c},alpha:{radius:"2px",style:d}}});return i.default.createElement("div",{style:m.picker,className:"alpha-picker "+g},i.default.createElement(a.Alpha,n({},m.alpha,{rgb:t,hsl:r,pointer:h,renderers:p,onChange:l,direction:u})))};l.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,a.ColorWrap)(l)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var n=s(r(312)),i=s(r(147)),o=s(r(234)),a=s(r(58));function s(e){return e&&e.__esModule?e:{default:e}}var c=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[];return(0,a.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return r.push(e)})):(0,o.default)(t)?(0,i.default)(t,(function(e,t){!0===e&&r.push(t),r.push(t+"-"+e)})):(0,n.default)(t)&&r.push(t)})),r};t.default=c},function(e,t,r){var n=r(62),i=r(25),o=r(42);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==n(e)}},function(e,t,r){var n=r(97),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t){e.exports=function(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===r(o[c],c,o))break}return t}}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(62),i=r(42);e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(62),i=r(151),o=r(42),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[n(e)]}},function(e,t,r){var n=r(154),i=r(321),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t,r){var n=r(232)(Object.keys,Object);e.exports=n},function(e,t,r){var n=r(323),i=r(367),o=r(131),a=r(25),s=r(377);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):n(e):s(e)}},function(e,t,r){var n=r(324),i=r(366),o=r(245);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},function(e,t,r){var n=r(132),i=r(237);e.exports=function(e,t,r,o){var a=r.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var l=r[a];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var u=(l=r[a])[0],d=e[u],p=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var h=new n;if(o)var f=o(d,p,u,e,t,h);if(!(void 0===f?i(p,d,3,o,h):f))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(134),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},function(e,t,r){var n=r(134);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(134);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(134);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},function(e,t,r){var n=r(133);e.exports=function(){this.__data__=new n,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(133),i=r(157),o=r(158);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(a)}return r.set(e,t),this.size=r.size,this}},function(e,t,r){var n=r(155),i=r(336),o=r(32),a=r(236),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(n(e)?p:s).test(a(e))}},function(e,t,r){var n,i=r(337),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},function(e,t,r){var n=r(33)["__core-js_shared__"];e.exports=n},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,r){var n=r(340),i=r(133),o=r(157);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},function(e,t,r){var n=r(341),i=r(342),o=r(343),a=r(344),s=r(345);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,r){var n=r(135);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(135),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(135),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},function(e,t,r){var n=r(135);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,r){var n=r(136);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(136);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(136);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(136);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},function(e,t,r){var n=r(132),i=r(238),o=r(357),a=r(360),s=r(137),c=r(25),l=r(129),u=r(150),d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,h,f,g){var m=c(e),y=c(t),v=m?"[object Array]":s(e),b=y?"[object Array]":s(t),x=(v="[object Arguments]"==v?d:v)==d,S=(b="[object Arguments]"==b?d:b)==d,A=v==b;if(A&&l(e)){if(!l(t))return!1;m=!0,x=!1}if(A&&!x)return g||(g=new n),m||u(e)?i(e,t,r,h,f,g):o(e,t,v,r,h,f,g);if(!(1&r)){var w=x&&p.call(e,"__wrapped__"),_=S&&p.call(t,"__wrapped__");if(w||_){var T=w?e.value():e,E=_?t.value():t;return g||(g=new n),f(T,E,r,h,g)}}return!!A&&(g||(g=new n),a(e,t,r,h,f,g))}},function(e,t,r){var n=r(158),i=r(353),o=r(354);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,r){var n=r(97),i=r(239),o=r(99),a=r(238),s=r(358),c=r(359),l=n?n.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,r,n,l,d,p){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&n;if(h||(h=c),e.size!=t.size&&!f)return!1;var g=p.get(e);if(g)return g==t;n|=2,p.set(e,t);var m=a(h(e),h(t),n,l,d,p);return p.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},function(e,t,r){var n=r(240),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,o,a,s){var c=1&r,l=n(e),u=l.length;if(u!=n(t).length&&!c)return!1;for(var d=u;d--;){var p=l[d];if(!(c?p in t:i.call(t,p)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=c;++d<u;){var y=e[p=l[d]],v=t[p];if(o)var b=c?o(v,y,p,t,e,s):o(y,v,p,e,t,s);if(!(void 0===b?y===v||a(y,v,r,o,s):b)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var x=e.constructor,S=t.constructor;x==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof S&&S instanceof S||(g=!1)}return s.delete(e),s.delete(t),g}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}},function(e,t,r){var n=r(63)(r(33),"DataView");e.exports=n},function(e,t,r){var n=r(63)(r(33),"Promise");e.exports=n},function(e,t,r){var n=r(63)(r(33),"Set");e.exports=n},function(e,t,r){var n=r(63)(r(33),"WeakMap");e.exports=n},function(e,t,r){var n=r(244),i=r(98);e.exports=function(e){for(var t=i(e),r=t.length;r--;){var o=t[r],a=e[o];t[r]=[o,a,n(a)]}return t}},function(e,t,r){var n=r(237),i=r(368),o=r(374),a=r(160),s=r(244),c=r(245),l=r(139);e.exports=function(e,t){return a(e)&&s(t)?c(l(e),t):function(r){var a=i(r,e);return void 0===a&&a===t?o(r,e):n(t,a,3)}}},function(e,t,r){var n=r(246);e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},function(e,t,r){var n=r(370),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,r,n,i){t.push(n?i.replace(o,"$1"):r||e)})),t}));e.exports=a},function(e,t,r){var n=r(371);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},function(e,t,r){var n=r(158);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(i.Cache||n),r}i.Cache=n,e.exports=i},function(e,t,r){var n=r(373);e.exports=function(e){return null==e?"":n(e)}},function(e,t,r){var n=r(97),i=r(235),o=r(25),a=r(138),s=n?n.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},function(e,t,r){var n=r(375),i=r(376);e.exports=function(e,t){return null!=e&&i(e,t,n)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,r){var n=r(247),i=r(148),o=r(25),a=r(149),s=r(151),c=r(139);e.exports=function(e,t,r){for(var l=-1,u=(t=n(t,e)).length,d=!1;++l<u;){var p=c(t[l]);if(!(d=null!=e&&r(e,p)))break;e=e[p]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(p,u)&&(o(e)||i(e))}},function(e,t,r){var n=r(378),i=r(379),o=r(160),a=r(139);e.exports=function(e){return o(e)?n(a(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,r){var n=r(246);e.exports=function(e){return function(t){return n(t,e)}}},function(e,t,r){var n=r(248),i=r(96);e.exports=function(e,t){var r=-1,o=i(e)?Array(e.length):[];return n(e,(function(e,n,i){o[++r]=t(e,n,i)})),o}},function(e,t,r){var n=r(96);e.exports=function(e,t){return function(r,i){if(null==r)return r;if(!n(r))return e(r,i);for(var o=r.length,a=t?o:-1,s=Object(r);(t?a--:++a<o)&&!1!==i(s[a],a,s););return r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var n=a(r(147)),i=a(r(383)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.default&&(0,i.default)(e.default)||{};return t.map((function(t){var i=e[t];return i&&(0,n.default)(i,(function(e,t){r[t]||(r[t]={}),r[t]=o({},r[t],i[t])})),t})),r};t.default=s},function(e,t,r){var n=r(384);e.exports=function(e){return n(e,5)}},function(e,t,r){var n=r(132),i=r(249),o=r(250),a=r(385),s=r(386),c=r(252),l=r(253),u=r(389),d=r(390),p=r(240),h=r(391),f=r(137),g=r(392),m=r(393),y=r(256),v=r(25),b=r(129),x=r(398),S=r(32),A=r(400),w=r(98),_=r(101),T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T["[object Function]"]=T["[object WeakMap]"]=!1,e.exports=function e(t,r,E,B,R,M){var C,O=1&r,I=2&r,F=4&r;if(E&&(C=R?E(t,B,R,M):E(t)),void 0!==C)return C;if(!S(t))return t;var N=v(t);if(N){if(C=g(t),!O)return l(t,C)}else{var L=f(t),P="[object Function]"==L||"[object GeneratorFunction]"==L;if(b(t))return c(t,O);if("[object Object]"==L||"[object Arguments]"==L||P&&!R){if(C=I||P?{}:y(t),!O)return I?d(t,s(C,t)):u(t,a(C,t))}else{if(!T[L])return R?t:{};C=m(t,L,O)}}M||(M=new n);var D=M.get(t);if(D)return D;M.set(t,C),A(t)?t.forEach((function(n){C.add(e(n,r,E,n,t,M))})):x(t)&&t.forEach((function(n,i){C.set(i,e(n,r,E,i,t,M))}));var U=N?void 0:(F?I?h:p:I?_:w)(t);return i(U||t,(function(n,i){U&&(n=t[i=n]),o(C,i,e(n,r,E,i,t,M))})),C}},function(e,t,r){var n=r(100),i=r(98);e.exports=function(e,t){return e&&n(t,i(t),e)}},function(e,t,r){var n=r(100),i=r(101);e.exports=function(e,t){return e&&n(t,i(t),e)}},function(e,t,r){var n=r(32),i=r(154),o=r(388),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=i(e),r=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&r.push(s);return r}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){var n=r(100),i=r(159);e.exports=function(e,t){return n(e,i(e),t)}},function(e,t,r){var n=r(100),i=r(254);e.exports=function(e,t){return n(e,i(e),t)}},function(e,t,r){var n=r(241),i=r(254),o=r(101);e.exports=function(e){return n(e,o,i)}},function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},function(e,t,r){var n=r(162),i=r(394),o=r(395),a=r(396),s=r(255);e.exports=function(e,t,r){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Set]":return new c;case"[object Symbol]":return a(e)}}},function(e,t,r){var n=r(162);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},function(e,t){var r=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,r){var n=r(97),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,r){var n=r(32),i=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},function(e,t,r){var n=r(399),i=r(152),o=r(153),a=o&&o.isMap,s=a?i(a):n;e.exports=s},function(e,t,r){var n=r(137),i=r(42);e.exports=function(e){return i(e)&&"[object Map]"==n(e)}},function(e,t,r){var n=r(401),i=r(152),o=r(153),a=o&&o.isSet,s=a?i(a):n;e.exports=s},function(e,t,r){var n=r(137),i=r(42);e.exports=function(e){return i(e)&&"[object Set]"==n(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var n,i=(n=r(147))&&n.__esModule?n:{default:n},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){return t[e]||{extend:e}}},s=t.autoprefix=function(e){var t={};return(0,i.default)(e,(function(e,r){var n={};(0,i.default)(e,(function(e,t){var r=a[t];r?n=o({},n,r(e)):n[t]=e})),t[r]=n})),t};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=(n=r(1))&&n.__esModule?n:{default:n};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var r,c,l;a(this,n);for(var u=arguments.length,d=Array(u),p=0;p<u;p++)d[p]=arguments[p];return c=l=s(this,(r=n.__proto__||Object.getPrototypeOf(n)).call.apply(r,[this].concat(d))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return o.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},o.default.createElement(e,i({},l.props,l.state)))},s(l,c)}return c(n,r),n}(o.default.Component)};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=(n=r(1))&&n.__esModule?n:{default:n};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var r,c,l;a(this,n);for(var u=arguments.length,d=Array(u),p=0;p<u;p++)d[p]=arguments[p];return c=l=s(this,(r=n.__proto__||Object.getPrototypeOf(n)).call.apply(r,[this].concat(d))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return o.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},o.default.createElement(e,i({},l.props,l.state)))},s(l,c)}return c(n,r),n}(o.default.Component)};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r={},n=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r[e]=t};return 0===e&&n("first-child"),e===t-1&&n("last-child"),(0===e||e%2==0)&&n("even"),1===Math.abs(e%2)&&n("odd"),n("nth-child",e),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=u(o),s=u(r(4)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(407)),l=u(r(163));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=t.Alpha=function(e){function t(){var e,r,n;d(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.handleChange=function(e){var t=c.calculateChange(e,n.props.hsl,n.props.direction,n.props.a,n.container);t&&"function"==typeof n.props.onChange&&n.props.onChange(t,e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleChange),window.removeEventListener("mouseup",n.handleMouseUp)},p(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,r=(0,s.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:n({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return a.default.createElement("div",{style:r.alpha},a.default.createElement("div",{style:r.checkboard},a.default.createElement(l.default,{renderers:this.props.renderers})),a.default.createElement("div",{style:r.gradient}),a.default.createElement("div",{style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement("div",{style:r.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement("div",{style:r.slider}))))}}]),t}(o.PureComponent||o.Component);t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateChange=function(e,t,r,n,i){var o,a,s=i.clientWidth,c=i.clientHeight,l="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,d=l-(i.getBoundingClientRect().left+window.pageXOffset),p=u-(i.getBoundingClientRect().top+window.pageYOffset);if("vertical"===r){if(o=p<0?0:p>c?1:Math.round(100*p/c)/100,t.a!==o)return{h:t.h,s:t.s,l:t.l,a:o,source:"rgb"}}else if(n!==(a=d<0?0:d>s?1:Math.round(100*d/s)/100))return{h:t.h,s:t.s,l:t.l,a:a,source:"rgb"};return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={},i=t.render=function(e,t,r,n){if("undefined"==typeof document&&!n)return null;var i=n?new n:document.createElement("canvas");i.width=2*r,i.height=2*r;var o=i.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),i.toDataURL()):null};t.get=function(e,t,r,o){var a=e+"-"+t+"-"+r+(o?"-server":"");if(n[a])return n[a];var s=i(e,t,r,o);return n[a]=s,s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),o=s(i),a=s(r(4));function s(e){return e&&e.__esModule?e:{default:e}}var c=[38,40],l=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(e){r.setUpdatedValue(e.target.value,e)},r.handleKeyDown=function(e){var t,n=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(n)&&(t=e.keyCode,c.indexOf(t)>-1)){var i=r.getArrowOffset(),o=38===e.keyCode?n+i:n-i;r.setUpdatedValue(o,e)}},r.handleDrag=function(e){if(r.props.dragLabel){var t=Math.round(r.props.value+e.movementX);t>=0&&t<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(t),e)}},r.handleMouseDown=function(e){r.props.dragLabel&&(e.preventDefault(),r.handleDrag(e),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var r=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(r,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=(0,a.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return o.default.createElement("div",{style:t.wrap},o.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?o.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(i.PureComponent||i.Component);t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),o=c(i),a=c(r(4)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(411));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.Hue=function(e){function t(){var e,r,n;l(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.handleChange=function(e){var t=s.calculateChange(e,n.props.direction,n.props.hsl,n.container);t&&"function"==typeof n.props.onChange&&n.props.onChange(t,e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},u(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,r=void 0===t?"horizontal":t,n=(0,a.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===r});return o.default.createElement("div",{style:n.hue},o.default.createElement("div",{className:"hue-"+r,style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),o.default.createElement("div",{style:n.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:n.slider}))))}}]),t}(i.PureComponent||i.Component);t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateChange=function(e,t,r,n){var i=n.clientWidth,o=n.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=a-(n.getBoundingClientRect().left+window.pageXOffset),l=s-(n.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var u=void 0;if(u=l<0?359:l>o?0:360*(-100*l/o+100)/100,r.h!==u)return{h:u,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var d=void 0;if(d=c<0?0:c>i?359:100*c/i*360/100,r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var n=s(r(1)),i=s(r(3)),o=s(r(4)),a=s(r(26));function s(e){return e&&e.__esModule?e:{default:e}}var c=t.Raised=function(e){var t=e.zDepth,r=e.radius,i=e.background,s=e.children,c=e.styles,l=void 0===c?{}:c,u=(0,o.default)((0,a.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},l),{"zDepth-1":1===t});return n.default.createElement("div",{style:u.wrap},n.default.createElement("div",{style:u.bg}),n.default.createElement("div",{style:u.content},s))};c.propTypes={background:i.default.string,zDepth:i.default.oneOf([0,1,2,3,4,5]),radius:i.default.number,styles:i.default.object},c.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},t.default=c},function(e,t,r){var n=r(132),i=r(257),o=r(230),a=r(414),s=r(32),c=r(101),l=r(258);e.exports=function e(t,r,u,d,p){t!==r&&o(r,(function(o,c){if(p||(p=new n),s(o))a(t,r,c,u,e,d,p);else{var h=d?d(l(t,c),o,c+"",t,r,p):void 0;void 0===h&&(h=o),i(t,c,h)}}),c)}},function(e,t,r){var n=r(257),i=r(252),o=r(255),a=r(253),s=r(256),c=r(148),l=r(25),u=r(415),d=r(129),p=r(155),h=r(32),f=r(234),g=r(150),m=r(258),y=r(416);e.exports=function(e,t,r,v,b,x,S){var A=m(e,r),w=m(t,r),_=S.get(w);if(_)n(e,r,_);else{var T=x?x(A,w,r+"",e,t,S):void 0,E=void 0===T;if(E){var B=l(w),R=!B&&d(w),M=!B&&!R&&g(w);T=w,B||R||M?l(A)?T=A:u(A)?T=a(A):R?(E=!1,T=i(w,!0)):M?(E=!1,T=o(w,!0)):T=[]:f(w)||c(w)?(T=A,c(A)?T=y(A):h(A)&&!p(A)||(T=s(w))):E=!1}E&&(S.set(w,T),b(T,w,v,x,S),S.delete(w)),n(e,r,T)}}},function(e,t,r){var n=r(96),i=r(42);e.exports=function(e){return i(e)&&n(e)}},function(e,t,r){var n=r(100),i=r(101);e.exports=function(e){return n(e,i(e))}},function(e,t,r){var n=r(418),i=r(425);e.exports=function(e){return n((function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(r[0],r[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++n<o;){var c=r[n];c&&e(t,c,n,a)}return t}))}},function(e,t,r){var n=r(131),i=r(419),o=r(421);e.exports=function(e,t){return o(i(e,t,n),e+"")}},function(e,t,r){var n=r(420),i=Math.max;e.exports=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=r(c),n(e,this,l)}}},function(e,t){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e,t,r){var n=r(422),i=r(424)(n);e.exports=i},function(e,t,r){var n=r(423),i=r(251),o=r(131),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var r=Date.now;e.exports=function(e){var t=0,n=0;return function(){var i=r(),o=16-(i-n);if(n=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,r){var n=r(99),i=r(96),o=r(149),a=r(32);e.exports=function(e,t,r){if(!a(r))return!1;var s=typeof t;return!!("number"==s?i(r)&&o(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),o=l(i),a=l(r(4)),s=l(r(427)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(430));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleChange=function(e){"function"==typeof r.props.onChange&&r.throttle(r.props.onChange,c.calculateChange(e,r.props.hsl,r.container),e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=(0,s.default)((function(e,t,r){e(t,r)}),50),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},r=t.color,n=t.white,i=t.black,s=t.pointer,c=t.circle,l=(0,a.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:r,white:n,black:i,pointer:s,circle:c}},{custom:!!this.props.style});return o.default.createElement("div",{style:l.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),o.default.createElement("div",{style:l.white,className:"saturation-white"},o.default.createElement("div",{style:l.black,className:"saturation-black"}),o.default.createElement("div",{style:l.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:l.circle}))))}}]),t}(i.PureComponent||i.Component);t.default=u},function(e,t,r){var n=r(259),i=r(32);e.exports=function(e,t,r){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(r)&&(o="leading"in r?!!r.leading:o,a="trailing"in r?!!r.trailing:a),n(e,t,{leading:o,maxWait:t,trailing:a})}},function(e,t,r){var n=r(33);e.exports=function(){return n.Date.now()}},function(e,t,r){var n=r(32),i=r(138),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=s.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):a.test(e)?NaN:+e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateChange=function(e,t,r){var n=r.getBoundingClientRect(),i=n.width,o=n.height,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=a-(r.getBoundingClientRect().left+window.pageXOffset),l=s-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>i&&(c=i),l<0?l=0:l>o&&(l=o);var u=c/i,d=1-l/o;return{h:t.h,s:u,v:d,a:t.a,source:"hsv"}}},function(e,t,r){e.exports=r(432)},function(e,t,r){var n=r(249),i=r(248),o=r(233),a=r(25);e.exports=function(e,t){return(a(e)?n:i)(e,o(t))}},function(e,t,r){var n;!function(i){var o=/^\s+/,a=/\s+$/,s=0,c=i.round,l=i.min,u=i.max,d=i.random;function p(e,t){if(t=t||{},(e=e||"")instanceof p)return e;if(!(this instanceof p))return new p(e,t);var r=function(e){var t,r,n,s={r:0,g:0,b:0},c=1,d=null,p=null,h=null,f=!1,g=!1;return"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,r=!1;if(C[e])e=C[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=V.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=V.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=V.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=V.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=V.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=V.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=V.hex8.exec(e))?{r:L(t[1]),g:L(t[2]),b:L(t[3]),a:G(t[4]),format:r?"name":"hex8"}:(t=V.hex6.exec(e))?{r:L(t[1]),g:L(t[2]),b:L(t[3]),format:r?"name":"hex"}:(t=V.hex4.exec(e))?{r:L(t[1]+""+t[1]),g:L(t[2]+""+t[2]),b:L(t[3]+""+t[3]),a:G(t[4]+""+t[4]),format:r?"name":"hex8"}:!!(t=V.hex3.exec(e))&&{r:L(t[1]+""+t[1]),g:L(t[2]+""+t[2]),b:L(t[3]+""+t[3]),format:r?"name":"hex"}}(e)),"object"==typeof e&&(W(e.r)&&W(e.g)&&W(e.b)?(t=e.r,r=e.g,n=e.b,s={r:255*F(t,255),g:255*F(r,255),b:255*F(n,255)},f=!0,g="%"===String(e.r).substr(-1)?"prgb":"rgb"):W(e.h)&&W(e.s)&&W(e.v)?(d=D(e.s),p=D(e.v),s=function(e,t,r){e=6*F(e,360),t=F(t,100),r=F(r,100);var n=i.floor(e),o=e-n,a=r*(1-t),s=r*(1-o*t),c=r*(1-(1-o)*t),l=n%6;return{r:255*[r,s,a,a,c,r][l],g:255*[c,r,r,s,a,a][l],b:255*[a,a,c,r,r,s][l]}}(e.h,d,p),f=!0,g="hsv"):W(e.h)&&W(e.s)&&W(e.l)&&(d=D(e.s),h=D(e.l),s=function(e,t,r){var n,i,o;function a(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=F(e,360),t=F(t,100),r=F(r,100),0===t)n=i=o=r;else{var s=r<.5?r*(1+t):r+t-r*t,c=2*r-s;n=a(c,s,e+1/3),i=a(c,s,e),o=a(c,s,e-1/3)}return{r:255*n,g:255*i,b:255*o}}(e.h,d,h),f=!0,g="hsl"),e.hasOwnProperty("a")&&(c=e.a)),c=I(c),{ok:f,format:e.format||g,r:l(255,u(s.r,0)),g:l(255,u(s.g,0)),b:l(255,u(s.b,0)),a:c}}(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=c(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=r.ok,this._tc_id=s++}function h(e,t,r){e=F(e,255),t=F(t,255),r=F(r,255);var n,i,o=u(e,t,r),a=l(e,t,r),s=(o+a)/2;if(o==a)n=i=0;else{var c=o-a;switch(i=s>.5?c/(2-o-a):c/(o+a),o){case e:n=(t-r)/c+(t<r?6:0);break;case t:n=(r-e)/c+2;break;case r:n=(e-t)/c+4}n/=6}return{h:n,s:i,l:s}}function f(e,t,r){e=F(e,255),t=F(t,255),r=F(r,255);var n,i,o=u(e,t,r),a=l(e,t,r),s=o,c=o-a;if(i=0===o?0:c/o,o==a)n=0;else{switch(o){case e:n=(t-r)/c+(t<r?6:0);break;case t:n=(r-e)/c+2;break;case r:n=(e-t)/c+4}n/=6}return{h:n,s:i,v:s}}function g(e,t,r,n){var i=[P(c(e).toString(16)),P(c(t).toString(16)),P(c(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function m(e,t,r,n){return[P(U(n)),P(c(e).toString(16)),P(c(t).toString(16)),P(c(r).toString(16))].join("")}function y(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.s-=t/100,r.s=N(r.s),p(r)}function v(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.s+=t/100,r.s=N(r.s),p(r)}function b(e){return p(e).desaturate(100)}function x(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.l+=t/100,r.l=N(r.l),p(r)}function S(e,t){t=0===t?0:t||10;var r=p(e).toRgb();return r.r=u(0,l(255,r.r-c(-t/100*255))),r.g=u(0,l(255,r.g-c(-t/100*255))),r.b=u(0,l(255,r.b-c(-t/100*255))),p(r)}function A(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.l-=t/100,r.l=N(r.l),p(r)}function w(e,t){var r=p(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,p(r)}function _(e){var t=p(e).toHsl();return t.h=(t.h+180)%360,p(t)}function T(e){var t=p(e).toHsl(),r=t.h;return[p(e),p({h:(r+120)%360,s:t.s,l:t.l}),p({h:(r+240)%360,s:t.s,l:t.l})]}function E(e){var t=p(e).toHsl(),r=t.h;return[p(e),p({h:(r+90)%360,s:t.s,l:t.l}),p({h:(r+180)%360,s:t.s,l:t.l}),p({h:(r+270)%360,s:t.s,l:t.l})]}function B(e){var t=p(e).toHsl(),r=t.h;return[p(e),p({h:(r+72)%360,s:t.s,l:t.l}),p({h:(r+216)%360,s:t.s,l:t.l})]}function R(e,t,r){t=t||6,r=r||30;var n=p(e).toHsl(),i=360/r,o=[p(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,o.push(p(n));return o}function M(e,t){t=t||6;for(var r=p(e).toHsv(),n=r.h,i=r.s,o=r.v,a=[],s=1/t;t--;)a.push(p({h:n,s:i,v:o})),o=(o+s)%1;return a}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,t=n.g/255,r=n.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:i.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=I(e),this._roundA=c(100*this._a)/100,this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b),t=c(360*e.h),r=c(100*e.s),n=c(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=c(360*e.h),r=c(100*e.s),n=c(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,r,n,i){var o=[P(c(e).toString(16)),P(c(t).toString(16)),P(c(r).toString(16)),P(U(n))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*F(this._r,255))+"%",g:c(100*F(this._g,255))+"%",b:c(100*F(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*F(this._r,255))+"%, "+c(100*F(this._g,255))+"%, "+c(100*F(this._b,255))+"%)":"rgba("+c(100*F(this._r,255))+"%, "+c(100*F(this._g,255))+"%, "+c(100*F(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(O[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var i=p(e);r="#"+m(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(S,arguments)},darken:function(){return this._applyModification(A,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(R,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(M,arguments)},splitcomplement:function(){return this._applyCombination(B,arguments)},triad:function(){return this._applyCombination(T,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},p.fromRatio=function(e,t){if("object"==typeof e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:D(e[n]));e=r}return p(e,t)},p.equals=function(e,t){return!(!e||!t)&&p(e).toRgbString()==p(t).toRgbString()},p.random=function(){return p.fromRatio({r:d(),g:d(),b:d()})},p.mix=function(e,t,r){r=0===r?0:r||50;var n=p(e).toRgb(),i=p(t).toRgb(),o=r/100;return p({r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a})},p.readability=function(e,t){var r=p(e),n=p(t);return(i.max(r.getLuminance(),n.getLuminance())+.05)/(i.min(r.getLuminance(),n.getLuminance())+.05)},p.isReadable=function(e,t,r){var n,i,o=p.readability(e,t);switch(i=!1,(n=function(e){var t,r;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(r=(e.size||"small").toLowerCase())&&"large"!==r&&(r="small"),{level:t,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},p.mostReadable=function(e,t,r){var n,i,o,a,s=null,c=0;i=(r=r||{}).includeFallbackColors,o=r.level,a=r.size;for(var l=0;l<t.length;l++)(n=p.readability(e,t[l]))>c&&(c=n,s=p(t[l]));return p.isReadable(e,s,{level:o,size:a})||!i?s:(r.includeFallbackColors=!1,p.mostReadable(e,["#fff","#000"],r))};var C=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=p.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(C);function I(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function F(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=l(t,u(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function N(e){return l(1,u(0,e))}function L(e){return parseInt(e,16)}function P(e){return 1==e.length?"0"+e:""+e}function D(e){return e<=1&&(e=100*e+"%"),e}function U(e){return i.round(255*parseFloat(e)).toString(16)}function G(e){return L(e)/255}var j,z,k,V=(z="[\\s|\\(]+("+(j="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",k="[\\s|\\(]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",{CSS_UNIT:new RegExp(j),rgb:new RegExp("rgb"+z),rgba:new RegExp("rgba"+k),hsl:new RegExp("hsl"+z),hsla:new RegExp("hsla"+k),hsv:new RegExp("hsv"+z),hsva:new RegExp("hsva"+k),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function W(e){return!!V.CSS_UNIT.exec(e)}e.exports?e.exports=p:void 0===(n=function(){return p}.call(t,r,t,e))||(e.exports=n)}(Math)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=c(r(1)),o=c(r(4)),a=r(435),s=c(r(163));function c(e){return e&&e.__esModule?e:{default:e}}var l=t.Swatch=function(e){var t=e.color,r=e.style,a=e.onClick,c=void 0===a?function(){}:a,l=e.onHover,u=e.title,d=void 0===u?t:u,p=e.children,h=e.focus,f=e.focusStyle,g=void 0===f?{}:f,m="transparent"===t,y=(0,o.default)({default:{swatch:n({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,h?g:{})}}),v={};return l&&(v.onMouseOver=function(e){return l(t,e)}),i.default.createElement("div",n({style:y.swatch,onClick:function(e){return c(t,e)},title:d,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&c(t,e)}},v),p,m&&i.default.createElement(s.default,{borderRadius:y.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,a.handleFocus)(l)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=(n=r(1))&&n.__esModule?n:{default:n};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var e,t,r;s(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=c(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),r.state={focus:!1},r.handleFocus=function(){return r.setState({focus:!0})},r.handleBlur=function(){return r.setState({focus:!1})},c(r,t)}return l(n,r),o(n,[{key:"render",value:function(){return a.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},a.default.createElement(e,i({},this.props,this.state)))}}]),n}(a.default.Component)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var n=o(r(1)),i=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.AlphaPointer=function(e){var t=e.direction,r=(0,i.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return n.default.createElement("div",{style:r.picker})};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var n=u(r(1)),i=u(r(3)),o=u(r(4)),a=u(r(26)),s=u(r(43)),c=r(12),l=u(r(438));function u(e){return e&&e.__esModule?e:{default:e}}var d=t.Block=function(e){var t=e.onChange,r=e.onSwatchHover,i=e.hex,u=e.colors,d=e.width,p=e.triangle,h=e.styles,f=void 0===h?{}:h,g=e.className,m=void 0===g?"":g,y="transparent"===i,v=function(e,r){s.default.isValidHex(e)&&t({hex:e,source:"hex"},r)},b=(0,o.default)((0,a.default)({default:{card:{width:d,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:s.default.getContrastingColor(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},f),{"hide-triangle":"hide"===p});return n.default.createElement("div",{style:b.card,className:"block-picker "+m},n.default.createElement("div",{style:b.triangle}),n.default.createElement("div",{style:b.head},y&&n.default.createElement(c.Checkboard,{borderRadius:"6px 6px 0 0"}),n.default.createElement("div",{style:b.label},i)),n.default.createElement("div",{style:b.body},n.default.createElement(l.default,{colors:u,onClick:v,onSwatchHover:r}),n.default.createElement(c.EditableInput,{style:{input:b.input},value:i,onChange:v})))};d.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.string),triangle:i.default.oneOf(["top","hide"]),styles:i.default.object},d.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},t.default=(0,c.ColorWrap)(d)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var n=s(r(1)),i=s(r(4)),o=s(r(58)),a=r(12);function s(e){return e&&e.__esModule?e:{default:e}}var c=t.BlockSwatches=function(e){var t=e.colors,r=e.onClick,s=e.onSwatchHover,c=(0,i.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return n.default.createElement("div",{style:c.swatches},(0,o.default)(t,(function(e){return n.default.createElement(a.Swatch,{key:e,color:e,style:c.swatch,onClick:r,onHover:s,focusStyle:{boxShadow:"0 0 4px "+e}})})),n.default.createElement("div",{style:c.clear}))};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var n=d(r(1)),i=d(r(3)),o=d(r(4)),a=d(r(58)),s=d(r(26)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(261)),l=r(12),u=d(r(440));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.Circle=function(e){var t=e.width,r=e.onChange,i=e.onSwatchHover,c=e.colors,l=e.hex,d=e.circleSize,p=e.styles,h=void 0===p?{}:p,f=e.circleSpacing,g=e.className,m=void 0===g?"":g,y=(0,o.default)((0,s.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-f,marginBottom:-f}}},h)),v=function(e,t){return r({hex:e,source:"hex"},t)};return n.default.createElement("div",{style:y.card,className:"circle-picker "+m},(0,a.default)(c,(function(e){return n.default.createElement(u.default,{key:e,color:e,onClick:v,onSwatchHover:i,active:l===e.toLowerCase(),circleSize:d,circleSpacing:f})})))};p.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),circleSize:i.default.number,circleSpacing:i.default.number,styles:i.default.object},p.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[c.red[500],c.pink[500],c.purple[500],c.deepPurple[500],c.indigo[500],c.blue[500],c.lightBlue[500],c.cyan[500],c.teal[500],c.green[500],c.lightGreen[500],c.lime[500],c.yellow[500],c.amber[500],c.orange[500],c.deepOrange[500],c.brown[500],c.blueGrey[500]],styles:{}},t.default=(0,l.ColorWrap)(p)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var n=s(r(1)),i=r(4),o=s(i),a=r(12);function s(e){return e&&e.__esModule?e:{default:e}}var c=t.CircleSwatch=function(e){var t=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,c=e.active,l=e.circleSize,u=e.circleSpacing,d=(0,o.default)({default:{swatch:{width:l,height:l,marginRight:u,marginBottom:u,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(l/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:s,active:c});return n.default.createElement("div",{style:d.swatch},n.default.createElement(a.Swatch,{style:d.Swatch,color:t,onClick:r,onHover:i,focusStyle:{boxShadow:d.Swatch.boxShadow+", 0 0 5px "+t}}))};c.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,i.handleHover)(c)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var n=d(r(1)),i=d(r(3)),o=d(r(4)),a=d(r(26)),s=r(12),c=d(r(442)),l=d(r(445)),u=d(r(446));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.Chrome=function(e){var t=e.width,r=e.onChange,i=e.disableAlpha,d=e.rgb,p=e.hsl,h=e.hsv,f=e.hex,g=e.renderers,m=e.styles,y=void 0===m?{}:m,v=e.className,b=void 0===v?"":v,x=e.defaultView,S=(0,o.default)((0,a.default)({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+d.r+", "+d.g+", "+d.b+", "+d.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},y),{disableAlpha:i});return n.default.createElement("div",{style:S.picker,className:"chrome-picker "+b},n.default.createElement("div",{style:S.saturation},n.default.createElement(s.Saturation,{style:S.Saturation,hsl:p,hsv:h,pointer:u.default,onChange:r})),n.default.createElement("div",{style:S.body},n.default.createElement("div",{style:S.controls,className:"flexbox-fix"},n.default.createElement("div",{style:S.color},n.default.createElement("div",{style:S.swatch},n.default.createElement("div",{style:S.active}),n.default.createElement(s.Checkboard,{renderers:g}))),n.default.createElement("div",{style:S.toggles},n.default.createElement("div",{style:S.hue},n.default.createElement(s.Hue,{style:S.Hue,hsl:p,pointer:l.default,onChange:r})),n.default.createElement("div",{style:S.alpha},n.default.createElement(s.Alpha,{style:S.Alpha,rgb:d,hsl:p,pointer:l.default,renderers:g,onChange:r})))),n.default.createElement(c.default,{rgb:d,hsl:p,hex:f,view:x,onChange:r,disableAlpha:i})))};p.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),disableAlpha:i.default.bool,styles:i.default.object,defaultView:i.default.oneOf(["hex","rgb","hsl"])},p.defaultProps={width:225,disableAlpha:!1,styles:{}},t.default=(0,s.ColorWrap)(p)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=u(r(1)),o=u(r(4)),a=u(r(43)),s=u(r(443)),c=r(12),l=u(r(444));function u(e){return e&&e.__esModule?e:{default:e}}var d=t.ChromeFields=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?a.default.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),r.props.onChange({h:e.h||r.props.hsl.h,s:Number((0,s.default)(e.s)?r.props.hsl.s:e.s),l:Number((0,s.default)(e.l)?r.props.hsl.l:e.l),source:"hsl"},t))},r.showHighlight=function(e){e.currentTarget.style.background="#eee"},r.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?r.state={view:"rgb"}:r.state={view:e.view},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){var e=this,t=(0,o.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),r=void 0;return"hex"===this.state.view?r=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(c.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?r=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(c.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(c.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(c.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),i.default.createElement("div",{style:t.alpha},i.default.createElement(c.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(r=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(c.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(c.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(c.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),i.default.createElement("div",{style:t.alpha},i.default.createElement(c.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),i.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},r,i.default.createElement("div",{style:t.toggle},i.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},i.default.createElement(l.default,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(i.default.Component);d.defaultProps={view:"hex"},t.default=d},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=(n=r(1))&&n.__esModule?n:{default:n};t.default=function(e){var t=e.fill,r=void 0===t?"currentColor":t,n=e.width,a=void 0===n?24:n,s=e.height,c=void 0===s?24:s,l=e.style,u=void 0===l?{}:l,d=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["fill","width","height","style"]);return o.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:r,width:a,height:c},u)},d),o.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var n=o(r(1)),i=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.ChromePointer=function(){var e=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return n.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var n=o(r(1)),i=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.ChromePointerCircle=function(){var e=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return n.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var n=p(r(1)),i=p(r(3)),o=p(r(4)),a=p(r(58)),s=p(r(26)),c=p(r(43)),l=r(12),u=p(r(448)),d=p(r(449));function p(e){return e&&e.__esModule?e:{default:e}}var h=t.Compact=function(e){var t=e.onChange,r=e.onSwatchHover,i=e.colors,p=e.hex,h=e.rgb,f=e.styles,g=void 0===f?{}:f,m=e.className,y=void 0===m?"":m,v=(0,o.default)((0,s.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},g)),b=function(e,r){e.hex?c.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},r):t(e,r)};return n.default.createElement(l.Raised,{style:v.Compact,styles:g},n.default.createElement("div",{style:v.compact,className:"compact-picker "+y},n.default.createElement("div",null,(0,a.default)(i,(function(e){return n.default.createElement(u.default,{key:e,color:e,active:e.toLowerCase()===p,onClick:b,onSwatchHover:r})})),n.default.createElement("div",{style:v.clear})),n.default.createElement(d.default,{hex:p,rgb:h,onChange:b})))};h.propTypes={colors:i.default.arrayOf(i.default.string),styles:i.default.object},h.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},t.default=(0,l.ColorWrap)(h)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var n=s(r(1)),i=s(r(4)),o=s(r(43)),a=r(12);function s(e){return e&&e.__esModule?e:{default:e}}var c=t.CompactColor=function(e){var t=e.color,r=e.onClick,s=void 0===r?function(){}:r,c=e.onSwatchHover,l=e.active,u=(0,i.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:o.default.getContrastingColor(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:l,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return n.default.createElement(a.Swatch,{style:u.color,color:t,onClick:s,onHover:c,focusStyle:{boxShadow:"0 0 4px "+t}},n.default.createElement("div",{style:u.dot}))};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var n=a(r(1)),i=a(r(4)),o=r(12);function a(e){return e&&e.__esModule?e:{default:e}}var s=t.CompactFields=function(e){var t=e.hex,r=e.rgb,a=e.onChange,s=(0,i.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),c=function(e,t){e.r||e.g||e.b?a({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},t):a({hex:e.hex,source:"hex"},t)};return n.default.createElement("div",{style:s.fields,className:"flexbox-fix"},n.default.createElement("div",{style:s.active}),n.default.createElement(o.EditableInput,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:t,onChange:c}),n.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:c}),n.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:c}),n.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:c}))};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var n=u(r(1)),i=u(r(3)),o=u(r(4)),a=u(r(58)),s=u(r(26)),c=r(12),l=u(r(451));function u(e){return e&&e.__esModule?e:{default:e}}var d=t.Github=function(e){var t=e.width,r=e.colors,i=e.onChange,c=e.onSwatchHover,u=e.triangle,d=e.styles,p=void 0===d?{}:d,h=e.className,f=void 0===h?"":h,g=(0,o.default)((0,s.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},p),{"hide-triangle":"hide"===u,"top-left-triangle":"top-left"===u,"top-right-triangle":"top-right"===u,"bottom-left-triangle":"bottom-left"===u,"bottom-right-triangle":"bottom-right"===u}),m=function(e,t){return i({hex:e,source:"hex"},t)};return n.default.createElement("div",{style:g.card,className:"github-picker "+f},n.default.createElement("div",{style:g.triangleShadow}),n.default.createElement("div",{style:g.triangle}),(0,a.default)(r,(function(e){return n.default.createElement(l.default,{color:e,key:e,onClick:m,onSwatchHover:c})})))};d.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.string),triangle:i.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:i.default.object},d.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},t.default=(0,c.ColorWrap)(d)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var n=s(r(1)),i=r(4),o=s(i),a=r(12);function s(e){return e&&e.__esModule?e:{default:e}}var c=t.GithubSwatch=function(e){var t=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,c={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},l=(0,o.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:c}},{hover:t});return n.default.createElement("div",{style:l.swatch},n.default.createElement(a.Swatch,{color:r,onClick:i,onHover:s,focusStyle:c}))};t.default=(0,i.handleHover)(c)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=u(r(1)),o=u(r(3)),a=u(r(4)),s=u(r(26)),c=r(12),l=u(r(453));function u(e){return e&&e.__esModule?e:{default:e}}var d=t.HuePicker=function(e){var t=e.width,r=e.height,o=e.onChange,l=e.hsl,u=e.direction,d=e.pointer,p=e.styles,h=void 0===p?{}:p,f=e.className,g=void 0===f?"":f,m=(0,a.default)((0,s.default)({default:{picker:{position:"relative",width:t,height:r},hue:{radius:"2px"}}},h));return i.default.createElement("div",{style:m.picker,className:"hue-picker "+g},i.default.createElement(c.Hue,n({},m.hue,{hsl:l,pointer:d,onChange:function(e){return o({a:1,h:e.h,l:.5,s:1})},direction:u})))};d.propTypes={styles:o.default.object},d.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:l.default,styles:{}},t.default=(0,c.ColorWrap)(d)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var n=o(r(1)),i=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderPointer=function(e){var t=e.direction,r=(0,i.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return n.default.createElement("div",{style:r.picker})};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var n=c(r(1)),i=c(r(4)),o=c(r(26)),a=c(r(43)),s=r(12);function c(e){return e&&e.__esModule?e:{default:e}}var l=t.Material=function(e){var t=e.onChange,r=e.hex,c=e.rgb,l=e.styles,u=void 0===l?{}:l,d=e.className,p=void 0===d?"":d,h=(0,i.default)((0,o.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},u)),f=function(e,r){e.hex?a.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},r):(e.r||e.g||e.b)&&t({r:e.r||c.r,g:e.g||c.g,b:e.b||c.b,source:"rgb"},r)};return n.default.createElement(s.Raised,{styles:u},n.default.createElement("div",{style:h.material,className:"material-picker "+p},n.default.createElement(s.EditableInput,{style:{wrap:h.HEXwrap,input:h.HEXinput,label:h.HEXlabel},label:"hex",value:r,onChange:f}),n.default.createElement("div",{style:h.split,className:"flexbox-fix"},n.default.createElement("div",{style:h.third},n.default.createElement(s.EditableInput,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"r",value:c.r,onChange:f})),n.default.createElement("div",{style:h.third},n.default.createElement(s.EditableInput,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"g",value:c.g,onChange:f})),n.default.createElement("div",{style:h.third},n.default.createElement(s.EditableInput,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"b",value:c.b,onChange:f})))))};t.default=(0,s.ColorWrap)(l)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=f(r(1)),o=f(r(3)),a=f(r(4)),s=f(r(26)),c=r(12),l=f(r(456)),u=f(r(457)),d=f(r(458)),p=f(r(459)),h=f(r(460));function f(e){return e&&e.__esModule?e:{default:e}}var g=t.Photoshop=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.state={currentColor:e.hex},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){var e=this.props,t=e.styles,r=void 0===t?{}:t,n=e.className,o=void 0===n?"":n,f=(0,a.default)((0,s.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},r));return i.default.createElement("div",{style:f.picker,className:"photoshop-picker "+o},i.default.createElement("div",{style:f.head},this.props.header),i.default.createElement("div",{style:f.body,className:"flexbox-fix"},i.default.createElement("div",{style:f.saturation},i.default.createElement(c.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:u.default,onChange:this.props.onChange})),i.default.createElement("div",{style:f.hue},i.default.createElement(c.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:d.default,onChange:this.props.onChange})),i.default.createElement("div",{style:f.controls},i.default.createElement("div",{style:f.top,className:"flexbox-fix"},i.default.createElement("div",{style:f.previews},i.default.createElement(h.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),i.default.createElement("div",{style:f.actions},i.default.createElement(p.default,{label:"OK",onClick:this.props.onAccept,active:!0}),i.default.createElement(p.default,{label:"Cancel",onClick:this.props.onCancel}),i.default.createElement(l.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(i.default.Component);g.propTypes={header:o.default.string,styles:o.default.object},g.defaultProps={header:"Color Picker",styles:{}},t.default=(0,c.ColorWrap)(g)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var n=s(r(1)),i=s(r(4)),o=s(r(43)),a=r(12);function s(e){return e&&e.__esModule?e:{default:e}}var c=t.PhotoshopPicker=function(e){var t=e.onChange,r=e.rgb,s=e.hsv,c=e.hex,l=(0,i.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),u=function(e,n){e["#"]?o.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},n):e.r||e.g||e.b?t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},n):(e.h||e.s||e.v)&&t({h:e.h||s.h,s:e.s||s.s,v:e.v||s.v,source:"hsv"},n)};return n.default.createElement("div",{style:l.fields},n.default.createElement(a.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"h",value:Math.round(s.h),onChange:u}),n.default.createElement(a.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"s",value:Math.round(100*s.s),onChange:u}),n.default.createElement(a.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"v",value:Math.round(100*s.v),onChange:u}),n.default.createElement("div",{style:l.divider}),n.default.createElement(a.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:r.r,onChange:u}),n.default.createElement(a.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:r.g,onChange:u}),n.default.createElement(a.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:r.b,onChange:u}),n.default.createElement("div",{style:l.divider}),n.default.createElement(a.EditableInput,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"#",value:c.replace("#",""),onChange:u}),n.default.createElement("div",{style:l.fieldSymbols},n.default.createElement("div",{style:l.symbol},"\xb0"),n.default.createElement("div",{style:l.symbol},"%"),n.default.createElement("div",{style:l.symbol},"%")))};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var n=o(r(1)),i=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPointerCircle=function(e){var t=e.hsl,r=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return n.default.createElement("div",{style:r.picker})};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var n=o(r(1)),i=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPointerCircle=function(){var e=(0,i.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return n.default.createElement("div",{style:e.pointer},n.default.createElement("div",{style:e.left},n.default.createElement("div",{style:e.leftInside})),n.default.createElement("div",{style:e.right},n.default.createElement("div",{style:e.rightInside})))};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopButton=void 0;var n=o(r(1)),i=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopButton=function(e){var t=e.onClick,r=e.label,o=e.children,a=e.active,s=(0,i.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return n.default.createElement("div",{style:s.button,onClick:t},r||o)};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var n=o(r(1)),i=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPreviews=function(e){var t=e.rgb,r=e.currentColor,o=(0,i.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return n.default.createElement("div",null,n.default.createElement("div",{style:o.label},"new"),n.default.createElement("div",{style:o.swatches},n.default.createElement("div",{style:o.new}),n.default.createElement("div",{style:o.current})),n.default.createElement("div",{style:o.label},"current"))};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=d(r(1)),o=d(r(3)),a=d(r(4)),s=d(r(26)),c=r(12),l=d(r(462)),u=d(r(463));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.Sketch=function(e){var t=e.width,r=e.rgb,o=e.hex,d=e.hsv,p=e.hsl,h=e.onChange,f=e.onSwatchHover,g=e.disableAlpha,m=e.presetColors,y=e.renderers,v=e.styles,b=void 0===v?{}:v,x=e.className,S=void 0===x?"":x,A=(0,a.default)((0,s.default)({default:n({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},b),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},b),{disableAlpha:g});return i.default.createElement("div",{style:A.picker,className:"sketch-picker "+S},i.default.createElement("div",{style:A.saturation},i.default.createElement(c.Saturation,{style:A.Saturation,hsl:p,hsv:d,onChange:h})),i.default.createElement("div",{style:A.controls,className:"flexbox-fix"},i.default.createElement("div",{style:A.sliders},i.default.createElement("div",{style:A.hue},i.default.createElement(c.Hue,{style:A.Hue,hsl:p,onChange:h})),i.default.createElement("div",{style:A.alpha},i.default.createElement(c.Alpha,{style:A.Alpha,rgb:r,hsl:p,renderers:y,onChange:h}))),i.default.createElement("div",{style:A.color},i.default.createElement(c.Checkboard,null),i.default.createElement("div",{style:A.activeColor}))),i.default.createElement(l.default,{rgb:r,hsl:p,hex:o,onChange:h,disableAlpha:g}),i.default.createElement(u.default,{colors:m,onClick:h,onSwatchHover:f}))};p.propTypes={disableAlpha:o.default.bool,width:o.default.oneOfType([o.default.string,o.default.number]),styles:o.default.object},p.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,c.ColorWrap)(p)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var n=s(r(1)),i=s(r(4)),o=s(r(43)),a=r(12);function s(e){return e&&e.__esModule?e:{default:e}}var c=t.SketchFields=function(e){var t=e.onChange,r=e.rgb,s=e.hsl,c=e.hex,l=e.disableAlpha,u=(0,i.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:l}),d=function(e,n){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):e.r||e.g||e.b?t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,a:r.a,source:"rgb"},n):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:s.h,s:s.s,l:s.l,a:e.a,source:"rgb"},n))};return n.default.createElement("div",{style:u.fields,className:"flexbox-fix"},n.default.createElement("div",{style:u.double},n.default.createElement(a.EditableInput,{style:{input:u.input,label:u.label},label:"hex",value:c.replace("#",""),onChange:d})),n.default.createElement("div",{style:u.single},n.default.createElement(a.EditableInput,{style:{input:u.input,label:u.label},label:"r",value:r.r,onChange:d,dragLabel:"true",dragMax:"255"})),n.default.createElement("div",{style:u.single},n.default.createElement(a.EditableInput,{style:{input:u.input,label:u.label},label:"g",value:r.g,onChange:d,dragLabel:"true",dragMax:"255"})),n.default.createElement("div",{style:u.single},n.default.createElement(a.EditableInput,{style:{input:u.input,label:u.label},label:"b",value:r.b,onChange:d,dragLabel:"true",dragMax:"255"})),n.default.createElement("div",{style:u.alpha},n.default.createElement(a.EditableInput,{style:{input:u.input,label:u.label},label:"a",value:Math.round(100*r.a),onChange:d,dragLabel:"true",dragMax:"100"})))};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=c(r(1)),o=c(r(3)),a=c(r(4)),s=r(12);function c(e){return e&&e.__esModule?e:{default:e}}var l=t.SketchPresetColors=function(e){var t=e.colors,r=e.onClick,o=void 0===r?function(){}:r,c=e.onSwatchHover,l=(0,a.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),u=function(e,t){o({hex:e,source:"hex"},t)};return i.default.createElement("div",{style:l.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,r=""+t.color+(t.title||"");return i.default.createElement("div",{key:r,style:l.swatchWrap},i.default.createElement(s.Swatch,n({},t,{style:l.swatch,onClick:u,onHover:c,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};l.propTypes={colors:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.shape({color:o.default.string,title:o.default.string})])).isRequired},t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var n=u(r(1)),i=u(r(3)),o=u(r(4)),a=u(r(26)),s=r(12),c=u(r(465)),l=u(r(467));function u(e){return e&&e.__esModule?e:{default:e}}var d=t.Slider=function(e){var t=e.hsl,r=e.onChange,i=e.pointer,l=e.styles,u=void 0===l?{}:l,d=e.className,p=void 0===d?"":d,h=(0,o.default)((0,a.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},u));return n.default.createElement("div",{style:h.wrap||{},className:"slider-picker "+p},n.default.createElement("div",{style:h.hue},n.default.createElement(s.Hue,{style:h.Hue,hsl:t,pointer:i,onChange:r})),n.default.createElement("div",{style:h.swatches},n.default.createElement(c.default,{hsl:t,onClick:r})))};d.propTypes={styles:i.default.object},d.defaultProps={pointer:l.default,styles:{}},t.default=(0,s.ColorWrap)(d)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var n=a(r(1)),i=a(r(4)),o=a(r(466));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.SliderSwatches=function(e){var t=e.onClick,r=e.hsl,a=(0,i.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return n.default.createElement("div",{style:a.swatches},n.default.createElement("div",{style:a.swatch},n.default.createElement(o.default,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<.1&&Math.abs(r.s-.5)<.1,onClick:t,first:!0})),n.default.createElement("div",{style:a.swatch},n.default.createElement(o.default,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<.1&&Math.abs(r.s-.5)<.1,onClick:t})),n.default.createElement("div",{style:a.swatch},n.default.createElement(o.default,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<.1&&Math.abs(r.s-.5)<.1,onClick:t})),n.default.createElement("div",{style:a.swatch},n.default.createElement(o.default,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<.1&&Math.abs(r.s-.5)<.1,onClick:t})),n.default.createElement("div",{style:a.swatch},n.default.createElement(o.default,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<.1&&Math.abs(r.s-.5)<.1,onClick:t,last:!0})),n.default.createElement("div",{style:a.clear}))};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var n=o(r(1)),i=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderSwatch=function(e){var t=e.hsl,r=e.offset,o=e.onClick,a=void 0===o?function(){}:o,s=e.active,c=e.first,l=e.last,u=(0,i.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*r+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:c,last:l});return n.default.createElement("div",{style:u.swatch,onClick:function(e){return a({h:t.h,s:.5,l:r,source:"hsl"},e)}})};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var n=o(r(1)),i=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderPointer=function(){var e=(0,i.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return n.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var n=d(r(1)),i=d(r(3)),o=d(r(4)),a=d(r(58)),s=d(r(26)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(261)),l=r(12),u=d(r(469));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.Swatches=function(e){var t=e.width,r=e.height,i=e.onChange,c=e.onSwatchHover,d=e.colors,p=e.hex,h=e.styles,f=void 0===h?{}:h,g=e.className,m=void 0===g?"":g,y=(0,o.default)((0,s.default)({default:{picker:{width:t,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},f)),v=function(e,t){return i({hex:e,source:"hex"},t)};return n.default.createElement("div",{style:y.picker,className:"swatches-picker "+m},n.default.createElement(l.Raised,null,n.default.createElement("div",{style:y.overflow},n.default.createElement("div",{style:y.body},(0,a.default)(d,(function(e){return n.default.createElement(u.default,{key:e.toString(),group:e,active:p,onClick:v,onSwatchHover:c})})),n.default.createElement("div",{style:y.clear})))))};p.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),height:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.arrayOf(i.default.string)),styles:i.default.object},p.defaultProps={width:320,height:240,colors:[[c.red[900],c.red[700],c.red[500],c.red[300],c.red[100]],[c.pink[900],c.pink[700],c.pink[500],c.pink[300],c.pink[100]],[c.purple[900],c.purple[700],c.purple[500],c.purple[300],c.purple[100]],[c.deepPurple[900],c.deepPurple[700],c.deepPurple[500],c.deepPurple[300],c.deepPurple[100]],[c.indigo[900],c.indigo[700],c.indigo[500],c.indigo[300],c.indigo[100]],[c.blue[900],c.blue[700],c.blue[500],c.blue[300],c.blue[100]],[c.lightBlue[900],c.lightBlue[700],c.lightBlue[500],c.lightBlue[300],c.lightBlue[100]],[c.cyan[900],c.cyan[700],c.cyan[500],c.cyan[300],c.cyan[100]],[c.teal[900],c.teal[700],c.teal[500],c.teal[300],c.teal[100]],["#194D33",c.green[700],c.green[500],c.green[300],c.green[100]],[c.lightGreen[900],c.lightGreen[700],c.lightGreen[500],c.lightGreen[300],c.lightGreen[100]],[c.lime[900],c.lime[700],c.lime[500],c.lime[300],c.lime[100]],[c.yellow[900],c.yellow[700],c.yellow[500],c.yellow[300],c.yellow[100]],[c.amber[900],c.amber[700],c.amber[500],c.amber[300],c.amber[100]],[c.orange[900],c.orange[700],c.orange[500],c.orange[300],c.orange[100]],[c.deepOrange[900],c.deepOrange[700],c.deepOrange[500],c.deepOrange[300],c.deepOrange[100]],[c.brown[900],c.brown[700],c.brown[500],c.brown[300],c.brown[100]],[c.blueGrey[900],c.blueGrey[700],c.blueGrey[500],c.blueGrey[300],c.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},t.default=(0,l.ColorWrap)(p)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var n=s(r(1)),i=s(r(4)),o=s(r(58)),a=s(r(470));function s(e){return e&&e.__esModule?e:{default:e}}var c=t.SwatchesGroup=function(e){var t=e.onClick,r=e.onSwatchHover,s=e.group,c=e.active,l=(0,i.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return n.default.createElement("div",{style:l.group},(0,o.default)(s,(function(e,i){return n.default.createElement(a.default,{key:e,color:e,active:e.toLowerCase()===c,first:0===i,last:i===s.length-1,onClick:t,onSwatchHover:r})})))};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var n=c(r(1)),i=c(r(4)),o=c(r(43)),a=r(12),s=c(r(471));function c(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesColor=function(e){var t=e.color,r=e.onClick,c=void 0===r?function(){}:r,l=e.onSwatchHover,u=e.first,d=e.last,p=e.active,h=(0,i.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:o.default.getContrastingColor(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:u,last:d,active:p,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return n.default.createElement(a.Swatch,{color:t,style:h.color,onClick:c,onHover:l,focusStyle:{boxShadow:"0 0 4px "+t}},n.default.createElement("div",{style:h.check},n.default.createElement(s.default,null)))};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=(n=r(1))&&n.__esModule?n:{default:n};t.default=function(e){var t=e.fill,r=void 0===t?"currentColor":t,n=e.width,a=void 0===n?24:n,s=e.height,c=void 0===s?24:s,l=e.style,u=void 0===l?{}:l,d=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["fill","width","height","style"]);return o.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:r,width:a,height:c},u)},d),o.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var n=u(r(1)),i=u(r(3)),o=u(r(4)),a=u(r(58)),s=u(r(26)),c=u(r(43)),l=r(12);function u(e){return e&&e.__esModule?e:{default:e}}var d=t.Twitter=function(e){var t=e.onChange,r=e.onSwatchHover,i=e.hex,u=e.colors,d=e.width,p=e.triangle,h=e.styles,f=void 0===h?{}:h,g=e.className,m=void 0===g?"":g,y=(0,o.default)((0,s.default)({default:{card:{width:d,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},f),{"hide-triangle":"hide"===p,"top-left-triangle":"top-left"===p,"top-right-triangle":"top-right"===p}),v=function(e,r){c.default.isValidHex(e)&&t({hex:e,source:"hex"},r)};return n.default.createElement("div",{style:y.card,className:"twitter-picker "+m},n.default.createElement("div",{style:y.triangleShadow}),n.default.createElement("div",{style:y.triangle}),n.default.createElement("div",{style:y.body},(0,a.default)(u,(function(e,t){return n.default.createElement(l.Swatch,{key:t,color:e,hex:e,style:y.swatch,onClick:v,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})})),n.default.createElement("div",{style:y.hash},"#"),n.default.createElement(l.EditableInput,{label:null,style:{input:y.input},value:i.replace("#",""),onChange:v}),n.default.createElement("div",{style:y.clear})))};d.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),triangle:i.default.oneOf(["hide","top-left","top-right"]),colors:i.default.arrayOf(i.default.string),styles:i.default.object},d.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},t.default=(0,l.ColorWrap)(d)},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){var n,i,o=r(262),a=r(263),s=0,c=0;e.exports=function(e,t,r){var l=t&&r||0,u=t||[],d=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==p){var h=o();null==d&&(d=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=i=16383&(h[6]<<8|h[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:c+1,m=f-s+(g-c)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||f>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,c=g,i=p;var y=(1e4*(268435455&(f+=122192928e5))+g)%4294967296;u[l++]=y>>>24&255,u[l++]=y>>>16&255,u[l++]=y>>>8&255,u[l++]=255&y;var v=f/4294967296*1e4&268435455;u[l++]=v>>>8&255,u[l++]=255&v,u[l++]=v>>>24&15|16,u[l++]=v>>>16&255,u[l++]=p>>>8|128,u[l++]=255&p;for(var b=0;b<6;++b)u[l+b]=d[b];return t||a(u)}},function(e,t,r){var n=r(262),i=r(263);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,r){},function(module,exports,__webpack_require__){(function(global,Buffer){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var n=e.length,i=0;i<n;i++){var o=e[i];if(t.call(r,o,i,e))return{i:i,v:o}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,r,n){if(t){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var i=e[n];i in r||(r[i]={}),r=r[i]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.findIndex",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}}),"es6","es3"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.endsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=r.length),t=Math.max(0,Math.min(0|t,r.length));for(var n=e.length;0<n&&0<t;)if(r[--t]!=e[--n])return!1;return 0>=n}}),"es6","es3"),$jscomp.polyfill("Array.prototype.find",(function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}}),"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",(function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var n=r.length,i=e.length;t=Math.max(0,Math.min(0|t,r.length));for(var o=0;o<i&&t<n;)if(r[t++]!=e[o++])return!1;return o>=i}}),"es6","es3"),$jscomp.polyfill("String.prototype.repeat",(function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var r="";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}}),"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(e){return void 0!==e},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.exportPath_=function(e,t,r){e=e.split("."),r=r||goog.global,e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)!e.length&&goog.isDef(t)?r[n]=t:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}},goog.define=function(e,t){if(!COMPILED){var r=goog.global.CLOSURE_UNCOMPILED_DEFINES,n=goog.global.CLOSURE_DEFINES;r&&void 0===r.nodeType&&Object.prototype.hasOwnProperty.call(r,e)?t=r[e]:n&&void 0===n.nodeType&&Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e])}return t},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var r=e;(r=r.substring(0,r.lastIndexOf(".")))&&!goog.getObjectByName(r);)goog.implicitNamespaces_[r]=!0}goog.exportPath_(e,t)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e].exports;if(!goog.implicitNamespaces_[e])return null!=(e=goog.getObjectByName(e))?e:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&"function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(e in goog.loadedModules_)throw Error('Module with namespace "'+e+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var r=0;r<e.length;r++)if(t=t[e[r]],!goog.isDefAndNotNull(t))return null;return t},goog.globalize=function(e,t){for(var r in t=t||goog.global,e)t[r]=e[r]},goog.addDependency=function(e,t,r,n){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(e,t,r,n)},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(e)}finally{goog.moduleLoaderState_=t}}return null}},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var r=e.call(void 0,{});else{if(!goog.isString(e))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),r=goog.loadModuleFromSource_.call(void 0,e)}var n=goog.moduleLoaderState_.moduleName;if(!goog.isString(n)||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[n]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.transpile_=function(e,t,r){var n=goog.global.$jscomp;n||(goog.global.$jscomp=n={});var i=n.transpile;if(!i){var o=goog.basePath+goog.TRANSPILER,a=goog.loadFileSync_(o);if(a){if(function(){(0,eval)(a+"\n//# sourceURL="+o)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,i=(n=goog.global.$jscomp).transpile}}return i||(i=n.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),i(e,t,r)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"==typeof e.clone)return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(e){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.head.appendChild(r),t.head.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var r=function(e){return goog.cssNameMapping_[e]||e},n=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(r(e[n]));return t.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:n:function(e){return e},e=t?e+"-"+n(t):n(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t,r){return r&&r.html&&(e=e.replace(/</g,"&lt;")),t&&(e=e.replace(/\{\$([^}]+)}/g,(function(e,r){return null!=t&&r in t?t[r]:e}))),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[r].apply(e,i)}},goog.base=function(e,t,r){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(void 0!==n.superClass_){for(var i=Array(arguments.length-1),o=1;o<arguments.length;o++)i[o-1]=arguments[o];return n.superClass_.constructor.apply(e,i)}if("string"!=typeof t&&"symbol"!=typeof t)throw Error("method names provided to goog.base must be a string or a symbol");for(i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];o=!1;for(var a=e.constructor.prototype;a;a=Object.getPrototypeOf(a))if(a[t]===n)o=!0;else if(o)return a[t].apply(e,i);if(e[t]===n)return e.constructor.prototype[t].apply(e,i);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var r=t.constructor,n=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),null!=n&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t);return function t(){var n=e.apply(this,arguments)||this;return n[goog.UID_PROPERTY_]=n[goog.UID_PROPERTY_],this.constructor===t&&r&&Object.seal instanceof Function&&Object.seal(n),n}},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.isDocumentLoading_=function(){var e=goog.global.document;return e.attachEvent?"complete"!=e.readyState:"loading"==e.readyState},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var e=goog.global.document,t=e.currentScript;for(t=(e=t?[t]:e.getElementsByTagName("SCRIPT")).length-1;0<=t;--t){var r=e[t].src,n=r.lastIndexOf("?");if(n=-1==n?r.length:n,"base.js"==r.substr(n-7,7)){goog.basePath=r.substr(0,n-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,r){e?d[t]=!0:r()?(c=t,d[t]=!1):e=d[t]=!0}function b(a){try{return!!eval(a)}catch(e){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",(function(){return b("[1,].length==1")})),a("es6",(function(){return!f.match(/Edge\/(\d+)(\.\d)*/i)&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')})),a("es7",(function(){return b("2 ** 2 == 4")})),a("es8",(function(){return b("async () => 1, true")})),a("es9",(function(){return b("({...rest} = {}), true")})),a("es_next",(function(){return!1})),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(e,t){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var r=this.createRequiresTranspilation_();this.requiresTranspilation_=r.map,this.transpilationTarget_=this.transpilationTarget_||r.target}if(e in this.requiresTranspilation_)return!!this.requiresTranspilation_[e]||!(!goog.inHtmlDocument_()||"es6"!=t||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+e)},goog.Transpiler.prototype.transpile=function(e,t){return goog.transpile_(e,t,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(e,t){function r(){n&&(goog.global.setTimeout(n,0),n=null)}var n=t;if(e.length){t=[];for(var i=0;i<e.length;i++){var o=this.getPathFromDeps_(e[i]);if(!o)throw Error("Unregonized namespace: "+e[i]);t.push(this.dependencies_[o])}o=goog.require;var a=0;for(i=0;i<e.length;i++)o(e[i]),t[i].onLoad((function(){++a==e.length&&r()}))}else r()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(e,t){(e=this.getPathFromDeps_(e))&&(t||this.areDepsLoaded_(this.dependencies_[e].requires))&&(t=this.deferredCallbacks_[e])&&(delete this.deferredCallbacks_[e],t())},goog.DebugLoader_.prototype.setDependencyFactory=function(e){this.factory_=e},goog.DebugLoader_.prototype.load_=function(e){if(!this.getPathFromDeps_(e))throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e);var t=this,r=[];(function e(n){var i=t.getPathFromDeps_(n);if(!i)throw Error("Bad dependency path or symbol: "+n);if(!t.written_[i]){for(t.written_[i]=!0,n=t.dependencies_[i],i=0;i<n.requires.length;i++)goog.isProvided_(n.requires[i])||e(n.requires[i]);r.push(n)}})(e),e=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(r),this.paused_||e||this.loadDeps_()},goog.DebugLoader_.prototype.loadDeps_=function(){for(var e=this,t=this.paused_;this.depsToLoad_.length&&!t;)!function(){var r=!1,n=e.depsToLoad_.shift(),i=!1;e.loading_(n);var o={pause:function(){if(r)throw Error("Cannot call pause after the call to load.");t=!0},resume:function(){r?e.resume_():t=!1},loaded:function(){if(i)throw Error("Double call to loaded.");i=!0,e.loaded_(n)},pending:function(){for(var t=[],r=0;r<e.loadingDeps_.length;r++)t.push(e.loadingDeps_[r]);return t},setModuleState:function(e){goog.moduleLoaderState_={type:e,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(e,t,r){r&&(goog.loadedModules_[r]={exports:t,type:goog.ModuleType.ES6,moduleId:r||""})},registerGoogModuleExports:function(e,t){goog.loadedModules_[e]={exports:t,type:goog.ModuleType.GOOG,moduleId:e}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(t){if(r)throw Error("Cannot register with defer after the call to load.");e.defer_(n,t)},areDepsLoaded:function(){return e.areDepsLoaded_(n.requires)}};try{n.load(o)}finally{r=!0}}();t&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(e){this.loadingDeps_.push(e)},goog.DebugLoader_.prototype.loaded_=function(e){for(var t=0;t<this.loadingDeps_.length;t++)if(this.loadingDeps_[t]==e){this.loadingDeps_.splice(t,1);break}for(t=0;t<this.deferredQueue_.length;t++)if(this.deferredQueue_[t]==e.path){this.deferredQueue_.splice(t,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);e.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(e){for(var t=0;t<e.length;t++){var r=this.getPathFromDeps_(e[t]);if(!r||!(r in this.deferredCallbacks_)&&!goog.isProvided_(e[t]))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(e){return e in this.idToPath_?this.idToPath_[e]:e in this.dependencies_?e:null},goog.DebugLoader_.prototype.defer_=function(e,t){this.deferredCallbacks_[e.path]=t,this.deferredQueue_.push(e.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(e,t,r){},goog.LoadController.prototype.setModuleState=function(e){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(e){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(e,t,r,n,i){this.path=e,this.relativePath=t,this.provides=r,this.requires=n,this.loadFlags=i,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var e=this.path,t=e.indexOf("://");return 0<=t&&0<=(t=(e=e.substring(t+3)).indexOf("/"))&&(e=e.substring(t+1)),e},goog.Dependency.prototype.onLoad=function(e){this.loaded_?e():this.loadCallbacks_.push(e)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var e=this.loadCallbacks_;this.loadCallbacks_=[];for(var t=0;t<e.length;t++)e[t]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(e){var t=Math.random().toString(32);return goog.Dependency.callbackMap_[t]=e,t},goog.Dependency.unregisterCallback_=function(e){delete goog.Dependency.callbackMap_[e]},goog.Dependency.callback_=function(e,t){if(!(e in goog.Dependency.callbackMap_))throw Error("Callback key "+e+" does not exist (was base.js loaded more than once?).");for(var r=goog.Dependency.callbackMap_[e],n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);r.apply(void 0,n)},goog.Dependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path))return void e.loaded();throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var r=goog.Dependency.registerCallback_((function(t){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=t.readyState||(goog.Dependency.unregisterCallback_(r),e.loaded())})),n=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";n='<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+"=\"goog.Dependency.callback_('"+r+'\', this)" type="text/javascript" '+(goog.Dependency.defer_?"defer":"")+n+"><\/script>",t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}else{var i=t.createElement("script");i.defer=goog.Dependency.defer_,i.async=!1,i.type="text/javascript",(n=goog.getScriptNonce())&&i.setAttribute("nonce",n),goog.DebugLoader_.IS_OLD_IE_?(e.pause(),i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(e.loaded(),e.resume())}):i.onload=function(){i.onload=null,e.loaded()},i.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,t.head.appendChild(i)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),e.loaded()):e.pause()},goog.Es6ModuleDependency=function(e,t,r,n,i){goog.Dependency.call(this,e,t,r,n,i)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document,r=this;if(goog.isDocumentLoading_()){var n=function(e,r){e=r?'<script type="module" crossorigin>'+r+"<\/script>":'<script type="module" crossorigin src="'+e+'"><\/script>',t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(e):e)};goog.Dependency.defer_=!0}else n=function(e,r){var n=t.createElement("script");n.defer=!0,n.async=!1,n.type="module",n.setAttribute("crossorigin",!0);var i=goog.getScriptNonce();i&&n.setAttribute("nonce",i),r?n.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(r):r:n.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(e):e,t.head.appendChild(n)};var i=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(i),e.setModuleState(goog.ModuleType.ES6)}));n(void 0,'goog.Dependency.callback_("'+i+'")'),n(this.path,void 0);var o=goog.Dependency.registerCallback_((function(t){goog.Dependency.unregisterCallback_(o),e.registerEs6ModuleExports(r.path,t,goog.moduleLoaderState_.moduleName)}));n(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+o+'", m)');var a=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(a),e.clearModuleState(),e.loaded()}));n(void 0,'goog.Dependency.callback_("'+a+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),e.pause()},goog.TransformedDependency=function(e,t,r,n,i){goog.Dependency.call(this,e,t,r,n,i),this.contents_=null,this.lazyFetch_=!goog.inHtmlDocument_()||!("noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(e){function t(){n.contents_=goog.loadFileSync_(n.path),n.contents_&&(n.contents_=n.transform(n.contents_),n.contents_&&(n.contents_+="\n//# sourceURL="+n.path))}function r(){if(n.lazyFetch_&&t(),n.contents_){i&&e.setModuleState(goog.ModuleType.ES6);try{var r=n.contents_;if(n.contents_=null,goog.globalEval(r),i)var o=goog.moduleLoaderState_.moduleName}finally{i&&e.clearModuleState()}i&&goog.global.$jscomp.require.ensure([n.getPathName()],(function(){e.registerEs6ModuleExports(n.path,goog.global.$jscomp.require(n.getPathName()),o)})),e.loaded()}}var n=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)t(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,e.loaded()):e.pause();else{var i=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||t();var o=1<e.pending().length,a=o&&goog.DebugLoader_.IS_OLD_IE_;if(o=goog.Dependency.defer_&&(o||goog.isDocumentLoading_()),a||o)e.defer((function(){r()}));else{var s=goog.global.document;if(a=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,i&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!a){goog.Dependency.defer_=!0,e.pause();var c=s.onreadystatechange;s.onreadystatechange=function(){"interactive"==s.readyState&&(s.onreadystatechange=c,r(),e.resume()),goog.isFunction(c)&&c.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?function(){var e=goog.global.document,t=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(t),r()})),n='<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+t+'");')+"<\/script>";e.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}():r()}}},goog.TransformedDependency.prototype.transform=function(e){},goog.TranspiledDependency=function(e,t,r,n,i,o){goog.TransformedDependency.call(this,e,t,r,n,i),this.transpiler=o},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(e){return this.transpiler.transpile(e,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(e,t,r,n,i){goog.TransformedDependency.call(this,e,t,r,n,i)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(e){return e},goog.GoogModuleDependency=function(e,t,r,n,i,o,a){goog.TransformedDependency.call(this,e,t,r,n,i),this.needsTranspile_=o,this.transpiler_=a},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(e){return this.needsTranspile_&&(e=this.transpiler_.transpile(e,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(e,t,r,n){t=t||[],e=e.replace(/\\/g,"/");var i=goog.normalizePath_(goog.basePath+e);for(n&&"boolean"!=typeof n||(n=n?{module:goog.ModuleType.GOOG}:{}),r=this.factory_.createDependency(i,e,t,r,n,goog.transpiler_.needsTranspile(n.lang||"es3",n.module)),this.dependencies_[i]=r,r=0;r<t.length;r++)this.idToPath_[t[r]]=i;this.idToPath_[e]=i},goog.DependencyFactory=function(e){this.transpiler=e},goog.DependencyFactory.prototype.createDependency=function(e,t,r,n,i,o){return i.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(e,t,r,n,i,o,this.transpiler):o?new goog.TranspiledDependency(e,t,r,n,i,this.transpiler):i.module==goog.ModuleType.ES6?"never"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(e,t,r,n,i):new goog.Es6ModuleDependency(e,t,r,n,i):new goog.Dependency(e,t,r,n,i)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(e){goog.debugLoader_.setDependencyFactory(e)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(e,t){goog.debugLoader_.bootstrap(e,t)}),goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null;if("undefined"==typeof TrustedTypes||!TrustedTypes.createPolicy)return t;try{t=TrustedTypes.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(e){goog.logToConsole_(e.message)}return t},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return r.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return r.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return r.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return r.FIXED32;default:return r.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){for(var r="",n=(e=e.split("%s")).length-1,i=0;i<n;i++)r+=e[i]+(i<t.length?t[i]:"%s");return r+e[n]},goog.asserts.doAssertFailure_=function(e,t,r,n){var i="Assertion failed";if(r){i+=": "+r;var o=n}else e&&(i+=": "+e,o=t);e=new goog.asserts.AssertionError(""+i,o||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&null==e&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,r,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],r,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,r)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==r?e.length-1:r)}:function(e,t,r){if(0>(r=null==r?e.length-1:r)&&(r=Math.max(0,e.length+r)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,r):-1;for(;0<=r;r--)if(r in e&&e[r]===t)return r;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,r){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=goog.isString(e)?e.split(""):e,o=0;o<n;o++)o in i&&t.call(r,i[o],o,e)},goog.array.forEachRight=function(e,t,r){var n=e.length,i=goog.isString(e)?e.split(""):e;for(--n;0<=n;--n)n in i&&t.call(r,i[n],n,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=[],o=0,a=goog.isString(e)?e.split(""):e,s=0;s<n;s++)if(s in a){var c=a[s];t.call(r,c,s,e)&&(i[o++]=c)}return i},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=Array(n),o=goog.isString(e)?e.split(""):e,a=0;a<n;a++)a in o&&(i[a]=t.call(r,o[a],a,e));return i},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),n&&(t=goog.bind(t,n)),Array.prototype.reduce.call(e,t,r)}:function(e,t,r,n){var i=r;return goog.array.forEach(e,(function(r,o){i=t.call(n,i,r,o,e)})),i},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),n&&(t=goog.bind(t,n)),Array.prototype.reduceRight.call(e,t,r)}:function(e,t,r,n){var i=r;return goog.array.forEachRight(e,(function(r,o){i=t.call(n,i,r,o,e)})),i},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=goog.isString(e)?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(r,i[o],o,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,r)}:function(e,t,r){for(var n=e.length,i=goog.isString(e)?e.split(""):e,o=0;o<n;o++)if(o in i&&!t.call(r,i[o],o,e))return!1;return!0},goog.array.count=function(e,t,r){var n=0;return goog.array.forEach(e,(function(e,i,o){t.call(r,e,i,o)&&++n}),r),n},goog.array.find=function(e,t,r){return 0>(t=goog.array.findIndex(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,r){for(var n=e.length,i=goog.isString(e)?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(r,i[o],o,e))return o;return-1},goog.array.findRight=function(e,t,r){return 0>(t=goog.array.findIndexRight(e,t,r))?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,r){var n=e.length,i=goog.isString(e)?e.split(""):e;for(--n;0<=n;n--)if(n in i&&t.call(r,i[n],n,e))return n;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,r){goog.array.splice(e,r,0,t)},goog.array.insertArrayAt=function(e,t,r){goog.partial(goog.array.splice,e,r,0).apply(null,t)},goog.array.insertBefore=function(e,t,r){var n;2==arguments.length||0>(n=goog.array.indexOf(e,r))?e.push(t):goog.array.insertAt(e,t,n)},goog.array.remove=function(e,t){var r;return(r=0<=(t=goog.array.indexOf(e,t)))&&goog.array.removeAt(e,t),r},goog.array.removeLast=function(e,t){return 0<=(t=goog.array.lastIndexOf(e,t))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,r){return 0<=(t=goog.array.findIndex(e,t,r))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,r){var n=0;return goog.array.forEachRight(e,(function(i,o){t.call(r,i,o,e)&&goog.array.removeAt(e,o)&&n++})),n},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var r=Array(t),n=0;n<t;n++)r[n]=e[n];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(goog.isArrayLike(n)){var i=e.length||0,o=n.length||0;e.length=i+o;for(var a=0;a<o;a++)e[i+a]=n[a]}else e.push(n)}},goog.array.splice=function(e,t,r,n){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,r){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)},goog.array.removeDuplicates=function(e,t,r){t=t||e;var n=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};r=r||n,n={};for(var i=0,o=0;o<e.length;){var a=e[o++],s=r(a);Object.prototype.hasOwnProperty.call(n,s)||(n[s]=!0,t[i++]=a)}t.length=i},goog.array.binarySearch=function(e,t,r){return goog.array.binarySearch_(e,r||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,r){return goog.array.binarySearch_(e,t,!0,void 0,r)},goog.array.binarySearch_=function(e,t,r,n,i){for(var o,a=0,s=e.length;a<s;){var c=a+s>>1,l=r?t.call(i,e[c],c,e):t(n,e[c]);0<l?a=c+1:(s=c,o=!l)}return o?a:~a},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]={index:n,value:e[n]};var i=t||goog.array.defaultCompare;for(goog.array.sort(r,(function(e,t){return i(e.value,t.value)||e.index-t.index})),n=0;n<e.length;n++)e[n]=r[n].value},goog.array.sortByKey=function(e,t,r){var n=r||goog.array.defaultCompare;goog.array.sort(e,(function(e,r){return n(t(e),t(r))}))},goog.array.sortObjectsByKey=function(e,t,r){goog.array.sortByKey(e,(function(e){return e[t]}),r)},goog.array.isSorted=function(e,t,r){t=t||goog.array.defaultCompare;for(var n=1;n<e.length;n++){var i=t(e[n-1],e[n]);if(0<i||0==i&&r)return!1}return!0},goog.array.equals=function(e,t,r){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var n=e.length;r=r||goog.array.defaultCompareEquality;for(var i=0;i<n;i++)if(!r(e[i],t[i]))return!1;return!0},goog.array.compare3=function(e,t,r){r=r||goog.array.defaultCompare;for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var o=r(e[i],t[i]);if(0!=o)return o}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,r){return 0>(r=goog.array.binarySearch(e,t,r))&&(goog.array.insertAt(e,t,-(r+1)),!0)},goog.array.binaryRemove=function(e,t,r){return 0<=(t=goog.array.binarySearch(e,t,r))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,r){for(var n={},i=0;i<e.length;i++){var o=e[i],a=t.call(r,o,i,e);goog.isDef(a)&&(n[a]||(n[a]=[])).push(o)}return n},goog.array.toObject=function(e,t,r){var n={};return goog.array.forEach(e,(function(i,o){n[t.call(r,i,o,e)]=i})),n},goog.array.range=function(e,t,r){var n=[],i=0,o=e;if(void 0!==t&&(i=e,o=t),0>(r=r||1)*(o-i))return[];if(0<r)for(e=i;e<o;e+=r)n.push(e);else for(e=i;e>o;e+=r)n.push(e);return n},goog.array.repeat=function(e,t){for(var r=[],n=0;n<t;n++)r[n]=e;return r},goog.array.flatten=function(e){for(var t=[],r=0;r<arguments.length;r++){var n=arguments[r];if(goog.isArray(n))for(var i=0;i<n.length;i+=8192){var o=goog.array.slice(n,i,i+8192);o=goog.array.flatten.apply(null,o);for(var a=0;a<o.length;a++)t.push(o[a])}else t.push(n)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(0<(t%=e.length)?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,r){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=r&&r<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,r,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],r=arguments[0].length,n=1;n<arguments.length;n++)arguments[n].length<r&&(r=arguments[n].length);for(n=0;n<r;n++){for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o][n]);t.push(i)}return t},goog.array.shuffle=function(e,t){t=t||Math.random;for(var r=e.length-1;0<r;r--){var n=Math.floor(t()*(r+1)),i=e[r];e[r]=e[n],e[n]=i}},goog.array.copyByIndex=function(e,t){var r=[];return goog.array.forEach(t,(function(t){r.push(e[t])})),r},goog.array.concatMap=function(e,t,r){return goog.array.concat.apply([],goog.array.map(e,t,r))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);255<i&&(t[r++]=255&i,i>>=8),t[r++]=i}return t},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=8192){var n=goog.array.slice(e,r,r+8192);t+=String.fromCharCode.apply(null,n)}return t},goog.crypt.byteArrayToHex=function(e,t){return goog.array.map(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join(t||"")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,"Key string length must be multiple of 2");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t[r++]=i:(2048>i?t[r++]=i>>6|192:(55296==(64512&i)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],r=0,n=0;r<e.length;){var i=e[r++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=e[r++];var a=e[r++];i=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&e[r++])-65536,t[n++]=String.fromCharCode(55296+(i>>10)),t[n++]=String.fromCharCode(56320+(1023&i))}else o=e[r++],a=e[r++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var r=[],n=0;n<e.length;n++)r.push(e[n]^t[n]);return r},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.internal.endsWith=function(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)==r},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){return(e=String(e).toLowerCase())<(t=String(t).toLowerCase())?-1:e==t?0:1},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.internal.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){var r=0;e=goog.string.internal.trim(String(e)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var n=Math.max(e.length,t.length),i=0;0==r&&i<n;i++){var o=e[i]||"",a=t[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;r=0==o[1].length?0:parseInt(o[1],10);var s=0==a[1].length?0:parseInt(a[1],10);r=goog.string.internal.compareElements_(r,s)||goog.string.internal.compareElements_(0==o[2].length,0==a[2].length)||goog.string.internal.compareElements_(o[2],a[2]),o=o[3],a=a[3]}while(0==r)}return r},goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))&&("adlm"==goog.LOCALE.substring(3,7).toLowerCase()||"arab"==goog.LOCALE.substring(3,7).toLowerCase()||"hebr"==goog.LOCALE.substring(3,7).toLowerCase()||"nkoo"==goog.LOCALE.substring(3,7).toLowerCase()||"rohg"==goog.LOCALE.substring(3,7).toLowerCase()||"thaa"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))&&("adlm"==goog.LOCALE.substring(4,8).toLowerCase()||"arab"==goog.LOCALE.substring(4,8).toLowerCase()||"hebr"==goog.LOCALE.substring(4,8).toLowerCase()||"nkoo"==goog.LOCALE.substring(4,8).toLowerCase()||"rohg"==goog.LOCALE.substring(4,8).toLowerCase()||"thaa"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:"\u202a",RLE:"\u202b",PDF:"\u202c",LRM:"\u200e",RLM:"\u200f"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0900-\u1fff\u200e\u2c00-\ud801\ud804-\ud839\ud83c-\udbff\uf900-\ufb1c\ufe00-\ufe6f\ufefd-\uffff",goog.i18n.bidi.rtlChars_="\u0591-\u06ef\u06fa-\u08ff\u200f\ud802-\ud803\ud83a-\ud83b\ufb1d-\ufdff\ufe70-\ufefc",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){return t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05f4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05f3")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){var r=0,n=0,i=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var o=e[t];goog.i18n.bidi.startsWithRtl(o)?(r++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(o)?i=!0:goog.i18n.bidi.hasAnyLtr(o)?n++:goog.i18n.bidi.hasNumeralsRe_.test(o)&&(i=!0)}return 0==n?i?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var r=goog.html.TrustedResourceUrl.unwrap(this),n=(r=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(r))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",r[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",n,t))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(e){return e.trustedURL_?e.trustedURL_:goog.html.TrustedResourceUrl.unwrap(e)},goog.html.TrustedResourceUrl.format=function(e,t){var r=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return e=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,(function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[n])instanceof goog.string.Const?goog.string.Const.unwrap(e):encodeURIComponent(String(e))})),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,r,n){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(r,n)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",r=0;r<e.length;r++)t+=goog.string.Const.unwrap(e[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.TrustedResourceUrl;return t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(t.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e)),t},goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,r){if(null==r)return t;if(goog.isString(r))return r?e+encodeURIComponent(r):"";for(var n in r){var i=r[n];i=goog.isArray(i)?i:[i];for(var o=0;o<i.length;o++){var a=i[o];null!=a&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(n)+"="+encodeURIComponent(String(a)))}}return t},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return goog.html.SafeUrl.unwrapTrustedURL(e).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var t=(e=e.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");if(0<t&&(e=e.substring(0,t)),!(t=e.match(/[?&]body=/gi)))return!0;if(1<t.length)return!1;if(!(e=e.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(e)}catch(e){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,r){return(e=e.exec(t))?(e=e[1],-1==(r instanceof goog.string.Const?[goog.string.Const.unwrap(r)]:r.map((function(e){return goog.string.Const.unwrap(e)}))).indexOf(e)&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)&&(t=goog.html.SafeUrl.fromDataUrl(e)).getTypedStringValue()==e?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.SafeUrl;return t.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e):e,t},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.internal.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,r="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var n=e[t];null!=n&&(r+=t+":"+(n=goog.isArray(n)?goog.array.map(n,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(n))+";")}return r?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var t=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(t)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,r=!0,n=0;n<e.length;n++){var i=e.charAt(n);"'"==i&&r?t=!t:'"'==i&&t&&(r=!r)}return t&&r},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var t=!0,r=/^[-_a-zA-Z0-9]$/,n=0;n<e.length;n++){var i=e.charAt(n);if("]"==i){if(t)return!1;t=!0}else if("["==i){if(!t)return!1;t=!1}else if(!t&&!r.test(i))return!1}return t},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,(function(e,t,r,n){var i="";return r=r.replace(/^(['"])(.*)\1$/,(function(e,t,r){return i=t,r})),e=goog.html.SafeUrl.sanitize(r).getTypedStringValue(),t+i+e+i+n}))},goog.html.SafeStyle.concat=function(e){var t="",r=function e(r){goog.isArray(r)?goog.array.forEach(r,e):t+=goog.html.SafeStyle.unwrap(r)};return goog.array.forEach(arguments,r),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,t){for(var r=[],n=1;n<arguments.length;n++)r.push(goog.html.SafeScript.stringify_(arguments[n]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+r.join(", ")+");")},goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()},goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},goog.object.forEach=function(e,t,r){for(var n in e)t.call(r,e[n],n,e)},goog.object.filter=function(e,t,r){var n,i={};for(n in e)t.call(r,e[n],n,e)&&(i[n]=e[n]);return i},goog.object.map=function(e,t,r){var n,i={};for(n in e)i[n]=t.call(r,e[n],n,e);return i},goog.object.some=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return!0;return!1},goog.object.every=function(e,t,r){for(var n in e)if(!t.call(r,e[n],n,e))return!1;return!0},goog.object.getCount=function(e){var t,r=0;for(t in e)r++;return r},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,r=[],n=0;for(t in e)r[n++]=e[t];return r},goog.object.getKeys=function(e){var t,r=[],n=0;for(t in e)r[n++]=t;return r},goog.object.getValueByKeys=function(e,t){var r=goog.isArrayLike(t),n=r?t:arguments;for(r=r?0:1;r<n.length;r++){if(null==e)return;e=e[n[r]]}return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1},goog.object.findKey=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return n},goog.object.findValue=function(e,t,r){return(t=goog.object.findKey(e,t,r))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var r;return(r=t in e)&&delete e[t],r},goog.object.add=function(e,t,r){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,r)},goog.object.get=function(e,t,r){return null!==e&&t in e?e[t]:r},goog.object.set=function(e,t,r){e[t]=r},goog.object.setIfUndefined=function(e,t,r){return t in e?e[t]:e[t]=r},goog.object.setWithReturnValueIfNotSet=function(e,t,r){return t in e?e[t]:(r=r(),e[t]=r)},goog.object.equals=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(var n in t)if(!(n in e))return!1;return!0},goog.object.clone=function(e){var t,r={};for(t in e)r[t]=e[t];return r},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(goog.isFunction(e.clone))return e.clone();for(var r in t="array"==t?[]:{},e)t[r]=goog.object.unsafeClone(e[r]);return t}return e},goog.object.transpose=function(e){var t,r={};for(t in e)r[e[t]]=t;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var r,n,i=1;i<arguments.length;i++){for(r in n=arguments[i])e[r]=n[r];for(var o=0;o<goog.object.PROTOTYPE_FIELDS_.length;o++)r=goog.object.PROTOTYPE_FIELDS_[o],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},n=0;n<t;n+=2)r[arguments[n]]=arguments[n+1];return r},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},n=0;n<t;n++)r[arguments[n]]=!0;return r},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,r){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var n={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||r);){for(var i=Object.getOwnPropertyNames(e),o=0;o<i.length;o++)n[i[o]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(n)},goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,t){if(goog.string.internal.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var r=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(r))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(r))throw Error("() and [] in selector must be balanced, got: "+e);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),e=e+"{"+goog.html.SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},r=[],n=0;n<e.length;n++){var i=e[n];if(t[i])r.push(t[i]);else if(goog.object.contains(t,i)&&r.pop()!=i)return!1}return 0==r.length},goog.html.SafeStyleSheet.concat=function(e){var t="",r=function e(r){goog.isArray(r)?goog.array.forEach(r,e):t+=goog.html.SafeStyleSheet.unwrap(r)};return goog.array.forEach(arguments,r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,r=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,n=[];t=r.exec(e);)n.push([t[1],t[2],t[3]||void 0]);return n},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,n),r[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var r={};goog.array.forEach(t,(function(e){r[e[0]]=e[1]}));var n=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?e(["Edg"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var r=/MSIE +([\d\.]+)/.exec(e);if(r&&r[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==r[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1];return t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t="object"==typeof e,r=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(r=e.getDirection()),e=t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),r)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,r){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,r)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(e,t,r,n){e&&goog.html.TrustedResourceUrl.unwrap(e);var i={};return i.src=e||null,i.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(i,{sandbox:""},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.createSandboxIframe=function(e,t,r,n){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var i={};return i.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,i.srcdoc=t||null,i.sandbox="",e=goog.html.SafeHtml.combineAttributes(i,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)},goog.html.SafeHtml.createScript=function(e,t){for(var r in t){var n=r.toLowerCase();if("language"==n||"src"==n||"text"==n||"type"==n)throw Error('Cannot set "'+n+'" attribute')}for(r="",e=goog.array.concat(e),n=0;n<e.length;n++)r+=goog.html.SafeScript.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,e)},goog.html.SafeHtml.createStyle=function(e,t){t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t);var r="";e=goog.array.concat(e);for(var n=0;n<e.length;n++)r+=goog.html.SafeStyleSheet.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,e)},goog.html.SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if("style"==t.toLowerCase())r=goog.html.SafeHtml.getStyleValue_(r);else{if(/^on/i.test(t))throw Error('Attribute "'+t+'" requires goog.string.Const value, "'+r+'" given.');if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else{if(!goog.isString(r))throw Error('Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+r+'" given.');r=goog.html.SafeUrl.sanitize(r).getTypedStringValue()}}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert(goog.isString(r)||goog.isNumber(r),"String or number value expected, got "+typeof r+" with value: "+r),t+'="'+goog.string.internal.htmlEscape(String(r))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,r,n){return(t=goog.html.SafeHtml.create(t,r,n)).dir_=e,t},goog.html.SafeHtml.join=function(e,t){var r=(e=goog.html.SafeHtml.htmlEscape(e)).getDirection(),n=[];return goog.array.forEach(t,(function e(t){goog.isArray(t)?goog.array.forEach(t,e):(t=goog.html.SafeHtml.htmlEscape(t),n.push(goog.html.SafeHtml.unwrap(t)),t=t.getDirection(),r==goog.i18n.bidi.Dir.NEUTRAL?r=t:t!=goog.i18n.bidi.Dir.NEUTRAL&&r!=t&&(r=null))})),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n.join(goog.html.SafeHtml.unwrap(e)),r)},goog.html.SafeHtml.concat=function(e){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(e,t){var r=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return r.dir_=e,r},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,r){var n=null,i="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return goog.isDefAndNotNull(r)?goog.isArray(r)||(r=[r]):r=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!r.length,"Void tag <"+e+"> does not allow content."),i+=">"):(n=goog.html.SafeHtml.concat(r),i+=">"+goog.html.SafeHtml.unwrap(n)+"</"+e+">",n=n.getDirection()),(e=t&&t.dir)&&(n=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i,n)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var r="";if(t)for(var n in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error('Invalid attribute name "'+n+'".');var i=t[n];goog.isDefAndNotNull(i)&&(r+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,n,i))}return r},goog.html.SafeHtml.combineAttributes=function(e,t,r){var n,i={};for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),i[n]=e[n];for(n in t)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),i[n]=t[n];for(n in r){var o=n.toLowerCase();if(o in e)throw Error('Cannot override "'+o+'" attribute, got "'+n+'" with value "'+r[n]+'"');o in t&&delete i[o],i[n]=r[n]}return i},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,r){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,r||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=goog.dom.asserts.getWindow_(e);r&&void 0!==r[t]&&(e&&(e instanceof r[t]||!(e instanceof r.Location||e instanceof r.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){if(!goog.isObject(e))return void 0===e?"undefined":null===e?"null":typeof e;try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,r=t&&(t.defaultView||t.parentWindow);if((r=r||goog.global).Element&&r.Location)return r}catch(e){}return null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,r),e.apply(this,t)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(r){return t?e==r:e===r}},goog.functions.compose=function(e,t){var r=arguments,n=r.length;return function(){var e;n&&(e=r[n-1].apply(this,arguments));for(var t=n-2;0<=t;t--)e=r[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,r=t.length;return function(){for(var e,n=0;n<r;n++)e=t[n].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var r=function(){};return r.prototype=e.prototype,r=new r,e.apply(r,Array.prototype.slice.call(arguments,1)),r},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,r=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(r||(t=e(),r=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,r){var n=0;return function(i){goog.global.clearTimeout(n);var o=arguments;n=goog.global.setTimeout((function(){e.apply(r,o)}),t)}},goog.functions.throttle=function(e,t,r){var n=0,i=!1,o=[],a=function(){n=0,i&&(i=!1,s())},s=function(){n=goog.global.setTimeout(a,t),e.apply(r,o)};return function(e){o=arguments,n?i=!0:s()}},goog.functions.rateLimit=function(e,t,r){var n=0,i=function(){n=0};return function(o){n||(n=goog.global.setTimeout(i,t),e.apply(r,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,r){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrapTrustedHTML(r))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue((function(){if(goog.DEBUG&&"undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!(goog.DEBUG&&!e.firstChild)&&(t=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!t.parentElement)})),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setFormElementAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setButtonFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setInputFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setImageSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:image\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setAudioSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:audio\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setVideoSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:video\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,r){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=r,goog.string.internal.caseInsensitiveContains(r,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(t):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(t))},goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.assign(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.replaceLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.replace(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.openInWindow=function(e,t,r,n,i){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),(t||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(e),r?goog.string.Const.unwrap(r):"",n,i)},goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")},goog.dom.safe.parseFromString=function(e,t,r){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t),r)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e);return(e=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),e},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:"\xa0"},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,t){for(var r=e.split("%s"),n="",i=Array.prototype.slice.call(arguments,1);i.length&&1<r.length;)n+=r.shift()+i.shift();return n+r.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||"\x80"<=e&&"\ufffd">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,r){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(r),i=t.toLowerCase().match(r),o=Math.min(n.length,i.length),a=0;a<o;a++){r=n[a];var s=i[a];if(r!=s)return e=parseInt(r,10),!isNaN(e)&&(t=parseInt(s,10),!isNaN(t)&&e-t)?e-t:r<s?-1:1}return n.length!=i.length?n.length-i.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,(function(e,t){var i=r[e];return i||("#"==t.charAt(0)&&(t=Number("0"+t.substr(1)),isNaN(t)||(i=String.fromCharCode(t))),i||(goog.dom.safe.setInnerHtml(n,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),e+" ")),i=n.firstChild.nodeValue.slice(0,-1)),r[e]=i)}))},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,(function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=t.charAt(0)||(t=Number("0"+t.substr(1)),isNaN(t))?e:String.fromCharCode(t)}}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var r=t.length,n=0;n<r;n++){var i=1==r?t:t.charAt(n);if(e.charAt(0)==i&&e.charAt(e.length-1)==i)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,r){return r&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,r,n){if(r&&(e=goog.string.unescapeEntities(e)),n&&e.length>t){n>t&&(n=t);var i=e.length-n;e=e.substring(0,t-n)+"..."+e.substring(i)}else e.length>t&&(n=Math.floor(t/2),i=e.length-n,e=e.substring(0,n+t%2)+"..."+e.substring(i));return r&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],r=0;r<e.length;r++){var n=e.charAt(r),i=n.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[n]||(31<i&&127>i?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=goog.string.escapeChar(e.charAt(r));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var r=e;else 256>t?(r="\\x",(16>t||256<t)&&(r+="0")):(r="\\u",4096>t&&(r+="0")),r+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=r},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,r){var n=e;return 0<=t&&t<e.length&&0<r&&(n=e.substr(0,t)+e.substr(t+r,e.length-t-r)),n},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")},goog.string.replaceAll=function(e,t,r){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,r){return-1==(r=(e=goog.isDef(r)?e.toFixed(r):String(e)).indexOf("."))&&(r=e.length),goog.string.repeat("0",Math.max(0,t-r))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,(function(e,t){return t.toUpperCase()}))},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){return t=goog.isString(t)?goog.string.regExpEscape(t):"\\s",e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),(function(e,t,r){return t+r.toUpperCase()}))},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,r){e=e.split(t);for(var n=[];0<r&&e.length;)n.push(e.shift()),r--;return e.length&&n.push(e.join(t)),n},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var r=-1,n=0;n<t.length;n++)if(""!=t[n]){var i=e.lastIndexOf(t[n]);i>r&&(r=i)}return-1==r?e:e.slice(r+1)},goog.string.editDistance=function(e,t){var r=[],n=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var i=0;i<t.length+1;i++)r[i]=i;for(i=0;i<e.length;i++){n[0]=i+1;for(var o=0;o<t.length;o++)n[o+1]=Math.min(n[o]+1,r[o+1]+1,r[o]+Number(e[i]!=t[o]));for(o=0;o<r.length;o++)r[o]=n[o]}return n[t.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?t=(e=(t=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?t=(e=(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?t=(e=(t=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?t=(e=(t=/(?:KaiOS)\/(\S+)/i).exec(e))&&e[1]:goog.labs.userAgent.platform.isAndroid()?t=(e=(t=/Android\s+([^\);]+)(\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(t=(e=(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.reflect.cache=function(e,t,r,n){return n=n?n(t):t,Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=r(t)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t,r=goog.labs.userAgent.engine.getEngineTuple_(e);if(r)return"Gecko"==r[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):r[1];if((e=e[0])&&(t=e[2])&&(t=/Trident\/([^\s;]+)/.exec(t)))return t[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var r=e[t];if("Edge"==r[0])return r}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,(function(e){return t==e[0]})))&&e[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&null!=(t=goog.userAgent.getDocumentMode_())&&t>parseFloat(e)?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,(function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)}))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),void 0===t&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var r=[],n=0;n<e.length;n+=3){var i=e[n],o=n+1<e.length,a=o?e[n+1]:0,s=n+2<e.length,c=s?e[n+2]:0,l=i>>2;i=(3&i)<<4|a>>4,a=(15&a)<<2|c>>6,c&=63,s||(c=64,o||(a=64)),r.push(t[l],t[i],t[a]||"",t[c]||"")}return r.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var r="";return goog.crypt.base64.decodeStringInternal_(e,(function(e){r+=String.fromCharCode(e)})),r},goog.crypt.base64.decodeStringToByteArray=function(e,t){var r=[];return goog.crypt.base64.decodeStringInternal_(e,(function(e){r.push(e)})),r},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=e.length,r=3*t/4;r%3?r=Math.floor(r):goog.crypt.base64.isPadding_(e[t-1])&&(r=goog.crypt.base64.isPadding_(e[t-2])?r-2:r-1);var n=new Uint8Array(r),i=0;return goog.crypt.base64.decodeStringInternal_(e,(function(e){n[i++]=e})),n.subarray(0,i)},goog.crypt.base64.decodeStringInternal_=function(e,t){function r(t){for(;n<e.length;){var r=e.charAt(n++),i=goog.crypt.base64.charToByteMap_[r];if(null!=i)return i;if(!goog.string.isEmptyOrWhitespace(r))throw Error("Unknown base64 encoding at char: "+r)}return t}goog.crypt.base64.init_();for(var n=0;;){var i=r(-1),o=r(0),a=r(64),s=r(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=e.concat(t[r].split(""));goog.crypt.base64.byteToCharMaps_[r]=n;for(var i=0;i<n.length;i++){var o=n[i],a=goog.crypt.base64.charToByteMap_[o];void 0===a?goog.crypt.base64.charToByteMap_[o]=i:goog.asserts.assert(a===i)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e,r=(e=Math.abs(e))>>>0;e=Math.floor((e-r)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++e&&(e=0))),jspb.utils.split64Low=r,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;t&&(0==e?0==r?r=e=4294967295:(r--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=r},jspb.utils.splitFloat32=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|2139095040)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|e)>>>0;else{var r=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-r),e=8388607&Math.round(e*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|r+127<<23|e)>>>0}},jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var r=e/Math.pow(2,-1074);e=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=r>>>0}else{var n=0;if(2<=(r=e))for(;2<=r&&1023>n;)n++,r/=2;else for(;1>r&&-1022<n;)r*=2,n--;e=(r=e*Math.pow(2,-n))*jspb.BinaryConstants.TWO_TO_20&1048575,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|n+1023<<20|e)>>>0,jspb.utils.split64Low=r}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),o=e.charCodeAt(4),a=e.charCodeAt(5),s=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(r<<8)+(n<<16)+(i<<24)>>>0,jspb.utils.split64High=o+(a<<8)+(s<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+(e>>>0)},jspb.utils.joinInt64=function(e,t){var r=2147483648&t;return r&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=jspb.utils.joinUint64(e,t),r?-e:e},jspb.utils.toZigzag64=function(e,t,r){var n=t>>31;return r(e<<1^n,(t<<1|e>>>31)^n)},jspb.utils.joinZigzag64=function(e,t){return jspb.utils.fromZigzag64(e,t,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(e,t,r){var n=-(1&e);return r((e>>>1|t<<31)^n,t>>>1^n)},jspb.utils.joinFloat32=function(e,t){t=2*(e>>31)+1;var r=e>>>23&255;return e&=8388607,255==r?e?NaN:1/0*t:0==r?t*Math.pow(2,-149)*e:t*Math.pow(2,r-150)*(e+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,t){var r=2*(t>>31)+1,n=t>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e,2047==n?e?NaN:1/0*r:0==n?r*Math.pow(2,-1074)*e:r*Math.pow(2,n-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(e,t){function r(e,t){return e=e?String(e):"",t?"0000000".slice(e.length)+e:e}if(2097151>=t)return""+(jspb.BinaryConstants.TWO_TO_32*t+e);var n=(e>>>24|t<<8)>>>0&16777215;return e=(16777215&e)+6777216*n+6710656*(t=t>>16&65535),n+=8147497*t,t*=2,1e7<=e&&(n+=Math.floor(e/1e7),e%=1e7),1e7<=n&&(t+=Math.floor(n/1e7),n%=1e7),r(t,0)+r(n,t)+r(e,1)},jspb.utils.joinSignedDecimalString=function(e,t){var r=2147483648&t;return r&&(t=~t+(0==(e=1+~e>>>0)?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,t),r?"-"+e:e},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(e,r):jspb.utils.joinUnsignedDecimalString(e,r)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]=jspb.utils.hash64ToDecimalString(e[n],t);return r},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var r=0;8>r&&(1!==e||0<t);r++)t=e*n[r]+t,n[r]=255&t,t>>>=8}goog.asserts.assert(0<e.length);var r=!1;"-"===e[0]&&(r=!0,e=e.slice(1));for(var n=[0,0,0,0,0,0,0,0],i=0;i<e.length;i++)t(10,e.charCodeAt(i)-jspb.utils.ZERO_CHAR_CODE_);return r&&(function(){for(var e=0;8>e;e++)n[e]=255&~n[e]}(),t(1,1)),goog.crypt.byteArrayToString(n)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.toHexDigit_=function(e){return String.fromCharCode(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)},jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var r=0;8>r;r++){var n=e.charCodeAt(7-r);t[2*r+2]=jspb.utils.toHexDigit_(n>>4),t[2*r+3]=jspb.utils.toHexDigit_(15&n)}return t.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),goog.asserts.assert(18==e.length),goog.asserts.assert("0"==e[0]),goog.asserts.assert("x"==e[1]);for(var t="",r=0;8>r;r++){var n=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+2)),i=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+3));t=String.fromCharCode(16*n+i)+t}return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinInt64(e,r):jspb.utils.joinUint64(e,r)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,r){for(var n=0,i=t;i<r;i++)n+=e[i]>>7;return r-t-n},jspb.utils.countVarintFields=function(e,t,r,n){var i=0;if(128>(n=8*n+jspb.BinaryConstants.WireType.VARINT))for(;t<r&&e[t++]==n;)for(i++;;){var o=e[t++];if(0==(128&o))break}else for(;t<r;){for(o=n;128<o;){if(e[t]!=(127&o|128))return i;t++,o>>=7}if(e[t++]!=o)break;for(i++;0!=(128&(o=e[t++])););}return i},jspb.utils.countFixedFields_=function(e,t,r,n,i){var o=0;if(128>n)for(;t<r&&e[t++]==n;)o++,t+=i;else for(;t<r;){for(var a=n;128<a;){if(e[t++]!=(127&a|128))return o;a>>=7}if(e[t++]!=a)break;o++,t+=i}return o},jspb.utils.countFixed32Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,r,n){var i=0;for(n=8*n+jspb.BinaryConstants.WireType.DELIMITED;t<r;){for(var o=n;128<o;){if(e[t++]!=(127&o|128))return i;o>>=7}if(e[t++]!=o)break;i++;for(var a=0,s=1;a+=(127&(o=e[t++]))*s,s*=128,0!=(128&o););t+=a}return i},jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var r=0;r<e.length;r++)t+="\\x",16>e[r]&&(t+="0"),t+=e[r].toString(16)}return t+'"'},jspb.utils.debugScalarToTextFormat=function(e){return"string"==typeof e?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var n=e.charCodeAt(r);if(255<n)throw Error("Conversion error: string contains codepoint outside of byte range");t[r]=n}return t},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||void 0!==Buffer&&e.constructor===Buffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(e,t,r){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,r)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,r){if(jspb.BinaryDecoder.instanceCache_.length){var n=jspb.BinaryDecoder.instanceCache_.pop();return e&&n.setBlock(e,t,r),n}return new jspb.BinaryDecoder(e,t,r)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,r){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=void 0!==t?t:0,this.end_=void 0!==r?this.start_+r:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var t=128,r=0,n=0,i=0;4>i&&128<=t;i++)r|=(127&(t=this.bytes_[this.cursor_++]))<<7*i;if(128<=t&&(r|=(127&(t=this.bytes_[this.cursor_++]))<<28,n|=(127&t)>>4),128<=t)for(i=0;5>i&&128<=t;i++)n|=(127&(t=this.bytes_[this.cursor_++]))<<7*i+3;if(128>t)return e(r>>>0,n>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var t=this.bytes_,r=this.cursor_;this.cursor_+=8;for(var n=0,i=0,o=r+7;o>=r;o--)n=n<<8|t[o],i=i<<8|t[o+4];return e(n,i)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],r=127&t;return 128>t?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+1]))<<7,128>t?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+2]))<<14,128>t?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(t=e[this.cursor_+3]))<<21,128>t?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),r):(r|=(15&(t=e[this.cursor_+4]))<<28,128>t?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),r)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8|r<<16|n<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8|r<<16|n<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,r=this.cursor_;e=r+e;for(var n=[],i="";r<e;){var o=t[r++];if(128>o)n.push(o);else{if(192>o)continue;if(224>o){var a=t[r++];n.push((31&o)<<6|63&a)}else if(240>o){a=t[r++];var s=t[r++];n.push((15&o)<<12|(63&a)<<6|63&s)}else 248>o&&(o=(7&o)<<18|(63&(a=t[r++]))<<12|(63&(s=t[r++]))<<6|63&t[r++],o-=65536,n.push(55296+(o>>10&1023),56320+(1023&o)))}8192<=n.length&&(i+=String.fromCharCode.apply(null,n),n.length=0)}return i+=goog.crypt.byteArrayToString(n),this.cursor_=r,i},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,r=e[t+0],n=e[t+1],i=e[t+2],o=e[t+3],a=e[t+4],s=e[t+5],c=e[t+6];return e=e[t+7],this.cursor_+=8,String.fromCharCode(r,n,i,o,a,s,c,e)},jspb.BinaryReader=function(e,t,r){this.decoder_=jspb.BinaryDecoder.alloc(e,t,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,r){if(jspb.BinaryReader.instanceCache_.length){var n=jspb.BinaryReader.instanceCache_.pop();return e&&n.decoder_.setBlock(e,t,r),n}return new jspb.BinaryReader(e,t,r)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,r){this.decoder_.setBlock(e,t,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3;return(e&=7)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var e=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){null===this.readCallbacks_&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return goog.asserts.assert(null!==this.readCallbacks_),e=this.readCallbacks_[e],goog.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),n=this.decoder_.readUnsignedVarint32();n=this.decoder_.getCursor()+n,this.decoder_.setEnd(n),t(e,this),this.decoder_.setCursor(n),this.decoder_.setEnd(r)},jspb.BinaryReader.prototype.readGroup=function(e,t,r){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),r(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),r=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(r),e},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64((function(t,r){return jspb.utils.fromZigzag64(t,r,e)}))},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)},jspb.BinaryReader.prototype.readPackedField_=function(e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var r=[];this.decoder_.getCursor()<t;)r.push(e.call(this.decoder_));return r},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],r=t[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,(t=this.stringKeys_()).sort(),e=0;e<t.length;e++){var n=this.map_[t[e]];(r=n.valueWrapper)&&r.toArray(),this.arr_.push([n.key,n.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(e,t){for(var r=this.toArray(),n=[],i=0;i<r.length;i++){var o=this.map_[r[i][0].toString()];this.wrapEntry_(o);var a=o.valueWrapper;a?(goog.asserts.assert(t),n.push([o.key,t(e,a)])):n.push([o.key,o.value])}return n},jspb.Map.fromObject=function(e,t,r){t=new jspb.Map([],t);for(var n=0;n<e.length;n++){var i=e[n][0],o=r(e[n][1]);t.set(i,o)}return t},jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,n.value])}return e},jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,this.wrapEntry_(n)])}return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.map_[t[r]].key);return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.wrapEntry_(this.map_[t[r]]));return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.forEach=function(e,t){var r=this.stringKeys_();r.sort();for(var n=0;n<r.length;n++){var i=this.map_[r[n]];e.call(t,this.wrapEntry_(i),i.key,this)}},jspb.Map.prototype.set=function(e,t){var r=new jspb.Map.Entry_(e);return this.valueCtor_?(r.valueWrapper=t,r.value=t.toArray()):r.value=t,this.map_[e.toString()]=r,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},jspb.Map.prototype.has=function(e){return e.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(e,t,r,n,i){var o=this.stringKeys_();o.sort();for(var a=0;a<o.length;a++){var s=this.map_[o[a]];t.beginSubMessage(e),r.call(t,1,s.key),this.valueCtor_?n.call(t,2,this.wrapEntry_(s),i):n.call(t,2,s.value),t.endSubMessage()}},jspb.Map.deserializeBinary=function(e,t,r,n,i,o,a){for(;t.nextField()&&!t.isEndGroup();){var s=t.getFieldNumber();1==s?o=r.call(t):2==s&&(e.valueCtor_?(goog.asserts.assert(i),a||(a=new e.valueCtor_),n.call(t,a,i)):a=n.call(t))}goog.asserts.assert(null!=o),goog.asserts.assert(null!=a),e.set(o,a)},jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,t,r,n,i){this.fieldIndex=e,this.fieldName=t,this.ctor=r,this.toObjectFn=n,this.isRepeated=i},jspb.ExtensionFieldBinaryInfo=function(e,t,r,n,i,o){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=r,this.binaryMessageSerializeFn=n,this.binaryMessageDeserializeFn=i,this.isPacked=o},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,t){return t-e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,r,n,i,o){if(e.wrappers_=null,t||(t=r?[r]:[]),e.messageId_=r?String(r):void 0,e.arrayIndexOffset_=0===r?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,n),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=i),i)for(t=0;t<i.length;t++)(r=i[t])<e.pivot_?(r=jspb.Message.getIndex_(e,r),e.array[r]=e.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[r]=e.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(o&&o.length)for(t=0;t<o.length;t++)jspb.Message.computeOneofCase(e,o[t])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:Array.isArray(e)},jspb.Message.isExtensionObject_=function(e){return!(null===e||"object"!=typeof e||jspb.Message.isArray_(e)||jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,t){var r=e.array.length,n=-1;if(r&&(n=r-1,r=e.array[n],jspb.Message.isExtensionObject_(r)))return e.pivot_=jspb.Message.getFieldNumber_(e,n),void(e.extensionObject_=r);-1<t?(e.pivot_=Math.max(t,jspb.Message.getFieldNumber_(e,n+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,r){for(var n=[],i=0;i<e.length;i++)n[i]=t.call(e[i],r,e[i]);return n},jspb.Message.toObjectExtension=function(e,t,r,n,i){for(var o in r){var a=r[o],s=n.call(e,a);if(null!=s){for(var c in a.fieldName)if(a.fieldName.hasOwnProperty(c))break;t[c]=a.toObjectFn?a.isRepeated?jspb.Message.toObjectList(s,a.toObjectFn,i):a.toObjectFn(i,s):s}}},jspb.Message.serializeBinaryExtensions=function(e,t,r,n){for(var i in r){var o=r[i],a=o.fieldInfo;if(!o.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var s=n.call(e,a);if(null!=s)if(a.isMessageType()){if(!o.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");o.binaryWriterFn.call(t,a.fieldIndex,s,o.binaryMessageSerializeFn)}else o.binaryWriterFn.call(t,a.fieldIndex,s)}},jspb.Message.readBinaryExtension=function(e,t,r,n,i){var o=r[t.getFieldNumber()];if(o){if(r=o.fieldInfo,!o.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(r.isMessageType()){var a=new r.ctor;o.binaryReaderFn.call(t,a,o.binaryMessageDeserializeFn)}else a=o.binaryReaderFn.call(t);r.isRepeated&&!o.isPacked?(t=n.call(e,r))?t.push(a):i.call(e,r,[a]):i.call(e,r,a)}else t.skipField()},jspb.Message.getField=function(e,t){if(t<e.pivot_){t=jspb.Message.getIndex_(e,t);var r=e.array[t];return r===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[t]=[]:r}if(e.extensionObject_)return(r=e.extensionObject_[t])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:r},jspb.Message.getRepeatedField=function(e,t){return jspb.Message.getField(e,t)},jspb.Message.getOptionalFloatingPointField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:+e},jspb.Message.getBooleanField=function(e,t){return null==(e=jspb.Message.getField(e,t))?e:!!e},jspb.Message.getRepeatedFloatingPointField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=+r[n];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.getRepeatedBooleanField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=!!r[n];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.bytesAsB64=function(e){return null==e||"string"==typeof e?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:"string"==typeof e?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),e.length&&"string"!=typeof e[0]?goog.array.map(e,jspb.Message.bytesAsB64):e},jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,(function(e){goog.typeOf(e)!=t&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(e)+" expected "+t)}))}},jspb.Message.getFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getField(e,t))?r:e},jspb.Message.getBooleanFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getBooleanField(e,t))?r:e},jspb.Message.getFloatingPointFieldWithDefault=function(e,t,r){return null==(e=jspb.Message.getOptionalFloatingPointField(e,t))?r:e},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),t in e.wrappers_)return e.wrappers_[t];var i=jspb.Message.getField(e,t);if(!i){if(r)return;i=[],jspb.Message.setField(e,t,i)}return e.wrappers_[t]=new jspb.Map(i,n)},jspb.Message.setField=function(e,t,r){return goog.asserts.assertInstanceof(e,jspb.Message),t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=r),e},jspb.Message.setProto3IntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3FloatField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3BooleanField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,!1)},jspb.Message.setProto3StringField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3BytesField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3EnumField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3StringIntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"0")},jspb.Message.setFieldIgnoringDefault_=function(e,t,r,n){return goog.asserts.assertInstanceof(e,jspb.Message),r!==n?jspb.Message.setField(e,t,r):t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(e),delete e.extensionObject_[t]),e},jspb.Message.addToRepeatedField=function(e,t,r,n){return goog.asserts.assertInstanceof(e,jspb.Message),t=jspb.Message.getRepeatedField(e,t),null!=n?t.splice(n,0,r):t.push(r),e},jspb.Message.setOneofField=function(e,t,r,n){return goog.asserts.assertInstanceof(e,jspb.Message),(r=jspb.Message.computeOneofCase(e,r))&&r!==t&&void 0!==n&&(e.wrappers_&&r in e.wrappers_&&(e.wrappers_[r]=void 0),jspb.Message.setField(e,r,void 0)),jspb.Message.setField(e,t,n)},jspb.Message.computeOneofCase=function(e,t){for(var r,n,i=0;i<t.length;i++){var o=t[i],a=jspb.Message.getField(e,o);null!=a&&(r=o,n=a,jspb.Message.setField(e,o,void 0))}return r?(jspb.Message.setField(e,r,n),r):0},jspb.Message.getWrapperField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){var i=jspb.Message.getField(e,r);(n||i)&&(e.wrappers_[r]=new t(i))}return e.wrappers_[r]},jspb.Message.getRepeatedWrapperField=function(e,t,r){return jspb.Message.wrapRepeatedField_(e,t,r),(t=e.wrappers_[r])==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[r]=[]),t},jspb.Message.wrapRepeatedField_=function(e,t,r){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){for(var n=jspb.Message.getRepeatedField(e,r),i=[],o=0;o<n.length;o++)i[o]=new t(n[o]);e.wrappers_[r]=i}},jspb.Message.setWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var n=r?r.toArray():r;return e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},jspb.Message.setOneofWrapperField=function(e,t,r,n){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var i=n?n.toArray():n;return e.wrappers_[t]=n,jspb.Message.setOneofField(e,t,r,i)},jspb.Message.setRepeatedWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),r=r||[];for(var n=[],i=0;i<r.length;i++)n[i]=r[i].toArray();return e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},jspb.Message.addToRepeatedWrapperField=function(e,t,r,n,i){jspb.Message.wrapRepeatedField_(e,n,t);var o=e.wrappers_[t];return o||(o=e.wrappers_[t]=[]),r=r||new n,e=jspb.Message.getRepeatedField(e,t),null!=i?(o.splice(i,0,r),e.splice(i,0,r.toArray())):(o.push(r),e.push(r.toArray())),r},jspb.Message.toMap=function(e,t,r,n){for(var i={},o=0;o<e.length;o++)i[t.call(e[o])]=r?r.call(e[o],n,e[o]):e[o];return i},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&t[r].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],(function(t){return new e.ctor(t)}))),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=goog.array.map(t,(function(e){return e.toArray()}))):this.extensionObject_[r]=t):e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=t?t.toArray():t):this.extensionObject_[r]=t,this},jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var r=e.toArray();t=t.toArray();var n=[],i=0,o=r.length>t.length?r.length:t.length;for(e.getJsPbMessageId()&&(n[0]=e.getJsPbMessageId(),i=1);i<o;i++)jspb.Message.compareFields(r[i],t[i])||(n[i]=t[i]);return new e.constructor(n)},jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var r,n={};for(r in e)n[r]=0;for(r in t)n[r]=0;for(r in n)if(!jspb.Message.compareFields(e[r],t[r]))return!1;return!0},jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t))return!!("number"==typeof e&&isNaN(e)||"number"==typeof t&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}if(e.constructor===Array){var n=void 0,i=void 0,o=Math.max(e.length,t.length);for(r=0;r<o;r++){var a=e[r],s=t[r];if(a&&a.constructor==Object&&(goog.asserts.assert(void 0===n),goog.asserts.assert(r===e.length-1),n=a,a=void 0),s&&s.constructor==Object&&(goog.asserts.assert(void 0===i),goog.asserts.assert(r===t.length-1),i=s,s=void 0),!jspb.Message.compareFields(a,s))return!1}return!n&&!i||(n=n||{},i=i||{},jspb.Message.compareExtensions(n,i))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assertInstanceof(t,jspb.Message),goog.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var r=t.toArray(),n=e.toArray(),i=r.length=0;i<n.length;i++)r[i]=n[i];t.wrappers_=e.wrappers_,t.extensionObject_=e.extensionObject_},jspb.Message.clone_=function(e){if(Array.isArray(e)){for(var t=Array(e.length),r=0;r<e.length;r++){var n=e[r];null!=n&&(t[r]="object"==typeof n?jspb.Message.clone_(goog.asserts.assert(n)):n)}return t}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(r in t={},e)null!=(n=e[r])&&(t[r]="object"==typeof n?jspb.Message.clone_(goog.asserts.assert(n)):n);return t},jspb.Message.registerMessageType=function(e,t){t.messageId=e},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){var r=65535&e,n=65535&t,i=t>>>16;for(t=r*n+65536*(r*i&65535)+65536*((e>>>=16)*n&65535),r=e*i+(r*i>>>16)+(e*n>>>16);4294967296<=t;)t-=4294967296,r+=1;return new jspb.arith.UInt64(t>>>0,r>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return(e=jspb.arith.UInt64.mul32x32(this.hi,e)).hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var n=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),n=n.leftShift();for(;!n.zero();)0>=e.cmp(r)&&(t=t.add(n),r=r.sub(e)),e=e.rightShift(),n=n.rightShift();return[t,r]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){var r=(t=t.div(10))[0];e=t[1].lo+e,t=r}return""==e&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),n=0;n<e.length;n++){if("0">e[n]||"9"<e[n])return null;var i=parseInt(e[n],10);r.lo=i,t=t.mul(10).add(r)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=0!=(2147483648&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),null===(e=jspb.arith.UInt64.fromString(e))?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var t=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,(function(e,r){t.writeSplitVarint64(e>>>0,r>>>0)}))},jspb.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert("boolean"==typeof e||"number"==typeof e),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){for(var t=this.buffer_.length,r=0;r<e.length;r++){var n=e.charCodeAt(r);if(128>n)this.buffer_.push(n);else if(2048>n)this.buffer_.push(n>>6|192),this.buffer_.push(63&n|128);else if(65536>n)if(55296<=n&&56319>=n&&r+1<e.length){var i=e.charCodeAt(r+1);56320<=i&&57343>=i&&(n=1024*(n-55296)+i-56320+65536,this.buffer_.push(n>>18|240),this.buffer_.push(n>>12&63|128),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128),r++)}else this.buffer_.push(n>>12|224),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128)}return this.buffer_.length-t},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,goog.asserts.assert(0<=t);127<t;)e.push(127&t|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,r){this.appendUint8Array_(e.subarray(t,r))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,r){null!=e&&null!=t&&null!=r&&this.writeSerializedMessage(e,t,r)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(0==this.bookmarks_.length);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,r=t.length,n=0,i=0;i<r;i++){var o=t[i];e.set(o,n),n+=o.length}return t=this.encoder_.end(),e.set(t,n),n+=t.length,goog.asserts.assert(n==e.length),this.blocks_=[e],e},jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){goog.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,r){var n=jspb.BinaryConstants.FieldType;switch(e){case n.DOUBLE:this.writeDouble(t,r);break;case n.FLOAT:this.writeFloat(t,r);break;case n.INT64:this.writeInt64(t,r);break;case n.UINT64:this.writeUint64(t,r);break;case n.INT32:this.writeInt32(t,r);break;case n.FIXED64:this.writeFixed64(t,r);break;case n.FIXED32:this.writeFixed32(t,r);break;case n.BOOL:this.writeBool(t,r);break;case n.STRING:this.writeString(t,r);break;case n.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case n.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case n.BYTES:this.writeBytes(t,r);break;case n.UINT32:this.writeUint32(t,r);break;case n.ENUM:this.writeEnum(t,r);break;case n.SFIXED32:this.writeSfixed32(t,r);break;case n.SFIXED64:this.writeSfixed64(t,r);break;case n.SINT32:this.writeSint32(t,r);break;case n.SINT64:this.writeSint64(t,r);break;case n.FHASH64:this.writeFixedHash64(t,r);break;case n.VHASH64:this.writeVarintHash64(t,r);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeInt64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeUint64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},jspb.BinaryWriter.prototype.writeSintHash64=function(e,t){null!=t&&this.writeZigzagVarintHash64_(e,t)},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&this.writeZigzagVarint64String_(e,t)},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(goog.asserts.assert("boolean"==typeof t||"number"==typeof t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeString=function(e,t){null!=t&&(e=this.beginDelimited_(e),this.encoder_.writeString(t),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeBytes=function(e,t){null!=t&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))},jspb.BinaryWriter.prototype.writeMessage=function(e,t,r){null!=t&&(e=this.beginDelimited_(e),r(t,this),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeMessageSet=function(e,t,r){null!=t&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),r(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,r){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,r)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,r)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var n=this.encoder_;jspb.utils.toZigzag64(t,r,(function(e,t){n.writeSplitVarint64(e>>>0,t>>>0)}))},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.writeSplitFixed64(e,r(t[i]),n(t[i]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.writeSplitVarint64(e,r(t[i]),n(t[i]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,t,r,n){if(null!=t)for(var i=0;i<t.length;i++)this.writeSplitZigzagVarint64(e,r(t[i]),n(t[i]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64String_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarintHash64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFloat(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeDouble(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBool(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeEnum(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeString(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBytes(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++){var i=this.beginDelimited_(e);r(t[n],this),this.endDelimited_(i)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t[n],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixedHash64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeVarintHash64(e,t[r])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var i=0;i<t.length;i++)this.encoder_.writeSplitFixed64(r(t[i]),n(t[i]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var i=0;i<t.length;i++)this.encoder_.writeSplitVarint64(r(t[i]),n(t[i]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var i=this.encoder_,o=0;o<t.length;o++)jspb.utils.toZigzag64(r(t[o]),n(t[o]),(function(e,t){i.writeSplitVarint64(e>>>0,t>>>0)}));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.Int64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.UInt64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[r]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var r=jspb.arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64String(t[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])},jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])},jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])},jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeEnum(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeFixedHash64(t[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeVarintHash64(t[r]);this.endDelimited_(e)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(this,__webpack_require__(57),__webpack_require__(480).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(481),i=r(482),o=r(483);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,r),i=(e=s(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(n)return j(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return B(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var o,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){for(var d=!0,p=0;p<c;p++)if(l(e,o+p)!==l(t,p)){d=!1;break}if(d)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function x(e,t,r,n){return k(j(t,e.length-r),e,r,n)}function S(e,t,r,n){return k(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function A(e,t,r,n){return S(e,t,r,n)}function w(e,t,r,n){return k(z(t),e,r,n)}function _(e,t,r,n){return k(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,c,l=e[i],u=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=r)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(c=(15&l)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function B(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function M(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=G(e[o]);return i}function C(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function O(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function F(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function N(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function L(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function P(e,t,r,n,o){return o||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function D(e,t,r,n,o){return o||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return l(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(n,i),u=e.slice(t,r),d=0;d<s;++d)if(l[d]!==u[d]){o=l[d],a=u[d];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return x(this,e,t,r);case"ascii":return S(this,e,t,r);case"latin1":case"binary":return A(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;r=new c(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||I(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||I(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return P(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return P(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=c.isBuffer(e)?e:j(new c(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function G(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function z(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function k(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(57))},function(e,t,r){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=l(e),a=n[0],s=n[1],c=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),u=0,d=s>0?a-4:a;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[u++]=255&t),1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(u(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,l=c>>1,u=-7,d=r?i-1:0,p=r?-1:1,h=e[t+d];for(d+=p,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=l}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,c,l=8*o-i-1,u=(1<<l)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+h]=255&a,h+=f,a/=256,l-=8);e[r+h-f]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(t){function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var r=0;r<e.length;++r){var n=e[r];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function o(e,t){if(t){var r=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in r||(r[a]={}),r=r[a]}(t=t(o=r[e=e[e.length-1]]))!=o&&null!=t&&n(r,e,{configurable:!0,writable:!0,value:t})}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}o("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),o("Array.prototype.includes",(function(e){return e||function(e,t){var r=this;r instanceof String&&(r=String(r));var n=r.length;for(0>(t=t||0)&&(t=Math.max(t+n,0));t<n;t++){var i=r[t];if(i===e||Object.is(i,e))return!0}return!1}})),o("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function r(){this.a=null}function n(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;r.prototype.c=function(e){o(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var r=e[t];e[t]=null;try{r()}catch(e){this.f(e)}}}this.a=null},r.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(n){r||(r=!0,e.call(t,n))}}var t=this,r=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var r=null!=e;break e;case"function":r=!0;break e;default:r=!1}r?this.l(e):this.h(e)}},t.prototype.l=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.j()},t.prototype.j=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new r;return t.prototype.o=function(e){var t=this.f();e.w(t.resolve,t.reject)},t.prototype.u=function(e,t){var r=this.f();try{e.call(t,r.resolve,r.reject)}catch(e){r.reject(e)}},t.prototype.then=function(e,r){function n(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.w(n(e,i),n(r,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.w=function(e,t){function r(){switch(n.b){case 1:e(n.c);break;case 2:t(n.c);break;default:throw Error("Unexpected state: "+n.b)}}var n=this;null==this.a?s.b(r):this.a.push(r)},t.resolve=n,t.reject=function(e){return new t((function(t,r){r(e)}))},t.race=function(e){return new t((function(t,r){for(var i=a(e),o=i.next();!o.done;o=i.next())n(o.value).w(t,r)}))},t.all=function(e){var r=a(e),i=r.next();return i.done?n([]):new t((function(e,t){function o(t){return function(r){a[t]=r,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,n(i.value).w(o(a.length-1),t),i=r.next()}while(!i.done)}))},t}));var s=s||{},c=this||self;function l(e,t){e=e.split("."),t=t||c;for(var r=0;r<e.length;r++)if(null==(t=t[e[r]]))return null;return t}function u(){}function d(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var h="closure_uid_"+(1e9*Math.random()>>>0),f=0;function g(e,t,r){return e.call.apply(e.bind,arguments)}function m(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function y(e,t,r){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}var v=Date.now||function(){return+new Date};function b(e,t){function r(){}r.prototype=t.prototype,e.S=t.prototype,e.prototype=new r,e.prototype.constructor=e}function x(){this.a={}}function S(e,t,r,n){this.f=e,this.c=t,this.b=r,this.a=n}function A(e,t,r,n){r=void 0===r?{}:r,this.c=e,this.a=r,this.b=t,this.f=void 0===n?null:n}function w(e,t,r,n,i,o){this.name=e,this.a=i,this.b=o}function _(e,t,r){r=void 0===r?{}:r;var n=void 0===n?new x:n;return new S(t,e,r,n)}function T(e,t,r,n){return n instanceof w?n:new w(e,r,n.b||t.constructor,n.f,n.a,n.c)}function E(e){this.a=e}function B(e){switch(e){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}}function R(e){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function M(e,t){for(var r="",n=(e=e.split("%s")).length-1,i=0;i<n;i++)r+=e[i]+(i<t.length?t[i]:"%s");R.call(this,r+e[n])}function C(){this.j=null,this.i=[],this.l=0,this.b=O,this.f=this.a=this.h=0,this.c=null,this.g=0}x.prototype.get=function(e){return this.a[e]},x.prototype.f=function(){return Object.keys(this.a)},S.prototype.getRequestMessage=function(){return this.f},S.prototype.getMethodDescriptor=function(){return this.c},S.prototype.getMetadata=function(){return this.b},S.prototype.getCallOptions=function(){return this.a},A.prototype.getResponseMessage=function(){return this.c},A.prototype.getMetadata=function(){return this.a},A.prototype.getMethodDescriptor=function(){return this.b},A.prototype.getStatus=function(){return this.f},E.prototype.on=function(e,t){return"data"==e||"error"==e?this:this.a.on(e,t)},E.prototype.removeListener=function(e,t){return this.a.removeListener(e,t)},E.prototype.cancel=function(){this.a.cancel()},b(R,Error),R.prototype.name="CustomError",b(M,R),M.prototype.name="AssertionError";var O=0,I=128;function F(e,t,r,n){throw e.b=3,e.j="The stream is broken @"+e.l+"/"+r+". Error: "+n+". With input:\n"+t,Error(e.j)}var N,L=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var r=0;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},P=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function D(e,t){return-1!=e.indexOf(t)}function U(e,t){return e<t?-1:e>t?1:0}e:{var G=c.navigator;if(G){var j=G.userAgent;if(j){N=j;break e}}N=""}var z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(e){var t=1;e=e.split(":");for(var r=[];0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}function V(e){return V[" "](e),e}V[" "]=u;var W,H,X=D(N,"Opera"),Q=D(N,"Trident")||D(N,"MSIE"),Z=D(N,"Edge"),Y=D(N,"Gecko")&&!(D(N.toLowerCase(),"webkit")&&!D(N,"Edge"))&&!(D(N,"Trident")||D(N,"MSIE"))&&!D(N,"Edge"),J=D(N.toLowerCase(),"webkit")&&!D(N,"Edge");function q(){var e=c.document;return e?e.documentMode:void 0}e:{var K="",$=(H=N,Y?/rv:([^\);]+)(\)|;)/.exec(H):Z?/Edge\/([\d\.]+)/.exec(H):Q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(H):J?/WebKit\/(\S+)/.exec(H):X?/(?:Version)[ \/]?(\S+)/.exec(H):void 0);if($&&(K=$?$[1]:""),Q){var ee=q();if(null!=ee&&ee>parseFloat(K)){W=String(ee);break e}}W=K}var te={};function re(e){return function(e,t){var r=te;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t()}(e,(function(){for(var t=0,r=P(String(W)).split("."),n=P(String(e)).split("."),i=Math.max(r.length,n.length),o=0;0==t&&o<i;o++){var a=r[o]||"",s=n[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=U(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||U(0==a[2].length,0==s[2].length)||U(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}var ne=c.document&&Q&&(q()||parseInt(W,10))||void 0;function ie(){0!=oe&&(Object.prototype.hasOwnProperty.call(this,h)&&this[h]||(this[h]=++f)),this.F=this.F}var oe=0;ie.prototype.F=!1;var ae,se=Object.freeze||function(e){return e};(ae=!Q)||(ae=9<=Number(ne));var ce=ae,le=Q&&!re("9"),ue=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{c.addEventListener("test",u,t),c.removeEventListener("test",u,t)}catch(e){}return e}();function de(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function pe(e,t){if(de.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Y){e:{try{V(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:he[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}de.prototype.b=function(){this.defaultPrevented=!0},b(pe,de);var he=se({2:"touch",3:"pen",4:"mouse"});pe.prototype.b=function(){pe.S.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,le)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var fe="closure_listenable_"+(1e6*Math.random()|0),ge=0;function me(e,t,r,n,i){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.A=i,this.key=++ge,this.s=this.v=!1}function ye(e){e.s=!0,e.listener=null,e.proxy=null,e.src=null,e.A=null}function ve(e){this.src=e,this.a={},this.b=0}function be(e,t){var r=t.type;if(r in e.a){var n,i=e.a[r],o=L(i,t);(n=0<=o)&&Array.prototype.splice.call(i,o,1),n&&(ye(t),0==e.a[r].length&&(delete e.a[r],e.b--))}}function xe(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i];if(!o.s&&o.listener==t&&o.capture==!!r&&o.A==n)return i}return-1}ve.prototype.add=function(e,t,r,n,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=xe(e,t,n,i);return-1<a?(t=e[a],r||(t.v=!1)):((t=new me(t,this.src,o,!!n,i)).v=r,e.push(t)),t};var Se="closure_lm_"+(1e6*Math.random()|0),Ae={};function we(e,t,r,n,i){if(n&&n.once)!function e(t,r,n,i,o){if(Array.isArray(r))for(var a=0;a<r.length;a++)e(t,r[a],n,i,o);else n=Ie(n),t&&t[fe]?t.f.add(String(r),n,!0,p(i)?!!i.capture:!!i,o):_e(t,r,n,!0,i,o)}(e,t,r,n,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)we(e,t[o],r,n,i);else r=Ie(r),e&&e[fe]?e.f.add(String(t),r,!1,p(n)?!!n.capture:!!n,i):_e(e,t,r,!1,n,i)}function _e(e,t,r,n,i,o){if(!t)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i,s=Ce(e);if(s||(e[Se]=s=new ve(e)),!(r=s.add(t,r,n,a,o)).proxy)if(n=function(){var e=Me,t=ce?function(r){return e.call(t.src,t.listener,r)}:function(r){if(!(r=e.call(t.src,t.listener,r)))return r};return t}(),r.proxy=n,n.src=e,n.listener=r,e.addEventListener)ue||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),n,i);else if(e.attachEvent)e.attachEvent(Ee(t.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(n)}}function Te(e){if("number"!=typeof e&&e&&!e.s){var t=e.src;if(t&&t[fe])be(t.f,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(Ee(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=Ce(t))?(be(r,e),0==r.b&&(r.src=null,t[Se]=null)):ye(e)}}}function Ee(e){return e in Ae?Ae[e]:Ae[e]="on"+e}function Be(e,t,r,n){var i=!0;if((e=Ce(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==r&&!o.s&&(o=Re(o,n),i=i&&!1!==o)}return i}function Re(e,t){var r=e.listener,n=e.A||e.src;return e.v&&Te(e),r.call(n,t)}function Me(e,t){if(e.s)return!0;if(!ce){var r=t||l("window.event");t=new pe(r,this);var n=!0;if(!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.a;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.a=r[i];var o=Be(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.a=r[i],o=Be(r[i],e,!1,t),n=n&&o}return n}return Re(e,new pe(t,this))}function Ce(e){return(e=e[Se])instanceof ve?e:null}var Oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(e){return"function"==d(e)?e:(e[Oe]||(e[Oe]=function(t){return e.handleEvent(t)}),e[Oe])}function Fe(){ie.call(this),this.f=new ve(this),this.N=this}function Ne(e,t){e=e.N;var r=t.type||t;if("string"==typeof t)t=new de(t,e);else if(t instanceof de)t.target=t.target||e;else{var n=t;!function(e,t){for(var r,n,i=1;i<arguments.length;i++){for(r in n=arguments[i])e[r]=n[r];for(var o=0;o<z.length;o++)r=z[o],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}(t=new de(r,e),n)}Le(e=t.a=e,r,!0,t),Le(e,r,!1,t)}function Le(e,t,r,n){if(t=e.f.a[String(t)]){t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.s&&a.capture==r){var s=a.listener,c=a.A||a.src;a.v&&be(e.f,a),i=!1!==s.call(c,n)&&i}}}}function Pe(e,t,r){if("function"==d(e))r&&(e=y(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:c.setTimeout(e,t||0)}function De(e,t,r){this.reset(e,t,r,void 0,void 0)}function Ue(e){this.f=e,this.b=this.c=this.a=null}function Ge(e,t){this.name=e,this.value=t}b(Fe,ie),Fe.prototype[fe]=!0,Fe.prototype.addEventListener=function(e,t,r,n){we(this,e,t,r,n)},Fe.prototype.removeEventListener=function(e,t,r,n){!function e(t,r,n,i,o){if(Array.isArray(r))for(var a=0;a<r.length;a++)e(t,r[a],n,i,o);else i=p(i)?!!i.capture:!!i,n=Ie(n),t&&t[fe]?(t=t.f,(r=String(r).toString())in t.a&&-1<(n=xe(a=t.a[r],n,i,o))&&(ye(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete t.a[r],t.b--))):t&&(t=Ce(t))&&(r=t.a[r.toString()],t=-1,r&&(t=xe(r,n,i,o)),(n=-1<t?r[t]:null)&&Te(n))}(this,e,t,r,n)},De.prototype.a=null,De.prototype.reset=function(e,t,r,n,i){n||v(),delete this.a},Ge.prototype.toString=function(){return this.name};var je=new Ge("SEVERE",1e3),ze=new Ge("CONFIG",700),ke=new Ge("FINE",500);Ue.prototype.log=function(e,t,r){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(function(e,t){throw new M("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)}(this).value)for("function"==d(t)&&(t=t()),e=new De(e,String(t),this.f),r&&(e.a=r),r=this;r;)r=r.a};var Ve,We={},He=null;function Xe(e,t){e&&e.log(ke,t,void 0)}function Qe(){}function Ze(e){var t;return(t=e.a)||(t={},qe(e)&&(t[0]=!0,t[1]=!0),t=e.a=t),t}function Ye(){}function Je(e){return(e=qe(e))?new ActiveXObject(e):new XMLHttpRequest}function qe(e){if(!e.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],r=0;r<t.length;r++){var n=t[r];try{return new ActiveXObject(n),e.b=n}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.b}function Ke(e,t){this.b={},this.a=[],this.c=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var n=0;n<r;n+=2)this.set(arguments[n],arguments[n+1])}else e&&et(this,e)}function $e(e){if(e.c!=e.a.length){for(var t=0,r=0;t<e.a.length;){var n=e.a[t];tt(e.b,n)&&(e.a[r++]=n),t++}e.a.length=r}if(e.c!=e.a.length){var i={};for(r=t=0;t<e.a.length;)tt(i,n=e.a[t])||(e.a[r++]=n,i[n]=1),t++;e.a.length=r}}function et(e,t){if(t instanceof Ke)for(var r=t.f(),n=0;n<r.length;n++)e.set(r[n],t.get(r[n]));else for(r in t)e.set(r,t[r])}function tt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Qe.prototype.a=null,b(Ye,Qe),Ve=new Ye,Ke.prototype.f=function(){return $e(this),this.a.concat()},Ke.prototype.get=function(e,t){return tt(this.b,e)?this.b[e]:t},Ke.prototype.set=function(e,t){tt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},Ke.prototype.forEach=function(e,t){for(var r=this.f(),n=0;n<r.length;n++){var i=r[n],o=this.get(i);e.call(t,o,i,this)}};var rt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function nt(e){Fe.call(this),this.headers=new Ke,this.D=e||null,this.c=!1,this.C=this.a=null,this.J=this.o="",this.g=0,this.i="",this.h=this.I=this.m=this.G=!1,this.l=0,this.u=null,this.j=it,this.B=this.H=!1}b(nt,Fe);var it="",ot=nt.prototype,at=function e(t){var r;if(He||(He=new Ue(""),We[""]=He,He.c=ze),!(r=We[t])){r=new Ue(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=e(t.substr(0,n))).b||(n.b={}),n.b[i]=r,r.a=n,We[t]=r}return r}("goog.net.XhrIo");ot.b=at;var st=/^https?$/i,ct=["POST","PUT"];function lt(e,t,r){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.o+"; newUri="+t);e.o=t,e.i="",e.g=0,e.J="POST",e.G=!1,e.c=!0,e.a=e.D?Je(e.D):Je(Ve),e.C=e.D?Ze(e.D):Ze(Ve),e.a.onreadystatechange=y(e.K,e);try{Xe(e.b,vt(e,"Opening Xhr")),e.I=!0,e.a.open("POST",String(t),!0),e.I=!1}catch(t){return Xe(e.b,vt(e,"Error opening Xhr: "+t.message)),void dt(e,t)}t=r||"";var n=function(e){e:{for(var t=ut,r=e.length,n="string"==typeof e?e.split(""):e,i=0;i<r;i++)if(i in n&&t.call(void 0,n[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}((r=new Ke(e.headers)).f()),i=c.FormData&&t instanceof c.FormData;!(0<=L(ct,"POST"))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.j&&(e.a.responseType=e.j),"withCredentials"in e.a&&e.a.withCredentials!==e.H&&(e.a.withCredentials=e.H);try{gt(e),0<e.l&&(e.B=function(e){return Q&&re(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),Xe(e.b,vt(e,"Will abort after "+e.l+"ms if incomplete, xhr2 "+e.B)),e.B?(e.a.timeout=e.l,e.a.ontimeout=y(e.L,e)):e.u=Pe(e.L,e.l,e)),Xe(e.b,vt(e,"Sending request")),e.m=!0,e.a.send(t),e.m=!1}catch(t){Xe(e.b,vt(e,"Send error: "+t.message)),dt(e,t)}}function ut(e){return"content-type"==e.toLowerCase()}function dt(e,t){e.c=!1,e.a&&(e.h=!0,e.a.abort(),e.h=!1),e.i=t,e.g=5,pt(e),ft(e)}function pt(e){e.G||(e.G=!0,Ne(e,"complete"),Ne(e,"error"))}function ht(e){if(e.c&&void 0!==s)if(e.C[1]&&4==mt(e)&&2==e.getStatus())Xe(e.b,vt(e,"Local request error detected and ignored"));else if(e.m&&4==mt(e))Pe(e.K,0,e);else if(Ne(e,"readystatechange"),4==mt(e)){Xe(e.b,vt(e,"Request complete")),e.c=!1;try{var t,r=e.getStatus();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}if(!(t=n)){var i;if(i=0===r){var o=String(e.o).match(rt)[1]||null;if(!o&&c.self&&c.self.location){var a=c.self.location.protocol;o=a.substr(0,a.length-1)}i=!st.test(o?o.toLowerCase():"")}t=i}if(t)Ne(e,"complete"),Ne(e,"success");else{e.g=6;try{var l=2<mt(e)?e.a.statusText:""}catch(t){Xe(e.b,"Can not get status: "+t.message),l=""}e.i=l+" ["+e.getStatus()+"]",pt(e)}}finally{ft(e)}}}function ft(e){if(e.a){gt(e);var t=e.a,r=e.C[0]?u:null;e.a=null,e.C=null,Ne(e,"ready");try{t.onreadystatechange=r}catch(t){(e=e.b)&&e.log(je,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function gt(e){e.a&&e.B&&(e.a.ontimeout=null),e.u&&(c.clearTimeout(e.u),e.u=null)}function mt(e){return e.a?e.a.readyState:0}function yt(e,t){if(e.a&&4==mt(e))return null===(e=e.a.getResponseHeader(t))?void 0:e}function vt(e,t){return t+" ["+e.J+" "+e.o+" "+e.getStatus()+"]"}nt.prototype.L=function(){void 0!==s&&this.a&&(this.i="Timed out after "+this.l+"ms, aborting",this.g=8,Xe(this.b,vt(this,this.i)),Ne(this,"timeout"),this.abort(8))},nt.prototype.abort=function(e){this.a&&this.c&&(Xe(this.b,vt(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.g=e||7,Ne(this,"complete"),Ne(this,"abort"),ft(this))},nt.prototype.K=function(){this.F||(this.I||this.m||this.h?ht(this):this.O())},nt.prototype.O=function(){ht(this)},nt.prototype.getStatus=function(){try{return 2<mt(this)?this.a.status:-1}catch(e){return-1}};var bt={},xt=null;function St(){if(!xt){xt={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=e.concat(t[r].split(""));bt[r]=n;for(var i=0;i<n.length;i++){var o=n[i];void 0===xt[o]&&(xt[o]=i)}}}}var At=["content-type","grpc-status","grpc-message"];function wt(e){this.a=e.T,this.l=null,this.b=[],this.h=[],this.g=[],this.f=[],this.c=[],this.j=!1,this.i=0,this.m=new C;var t=this;we(this.a,"readystatechange",(function(){var e=t.a;if(e=e.a?e.a.getResponseHeader("Content-Type"):null){if(0==(e=e.toLowerCase()).lastIndexOf("application/grpc-web-text",0)){e=t.a;try{var r=e.a?e.a.responseText:""}catch(t){Xe(e.b,"Can not get responseText: "+t.message),r=""}if(r=(e=r||"").length-e.length%4,0==(e=e.substr(t.i,r-t.i)).length)return;t.i=r,e=function(e){var t=e.length,r=3*t/4;r%3?r=Math.floor(r):D("=.",e[t-1])&&(r=D("=.",e[t-2])?r-2:r-1);var n=new Uint8Array(r),i=0;return function(e,t){function r(t){for(;n<e.length;){var r=e.charAt(n++),i=xt[r];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(r))throw Error("Unknown base64 encoding at char: "+r)}return t}St();for(var n=0;;){var i=r(-1),o=r(0),a=r(64),s=r(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){n[i++]=e})),n.subarray(0,i)}(e)}else{if(0!=e.lastIndexOf("application/grpc",0))return void Tt(t,{code:2,message:"Unknown Content-type received.",metadata:{}});e=new Uint8Array(function(e){try{if(!e.a)return null;if("response"in e.a)return e.a.response;switch(e.j){case it:case"text":return e.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.a)return e.a.mozResponseArrayBuffer}var t=e.b;return t&&t.log(je,"Response type "+e.j+" is not supported on this browser",void 0),null}catch(t){return Xe(e.b,"Can not get response: "+t.message),null}}(t.a))}r=null;try{r=function(e,t){function r(e){s.f++,s.a=(s.a<<8)+e,4==s.f&&(s.b=2,s.g=0,"undefined"!=typeof Uint8Array?s.c=new Uint8Array(s.a):s.c=Array(s.a),0==s.a&&i())}function n(e){s.c[s.g++]=e,s.g==s.a&&i()}function i(){var e={};e[s.h]=s.c,s.i.push(e),s.b=O}var o,a,s=e,c=0;for(o=t instanceof Uint8Array||t instanceof Array?t:new Uint8Array(t);c<o.length;){switch(s.b){case 3:F(s,o,c,"stream already broken");break;case O:0==(a=o[c])||a==I?s.h=a:F(s,o,c,"invalid frame byte"),s.b=1,s.a=0,s.f=0;break;case 1:r(o[c]);break;case 2:n(o[c]);break;default:throw Error("unexpected parser state: "+s.b)}s.l++,c++}return e=s.i,s.i=[],0<e.length?e:null}(t.m,e)}catch(e){Tt(t,{code:2,message:"Error in parsing response body",metadata:{}})}if(r)for(e=0;e<r.length;e++){if(0 in r[e]){var n=r[e][0];if(n)try{var i=t.l(n);if(i){n=t;for(var o=i,a=0;a<n.b.length;a++)n.b[a](o)}}catch(e){Tt(t,{code:2,message:"Error in response deserializer function.",metadata:{}})}}if(I in r[e]&&0<r[e][I].length){for(n="",o=0;o<r[e][I].length;o++)n+=String.fromCharCode(r[e][I][o]);for(n=n.trim().split("\r\n"),o={},a=0;a<n.length;a++){var s=n[a].indexOf(":");o[n[a].substring(0,s).trim()]=n[a].substring(s+1).trim()}n=o,o=0,a="","grpc-status"in n&&(o=n["grpc-status"],delete n["grpc-status"]),"grpc-message"in n&&(a=n["grpc-message"],delete n["grpc-message"]),Tt(t,{code:Number(o),message:a,metadata:n})}}}})),we(this.a,"complete",(function(){var e=t.a.g,r="",n={},i=function(e){var t={};e=(e.a&&4==mt(e)&&e.a.getAllResponseHeaders()||"").split("\r\n");for(var r=0;r<e.length;r++)if(!/^[\s\xa0]*$/.test(e[r])){var n=k(e[r]),i=n[0];if("string"==typeof(n=n[1])){n=n.trim();var o=t[i]||[];t[i]=o,o.push(n)}}return function(e,t){var r,n={};for(r in e)n[r]=t.call(void 0,e[r],r,e);return n}(t,(function(e){return e.join(", ")}))}(t.a);if(Object.keys(i).forEach((function(e){At.includes(e)||(n[e]=i[e])})),function(e,t){for(var r=0;r<e.g.length;r++)e.g[r](t)}(t,n),0!=e){switch(e){case 7:var o=10;break;case 8:o=4;break;case 6:o=function(e){switch(e){case 200:return 0;case 400:return 3;case 401:return 16;case 403:return 7;case 404:return 5;case 409:return 10;case 412:return 9;case 429:return 8;case 499:return 1;case 500:return 2;case 501:return 12;case 503:return 14;case 504:return 4;default:return 2}}(t.a.getStatus());break;default:o=14}10==o&&t.j||Tt(t,{code:o,message:B(e),metadata:{}})}else e=!1,"grpc-status"in i&&(o=yt(t.a,"grpc-status"),"grpc-message"in i&&(r=yt(t.a,"grpc-message")),0!=Number(o)&&(Tt(t,{code:Number(o),message:r,metadata:i}),e=!0)),e||function(e){for(var t=0;t<e.c.length;t++)e.c[t]()}(t)}))}function _t(e,t){-1<(t=e.indexOf(t))&&e.splice(t,1)}function Tt(e,t){if(0!=t.code)for(var r={code:t.code,message:decodeURIComponent(t.message||""),metadata:t.metadata},n=0;n<e.f.length;n++)e.f[n](r);for(t={code:t.code,details:decodeURIComponent(t.message||""),metadata:t.metadata},r=0;r<e.h.length;r++)e.h[r](t)}function Et(e){this.a=l("format",e)||"text",this.f=l("suppressCorsPreflight",e)||!1,this.c=l("withCredentials",e)||!1,this.b=l("streamInterceptors",e)||[],this.g=l("unaryInterceptors",e)||[]}function Bt(e,t,r){var n=t.getMethodDescriptor(),i=r+n.name;(r=new nt).H=e.c;var o=new wt({T:r});if(o.l=n.b,et(r.headers,t.getMetadata()),"text"==e.a?(r.headers.set("Content-Type","application/grpc-web-text"),r.headers.set("Accept","application/grpc-web-text")):r.headers.set("Content-Type","application/grpc-web+proto"),r.headers.set("X-User-Agent","grpc-web-javascript/0.1"),r.headers.set("X-Grpc-Web","1"),tt(r.headers.b,"deadline")){var a=r.headers.get("deadline");a=Math.round(a-(new Date).getTime());var s=r.headers;tt(s.b,"deadline")&&(delete s.b.deadline,s.c--,s.a.length>2*s.c&&$e(s)),1/0===a&&(a=0),0<a&&r.headers.set("grpc-timeout",a+"m")}if(e.f){$e(s=r.headers),a={};for(var c=0;c<s.a.length;c++){var l=s.a[c];a[l]=s.b[l]}(s=r.headers).b={},s.a.length=0,s.c=0;e:{for(u in a){var u=!1;break e}u=!0}u||(a=function(e){var t="";return function(e,t){for(var r in e)t.call(void 0,e[r],r,e)}(e,(function(e,r){t+=r,t+=":",t+=e,t+="\r\n"})),t}(a),"string"==typeof i?(u=encodeURIComponent("$httpHeaders"),(u+=a=null!=a?"="+encodeURIComponent(String(a)):"")&&(0>(a=i.indexOf("#"))&&(a=i.length),0>(s=i.indexOf("?"))||s>a?(s=a,c=""):c=i.substring(s+1,a),a=(i=[i.substr(0,s),c,i.substr(a)])[1],i[1]=u?a?a+"&"+u:u:a,i=i[0]+(i[1]?"?"+i[1]:"")+i[2])):i.a("$httpHeaders",a))}for(n=(t=(0,n.a)(t.getRequestMessage())).length,u=[0,0,0,0],a=new Uint8Array(5+n),s=3;0<=s;s--)u[s]=n%256,n>>>=8;if(a.set(new Uint8Array(u),1),a.set(t,5),t=a,"text"==e.a){var d;for(e=t,void 0===d&&(d=0),St(),d=bt[d],t=[],n=0;n<e.length;n+=3){l=e[n];var p=(u=n+1<e.length)?e[n+1]:0;s=l>>2,l=(3&l)<<4|p>>4,p=(15&p)<<2|(c=(a=n+2<e.length)?e[n+2]:0)>>6,c&=63,a||(c=64,u||(p=64)),t.push(d[s],d[l],d[p]||"",d[c]||"")}t=t.join("")}else"binary"==e.a&&(r.j="arraybuffer");return lt(r,i,t),o}function Rt(e,t,r){var n=null,i=!1;e.on("data",(function(e){n=e})),e.on("error",(function(e){0==e.code||i||(i=!0,t(e,null))})),e.on("status",(function(e){0==e.code||i?r&&t(null,null,e):(i=!0,t({code:e.code,message:e.details,metadata:e.metadata},null))})),r&&e.on("metadata",(function(e){t(null,null,null,e)})),e.on("end",(function(){i||(null==n?t({code:2,message:"Incomplete response"}):t(null,n)),r&&t(null,null)}))}function Mt(e,t){var r=e;return t.forEach((function(e){var t=r;r=function(r){return e.intercept(r,t)}})),r}wt.prototype.on=function(e,t){return"data"==e?this.b.push(t):"status"==e?this.h.push(t):"metadata"==e?this.g.push(t):"end"==e?this.c.push(t):"error"==e&&this.f.push(t),this},wt.prototype.removeListener=function(e,t){return"data"==e?_t(this.b,t):"status"==e?_t(this.h,t):"metadata"==e?_t(this.g,t):"end"==e?_t(this.c,t):"error"==e&&_t(this.f,t),this},wt.prototype.cancel=function(){this.j=!0,this.a.abort()},wt.prototype.cancel=wt.prototype.cancel,wt.prototype.removeListener=wt.prototype.removeListener,wt.prototype.on=wt.prototype.on,Et.prototype.P=function(e,t,r,n,i){var o=this;n=T(e,t,"unary",n);var a=e.substr(0,e.length-n.name.length);return Rt(e=Mt((function(e){return Bt(o,e,a)}),this.b).call(this,_(n,t,r)),i,!1),new E(e)},Et.prototype.M=function(e,t,r,n){var i=this;n=T(e,t,"unary",n);var o=e.substr(0,e.length-n.name.length);return Mt((function(e){return new Promise((function(t,r){var n,a,s;Rt(Bt(i,e,o),(function(i,o,c,l){i?r(i):o?s=o:c?a=c:l?n=l:(i=e.getMethodDescriptor(),t(new A(s,i,o=void 0===(o=n)?{}:o,void 0===a?null:a)))}),!0)}))}),this.g).call(this,_(n,t,r)).then((function(e){return e.getResponseMessage()}))},Et.prototype.unaryCall=function(e,t,r,n){return this.M(e,t,r,n)},Et.prototype.R=function(e,t,r,n){var i=this;n=T(e,t,"server_streaming",n);var o=e.substr(0,e.length-n.name.length);return Mt((function(e){return Bt(i,e,o)}),this.b).call(this,_(n,t,r))},Et.prototype.serverStreaming=Et.prototype.R,Et.prototype.unaryCall=Et.prototype.unaryCall,Et.prototype.thenableCall=Et.prototype.M,Et.prototype.rpcCall=Et.prototype.P,e.exports.AbstractClientBase={MethodInfo:function(e,t,r,n,i){this.name=n,this.b=i,this.f=e,this.a=t,this.c=r}},e.exports.GrpcWebClientBase=Et,e.exports.StatusCode={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15},e.exports.MethodDescriptor=w,e.exports.MethodType={UNARY:"unary",SERVER_STREAMING:"server_streaming"}}).call(this,r(57))},,,function(e,t,r){"use strict";r.r(t),r.d(t,"NodeVisualizer",(function(){return Dn})),r.d(t,"NodeVisualizerReducer",(function(){return kn})),r.d(t,"NodeVisualizerMiddleware",(function(){return Vn})),r.d(t,"BaseRootNode",(function(){return Er})),r.d(t,"Modules",(function(){return Nn})),r.d(t,"ThreeModule",(function(){return Ba})),r.d(t,"SyntheticSubSurfaceModule",(function(){return ts})),r.d(t,"BPDataModule",(function(){return Ss}));var n=r(0),i=(r(296),r(1)),o=r.n(i),a=r(54),s=r(3),c=r.n(s),l=r(61),u=r.n(l),d=r(90);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&h(e.prototype,t),r&&h(e,r),e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?x(e):t}var A=function(e){function t(){return p(this,t),S(this,b(t).apply(this,arguments))}return v(t,e),f(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,n=e.split,i=e.style,a=e.size,s=e.eleRef,c=["Pane",n,r],l={flex:1,position:"relative",outline:"none"};return void 0!==a&&("vertical"===n?l.width=a:(l.height=a,l.display="flex"),l.flex="none"),l=Object.assign({},l,i||{}),o.a.createElement("div",{ref:s,className:c.join(" "),style:l},t)}}]),t}(o.a.PureComponent);A.propTypes={className:c.a.string.isRequired,children:c.a.node.isRequired,size:c.a.oneOfType([c.a.string,c.a.number]),split:c.a.oneOf(["vertical","horizontal"]),style:u.a,eleRef:c.a.func},A.defaultProps={};var w=function(e){function t(){return p(this,t),S(this,b(t).apply(this,arguments))}return v(t,e),f(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.onClick,n=e.onDoubleClick,i=e.onMouseDown,a=e.onTouchEnd,s=e.onTouchStart,c=e.resizerClassName,l=e.split,u=e.style,d=[c,l,t];return o.a.createElement("span",{role:"presentation",className:d.join(" "),style:u,onMouseDown:function(e){return i(e)},onTouchStart:function(e){e.preventDefault(),s(e)},onTouchEnd:function(e){e.preventDefault(),a(e)},onClick:function(e){r&&(e.preventDefault(),r(e))},onDoubleClick:function(e){n&&(e.preventDefault(),n(e))}})}}]),t}(o.a.Component);function _(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch(e){}}function T(e,t,r,n){if("number"==typeof n){var i="number"==typeof t?t:0,o="number"==typeof r&&r>=0?r:1/0;return Math.max(i,Math.min(o,n))}return void 0!==e?e:t}w.propTypes={className:c.a.string.isRequired,onClick:c.a.func,onDoubleClick:c.a.func,onMouseDown:c.a.func.isRequired,onTouchStart:c.a.func.isRequired,onTouchEnd:c.a.func.isRequired,split:c.a.oneOf(["vertical","horizontal"]),style:u.a,resizerClassName:c.a.string.isRequired},w.defaultProps={resizerClassName:"Resizer"};var E=function(e){function t(e){var r;p(this,t),(r=S(this,b(t).call(this,e))).onMouseDown=r.onMouseDown.bind(x(r)),r.onTouchStart=r.onTouchStart.bind(x(r)),r.onMouseMove=r.onMouseMove.bind(x(r)),r.onTouchMove=r.onTouchMove.bind(x(r)),r.onMouseUp=r.onMouseUp.bind(x(r));var n=e.size,i=e.defaultSize,o=e.minSize,a=e.maxSize,s=e.primary,c=void 0!==n?n:T(i,o,a,null);return r.state={active:!1,resized:!1,pane1Size:"first"===s?c:void 0,pane2Size:"second"===s?c:void 0,instanceProps:{size:n}},r}return v(t,e),f(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(t.getSizeUpdate(this.props,this.state))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}},{key:"onMouseDown",value:function(e){var t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchStart(t)}},{key:"onTouchStart",value:function(e){var t=this.props,r=t.allowResize,n=t.onDragStarted,i=t.split;if(r){_(document,window);var o="vertical"===i?e.touches[0].clientX:e.touches[0].clientY;"function"==typeof n&&n(),this.setState({active:!0,position:o})}}},{key:"onMouseMove",value:function(e){var t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(t)}},{key:"onTouchMove",value:function(e){var t=this.props,r=t.allowResize,n=t.maxSize,i=t.minSize,o=t.onChange,a=t.split,s=t.step,c=this.state,l=c.active,u=c.position;if(r&&l){_(document,window);var d="first"===this.props.primary,p=d?this.pane1:this.pane2,h=d?this.pane2:this.pane1;if(p){var f=p,m=h;if(f.getBoundingClientRect){var y=f.getBoundingClientRect().width,v=f.getBoundingClientRect().height,b="vertical"===a?y:v,x=u-("vertical"===a?e.touches[0].clientX:e.touches[0].clientY);if(s){if(Math.abs(x)<s)return;x=~~(x/s)*s}var S=d?x:-x;parseInt(window.getComputedStyle(f).order)>parseInt(window.getComputedStyle(m).order)&&(S=-S);var A=n;if(void 0!==n&&n<=0){var w=this.splitPane;A="vertical"===a?w.getBoundingClientRect().width+n:w.getBoundingClientRect().height+n}var T=b-S,E=u-x;T<i?T=i:void 0!==n&&T>A?T=A:this.setState({position:E,resized:!0}),o&&o(T),this.setState(g({draggedSize:T},d?"pane1Size":"pane2Size",T))}}}}},{key:"onMouseUp",value:function(){var e=this.props,t=e.allowResize,r=e.onDragFinished,n=this.state,i=n.active,o=n.draggedSize;t&&i&&("function"==typeof r&&r(o),this.setState({active:!1}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.allowResize,n=t.children,i=t.className,a=t.onResizerClick,s=t.onResizerDoubleClick,c=t.paneClassName,l=t.pane1ClassName,u=t.pane2ClassName,d=t.paneStyle,p=t.pane1Style,h=t.pane2Style,f=t.resizerClassName,g=t.resizerStyle,m=t.split,v=t.style,b=this.state,x=b.pane1Size,S=b.pane2Size,_=r?"":"disabled",T=f?"".concat(f," ").concat("Resizer"):f,E=function(e){return o.a.Children.toArray(e).filter((function(e){return e}))}(n),B=y({display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},v);"vertical"===m?Object.assign(B,{flexDirection:"row",left:0,right:0}):Object.assign(B,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"});var R=["SplitPane",i,m,_],M=y({},d,{},p),C=y({},d,{},h),O=["Pane1",c,l].join(" "),I=["Pane2",c,u].join(" ");return o.a.createElement("div",{className:R.join(" "),ref:function(t){e.splitPane=t},style:B},o.a.createElement(A,{className:O,key:"pane1",eleRef:function(t){e.pane1=t},size:x,split:m,style:M},E[0]),o.a.createElement(w,{className:_,onClick:a,onDoubleClick:s,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",resizerClassName:T,split:m,style:g||{}}),o.a.createElement(A,{className:I,key:"pane2",eleRef:function(t){e.pane2=t},size:S,split:m,style:C},E[1]))}}],[{key:"getDerivedStateFromProps",value:function(e,r){return t.getSizeUpdate(e,r)}},{key:"getSizeUpdate",value:function(e,t){var r={};if(t.instanceProps.size===e.size&&void 0!==e.size)return{};var n=void 0!==e.size?e.size:T(e.defaultSize,e.minSize,e.maxSize,t.draggedSize);void 0!==e.size&&(r.draggedSize=n);var i="first"===e.primary;return r[i?"pane1Size":"pane2Size"]=n,r[i?"pane2Size":"pane1Size"]=void 0,r.instanceProps={size:e.size},r}}]),t}(o.a.Component);E.propTypes={allowResize:c.a.bool,children:c.a.arrayOf(c.a.node).isRequired,className:c.a.string,primary:c.a.oneOf(["first","second"]),minSize:c.a.oneOfType([c.a.string,c.a.number]),maxSize:c.a.oneOfType([c.a.string,c.a.number]),defaultSize:c.a.oneOfType([c.a.string,c.a.number]),size:c.a.oneOfType([c.a.string,c.a.number]),split:c.a.oneOf(["vertical","horizontal"]),onDragStarted:c.a.func,onDragFinished:c.a.func,onChange:c.a.func,onResizerClick:c.a.func,onResizerDoubleClick:c.a.func,style:u.a,resizerStyle:u.a,paneClassName:c.a.string,pane1ClassName:c.a.string,pane2ClassName:c.a.string,paneStyle:u.a,pane1Style:u.a,pane2Style:u.a,resizerClassName:c.a.string,step:c.a.number},E.defaultProps={allowResize:!0,minSize:50,primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""},Object(d.a)(E);var B,R=E,M=r(59),C=function(){function e(){}return e.addViewer=function(t,r){e.viewers[t]=r},e.getViewers=function(){return e.viewers},e.viewers={},e}(),O=Object(M.createSlice)({name:"visualizer",initialState:{viewers:{},statusBar:{text:""}},reducers:{initializeToolbarStatus:{reducer:function(e,t){var r,i,o=function(t){var r=t.getName(),n=t.getToolbarCommands(),i=Object.keys(n);e.viewers[r]={},null==i||i.forEach((function(t){n[t].forEach((function(n){e.viewers[r][t]||(e.viewers[r][t]=[]),e.viewers[r][t].push(I(n))}))}))};try{for(var a=Object(n.h)(Object.values(t.payload.viewers)),s=a.next();!s.done;s=a.next())o(s.value)}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},prepare:function(){return{payload:{viewers:C.getViewers()}}}},executeVisualizerToolbarCommand:{reducer:function(e,t){var r,i,o=t.payload,a=o.visualizerId,s=o.toolbarCommands,c=e.viewers[a];if(s){var l=function(e,t){t.forEach((function(t,r){c[e][r]=I(t)}))};try{for(var u=Object(n.h)(Object.entries(s)),d=u.next();!d.done;d=u.next()){var p=Object(n.f)(d.value,2);l(p[0],p[1])}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}},prepare:function(e,t,r,n){var i=C.getViewers()[e].getToolbarCommands();if(!i)return{payload:{visualizerId:e,toolbarCommands:null}};var o=i[t][r];return n?o.invokeValue(n):o.invoke(),{payload:{visualizerId:e,toolbarCommands:i}}}},updateVisualizerToolbars:{reducer:function(e,t){var r,i,o=t.payload.viewers,a=function(t,r){var n=e.viewers[t],i=r.getToolbarCommands(),o=Object.keys(i);if(!i)return"continue";null==o||o.forEach((function(e){i[e].forEach((function(t,r){n[e][r]=I(t)}))}))};try{for(var s=Object(n.h)(Object.entries(o)),c=s.next();!c.done;c=s.next()){var l=Object(n.f)(c.value,2);a(l[0],l[1])}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},prepare:function(){return{payload:{viewers:C.getViewers()}}}},updateStatusPanel:function(e,t){e.statusBar.text=t.payload.text}}});function I(e){return{isChecked:e.isChecked,icon:e.getIcon(),isVisible:e.isVisible,isDropdown:e.isDropdown,value:e.value,tooltip:e.getTooltip(),dropdownOptions:e.dropdownOptions}}var F=O.reducer,N=(B=O.actions).initializeToolbarStatus,L=B.executeVisualizerToolbarCommand,P=B.updateVisualizerToolbars,D=B.updateStatusPanel,U=r(272),G=r.n(U),j=r(6),z=r.n(j),k=function(){function e(){}return Object.defineProperty(e,"red",{get:function(){return j.rgb(255,0,0)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"green",{get:function(){return j.rgb(0,255,0)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"blue",{get:function(){return j.rgb(0,0,255)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"yellow",{get:function(){return j.rgb(255,255,0)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"cyan",{get:function(){return j.rgb(0,255,255)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"magenta",{get:function(){return j.rgb(255,0,255)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"black",{get:function(){return e.greyScale(0)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"veryDarkGrey",{get:function(){return e.greyScale(.25)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"darkGrey",{get:function(){return e.greyScale(.5)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"grey",{get:function(){return e.greyScale(.667)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"lightGrey",{get:function(){return e.greyScale(.75)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"white",{get:function(){return e.greyScale(1)},enumerable:!1,configurable:!0}),e.greyScale=function(e){return j.rgb(255*e,255*e,255*e)},Object.defineProperty(e,"transparent",{get:function(){return j.rgb(0,0,0,0)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"selectedEmissive",{get:function(){return j.rgb(128,128,0)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"orange",{get:function(){return j.rgb(255,102,0)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"nextColor",{get:function(){var t=this.colors;return e.index=(e.index+1)%t.length,t[e.index]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"colors",{get:function(){return e._colors||(e._colors=e.createDifferentColors(50)),e._colors},enumerable:!1,configurable:!0}),e.getNextColor=function(e){var t=this.colors;return t[e%=t.length]},e.createDifferentColors=function(e){for(var t=[],r=.5,n=0;n<e;n++){r+=.618033988749895;var i=360*(r%=1),o=n%2?255:255*.67,a=n%2?255*.67:255;t.push(j.hsv(i,o,a))}return t},e.getGammaCorrected=function(e,t){void 0===t&&(t=2.2);var r=e.red()/255,n=e.green()/255,i=e.blue()/255;return r=Math.pow(r,t),n=Math.pow(n,t),i=Math.pow(i,t),r=Math.round(255*r),n=Math.round(255*n),i=Math.round(255*i),j.rgb(r,n,i)},e.index=0,e._colors=null,e}(),V=function(){function e(){}return e.ApplicationDefaultFontSize=.75,e.tooltipDisplayDelay=800,e.treeIndentation=20,e.treeItemGap=2,e.treeIconSize=20,e.treeBackgroundColor=void 0,e.toolbarIconSize=26,e.toolbarSelectWidth=58,e.toolbarCommandsPerLine=19,e.leftPanelDefaultSize=290,e.leftPanelMaxSize=1e3,e.valuesPerColorMap=20,e.generalSettingsName="General Settings",e.statisticsName="Statistics",e.visualSettingsName="Visual Settings",e.generalSettingsDefaultExpanded=!0,e.statisticsDefaultExpanded=!1,e.visualSettingsDefaultExpanded=!0,e.readonlyInputColor=j.rgb(217,247,253).hex(),e.viewerFooter="Cognite subsurface viewer",e.viewerIsLightBackground=!1,e.viewerSmallestCameraDeltaAngle=Math.PI/100,e.viewerFontType="sans-serif",e.viewerOverlayFontSize=15,e.viewerFooterFontSize=16,e.viewerOverlayFgColor=k.black,e.viewerOverlayBgColor=k.white.alpha(.65),e}(),W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABrElEQVRYhe2Xv2r6QADHP1eb+Cs2LQoKP6RilxYzuIk4datLfy/h4OgLiC/gS/QB2qEUHXyFDs4OYocKBpwaBw+iXocSCRqFnzVxqB8IhOOS+9z3/nAnlFKs0m631wv/A13XP3u93kOtVnsDHGDz/5RSa0+r1VK70u/3VbfbVZ1Ox240GvfAH0B42/Ny8pOe+pFIJIhGo+TzeaNYLD7X6/U7ILpJYu8C8XgcKSXJZBLTNI1SqfTkJxGYAMB8PicSiZDJZDBN0ygUCo/lcvka0FfrngYhIMR3R12J2Wz2t1qtvmia9k8I8a6Ucty6gSQQi8UYj8cMh0MGgwFSSrLZ7E2lUnkF4kIIza0bSAK5XG75PplMmE6nOI6DZVm3QAqY8r08g0nAi2EYpFIp0uk0tm0DnAPLBAIX8GJZltvmcjWEKiClXCsLVcCPo8BRYOtG5HdW2BV3e17l4AkcXCCUIdgUP4SUwLaOHDyB0FbBJn7HJDwK7DwJt30YioCurx3j946vwGg0otlsslgsAhcQfuMshLgAroDLANr8BD4Ae5uABpzhOT7vEQfPveALgt/Vvm3mfZMAAAAASUVORK5CYII=",H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAHJElEQVRYw52XXYhcZx3Gf+97zszsZHfy0eyGmpomVGmqFgKxXojQKxEvrORGC/HGXvQiKOqFIlQMgogKUtBSI2iovSmCQnOn1ZZQiyItprUh5mMbk9rsV3Y2uzuzM3PO+/H/e/GemZ1k40V24D0zZ87H+7zP/3me/znm2j+f+YnNGt92vUHm+kWwtn7D2Fob9DyqbZF4RYK/Fr1rAz0gACVQAA4YHHnieWGbn7zebDX27H8oC04pe2u5qjlks8YhQ/aYAbxz+GKABIeKXJIYeyphIQY/H71b9oPeu+fOnDh79Nip5W0BQPtYmWOqNU1zah/lQCgHXWLZxfqSPVNNartaYGt4tY+IQBQIAlGUbntpZfHqxe8AL2wTgKBSoGERa+o0m5M0Jnbi3F6W/nOZ7o3zHHqgBcZSszUwFkwGNkN3HsTvntlblOcPbrsEAIiiKqAFxALDKo3aDDumD3BzfhYkAhGiv/3qbAKRaQal3+78WMCoKiqgoqTfEZUBqKKiiOrdr1YhxkDpIttnQFVVIW3GjoiCCiKKD0Its1hreKX7ad4sjtIXj9OS+/JA/Ognnn7m9e8/qEo7qlzxItdcjP/XNc9/7sjINblCtWpN8482gqqgCjEK1hisNeRZncMz+1ANrA1KjFEaud2f5eYpjMF5zyB4nAiieimq9ILogpc472Jc7gX/7ok/nTt76vNHlysGKupFuZ3pxICqIpIGgBOY61umd0yxb2cTiSXdsqRbRMrc0ty1h1ZeowbY4B9BJGkoBjRGlja6KxeXF0euyQE0zYUyXgZBRRCFGJV6bQSLIiqLfaWeWSbzJjsnGuy1jsvLS5zvd2l9+BAWqGU1bAYZaRxEmfF+7/miODheAqPDFVYUqIIhCVJUCVGRMXbUgKhSBCgirDrDTKPBgckdzLZvUnmGO70xoTAtgi8GW0UoIqPVq4KxSQci4GMSo2jSiaqC2dRMVBhEmBjpSTDWblG8ACFGoivHAQw1YJLtRhqsNCBKCEqUqkzVCTpumXQpAqlswWPz2hYQaiqAY2JLLhgX4fBgTC6IqrgghChEzdINTAVgWLIKryQ/IzFijN3KgipytyQUUWysQqi6ozU6coD3QohKjAmkDhkwOu4ZxGyWQHVrg0ylvj3U8mEKSjUh1QRu4Fhrt1Flk4EhS0ZTGcaoHDEggsYItfpdANxRupEGhlGsCmTkzRkuvvVvQlHQyA2iijWWKGmSVEcZyw1Fk2/S/zEkwdwJoAK6pQQqqTaqijEGTJ1+r6RhPGQZrckJjM2SHUXBanKN2eRWMenmlQhVUo4YU51kTLLvXRgwQwGOBFaJyQWhllvAjLJAdGy9m9m96QLVxIDEkavMmAju7Gu5iKiIraykYKoeAHgfyfMMH5Q8V2wloiFQxioqlZhVIuIcEgKZRMCg1oAaJMqWzpp7L9RyxdhUCuymFUsv5HnERyGPghVTiVVQbDV9JVxN+xqrEoSASrIjYkYixBjyLP/48dNnPgn8y/a6Zaffc2Ws0m4zE5TSCaUXnFd8SCNKlYJDplQRBOcK2p01QBHvkKr5qMTRd1BhqjnFxx78yBd3TbZ+Bey13U7x3OylpRcX5jp97wWRURuWxXZ3bq1TbGz0vfYHgcJJSsRR+1asUe5v5iwszHL9VhtTq6MiWGtBYmIiBjRE+hrpNxvsn/5QY6LeeAxo2se/9Ou29/K9pcXOL5cWO51yEIbPBOUbb73/42s3Vn+2vNo7vbI2ePXW+mCpdKGKoQTUoNQtlGUfbwzGwMSOFpkxafIKAJJKkmWgxkDlDgtw7MRL7RDkR+3ljWeXljrtfn+AiA5e/svF137wi7M/zTP7rX7hv7beLZ6+ZWb+qugoVBSp/A/iHSqKMVSr9mjwMAQSAkbiph5GD6UJxNqZU8efXVvtzW28c+nk+nrvbeA6UBw78RLAFeDKd1/94WczlceHrpEqnECJ3pP5HI0eDTlYi7EGVVs1I4vmdrR/G4AKRBf4TTXu+okSxYqkYGGzGQGIK4l5jniPZDnGWNTaRLcxiLU406RR5UH0zuT3+hRbDnodNZS1xo4GgGZm1GLFlUieo96hWWKAIQAgYFjxntbkHjBw8/KFSXuvAIqi+9zS3OyLndWFvohHVIZtWLo3F+eK9bUN39/QUPQRV6CuRJ0D71Hv8CHgJILC2o3ru7N7BXDuDy/0H33iy/9w5aChqo/W643GrokJ5pfmiguvvHwyrzfeqU9OXdUot6J3k9H7Ka1iGQPOO4pBj25ntX/1zTd+Z7b7QnH89JndNsu/2Wrt+fpD9x+YvjD77q3ffvULnwGuHz99JgMeAA4bax/OavVP2Sw7Ymz2sIroxvwHV1bev/rH9/722s+3DaAC0crz2pO1PD/ZWWm//ftvfOXJ6gVk/Jw6sBvYaYw9XPY69733+p//e+3vZy+tz3+w/D8kZ854fjBHNQAAAABJRU5ErkJggg==",X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAGP0lEQVR42q2XW2wUZRTH/3Pb2dnZ+7XtSgttkUslLSAgRgIa4y1RSEx8UJ8kJprwoCEqhQfjiy8+qA+GBLGUQrkLtdALtNBWRQKRi4pBRbSABATphUtbuu1+nu+b2WV7dTfxS2bPzrcz5/y+c/7f2RkJGePCiXe7GWP+RN8QhvoTSA6zHpo+Y//cYdt2/lH+/Gft+B+GlHly5dxHLDptAXr/Po/b/3TCDMShqB44DD/udl0T19y5adm7tk0B2aC9thXgBNmTG8DP77P8khJALUIyqVCwToL5HapuIhArhVPTAFdkhIOBW10YTgyin2xyKCEsPx+41Y3BewNvz1ux/pMcANax/CKvdSKHwdQ4WR+BXET31fPov3kdcZ8Kj6GmQZgrbF1vWJbpPkDRBMTJ/duw+KUNUvYAZ9exvBSA5U4AQImJ4+bVSzjV2oSnF8UmTSvzlyAZeQjf7KrC469W5QhQ6OFh0/HTQ4kCjuk4ULUey5fEJwcwQkjGH0Vr7UY881pNbgCxKTYAG0UgU2YcZWjYtAEvLCmAJEmTAgwXLEJj9UYsf6M2B4Cf1rIoAfC4Y7JAAJI+Gw3Vn+PZxXmQZQmqIo8P4AxiKH8hGjd/gRVvbsse4C8OEPeIqKMTYAHMJKdVeIo0wG/UVAWKIo0PkPcwGms25Q4QKXBbTjJTwL/LHkjOmWiqqcaTC6LgFeAAmiqPAxBAIjYfTVs25wjw41oWzjdHAaQy4Iasz0DT1ho8MT8iAByaIo7RI6lzgLlo3rold4BQnmkvmo3SAAE4H0Rz7VYsnRuGTAQu6gfj6SCp+zEYqcDBbbW5AVzmAFFXRgYyIBQLgDt9rDwkANwubdwSJKkZDYbLcXD79hwBfqhkQQJIp9+G4OcSASjGdOH0kbIg7QLA59YFwOgdyQHuhebg0I6duQMEwhyAjdCfuFAxCaBUOF0wKyCCBrw6HDwDdCLZ3rhNOjhAGQ7t3J0jwJlK5g8Z9sJHbkUOoLpKhNO5032iDwR9ThKhlQELQLIBvAQwGy27vswN4BIHCDqtEqSEmAlgFgunc4q9ogQhvwHdoaQBUlngAIME0Lp7b+4AXr9uBWf3ayDaAAdwFwunM4tIkHRnJOiCUwBYK09pgekeJEKz0LqnLkeA05XM49Ot9KdkYH+RVROae5pwWho3RQaiIRcMh2plwPbELaMMDIVn4ERrB2739nbS9AcEUv2fABdPr2Eej55Ov1UKC6BvQMWN6wlc6+xEQUgXAHlhE4aeArgvRCgOJPPmWA8sff042nx4wkyMBDi1hrk9jnRga/s5oXuLcXjvfgomw+Oi5iNbTagg4rYC2xnI3AmSM4Ihf4wyp+PIvobsAUxTE4FF6vnziOqCw1sknPjdKhQK7qRVF+Z7RHA5I7hkE3Crekow5DFIOxqO1DVlCXByDXO5NBE8lQUOoPsIoK4RplMW2y8SMMQOkDNXnyFEblVvKZjPgCSraPuqOTuAzu/fY4ahpdPPbACnv1A4Ib2JoFz9kYCLnMPKAKQxQtQIQObXSAra6g9mB3Dh+DvMbVoaYElmAWik9AAHOMgnRQaiQZOODIBRq+cfuq8UasgUk+31LdkB/Prtaual9poCEBrQDLiCBFB/CIOJYfDnjyipP0bOecB0GUYASAhF8oQIxYvD/lYOwP+3k5MCnGxe1R0MGH4H5VroIMmfsAkgVEhOWtBHb0s8SCzsRh4HkMcCWPEl9N9L4oHyeaKc7QfENgzYLyx8UJ2RGAPw9e7XK2719LdNKQz4gxSAZ0FxGDDDhWIVl6/2UuvlO8CHgqjnvvjSQrT0wMfQMBMAjFbRceAIByjivS5j4WwMAB9161+uILOvaGpwapDqrJAG3JEpYhX1h3/5MBoy55YUBpfEY143346GrlFP0Mb8IfGhm26Ei0vQ0dDGAXhn4l3xzoQlyIDwk2kjgIpppXG4o1NSq1hK8/yl8DcbdBkdy7nlMKbhED0i9Zh2o6efXuucuHL5+h+vrN7zHJfZpBoYB2JfOBZYVlI2E9+1HL3z4qodC2nu3ATXryDDAZfRTqngEF09/V27ms5uqms5V0/zx1J1zwogw/HHZN662dNXs7KybiUvbxb3TCUz9dPqYzfajv/ZRd+vTnTtv5eiaz9uH4XdAAAAAElFTkSuQmCC",Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAFR0lEQVR42sSXX4hdVxXGf2utfebmTjKZZGZu2klipzNJ2iomjUjSVrQgUqVFEKGFiKVCEwr2QQQfFGoF/zwICtK3KA21otJW64Oh2gg+iFhblGhbWhS1E9ukM0knTZOZe+feu//5sM8ktSZgZzrNhnUuHDjn+9b61rfOuppz5nKGsoJzxYEft7be+9gXVvKOZRNo7f/RTWb2Ajk+ICLuXSUwdvfD+1XtyOiu69eLKMD1yyXwtpgP33VowJn7vquq28ZvunFozfp1nHtRAUZWncDwnQ9epc5+2diwsTW+d88m5xRMERWAuKoEhu588BYz/cmGqe39kR1Tm80J4gx1DhVhVZtw3Wd/8BVV/Vnr/bvWjGyf2qKmiDnUHGqG6soIXLICzX0Hh1XlhwPNtTds3btneGBoLaqKOVcyN0VMqZtw2UdyzhcDv1ZUfrV2bJNs/sDuSasc5gyrHFpVqLMigRqzvz6CmVGZYXVUznDOUHU4U5wzTA01w5miqjx+z/vkogSa+w5+WkQOjW7fkUa3TY6qKeoqXOWQqs7eFRlMlK2DGoVw1hqNHhlygpwzMWXwkZwSIUYIiRQCKUTGm7jXXj7denT/tRcGSHPfQQO+pc4dGN+1e3DoylYDoQBWJWNzDpwiZqgYYsKJHgZuhG4gZcgpk1Ikh0SKkewjKRbg2I/0e30mJ9cgAiJyhavBW4g86gYa26768EfGBiqBzPmSm3NYZaCKag3+FulzLpFiQlJCciqgIdDtBtpdz9lOj3a7x9yoAgKw2zX3HfygiBwebG2Km3fu3KqWQZf0dqgz1BmY1V1viAryJvvlDKlcICV6PtJe9Cx0A+1On8Wux/f7hH4g9T05JqQQiE7UfjF6zXurkfdcOY5IAXKudLs5xByihpr+D7gA5KJ5iolOL/BGJzDf9fhuIHhP8IEcLgQhQor1w+DEdEOjObBehDrzCqs1V2fFak5RdYhI0Q4QgZRgoZ9o9yPz3UC3Fwg+kM4DRgie1A9EH8k+gK9J1CNIifHWmeef68xNH8MqV4DrKojZm/wuqAoqQgbmfebEQuT4vGeu7VnslUYjRgiR6EOJfiT6SPIBfIQQCvOlSdj+6T1PxbMnt509Nj19/M9/SrrU+eYKsBlODKcF+PUevLyQODEfONcLpBQhJnKMxWbeF+Dgid4T63v0A3hfCMT836O4e/i+2RjSjt7cySf/9ZvfJt/pICaoM5wZCLwR4JV25uRiYtEncspoShfsFiI5BEKIRYZa++RDAQ11+X2CHC89CTfc8d37qo3jX99y414bmZxkPmTO9DO9WJpccyLFRE6RqSZsXpMZGyhNmEMkhUiKxYI5BnI9hIipyJMSJ053aI1t5JG7r/n4RUfxls8/fGui8Xjj6qlmvG4XWRUF8lKpUyKFxM0t5ZU/Hi2j1hRXj2JXu2bpV0Wxuo+WziNfu+sAx59+6aIEADbd/s2Javy6P9jwxi159w3gKnIq5U6hZHj7hPHs75/jqa/efBswu4xv0d8u+TU89fP7/y0iExNfPvykPfO7j/mdeyQ115JjPl/qHAUtburmnP/yju8DOed47NufvEWJ3xt84WiqTr1K6EdiKLZKMS2VVVZ1Kf3Hdz71pd6pv39m3eyxxZHZlwi+WCzFhK5wH/i/n55+6IuPvfrEAxONfndm8tQ0LgZSjIi+SwQAXj/6xGud3J/At5/esTDD6dPnVn8nfOv55/0f9X/9xic+1Dkzc2hu5kxaKYFl/aPJxbsHpu596Mjg0NjngMY7uhO+rReIDAHrcs4zl4XASs9lJ/CfAQC4WxJnuW9WagAAAABJRU5ErkJggg==",Z=(r(78),r(79),r(80),r(81),r(82),r(83),r(84),r(85),r(86),r(87),r(88),r(89),r(49),r(50),"Actions");function Y(e,t){switch(e){case Z:switch(t){case"Close":return Q;case"Clean":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFw0lEQVRYw8VWW2wUVRj+zpnL7rbL7G632+4ulF4sFqhQoihKws0KIQY0JhAUUYkxajSakPDgkxIiGgwxaEgIyoNKQPF+IQGEF+sFAgUt2Bu0ZXuhpbbbdnc7OzM7c87xwdY0DS0FWp3kT2ZO5j/f93/nz/8d4H9+yGRvuG8tJFOT1nEuVoIQj0TogVcP2sf+EwK7H4eWpQW+m79o9bJpvhwSyovgTNUR+3LtmblbPuVN18uhkwW+bT2oK9v3xYOPPLesue5Mx4mv9+1tbTjNo4WzFAAVY+XJk0XAp0ibFy5Zs1Lvaye9Xa07AeGmhJCeqzHBBPlzrLxJUWDXE1By82a8MWP6dKLAgqKqz88oKNwRCOaSluaGmq2fscYpVUAh8mOlZfMLjL4YFOqgcsWy+QIUly81iv5k+p3xcieFgKy6N+XmaMRIdUIwB5w5YFIWLtZdOutN6oenlMA7Gzy+YF50tZm4CtsYgGAOIKm40HDN1g324taj4FNKgBH6aDCgycZAJ5iTgRACvYYqrnQm3t7+Zf/vN1TvVkDrf9YqIYgfQPsP+8kj2ZJBTL0fQnAwmo2a5tR5ypQdUzYJ66t874cLN77CmcFM/arUd6URg+1JOH1unG2hye4kuWfnV1ebJtQ/Nwu+6d4X7rhU+9uc4rnFyOj1kjdcAa9WBrvcQHdrNUoCHVWLIqxj51dT4AXLl28j9wVZ9+x5paHOtjZo/hjK707irgUJeLwKMpaKDFNFrP5YAwRfuHhdKn2jPaWbIXDsk5q1sebszcmBaTQ/HEE0XIFYXQgnjyjoah9AXsSBobcZ5mD8mcXrU42TpoD4HKQx4n8rGF71WiC0CH3XLqChluPn4ykMxksRDhYgy+PBlbZWyFnn920/ePTFCc+QifzUGAnsihQ9ucWrheFYLQiENCx8YABz51no7j6L01U1aDxXCM1TgobLBcqk3gfqq3wv589cv8cXmAnwAQghwJkOZg/CTMfBeRqOY6LrL+D8KRUw+mc9u72uaaIExjWjhqqcykDe0t2+nDsAoUNwBttKgTMLnJsw9H4QwkBgIhzsx0OrvaJkVvuqm1FgTAJ1VVqRZ1rxp6HoChlcB2gp0skECOXg3ISVToCAgXMLjm2AMwOKyghjWHDbBOp+0jyqK/ebaNHjIYg0QIsw2H8BksIheAacOdATcahuCZyZcCwDnJuglINQJf+mjGz0QvOJgMxU9+Fo8VMVVJKRHuwBERnwTBekaV4wlgZDAWR3AkL0wrENMGYBNAOAglDFc8sKXDyZrToe9UCk6Ok1Lk+UdLUeBXc4MvplKG4XOLcAkgsrbYHSXrDh6h0LEByEemCblnHLBGRV3h8p2rjBk11C2i99IAAJgqUBmJBkCQIqbEeDbTSDUgYnY4A5FmRP2T/zgrjh2Cx+Oz2wLX7tRKyt8T3dziSJ5r8bzOqC4nZBCAcZW0MyHgMl3WDMAnNMECkEWS0AADgZBbYjWgG4AChD+5MJE5izNNGSSrYt1ZMdJ7XAEsEzcYCKf6onUXQ0/QRJciDJNphtgDkMVLkTgg+ASj4MJlK8s5dfBJAFwDMULgDq0NgnN/ICsvdjK5OVRX6bEWqdrbrzSrVgGYjkRVvTKciyHy61BwIp2JYOqs5GKqHD7U5DdgXR0xl33tzT9XrnX5wNFUdHqDAMLsYjoABwn6p2+IeH9GPlxW0xibfOtU3D19tZI8IzVxBKmsHtFDhXYZoR6MkUvJoO2V2O2nPVP777UfrbkTYy2lZGr0tjHAsFQL8/mWk59G3icCCr649cv5xPqR2V1DshqYVEUktxpfYXruUUwh8qIH3duqiubtpx/Fe7GQAfEWzUNx9JgIzhD8qIRhoOWnm/7H9spXpv0E/LFUqmG6Zoz8vTKrVAYGZ/T29s7UvdDzP2LygbAc4AOKPBJ2JGdEglaWho0et0thgRwwDXq3rS7oTkOu9inHMf9/kbn4ipml2ynXcAAAAASUVORK5CYII=";case"Reset":return W;case"Solution":return H;case"Copy":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAADvElEQVRYw62XMW/USBTHfzPrzeY2ZLVp8gkiQIBAAiGClA6JCtFQ0IBQqpQp06dEVIg0gSpQRILvcNF9gihNqpUuV5wQyeU2m5zZ9XreXGHPxN54d717N5I19ng8/s97v/f8rDY3N22j0UApxX9pxhharRZbW1tzgMkcdtRzweLiImtra4gIIoK19sp50djg/SiKWF9fB5gHIqCX9iNFBFprRIS3b3+fauevX9cQEU5OTuh0OgALQOgMA8hIAc58y8tNokgQsRgD1ibPpJ3vAbRO+pkZjchPrLVcXFxgjAFopNOcFWJADRMRJItblpfrU7tARDg8POT8/BygBsyka1fSY1iz3gJlXra9vc0oYFdXVwF+mwDYurfA+/ffRz705s0vZIEtA+awsYODA/b29gAa3gIPHjSIIosxFqXAbbJa1VSrCpEu2jl/yuYEAR7YwN14+DAYojxOrxOG4jjm3bs/phLw6tUMIsLs7KwH1gsoY0Y39/HjJtaCMdYLszYbMTYXNZWKYm6ugsg5IkIcx269mhfw8ePZSPUvXyov4NGj+hjBtvC+MfnNANoLWFlZoNOJiWPrdxHHyREECmMuvIBBq40Sk703aE1AeQFLS72xse7mfvjwYyoGXrwwqXtsPhGVYSAr4N69+TSeLekwIi568jnC8aC1QuRvL8CJ8AI+f+4N0a0BzfPn3QyE1QLBdqwLEsFyNRWLCLdvX0MpiONEcbIgBIGiXq8gEuYYmCZlu4xbKODOnX/GLuDmfvrUmcDzLnlVePasPwhhMQPDduXm3r07n4Za/iuZjX+XJxwXs7MaY84zX9kBBr5+Vd7fRe3p07YXcP8+paAdHHcMZDnwAm7ebHiys7u4zGKnhQyUsVxRNF0RcOPG6dgF3NwvX6Kx/i5qT578dTUPFKkfthsn4Pr1ObTOW8v52nGQZaRSUWgN1p749TwDYRhydHQEQL/fzyWKLDCtVotms5ky8HPKMLy8dgkr2N/fZ3d3l263m6N5sIVhyMbGxv/9LSDY2dmZS0vphbSgrKXOLKq7fhURvn3TY/1d1FZW/rwiIkhL5yhTSlcLYlFlq5qlpWsZaxVUmr52SFjQOmHAvTyOY29JJ8B9CHrpllSBAOUWuHXrdMrqOel7vV6hBQzQdS8rEKDDMKTdbtNut0cCe5kVbS5vGGOIooizszOiKPJluc38wTDE9wCVssBmxwbPk0In5vj4GEDK/pG6PF1LQW2WAHZUs+mGe8EED9gML6OALV2lA/1gQtVlgJ1ovX8BzNiSaQ6wVhsAAAAASUVORK5CYII=";case"Paste":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAGP0lEQVR42p2XC0wURxjH/7sHKh5Fz1drTA2NrfFR4wtRKVpQQKtoY9SWGrQ1WsWIL3zgo1jpQ6sUFCLVtGlMamPSBBPbmraxVsTKIxxopaeiqQpYg4CIAnoP9mY7Ozu79+AOuC7Mzuzs3Hy/+X/fzOwICOwSliSvIoaQUBAxCAMH9oOxdwgqy4pw8dezRvreyROhSeap6w791Al+3gvJ69M7IiMisOGDJaxi7PTZmDRuNL7/Jn8ofeygyc5zpw8A2S2XOxnI2RQn6xUCLckyRNqEsLLa+oeqYJT+cRbpSRNgvt2E1LwSZGWsx3uTJfVnWg+CehO5zbvXriHnfH1fro6mlOwOIBzeFEeGjxqLeRPsag1teqxyAG4/7KM3ulN9G+dOn8SsScMw5bVBiE37BXu3r0b/wYMwYtRI1mbkYBvWTmpglpRBnD5vgcMajDXZxS/RGgdXScmd7gDi4c3xzpSlI2C7XwlRFJhKMTlGXCkt9OvDqnqablTDarfCYbOj9MKPqLh8HkWpzz3a/VxtwofZxaNpUXnRxvOOTgBrFo+Ao76CSa8MYXb+AJgv/QZLbSsOHtiPUFMYICkDc8Jud6Dd2g7rsza9k77G/qgyF6Jog80T4CYFyCmeSoutNLXw3O4OYMjdnCCtXvwKpAeVqnz02lAQgrLqdhCZwGAweHQqMkaR0hDmc9kpQ6CV4aZnOJns2fan6yasOVI8kxaf0NRM01OabJ4AaXOk1YvC4fjXrMcnUYJIoSEy/ZfVGlpWfMvqtPfdXGeu90fKkZIYDvCI554AeWlzpVWLhsNRZ2Z9shnADRBuUDHpMq6C9eQ6Y+mHlNzSWC6/H4CtFGDhy7DVVXj8WDEu8tEqfxoAA0MPAf4OQ0peWfcAKxcMowCV0Ca+Zlh5Zh7gZUJ0uh4BnP4rFOvzy7sGOLrtLen9xKGw1VR4LV80uKj13NZM6n/CQJzESXMZTqcSnCLLZacTThqQEs3ljg5aBjLD81gfBVdDkfpVtwDzpOWJL8J+r0JXgFpmRUJHerR9Hz7duMTnCFnMEPd4JFiX8TUa6u9hy5jfYbkThNTj5lhuuMknQP6O+VLy3CGw15brW4FiWORPua378NnmzgBE8YfSiIjQEJR7yp7j6BMkwWKxIMZ0E5knLsd6zQKrpwI7qAIJQ2CtNbvmutYlveW1fYzPtyxl9SUlJWwNYLZFuMUEEBUVyYopH+VjQfxMnCooQPWNm3h4z4LG+7cm83VAAXjuQ4HBsN4x+9jAgCNte3Fgy7udtJcYKKEQKq4GvC4jH+mpK3Hrn7soM1/BqVPf0diwofZG6UgeC+2eAOnzpWXxA2gMVPr08+Gne/HFVhXg0uUyZkTZ0gx8a9MmxYzpkUy6tbuOoqX5AR41NaKpoQEOh7o811wrHM8BnnoBJFIAk1+AnCcZOJj2jmqI+5zw4RI3RVxRwF3jCg2MnZagAEzlLnjsAXCMAiTFUYAa3wBfPs5A1rYkapegsKicbuY0SOlcEw2CPlMUgzFvRMAtJBiFKKqw46IYwAwtGL0AFlCAfhTgik+ArOY9OJS+TI9KQlwGiDZXiKqH+7TkT6w0PmquAhDDXdAcEMChxp3I2rmcdXSusJzeBXWRUnK2bMisjjjpd5CBB4gks21zVvREBjkxOkED8KHAzoVS0uwwvwD767cje9cKfdQ89iFJrgBgI2axQbxiQr2mxDAF9BXRE2A3BYjtGcCFosAUiI6cyGimzJrXBUBPFEhfofuV8OkgsWDQRq8vj0xymUugVU/rCuD47relpW+GoqPuql+ALEUB2tvFPwNTYHrEeBUgrhuAV8ND8LpQ5R+AKUD0kSq+5gK46om2fvLZwdVQImZaXKJ/gK0JwyRjmBG9ggSfAI1j6CzYlcwVqAhIgakR4xhVVLx/AGWi9qaJfvbCxPPevJ612/jJicIsLQaIa82X3FRQvxldZcJ3daJ+TiJ6TtcAwcqXNU0v8DzYC+CquwvURDyAZElbpET2Ja27iW+ZM+cs9LsOCHxf6cVH3os/a2dFITXz27r7NbfQ0tKC5keNeNbWiv9zUQD981zwcTA18CR6HVRFDmXk7gn1VqgHF3cEO5qxA0ogp2PNRSHceIgbQCAX4adndkT7D6WvswLxott4AAAAAElFTkSuQmCC";case"FontBold":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAFwAAABcB8TWgEQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUVSURBVFiFxZddbFNlGMef9/Sc052etmu7j5ZtjI0RYGwoGxCwW2HNKWrgBg1Eb0a4MIarXRg0YCTDIF8GDRfemGgCQU2cVxAD1J5uiDAXIQPKwqhD2Saw0a4t7fp9Pl4vpLPrzhGYVP/JSU6e/9P3+Z23b55zHoQxhv9TZO6mY/PW96OVy7oAAEDOyyjkw7PvEcgyIWaSpJiOEkI8RmdjYY2Q8gHATyzLDpw5cyb5VAASQa6aWmS3pvQ2SJjrIc1W/lVMflw0/1KKzcQxMPGJLZbA4P6yyV/SmzjuoCjLx/r6+tJKACj3F9jtdqakpOQFgiDqJYrZee2Vw1y0splUKma7w2Nd/D5KstU4UVqbTbHVhEiylFKuOXBDWO77dNyQnrS73e6AKkC+7HY7E2nZlrzd9o7i0y4fOA61/tONMknWYIwbQJZbfm/e+fbdxh1IaVe0yansmv6uYTYbanO73Yn8WoTStvT396e0qUhcycspCzDq8Xh4nuc/53t7dzUMnXhtxZWjGYC5T5RhyumbLfsaZVF8t9BTBAAAoBPh4D8BFMrT23u6atS9Vx+7m1XyY+ZGeqpi7e729nbDUwEQWMw8CwAAAMK4z/JwUKvmBxZsYBmGWf1UAPNRW0eHrzR0K6HmTxsbsliSVhQN4MKFC7REalV3gBRSCCM0qy88VwCSJNc/KlupUfNLo8MUxvha0QCwLG8NW1sVD6FGTInV49/7Nm7ceDM/TiolP6sQQojjNh0ZWbmrK62zocL2jbAkrfB9gkpSDzu7u7/Ob/TzB9BoNB0cx9URAMscm7e3+Vq7WoNV7XOK6+J/ZJsHDwWNsTtvenjeV7jOvACmqtfLMcvSc3FjfTZpWIhESk/NvAsAQCOmxcr7F4nK+xeT5uDVk0Iyvtdz6dK00lrzBSAet1p6puXmSR/9DYwRP8FOj48RkjCBEFKtMy+ARbe+BWPIL6R1VirF2iBpqMnGTMtAJPU0AEC0rImMWpoAMDQZInf2NQx/ucflch2wWCzHe3p6Zh3SeQEw8QnQ+8+XVpGkSSbJxRJCiyXK2Dmy8i3Xg/otKD93unSJ9vq6w1pL4MrBF69+uBoA3vjXAAAAWq0Wn+/rmwCACQC4DACnXC7XIYEyvBes3jCnF4Qr1pLDzV3bOI7b7fV6j+Xiz7UPOByODxYPnxhT8ydrXiYeLNx8lOO4hqIAdHd3y/ro6DlSiAtqOYEFTgkAHEUBAADACF02hYaQmh81NwIBxLriAWA8aIz4Vc+WpGGojNa0tGgAGoDlCf1CWc3XZkIZbSZ8pWgAGCFHpKJVVPNNYR8FGP/8RAAZkarvdTU5nU59wlj/erbERKvggfUeL2CCuPREgCxrqVDzBFoPAGArLC6yVv7GS/tr1H5XP3IKyoMDnTzPh3IxxcNit9uZTMs2vdpCgVqHUDf0zR6n07mfIIhaAHCKelvnoOPjpSl9DTVnmgIA270fpIZfTx3xeL3f5cdnDSY6nW4VxniJRLGd11897IxWNikOJiADlAaHBOvYj1RaZ4WwtTUTN9bRIBMFcwGG8okBsc7/VcT06PYBvrf3M1wwiMzsgMZSddK/Zsf2pKEaEuY6yDBlc+fCPEXLm6loWXOumBYwAMKSTKdCAhOfRGxsjK4aPTtpjI58RNP0F2e9XsWv7L8BZPF6+ejlDQDwTMMpAAAhC9mSROAek3w4AoDHMMbjBEGMms3miz08r/iJlpPiaPZf6k8gKjn1XEsQDQAAAABJRU5ErkJggg==";case"FontItalic":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAFwAAABcB8TWgEQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAM9SURBVFiFxZfPT9NgGMefthttB+sG+8EcvwKCmHBAA8ZEHL/ClCCIMcaDmuDfICf1xMmjiTExMSaaeMCgB4ORgwNmBqIxeFD5oUIkwNgY61YZ27q1a+sBFbNOXJmNb9LL9+n7fT553z593weRJAn+59AoneBwdleJOurcL0HMbh4qSv6J54MPcwYQSao/pdVfZqz15Ka5DuFx4w6ECADSzoOIAti8rqQhNJMC4JYAQAaAKN0CBEEQp9NZncTIYxxhvPb25N0DIoJvJ/0JIAKgqSQ0vOpfwtngdTwZejE6OhrK5Kd4BaRt4gUAWGjt7EFN/ul7QXsTmv5e7cfb6/mbKxfcruE3u/nJJioZPF5Yl8gvlnlgQgKM4dmFvyXPGUBE0aMxQ4VMt/o8ibwkcycbj5wAOLLIIqJamW7zjgW4zcBTVQHa29vrGGu9JV1HJAFwll6fmppiVQVIUGV9wdLmonTdEJ6TMD4+nK3PngEEra4taqyU6cWr7gCZpB+pCtDV1UXF9SXFmWJ65hPjcrm+qgoQQ/K6AxUttnQdT4RAk4p9UOK1JwAON11ibA2yz9/sex0jYxv31QcgqOqUVifTLf6JDUKLvFQV4ERb2yHGdticriOSAARL+0ZGRpKqAkSNZX3BMkdhum4IzYkYF83q55MTgKAhWjOW38p4AGfpx6oCOByOQpYqlS0/AADFfKHHxsaWVQVACyyn1yva5OXHhkDLRd8rTa4YgCONF8P2Btkdwuyb2sJZ/wNVAQYGBlAe11cJGcrPuja5EQmHPaoCeDyexnDJEdnh8+P0805PT/OqAiQoe1+wvElefsFZUctFFJefYgBBQxzPWH7L4z4sRj9RFcDpdJZvmWqsmWLUt8WI2+32qgoQK7Bf8R7slZUfJiQB42Nre02eFUBHR0cxT1BnIuZaWUwXWQVM5GdzAfhjX9DZ2VnEo2gjq7ffnG25Kr/6AkDUuB/4vILe5lNnP5NxZtJgscwPDQ0JSgAydkbNPefnUhheHjVVYv6aLkLQkNuBtNYLJAANFwUqOA9GeiZOxAPvJp8NNisByLgCEoLdQCRhn55eBD19a3eH35pTTEpNKkkOsIfe8F+P7ysqROpEM6DVAAAAAElFTkSuQmCC";case"FontUnderline":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAGUElEQVR42rWXC0xTVxjH//eWagYCQ6eiApvQlYHTKhFBXScPZxHZHGgrdeKUOMfqqJolakTRGaqbQKJNRJ26MV+Z4Iabj7UiYkC0gsAQdIUMRnnEAlJfgSnQ3p2WIpRncfNLes/JPY/vd//fd07PodBlDChsi7PZNVJGx2slHUAKeSkhxQFAWEAh3ZcBlObOgs4ijaIhEjKQ8w2QSqnOd2k0tFpS9zfA2ZeUfwLaGgrOTxhMUNO7jsYjfrPAAG9lu7E7hW4jdfspmCuIAp61gevrCoa8cnIdD4b4pkjdWD572oq6ci0aNU/BtqOQd00JxfHrCAnRkznehmdQNGi2Hu/6uwI0ZZq3sfYRaqta8BrNImU2jooVjCihgwLFvACQy0FLj70/G96BKzHxLWdwZn1octrTGHPZ8qAWpfmFMDxtwy3lOTlPdVaabmqdjmVbdmDsZHdwfDgEhDZBtz9jUFX6ALr6eyi+ck5xMe9ICAdt/SgANvnp57vA/sr0zzcibP129LZH91W4euIIKlPT+RPRlpsLvRmt82v5EjpSn2L/k91qCSK+2omW1g6oMlUf1cRF/9a+qR7Fe43SG7o+pzcAbZaDjQP7/LDxfLZlF2I1d6/jYMKnSNnSBLG41TwR3dUshJxKV6gZ21uBYa3jvDNMzcmrIxAdrozjbO2QiUzAMEP0nr3LJCx4FfhDmprbJwy15blzL4RHBoThgUyGdgxg7OTc4HY9dRb2jo5IiPZFfUFxl1P0+uoBAPIIwGlLAMYEcJ2bGb70ZBR0s6ToGBSgg/oZDo4OZoCiHllkBQCPKBCT2hegrjyPezl8iXUAIACvOyCRAFQNF8Arz48ocL1PCGrUN3wUEUsOrULzoABJeSQEhk6ABOFM1KuLe62loQAKCECqJYBxSdWW3yQAEa8UQEIAUnh/+CHmSDcAY35o1Lf4eUvCD8ei2Vs0cBKCAKALIHEFCUFJ0TABeuQA02OMRl1AABZbB6D/BQ5O9sMGkCPfRsr7jChAVkFvq75XyMkUhu3eAp3olQL4EoDo/gDuFnNUolCPddApBwcIIgAZ/w0gfN9hOI3ztgQoK+GoloVYAdBDASEBUBcNbxXwyEbUbwjK7nGvLgv68gB00lkDrwIkqYLQ0ZYBR5MCM4kCxcPYB8CCj88cRCQewxhnjiXAHTX3qjjAKgC7UVdMCbxjEQ9NNWVWA8QJwJbV8HwhTj6OsRPcLf6Qq0orfK9FzosaAoCdlDO/3W70ZRPAzuApaGwsNwMMHYK0OLBFpz1nYHniGbh4uFk0/lVaFVYcGbjgG2gHA7BNuLSwdYzbRQLAjN429S2dDnXWJ6EcNtL9mIzw9Evw8Ha3BLij4eeIFwijUC0dZCfE0s3zEByVbQSY+f3U0bdv47HZ39AAgjSwlSm8UfCUZGL6ezMsGjUVzXbnwhe2SFCC/gCEsIlLF1Ay3xHLEb3nB5xPzcalpAXGg05/vvpPQgXDkodQLKkgdj8+jllrVq6zr7a2GTczZPKw71KIAm1945fGnvO1yOHGutIGsovSSN21BaoziaTOWA2gUIAVAgXwxW4fLI05D/dp4yzUK8ypgCZnNfZH3Ia3Vi8nr6TGB5dLIfmT8TCID5FxYcjKuIPH+0KZy81asqMbrFegh5yojZQiYEkc3vRysmgryqnD34VnoKvOnKTJ0tU78x0xZvJsTPAQk/5exthDvi0Ay3/NRzyeD+RicABy1tskxIi9zdEr4Om/HdPmuPbtwnQfSbtUunAyB/nfSk+EojwqcDeNVVv/eVkAMh1DGU/vTpSP28OAqdFw8VqMOYumWYxmzM/fTylRnvujR4X2YqV8fSu5rBj6y/xhAbzYnPkY8Y4QdFYW2A0NGKmC8xtulVrjMR42LCKxLe7Hr0HHqq2mxNQP5bgvgFxO42IDS+4gY9Rj+w6sdALtUAGG+wRUhZKUcaD44zvHV+TCYLyY8CVg2VaC8fCAoakJ1Nh+5hG3wIa/mSFXM8ryasabBPeSANkpjLKzhYHW45WYDcjR7OGkEvna+npUda9tYiMjNgQ//2BN5jCi8pJGRNkTyoNGUwaqx90QkoN+cOGeRp9j8P/svaGuBuc2rER1c50FgPFyiljAeRtYIr7E8Cq8C56k0BsdSA5VALGxaCefyvwLdFTVP5yZm4IAAAAASUVORK5CYII="}break;case"States":switch(t){case"Pinned":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAEZ0FNQQAAsY58+1GTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAexSURBVHjavJdrbBzVFcd/89r1zOzaXq+zNnnYsR07IXUgUQMlAZKCBFUj3ApBWxUopA814gNqaWlF+YhoQSDCs63UqmBUUExEhVq3UFIq4gSckMQJSR1lHSe2iR3vxtje98zuzqsf2N3aJIBpaK90v4xm7vmdc+75nzOC53l8Xqunp+dXtm1fXygUmgRRnMCj94VX+x4Din293e6FvhE+D4Cenp5vp9Pp5yRJqgqFQui6TiKRYOLsJEYua9eGQs/+adfAA0DhoyAXDbBjx46vTE9Pv75p0yahvb0dy7LIZrMYhoFlWUxNTbF3715kRdn/93eiW4B0X2+3U/5evFjvc7nci52dnUJbWxuapqEoCpIkIQgCAKFQiC1btiDL8lU3XNXxMlCzuWur9LlE4KWXXopMTk6e6+rqor6+HlVVsSyLVCpFNBolkUhQKBTwPA9BENi3/11PC4buGDhx9q9Apq+325MvxnvXdb/s9/spFAokEglM0yQejzMyMoJhGEiShCiKlYi0tbYKsXj8QeBtIA8ULwrAth0c58NtmiZjY2PMzMzgeR66riMIAqIoVnZLy3JODg+36qovkjOLyU8E2Ny1Vbjnrq9/tWAV7jNyubWmafqLhUJRwIuLovSG40FNTfBHmWwWy7JIJpOk02l8Ph+yLM/zXhTFyp1QFEVYfkmg4/hI/P3NXVuFCwL8cccr1fdsvbnPMIy1apWPuiWLEREoFPLabDJZOzk5uWpRJIKsKKauaeL4+Lhf0zRUVUWW5QpAeZeNA1T5fUhV/jCgAKJ8Qc+/d+uQriqNl65sw3UcHNfFtm0c26a2tpacYdDS0kKV36+6LS28tXs3GzdswOfzoSjKPIi53ruui2XZxNOpUUAAzo/AT7Z9a6cIje1trXieh+M4CLaN53m4jsPJU6dob2+nOhBgeUsLkUiEQwMDjIyOsm7tWnw+XwVkrnHP8xgeHqYuXJc+NjCWAGzAlT8Ser+sKDffeN01H9ILAoVikWwmQzab5cjRozQuXkxtTQ3Lly8nEokwODjIF1avpr+/n4nxcW655RY0TUOW5XkAiUSS/v5+T64KPgGYZVWcBxDU1W8iSFJNTQ2CICAIAqrj4PP5eO/oUeoXLaIxEqGpqaliPBaLMTU1haqqiJLE9iee5Ir16+lY2UFjQwOxWIxYLEY0OuRdsnTZC6/uOvgmMFsqQ+YBOI67IRjUK2UDIIoifr+fsTNnuHbjxvOMx+Nx4vE4kYYGUskkqlrFzOws+/bto1AoOnV1obSm6Wemczy8f9fB94EPgGmgeAEAWxfwKjkrh0+SJIKBAE3NzUQiEY4fPz7PeLi+nmwmw8Dhw6zq6CBnFl/s/9f480ABzjqlfOeAJJAC8uWm9FGAkWQ6fV5ZSpJEQNdJZzLE43EK+Tzn4nFisRjhcBjTMDh46BB3b9vGUDTK+NnJdcDjJW9NwAWsUt7tuWfPAygUrXfT2Rye5+G5LqIkVcqnNhRicHCQoK4zPT3N2clJwuEwlmXxTn8/12zcSDKRYFlTE0PDwx2lIzN9vd3pT1LTed3w+Z27/mnkDGtqaoqiZWGVdrFY5Ivr1pFIJDh1+jTjExPU1dXhui779u9nyeLFmKaJYZromoZt20pjfU1dSWxYMABgq1X+N3b37cVxHHK5HLlcjkwmQzqV5rLOThRZxjAMDhw4wJ49e6gOBv8jOIDjukiSRLhGrwWkzV1bP7Hlz0tBX2+3d+/9D/6gWhXHN3zpCkWSJBzXpVgokMvlcGyblStXEolEUGSZVCqFKEnoJRlWFAXXcbBtm+lEPruQeeO8Fw4fH5n+7l13PN6z8xVUVSWbyZDP53FdF9fzwPOorq6mubkZXdepDgaprq5G0zQEQSCRSODz+QrnZtO50uX7bAB9vd3OE0892yhKovu3114nXB/GsW081wXP+7BIPY+GSIRgMEgwGCQQCKBWVSHLMhOTk+i6fhxwAOfjhtGPBbj3vvuva1+x4raf3/dTMTp00vjDc934/H5c12Xu7JTJZAjoOgFdR9c0fD4fjuMwFI16Y/H0dsAoi82C78CPf/YLXdfUP2/74fd9Dz/y6Kmnn35yqqvra8tORE8sverKK4W2lhb0QIBMOo1hmvj8/kr3m5mdZeDIEa8uvOjpY4dHR4GZstwuGKC+rnb3nbffFtzx8s6Jhx56cMqynMKhwdN3X3v11fbQ0PD2M2fGV8uyREMkUmk0+XyeZDJJKp1OiUrwgT2HR48B50qqZ38aQGUo3f7Us3c3L1v6m1Coduamm246YduOtaR19S+bVqwZLIVSr69Rm5YtUm8v5s1Nruf5RVF0q1T1tCgq7x2Mxt8EMiX1mwGMT8t/BeDXv/19nWFkx9etvbz4jVtvPZwzTWdpy+pHlq1YcwxIl2RUBlRAB4KAVnpWltlcSeezpT+hBY3bwvVd3xGvWb/qrUsa6jufeeaZI6NjZ8aaOy7/XWRJ60jZ+NzDSjO9rzxSAd4ciOJCvJ4HcMONW+5cs6bzsVOnTr739v5Df2m9dP0/tEDNByVP7IV68t8u2YPLYvHYa7G0+Fj7mg1pf5WWBMy5v0//UwBTDD16NiVKqh40Sq3T/qxhvCgASZaT5Ub0/zRcXv8eABOdrh0qOSIgAAAAAElFTkSuQmCC"}break;case"Nodes":switch(t){case"FolderNode":return X;case"MapIcon":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAKm0lEQVR42rWXeXAedRnHv7+9j3ffM2+aO2maNiRtaSmFaCmlQC3nKNegQFEOB0WO0RnEozqCiEVmHBlwAAWZojNIUWixUlqlLS1QC+XqEdo0SXO+eZvkvbPv3rs/13/qVKzjgfvPzuzs7H5+z/F9vg/B/+F6cP2TTHhTEfjhjeprb7mTnupd8kn++Csbt/J8YMni9FitKjCfY6lvBYQ+Z/NB6aEbv0E/cYAH7n2RlSRWEBNOZIJzpHxjbTOvMKuc40NrXN5KJ6hfEFhyO8uS19dde7fzPwPce992whOGq+FYzjKnYo5FG3ginaamghuHWL1rek69hAVd8oBsaXlmkPSwhtPUm32NM92bHrz8zun/CuC767cSgUCOhTktTjuyU4201fHRFqM0ecOM7i/wi1FZluq0zfFhPndZE3FnNwNiASy7GzXsR/TCI9rYLF9ceWY8NnzhGbfRfwvgp+/sI17VlPSRiUilZEXleP3qJCteUZhyOisVWW6U29npd6GNHQt4gyHkeLuN8eVTIJckICtx+O4wGP1FLBD34C7x2ryUE+/yTX/jqnPusE4J8KNnX2K8wI8X7YokzWkQaxK1PbmBiS9NT5a67ViTpkUXqMNjMn8saxNHs0DGKdhRGV6rj+K8EvilBSizCbx8BvLIdnQFb2K1WsLymh4nO9ixw7b4L151w/0fSwP5+gOPspRh00K6MSkrwj05u3QebU1I9V3zxYNFUds/4fAzNCDKmAq1rKHMWnDnUig+hTFhwqJZkGgflEUUglaFMr4HKyffwEWijpY8gTCl0Qnp/FGPUc5Z/bVHMh8DuPOhpxspYV+2Y/UNcsei+GFUpLG6GRKENas4c5CzKXyWhVTx4Bd9mGoAqVYGy9uwOB0Y3og6/k9gGjwkKhbmF8ZxcVBFd0VGvEzAZgJ4F3w1m/XFi47m9N4rb74/OAnguhcGWmyQPQd9pdFjOZheDuKCCmYcDX5QBzbwwBUl8KwNu0GCK3Agug5BHgETKULs34jVia1ICw7mOhRduovaEYLY4bAWVQFuEGCmY4nd63RuMwPh1qtu+nHuJIDvfTDRolOyZ5PDN+pFB34p/PhsE7aagsEmgBkXIsOgJhGAlQiM4xRy1YWu9iOID4Hv34l0MAWJr6CTGcPKGR0d4wHm9FJoVILZacM5S6OD+opR11fO+czlj5+UBnLb5ldaTIHb/da85hbdCXVrqgrIBXBNneCCWgTTYQgpAyUaoDpQAT/AIgg4UHUCXmOYgskyGC+MoZSFUnMAi9ldOKMwjdP7fCzMq4jMN8AtVYDE9dn8tLhq+LB+ZPWan51IA/nK80/VeQr/m/HFzSveswKB8cYBrQKWtANmG3y7DrbHgOQnwO+2kXojApnIMBtM+Opx1PXNwAGPzGwX5uoCom3vYzHZgZXjWZxd4ZFuoIirUtiac4zD2Y4NpiPec8lNjxZOAKzd+bzCRsSrvSb1kd95Q0k9OAY+XoJVbEMwshBMeT58KRwqqg6mz0Vis4fufc1oDs/QyE+hXUhir2tiy0IRpVVZeMvzSFqv4ipxCxZxBlplFo15AWyWpwPl5UNOIJ+7+stPTpwAuH/v74juZtp0bmbH2+1HW03FI8ddGWTsdJDBM8HubQXKVfjpGaCLQjrmomtTFFfmG7BwxoPHMfitVMWuTgmVy/JwL3ChkXfQxT+JpdEMzrYoWvo9NBsAm7gmOzmjruod945c+dWfByeEaN2OdTUe5/wykx649FBqQBy258KeOh/onw/p1TTmHoxiZK4JfZ6Buv3TuPxgAxZZUbR5QFbw8eew+t9vMzG8xgM5gw0LuBdx8Rkslvbh86aJHpOBmvPBuO3GO9MLNuiufM/Vtz9eOAHw8OYfKC61biyx4+sysw8k3vYWwsgtRVBYBGZ3As0fpjDWLkA0DZz5tohVVQ2zHAYRwcUgY6DX1zAc9fDhMgP+JSy8tiEI6ivoKf8ed3AVdDsRBJkwioxC+6xPDTlUPveyW5+e+DvApu+RMPLtAmfu1mb/ueFQqYJDZgIHystQra4G9jXBHGvBWf1AwySPuTyDBpELvYaFoVB03k1rGI2xKCUt+JeawLwxyNHXsfL4etzTUcasqVAPDoXp8iXQ7hXZSZ+5aKBs9K65ZkNwYhb84Y8v1fO8sa2xeft8XnmLOWhUsaEQx97yFbAKPWBHupF6J5TWsRg6KwoUK4w/zyITczCyBKiGbWryGUgXeghq+pDyNuNmfxeubQ8QK/KgVR6jng5PTdr9o/O22Y546xevfiF3AmDLy0+IDAoXKUzvL+ak9s6ajOtkkyPgJfppZMnFYIY7wR9Ng45yaP0wiWKoBbIIZGSKoAng5k/ATR+AWHsUCe19LJcO4IrUNE6LCmFXMHBtH5N82KpQ6eBAz3i5lLq0UowfPgGwdeOPSFT162ReX98S37HSiGWEXVaAzUwS+9weVIoXg7pnwxsikPZEEa0VYNdWQWUObjjl/do+iJEN6GnZi46aGbS5M+iWCZJcaCZCRSwbJgwmVEUtjYIx3x57s3Gbo3O3neQH+j78vsJyzvWCNvmwIe5KDBVtbHFYvMp+GoXMlWDMZXDLEmRI4LRwGqZcxBkeThBOSC08+dRTuC61Hd1hQTaHtlRQGOSUcL6E387pDkS4mFQkTLBRqr597ihjKitOAujv/Q6Z0v12h+q7/dS2hl1GBftkFR+Y18IfOQ9MsASBGlauFoBGwvEbEaGXSPjcguDsQn3ledwVvItlqodIMsB4hKCqcWAFFTSnw6j6OKBF0Bt2Q/voeaOC+w8Af7tefvWRBsroOw1tc8fBmiFmp5fGkH0XnHIPAi4FgctBa/LgCDZcj8LJhiCcD2IdQJf1HL5sDONToThXmhgcmyXAlIFWrhXsdInyhuwiuaRk0mXmcL/5vmP7t38MYOubP9EI69wdqOP3DkR3RJ8da8VI6ptgaCt8YzA0Cf1gUx5iooKSHXZFYSCcBCaIGWC5+xquixiYHT43awJ8FGiUjS1yG9nZpULfcdPJ2YfSjdHH4rXnHe4bMAzLdosfA9j2lwfJRDHfUQmKr4+27GvYGKyAo1wHxy2A519HMnkENIxCxOQg6RTtYh5RKbRnhoROS8ccEoebaaSWXecM5/0pVkodaJyjPgZz+rAxVTWjCbasRFh31ZlP01Oa0vWbnqi3OXP7vvr3Ov8UWcqY6gqg+BEiyvOIJfJoEI5iMVOHOstBOiw23ptFY+ZiZ+xwteAcTwacH/M4Vtmvu4W1DhNMpprEshpn3GvOuu/fc8VP7n5GdXj/ltGo88MNES1uR8Ic6oOIy29hLjmCJX4RpwUdVKk0GbkJs2JPp52a2Kz9ppdfW8owRYGJUJ6THUJI4Zab7g7+le3/pwCP/uVXZFg32qZY8srO7mQnMTNMfWUES5MSrS3A4SbKhZRZY8QUZYvtlx/XJ5VKKl7jcBxb+Pxn7wj+k2XnlIvJvW/+WuFk6UYxnbivNDQUZQYzejixTInj9geSvjYW2qZYRDLCtauy5vJvB//tendKgO8+9pDIsOz5vCh8wbat0CRaL3I0OCrwrPG30K698/vBJ7HQnhLgOw8/EP6HSCzHqb7vURp4M6CBu+5bP6Sf5Eb9V2rZC006d/0EAAAAAElFTkSuQmCC"}break;case"Arrows":switch(t){case"FatRight":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAFjElEQVR42tSXX4hdVxWHv732PvdOcpPJZGbyp5kxdIg2SYcGTRBaKabaRFNDbaGCgtgK6kNFaFEJWkurSJ+aB9HYh/gmQuyDLYiWvjRSja3QYpJO2ppMJslk/k8myUxm5s6de/Zey4dzMyR1qHGkKT2wOYcDZ61vrfVba5/tzIwP83IfWQD3wAt7Sp0t9flff/7w/wMgS/3QLyv9JM7FF9zX/nzXhwKQ4O6HH9qxqrmj5XD45ivfvekAqDKhxq7dtzfduqltf3j0r8+777xaunkA4lHxjEbHjp23Lbtz+8e+XFpR7nGPvr7x5gA4j3iP856hGrRv2dC093Obu1avLveEx97c/cEDeFkA8CJM5UK9ZUX2wJfuaO5cU/ljZV/PEx8wgMc1IMQJzkFVHcPq2L1nc1N3V/OP23566uX2p3pXvW8i2XNoL/AssPWatyAenAcv4B2IA++LJcX9wUfuZIoMByAOB5iBqrGhDOMDV2bf6Zu6bOZ2DT/ZdXJRAHff70/u+sodb8+pu0eCR0RwPiBBEBHEByQL+BBwWcB7QULAiQuXaroSERKOukI1Qi1X5qMS88SasrJGnZ7tm6zmiYfP7et8cbEM2N0PdnNh3nAieO+REBAvuBDwWbFCFvAhAxGiF3IT6uaZN6OeINciclMFTVhUNCVavHLrcmF0YH6mmnPQI/v+9fjadJ0GnBT1dN4j4epzIMsysiwgISNKYDo5RuswOAsjNeNi3ZjJC+eY4UxxpqCGJiXFxIWZnJ7xKqvX2Yr2FfJthFe7f3VxzfUAQRrRB8T7IuJywLwwlRwjNWOgaozOw0xymDjEeaQhDYdBUkiKNRynGLE8onliuppzbLBK8/K55tZK+pQ4O7HtuckdAKFoaSHzgs88JkJVoVaDGkYUh2RC8MUieJy7pnkMTBU1xTSRoqF5QmPCYiLlkZQn6nmdv/TNsqersry7tSn7+4C9vO25yY6Ag8xnqCRmozGdlBoeyRySBbJSKMrSUH6h9Wv8q2KpqL1GQ2NCY0TziMbYAMhJ9YikhDdjMq7MvE/tZw88dFsA4UpUzs9EogR85gnlDN8QoHiPXNWIvCdyM0wTqoZGLZyniKYCIjYgNE9UvPGFTc0sX9nBseEaV07/4w8z7x5uDYhjfE7JxVPKAr5UKrogFJGLl4Zz/5/OU0IVLKYi7SmhVyPOr2ogsnYZ3H97O2MzLfxzoKojLz79w4uvHHgNOBHwgg8ZJQPJsoWelxAaM2ER56qgheAsKSkpKSU0zxsAhRA1j2xtDez8+Fp6RjPGLl2ZPvVk9yNp9lIv8I6ZaSBk/b7kOz/Z3uRd8Pjgi+HjpRCbOHDX1F0NU4epY3zWGJpOC/XWBdFFJEU+09HElls6eb2/xuTo2aOnn9r2BPCumfVfN4pdc+U3ZnIL3kOQ68YtobiLDwQvRYv6YmBtv2sDx8fni/Q30h7znIpTvripgvfrOD5UZeLoSweHD379eeCYmV1a9J/QObcBaLvRvajt6VNvbd+xljfG5rA8Eus5GiPry8Z9m1sZvFzhzHg1DRz6/uNTr/32DeAtM5t7r52wUFqzYWD4RgHW/ewMDoh5DvVIiomtLcLOrvUcHTBGLk5cOPWDjd8C+oCTZpYWsxOWvhs7NClajwQ17uko09WyniN9VSYGev927ueffgZ428wG389OWPofmWBJqYixd0uFWGvhyJlpGz3yu2cvHHrspUbKL/83O0vPgHjayvDV7jbOT5ToHZuq9z3z2W/Ux06eAU6YWe1G7CwZoFTytDaVOd5vjIwPnT/9o098D+ht1PuGTztLPhlt+sVo/7KstHHq3LE/De6/90Aj6qH/1c6SMxCc/2VtamzV4P57DwNHzWzqph9OnXMlwC/W3x+Z0/G/BwCx4OgSU4I4PwAAAABJRU5ErkJggg==";case"FatLeft":return Q}break;case"PointSymbol":switch(t){case"Cube":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACk0lEQVR42sWXz2sTQRTHv7NN282v3Y0W/AHViCAUKsaUHu0PJc3BhtaD9mjBv0Bo2VaRtlIEKUj+Arelx1JaQYQe1Ch4by8etV686CWIJ5Nd3+xu2vzONtndDrzHbNjJ++zMezPfYTjlxjoa/ep9EsVCP/Vukk2SXSS7j/n0F3cB1vZkCF1D0Isj9HSZLE421mTECkEstwewtjcKJlyFoV+np4RtShvzs082SyAHrQGWtl6j+G8G0VgIguDyIgsvMJd62hzgyeYvWss+yGeB7l4vcq3hbFgAqvaZ/C30BAEp5mHKs1XMTTyrB7BDftrsByNAWPKy8vbNBJ5P548BFjdWoevH6xQME4TsTXipDzh36QPC4gxS0d8WwML6cxhGxdRAJIiI7FYiWjPL7cx5oCvAf7uLSfldaQl4zS7VDGwXohQwFCWTrBllNdUVRyb2owTwkPx63T9zAsGYHVCygorUb1XOmRgrT8JR8rmGL4shglAqA3IwHpAnrJOAle2QAK44B+CNB+u/Zn1hMIoON6wcAYyfHCB5261ayBLA43KAG3Z9+gWwQgDLlYeRqhk+AkwTwJtTBBAyyMhvTwhAiZe84058uwSrAb7bQqN+45k/5C3AV/IDPgAclWA1wE/yF3wA2CWAe/UABslzMSl5DHBUgrWaUNWmTEJvARYI4GVjUdroZHQP4AEBbDWX5ar2sUZ2dwpQLHAd8Aiiso0Uy7cCkO2tOd4RgK7zQ2vWXNYepYA0++v8YlJ9PjgFMAx+XGdNfaEr3zDF/rR/MyoXKr2kCYYnmpcXf9fe4927mqmaZmp6ruOG00Cgu1rhZu3azntzObXyIWde0RLjXJ4dln3tgT+3Yw4RUQaRGAtQ0E9uqvT/IZGbIXWZXhEAAAAASUVORK5CYII=";case"Sphere":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAKI0lEQVR42pWXC2xkZRXH/9+dO3fuPDuvdtrulqVdKQusWxYCsiy7yMONIAsSBAUk8tBgMBoTMSgK0QAxmqiAz2gwqEACmiAsgcibLAqyaFqEZRe27KPbzrSdzvs9d+71f+7tsiIIetOv93aS6fl9//855ztX4eIHDLzf1akBb/3Fj8quKFDph20flcr0bzlj08ZrHTiAUnjs0cd/3KjV9kDTdsEOHIA/UcCKkxsYWm/jAy71vgCvP+hH/h/jJ6w/7upgKn3FdLmjHDOsKV3364YZgOYDdKDb7LTQ69rKavfiGuyl2QNPLR6c2YauegHpiYMY39r9/wDaZYV//rIfhjorOTR8WbQ/s8EO9UW7gQgQMPktBjYM+Tag8ZdFJbodwOlB63RgV4oNs11rtPPZJ7P7pu9BOLMDa68r/W8AuUkN+7cdu/7kk66r+4NbylogpUXiISdEB4IEMAigc9s+3QNwGNzhg20RhItioFGD1qwSpFAZ0O18v4FHnnrkz7fj+GvnEFvpvBPg2m2Bt/+ae0XDGw+dPDQy8kUzM7zFiiST3WAfIMHNEHcfgvITwC8A/re/5ti0Wlav4wG0mlx1oF5BoF1FtF1b1EsLD07umLoD5902/R8KPHoY4MWbM6Prjr7FCvedbyUycSfez+Cx5eBBL7hOwfx+zwZongqye8ezwRErrDZBCNFkAtfK8FeWEGks5qOd5gMvvbzvOzjx+sphgHOWAfbeHfnY6au+NdPqXV41YgO9xAAQSwFhym6GGTzoBXflN9zsd/2Xe69HCMdToCtWCIgoQYB6FajmYZRy8JcLb0xPTd4KNbINo1c2PYBLnjDRpVyv/eCkidM23FUyIke1I6nl4HGuGFSQCujBd+6ewZUL4GPu9TwLHMsD6FIBAjjNBlXgZmsFoJQHivN1O7f/uYU90zfhwzfuhJ8bw5XPmHjxe4mxozLfbaWGLraTg3H0pRk44cqvQhEok/IbFIoWKAL4pPzEAdYg8x52T3KgRxdsrxokD2S1m4QQFVgA1SI0WmEUswWzkL1n1+7FW3DqN2sK5/4khNfvOnvNKaf9qpZekbHilD6a9HYfjELj7rUgAwcMtwLYARDwa2wBYr4PXVZAx1JsAwQghCjgdNpwGPxQQjqNMlUoAuUC9GIWfcWD2dee3/4ZbLhph8IxF/aHzeIdsfGJC7BiLOS43nP3kTilj7nBNek5rHuBMAwdIWHRFRsf4zk+tLoami2HVdiDLSDdLgFaHsQhFVyAJailLPTsdDVSOHjv68XVNygMn3jM4HGrX8SqNTGkVgIJyh9LQhFC5PdJcBcgAF/AD9NQCAYUwoYDwy89iAAdhZokvSR/14bdERUIILt3VwNOjTaUF4GlefjzB7HaKpSefXpuXKF//KzBzWc+iKHRKJKDcP2nBSraBy0Ugi8UdFXwmQZTQHavXAXCpoOgWwwKTQGg2nXmXKPtoN220WuxEhoMzH7gAVThlCURc1CLs6JCeWYqd7zCwOhXM2eef5saHgu5wftY+30paJGIFzzkWaBzmUEdYdk981GWAEhHbnDnVSpQbx66O+g2aEOjDluCuwAVOBWqUFygCrPsuPsquampjyqsHL83c/oFn1LDRxpIZtzgigporH9fkNKHvKUHAty5jripIWLYiJgegORmlQBFKiA21KhCjfnQbnZhN1pecJajzX7g1JmMRbFhDpjfX8s988RFCqMT92fOOPeTKjVMgCHmwCAUE9AXpvzcppuEVMJv+um7hgQDxmlDJOAgxByQ6hSAJQKUWssKEKDVog0CQBVcKxoegFOiArTABXj+2UuowNprMmecd6caHA4hOUyAISYgASJh6CI/l49L/I8xcJxBBSKhezYE+FmVvi+JClwFQpS5mrTBapJGAHi36zXaQABWAXIzQH5/NffSy1uowElbM5vOvk+lByNIE4AqqIgkYJgKBKFHgrybPAp09PkJwKAJQiS5BCjIe4UAhY4XvNBSKIoVVKArgV0FarDdHKAKpXkgu09sqOT2zJyqsO78dYMTH9qO5EgM/Sv4n/tZfjGvCYXDLoC7GMn0ewqkA96S5zg/a3QIIBCUXqxYaiqq0EOn3nSDuwCiAE9Hh0noWzyAdLNUnnqldazCxs8fuWrEnOykR/qc9Eqo1KDb/wVABcOsBganEhpzQNc1N/FEiZThWZGSXsCBpN7peUq0vHwoN220xXsJ3Kwt5wDPhWIednZvvbVn50Pl+sRXFDbdlo7okz8Nj41vVYOjIZVasXwO8BRkG1ZiRZA2EEAZPs4hGpsR5SeEWCEgFpuPRYA2O2GNPaDY8hRoN8T7ujugOI2KOx9IDtgze0oLO1/5IdKX36lw0cMx7PvZNUNr1nybPSHpDIy4XRDLNsgU5J4HjKp4Bijdg2BFIsJ2LLnQ63kAFttwlxBiSb3tWWA3am5gSCeUxQpQs2/m53bv/gZOuPV+TkR/j+BvN0+sXTf+QCncP2wNsB1H2YblMBIImYbYE+Q01Bjcg9D5rIE/hBAAh4eR5R1IHMu6AsJ2bNcb3s6Z/agW4FSX2IazSNYXZqcmpy/Apu/vVvjcqxG8cW9ozeDSzZVY/FJ7YCSJWL97GrrJGI56iyeh4hyo/D5XBffZRwifDEMMLAHlDCCAbcnfHTf5IM1Hdl4pQhEgWJ5fjDQrv56aGfkRxj7R5khGALl23rB2/SnH3l0MJY5uRQgQSXjDiAQXFTiSwQ1KzX2igp9HMu9yLDtsu93loHLvEUSGkvq/AyyxRhcrauHA43OzvRsxdn3Wm4gu2+kBzPwhfO66ztfzmvHZBV840wp7R7IEV1IVAZmKZBqi5qICQZS+DGARwJJZoLv83HVhXO+rJUpfgF1aqLbn5/5a3rP3Fxi+4jmk11sewNXyxsPLaii8+vPYOZtXfu3NWufMaiA2qkUTUUcgZDYwyelnyrsvI8tTsVjBscyxZAri/+t586A7FbU5lHAGUNy5U8oXm/NzL5TncvchvfUxDG/sHh5Kv7A7+vZU3CoozP6pD052cyqT/nQwntzoRPqSPZkRJR/k6NM8BdzBVBSRqUR223OHgeXBtO1OxD4Zw6pLhVYh//TigdzvkThxB464qPbOsfzLb8be9bpSmdGw6zcTR472X+VPJM5rGeGUxenICZiHJ2PNU8BVgiOY907g3TXee5VCPdSuLaFafXLvW4u/wxEXvooV67vvfjP60nsAyFWc9eGt3w6vXR29SguGL807frMXDJuaboQcaQJ6wNu95ISrQAs6E9Cy2vVgr92oZmdfymcX/4jgEdsxeskSwgP2e7+aXf5fAA5dsw+bKG5fDd36SCSd3JBKpz7edvPAUI5P50DkE/l5/jadVbGQcyC3+FB2X/ZxNAKTGDwnh5HN3fd/O/4gALls7rA240Nx0kRnJgarYqJVinLsifM1jTXna8KMlWAMlxAcayBxfBehzAe+msv1L/IK4iI2zycrAAAAAElFTkSuQmCC"}break;case"Show":switch(t){case"Label":return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF80lEQVRYw72Wa1QTdBjGn//uXDY2UBlgCk5BJqAi4jWBo1jkLS+QWkcUPYimqFlhmprVUTMvZKWVx8ux1BTvZAqooxCMAJWmgIyBAnLZuE4GGxt7+1qd7HBs8/f5Oed9Przv8z7Av0AE/p2vEXhlMbKh2NSA1PzZ0JAUDoD3L8NdVSkYV6DC+s9LEI4AkQE26oYFNocbIIL4YjJi8oqw/GyV28imgLeeYozfOrgJi0DohCOhB+hzeAHiE0YgK3iAZzOGLLyHxLR3QCQBEcexw39G36PzsSQ+SPiLcqBfEwLn5mL6mZUgcoejoTPoeyIRyxKUgoIh3oN1CFmiQlLGchA540VAZxGxOQpaP5msB2FJRVifuxREfLwgOJiL/An+uOciZAbw+YDAqQeMWfAiIYIwIwlfTPFX1EOxPBc7W+KelQ/7968WASSwtwGmuYyh+2cIj0z3H6THS4vysLNl/j80bleWYvuyUOcKyMYXYnraPhBJ7JIDjIGIUKUsMn/bYWm0CFrLp53PU70BIhWBtR6PxqBZmzZx3mDn8j3ElZ2jPStGimt2zb65yo0HovUALGCM/lcQMQYzEYq7Eo2H23ld9zn87qeTkG3JfRtrd93D8IrfT3Jv9w/XeSpfVU8JuHTVo7pSfjPr6jxcjD4F4A4RKG7fGX7a7Vgr0pjpuZKQMZhoK+5wI7zVj95k3B8RJTv5O1bqvKJ8rPrGbLmoTsRpYa6/Nct1ES56C8rvymFE4Md9ttScWITRutLvFOBVPUI65WAGa3iuX8C2wQpctdKbVwUAxK0NkGPCHK7ICyfWWlM4+Xc183OrnWanCwQ2ePWrD+apu2QXjkUVlguSWkzMHx7sJ3DxAEBD787w2VgAaANmQy3p1rc4tbd6FPAG6Dydm2sDJa2upR2Du9yWrUo/2BTSXX6rYcM5jVypFg0tgTLsBmKgseeF+KZOxd5X/VErF4MAOcF7brVs1/XPSYXIlDEgmciHMPWzLKwvjHZYVhRuxL7pwYp6KBJyw3efX317DVbEDwQBIIhEtTKOV6dr6Io/sDorCdT7nOD2Vrh1Cx6fu6XID3VvfTjDeMzvVIZt3ZXuUBfz/J27YTZuOD6zrFioqQuwPmkfoWsLN+PG3uL/uwN/w3sKqj6JrqwP4RUpf8ppissxOLsYIpKvY/D4g1jwZUnsmq67fj11re5CUwjQOLn3v6CXMAbzGEVLDcdgfiDhoHrEKG43wmaVYoOiklIUlHcOoeXM8tJji6kDEOqfu5L9J/FopA3InDAMrj1DbYpMdXogIocFfhBRptR39cTmM/+Bj0TeBZD2ue4QA4yhB0BtfiKyK9utUYqykzHaRt2yYq4gssjg7q3zmajlBUZmvBVyuHTSPIScLoBPhikAGLlCjxClFp9Ft4Mx23Mt4V85dABGY5O5xk1dPkxV0jlK0+YuMvrOUXPGRn2zJrFIFfH9p0HltZy1FW1O26ptrjPE0v5BPIlYb9HxGnDp6y67nudWQOq+WiPFVuITgX89GQs3TkEZBM5WBM1qkIxDaowfWn1iPyrD2l/jHNor2nZg5rqxyJIBnRDLtUi89huIpM2p/C1B3slVGH98D4h8icDXaAZLAZLate1qjRhu8wgfblAklwa/23/HvvrFfbEi80hmY98wG7M4A0A0slxVKYg8G9/8AwYmFNnVgFiAenMnv77H7GrtiN1WHRzUsPG9uvdH7jndNKamv7SjXwjVzflg0eiMHHx4SMsdi+HjLFx7Gti8GLaKCq4np7NxWPG1R5IbpWFshE9mSWFhIKNgr5sx3IvCurzH03JaBgSXeb3yEMGTdtvVwK4LMLTltZmYqU3SVNcRUFcj8c1euORyjJ5bHeFyyam5/Mnku+2+Q9SSl+9g1MLDODA5jWdPA4yhkwgqfGKs4aBm6kGtUD60Z6lnWFiqoOK2Ke6+wVf+wH3iLUQlHsOesPM45MimnQ4OpcPlVgIS4keLGn36hbYj4sML2J7/2oup+ulwoXS8Hu8JkniGE+Z9dRQ7taP+qfsTI1KPP4ZVRcwAAAAASUVORK5CYII="}}}r(307);var J=r(55),q=r(273),K=r.n(q),$=r(31),ee=Object(J.withStyles)((function(e){return{tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],fontSize:e.typography.fontSize}}}))(K.a);function te(e){var t=e.type,r=e.name,n=e.src,i=e.tooltip,a=e.iconSize,s=n||(t&&r?Y(t,r):""),c=a?{width:a.width,height:a.height}:{},l=s?o.a.createElement("img",{src:s,style:c,alt:r}):null;return o.a.createElement("div",{className:"icon"},i?o.a.createElement(ee,{title:o.a.createElement("div",{className:"image-tooltip"},l,o.a.createElement("div",{className:"tooltip"},i.text.split("\n").map((function(e,t){return 0===t?o.a.createElement($.Typography,{key:"Tip-line-"+e,variant:"subtitle1",component:"div",className:"head"},e):o.a.createElement($.Typography,{variant:"body1",key:"Tip-line-"+e,component:"span"},e)})))),placement:i.placement,enterDelay:V.tooltipDisplayDelay,enterNextDelay:V.tooltipDisplayDelay},e.children):e.children)}function re(e){var t=e.type,r=e.name,n=e.src,i=e.tooltip,a=e.iconSize,s=n||(t&&r?Y(t,r):""),c=a?{width:a.width,height:a.height}:{},l=o.a.createElement("img",{src:s,style:c,alt:r});return o.a.createElement(te,{type:t,name:r,src:n,tooltip:i,iconSize:a},l)}var ne=r(274),ie=r.n(ne),oe=r(94),ae=r.n(oe),se=r(141),ce=r.n(se),le=r(142),ue=r.n(le),de=r(275),pe=r.n(de),he=r(276),fe=r.n(he),ge=r(221),me=r.n(ge),ye=r(277),ve=r.n(ye),be=r(278),xe=r.n(be),Se=r(279),Ae=r.n(Se),we=r(280),_e=r.n(we),Te=r(24),Ee=r(60),Be=r.n(Ee),Re=r(281),Me=r.n(Re),Ce=function(){function e(){}return e.isFeet=function(e){return"ft"===(e=e.toLowerCase())||"feet"===e},e.Feet=.3048,e}(),Oe=function(){function e(){}return e.isEmpty=function(e){return!e||0===e.length},e.equalsIgnoreCase=function(e,t){return e.toLowerCase()===t.toLowerCase()},e.cocatinate=function(e,t){return null==t?", "+e:", "+e+": "+t},e.isNumber=function(e){var t=Number(e);return!Number.isNaN(t)},e.getNumber=function(e){var t=Number(e);return Number.isNaN(t)?(console.warn("not a number"),t):t},e.getNumberWithUnit=function(t,r){var n=e.getNumber(t);return Number.isNaN(n)||Ce.isFeet(r)&&(n*=Ce.Feet),n},e}(),Ie=function(){function e(){}return e.isNumber=function(e){return"number"==typeof e},e.findClosestOption=function(e,t){var r=null;if(e&&t){var n=Oe.getNumber(t);r=null==e?void 0:e.reduce((function(e,t){return Math.abs(Oe.getNumber(t.value)-n)<Math.abs(Oe.getNumber(e.value)-n)?t:e}))}return r},e.findIndexOfValueInOptions=function(t,r){var n,i,o=0;return t&&r&&(i=Oe.isNumber(r)?null===(n=e.findClosestOption(t,r))||void 0===n?void 0:n.value:r)&&(o=t.findIndex((function(e){return e.value===i}))),o},e}(),Fe=Object(J.makeStyles)((function(e){return{root:{flexGrow:1,width:"100%",height:"100%"},grid:{width:"100%",height:"100%"},gridItem:{width:"100%",height:"100%"},paper:{display:"flex",width:"100%",height:"100%",boxSizing:"border-box",border:0,borderRadius:0},inputAdornment:{height:"100%",width:"2ch",marginInlineStart:0},selectButton:{color:e.palette.action.active,backgroundColor:e.palette.background.paper,margin:0,padding:0,minWidth:"2ch",height:"100%",borderRadius:0,"&:hover":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark}},menu:function(e){return{height:e.optionHeight*e.maxOptions,overflowX:"hidden",overflowY:"scroll"}},menuItem:function(t){return{height:t.optionHeight,width:"8ch",fontSize:e.typography.fontSize,paddingLeft:"2ch",paddingRight:"2ch"}}}})),Ne=Be()((function(){return{root:{flex:"auto",width:"50%",height:"100%"},input:{textAlign:"center"}}}))(_e.a);function Le(e){var t=e.options,r=e.value,a=e.onChange,s=e.optionHeight,c=e.maxOptions,l=Object(n.f)(Object(i.useState)(e.value),2),u=l[0],d=l[1],p=Fe({optionHeight:s||40,maxOptions:c||5}),h=Object(n.f)(Object(i.useState)(!1),2),f=h[0],g=h[1],m=Object(i.useRef)(null),y=Ie.findIndexOfValueInOptions(t,r);Object(i.useEffect)((function(){var e=document.getElementById("item-id-"+r);e&&e.scrollIntoView()})),Object(i.useEffect)((function(){d(r)}),[r]);var v=function(e){a&&a(e),d(r)},b=function(e){var t=e.target.value;t&&v(t)},x=function(e){m.current&&m.current.contains(e.target)||g(!1)};return o.a.createElement("div",{className:p.root},o.a.createElement(ae.a,{container:!0,direction:"column",alignItems:"center",className:p.grid},o.a.createElement(ae.a,{item:!0,xs:12,className:p.gridItem},o.a.createElement(me.a,{variant:"outlined",className:p.paper,color:"primary",ref:m,"aria-label":"split button"},o.a.createElement(Ne,{id:"standard-number",fullWidth:!0,inputProps:{"aria-label":"Z-Scale"},value:u,onChange:function(e){d(e.target.value)},onKeyUp:function(e){Te.a.onEnter(b)(e)},endAdornment:o.a.createElement(Me.a,{position:"end",className:p.inputAdornment},o.a.createElement(ce.a,{className:p.selectButton,color:"primary",size:"small","aria-controls":f?"split-button-menu":void 0,"aria-expanded":f?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:function(){g((function(e){return!e}))}},o.a.createElement(ue.a,null)))})),o.a.createElement(ve.a,{open:f,anchorEl:m.current,role:void 0,modifiers:{preventOverflow:{enabled:!0,boundariesElement:"window"}},transition:!0,disablePortal:!0},(function(e){var r=e.TransitionProps,i=e.placement;return o.a.createElement(fe.a,Object(n.a)({},r,{style:{transformOrigin:"bottom"===i?"center top":"center bottom"}}),o.a.createElement(me.a,null,o.a.createElement(pe.a,{onClickAway:x},o.a.createElement(Ae.a,{id:"split-button-menu",className:p.menu},null==t?void 0:t.map((function(e,t){return o.a.createElement(xe.a,{className:p.menuItem,key:e.value,id:"item-id-"+e.label,selected:t===y,onClick:function(){return t=e.value,g(!1),void v(t);var t}},e.label)}))))))})))))}var Pe=r(282),De=r.n(Pe),Ue=r(143),Ge=r.n(Ue),je=r(283),ze=r.n(je),ke=r(95),Ve=r.n(ke),We=Be()((function(e){return{root:{color:e.palette.action.active,backgroundColor:e.palette.background.paper,width:"100%",minWidth:"100%",borderRadius:0,border:"none",padding:0,minHeight:"50%","&:hover":{border:"none",color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},"&:focus":{border:"none",color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark}}}}))(ce.a),He=Ge()((function(){return{root:{height:"100%",width:"100%",borderWidth:1,borderStyle:"solid",borderRadius:0,borderColor:"#b5b5b5",boxSizing:"border-box"},buttonGroup:{height:"100%",width:"1rem",flex:"0 0 1rem"}}}));function Xe(e){var t=e.options,r=e.extraOptionsData,n=e.value,i=e.onChange,a=e.disabled,s=e.node,c=He(),l=function(e){i&&i(e)};return o.a.createElement(Ve.a,{display:"flex",className:"up-down-select "+c.root},o.a.cloneElement(s,{options:t,value:n,onChange:function(e){e.target?l(e.target.value):l(e)},disabled:a,extraOptionsData:r}),o.a.createElement(ze.a,{className:c.buttonGroup,orientation:"vertical",color:"primary","aria-label":"vertical outlined primary button group"},o.a.createElement(We,{onClick:function(){if(t){var e=Ie.findIndexOfValueInOptions(t,n)-1;if(e<0)return;l(t[e].value)}},disabled:a},o.a.createElement(De.a,null)," "),o.a.createElement(We,{onClick:function(){if(t){var e=Ie.findIndexOfValueInOptions(t,n)+1;if(e>=t.length)return;l(t[e].value)}},disabled:a},o.a.createElement(ue.a,null)," ")))}var Qe=r(284),Ze=r.n(Qe),Ye=r(285),Je=r.n(Ye),qe=Be()((function(){return{root:{height:"100%",padding:"5px 5px",flex:"1 1 auto",borderRadius:0,boxSizing:"border-box"},select:{display:"flex",alignItems:"center"}}}))(Ze.a),Ke=Be()((function(e){return{root:{height:"100%",flex:"1 1 auto",width:"50px",borderRadius:0},input:{borderRadius:0,position:"relative",fontSize:e.typography.button.fontSize,color:e.palette.primary.contrastText,backgroundColor:e.palette.background.paper,borderColor:e.palette.primary.contrastText,transition:e.transitions.create(["border-color"]),"&:focus":{borderColor:"#80bdff"}}}}))($.InputBase),$e=Be()((function(){return{primary:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}}))(Je.a),et=Object(J.makeStyles)((function(){return{menuItem:{display:"flex",padding:"0.3rem 0.3rem"}}}));function tt(e){var t=e.id,r=e.options,n=e.extraOptionsData,i=e.value,a=e.onChange,s=e.disabled,c=e.iconNode,l=et();return o.a.createElement(qe,{labelId:"common-select-base",id:t,value:i,disabled:s,onChange:a,input:o.a.createElement(Ke,null)},null==r?void 0:r.map((function(e,t){return o.a.createElement($.MenuItem,{className:l.menuItem,value:e.value,key:e.value},o.a.createElement($.ListItemIcon,null,c&&n?o.a.cloneElement(c,{data:n[t],value:e.value}):null),o.a.createElement($e,null,e.label))})))}var rt={width:"100%",height:"100%"};function nt(e){var t=e.options,r=e.extraOptionsData,n=e.value,i=e.onChange,a=e.disabled,s=e.node;return o.a.createElement($.Box,{className:"generic-select",style:rt},o.a.createElement(Xe,{options:t,value:n,disabled:a,onChange:i,extraOptionsData:r,node:s||o.a.createElement(tt,null)}))}function it(e){var t,r=e.options,n=e.currentValue,i=e.onChange,a=e.tooltip,s=e.iconSize,c=s?{width:s.width,height:s.height}:{};return o.a.createElement(te,{tooltip:a,iconSize:s},(t=null==r?void 0:r.map((function(e){return{label:e,value:e}})),o.a.createElement("div",{style:c},o.a.createElement(nt,{options:t,value:n,onChange:i,node:o.a.createElement(Le,null)}))))}var ot=Ge()((function(){return{root:function(e){return{}},toolbarWrapper:{position:"absolute","z-index":"10"},toolbarContainer:function(e){return{display:"flex",position:"relative",padding:"0 0 0 25px",flexDirection:e.horizontal?"row":"column"}},dragHandle:function(e){return{position:"absolute",left:"0.6rem",top:"0.5rem",cursor:e.dragging?"move":"pointer"}},dragHandleIcon:{width:"1.2rem",height:"1.7rem"},toolbarGroup:function(e){return{display:"inline-grid",gridTemplateRows:e.horizontal?"auto auto":"auto",gridTemplateColumns:e.horizontal?"auto":"auto auto",gridAutoFlow:e.horizontal?"column":"row",margin:"0.25rem",border:"0.01rem solid black",backgroundColor:"rgba(223, 223, 223, 0.6)",borderRadius:"0.2rem"}},toolbarIcon:function(e){return{height:e.toolbarIconSize,width:e.toolbarIconSize,transition:"background-color 0.3s",margin:"0.025rem",padding:"0.2rem 0.2rem",cursor:"pointer","&:hover":{backgroundColor:"lightblue",borderColor:"lightblue"}}},toolbarIconSelected:{backgroundColor:"lightblue !important"},toolbarDropdown:function(e){return{height:e.toolbarIconSize,width:e.toolbarSelectWidth,transition:"background-color 0.3s",margin:"0.025rem",padding:"0.2rem 0.2rem",cursor:"pointer","&:hover":{backgroundColor:"lightblue",borderColor:"lightblue"}}}}}));function at(e){var t=e.toolbar,r=e.visualizerId,a=e.onToolbarButtonClick,s=e.onToolbarSelectionChange;if(!t)return null;var c=t?Object.keys(t):[],l=V.toolbarIconSize,u=V.toolbarSelectWidth,d=Object(n.f)(Object(i.useState)(!0),2),p=d[0],h=d[1],f=Object(n.f)(Object(i.useState)(!1),2),g=f[0],m=f[1],y=ot({toolbarIconSize:l,toolbarSelectWidth:u,dragging:g,horizontal:p});return o.a.createElement(G.a,{bounds:"parent",handle:".handle",onDrag:function(){g||m(!0)},onStop:function(){g?m(!1):h(!p)}},o.a.createElement(Ve.a,{className:y.toolbarWrapper},o.a.createElement(Ve.a,{className:y.toolbarContainer},o.a.createElement(Ve.a,{className:"handle "+y.dragHandle},o.a.createElement(Ve.a,{className:y.dragHandleIcon},o.a.createElement(ie.a,{color:"secondary"}))),null==c?void 0:c.map((function(e){return o.a.createElement(ae.a,{className:y.toolbarGroup,key:"tool-group-"+e},function(e){return t[e].map((function(t,n){return t.isDropdown&&t.isVisible?function(e,t,n){return o.a.createElement(ae.a,{className:y.toolbarDropdown,key:"visualizer-toolbar-icon-"+t},o.a.createElement(it,{currentValue:n.value,onChange:function(n){return s(r,e,t,n)},options:n.dropdownOptions,tooltip:{text:n.tooltip,placement:"right-start"},iconSize:{width:V.toolbarSelectWidth,height:V.toolbarIconSize}}))}(e,n,t):!t.isDropdown&&t.isVisible?function(e,t,n){return o.a.createElement(ae.a,{className:y.toolbarIcon+" "+(n.isChecked?y.toolbarIconSelected:""),onClick:function(){return a(r,e,t)},key:"visualizer-toolbar-icon-"+t},n.icon&&o.a.createElement(re,{src:n.icon,tooltip:{text:n.tooltip,placement:p?"bottom":"right-start"},iconSize:{width:V.toolbarIconSize,height:V.toolbarIconSize}}))}(e,n,t):null}))}(e))})))))}var st=Object(a.connect)((function(e){var t,r=null===(t=C.getViewers()["3D"])||void 0===t?void 0:t.getToolbarCommands(),n=r?Object.keys(r):[],i=e.visualizers.viewers["3D"],o=new Map;return n.forEach((function(e){r[e].forEach((function(t,r){o[e]||(o[e]=[]),o[e].push({icon:t.getIcon(),isDropdown:t.isDropdown,tooltip:t.getTooltip(),dropdownOptions:t.dropdownOptions,isChecked:i[e][r].isChecked,value:i[e][r].value,isVisible:i[e][r].isVisible})}))})),{toolbar:o}}),(function(e){return{onToolbarButtonClick:function(t,r,n){e(L(t,r,n))},onToolbarSelectionChange:function(t,r,n,i){e(L(t,r,n,i))}}}))((function(e){var t=e.viewer3D,r=e.toolbar,n=e.onToolbarButtonClick,i=e.onToolbarSelectionChange;return o.a.createElement("div",{className:"visualizer"},o.a.createElement(at,{visualizerId:"3D",toolbar:r,onToolbarButtonClick:n,onToolbarSelectionChange:i}),o.a.createElement("div",{ref:t,id:"visualizer-3d",className:"visualizer-3d"}))}));function ct(e){return o.a.createElement("div",{className:"right-panel"},o.a.createElement(st,{viewer3D:e.viewer3D}))}r(308);var lt=r(286),ut=r.n(lt),dt=r(287),pt=r.n(dt),ht=r(288),ft=r.n(ht),gt=r(289),mt=r.n(gt),yt=r(290),vt=r.n(yt),bt=function(){function e(){}return e.prototype.getTooltipCore=function(){return""},e.prototype.getIcon=function(){return""},e.prototype.getName=function(){return""},e.prototype.getDisplayName=function(){return this.getName()},e.prototype.getShortCutKeys=function(){},e.prototype.isEnabled=function(){return!0},Object.defineProperty(e.prototype,"isChecked",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCheckable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.isEnabled()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDropdown",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropdownOptions",{get:function(){return[""]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return""},enumerable:!1,configurable:!0}),e.prototype.invokeCore=function(){return!1},e.prototype.invokeValueCore=function(e){return!1},e.prototype.getTooltip=function(){var e=this.getTooltipCore();if(Oe.isEmpty(e)&&(e=this.getName()),Oe.isEmpty(e))return e;var t=this.getShortCutKeys();return t&&!Oe.isEmpty(t)&&(e+=" ["+t+"]"),e},e.prototype.invoke=function(){return this.invokeCore()},e.prototype.invokeValue=function(e){return this.invokeValueCore(e)},e}();function xt(e){var t=e.toolBar,r=e.sectionId;return t&&t.length?o.a.createElement("div",{className:"tool-bar"},t.map((function(e){var t,n,i;e instanceof bt?(t=e.getDisplayName(),n=o.a.createElement(re,{src:e.getIcon(),tooltip:{text:e.getTooltip()}}),i=e.invoke.bind(e)):(t=e.icon.name,n=o.a.createElement(re,{type:e.icon.type,name:e.icon.name}));var a=e.isChecked;return o.a.createElement("div",{onClick:i,tabIndex:0,role:"button",key:r+"-toolbar-"+t,className:"tool-bar-icon "+(a?"icon-selected":"")},n)}))):null}function St(e){var t=e.id,r=e.title,n=e.isExpanded,i=e.onSectionExpand,a=e.toolBar,s=e.children;return o.a.createElement("div",{className:"expansion-view-root"},o.a.createElement(ut.a,{expanded:n,onChange:function(){return i(t,!n)}},o.a.createElement(ft.a,{className:"expand-panel-root"},o.a.createElement("div",{className:"expand-summary-header"},o.a.createElement("div",{className:"expand-btn"},n?o.a.createElement(vt.a,null):o.a.createElement(mt.a,null)),o.a.createElement("span",{className:"expand-title"},o.a.createElement("b",null,r)))),o.a.createElement(pt.a,null,s||null),o.a.createElement("div",{className:"expand-toolbar"},o.a.createElement(xt,{toolBar:a,sectionId:t}))))}r(309);var At="number",wt="colorMap",_t="colorType",Tt="boolean",Et=r(291);function Bt(e){var t=e.value,r=e.id,a=Object(n.f)(Object(i.useState)(!1),2),s=a[0],c=a[1];return o.a.createElement("div",{className:"color-picker-container"},o.a.createElement("div",{className:"color-display",role:"button","aria-label":"color",tabIndex:0,onClick:function(){return c(!s)}},o.a.createElement("span",{className:"color-box",style:{backgroundColor:t}}),o.a.createElement("span",{className:"color-name"},o.a.createElement("b",null,t))),s&&o.a.createElement("div",{className:"color-picker",role:"dialog","aria-label":"color picker dialog"},o.a.createElement("div",{className:"color-picker-cover",role:"button","aria-label":"close color picker",tabIndex:-1,onClick:function(){c(!1)}}),o.a.createElement(Et.CompactPicker,{color:t,onChangeComplete:function(t){e.onChange(r,z()({r:t.rgb.r,g:t.rgb.g,b:t.rgb.b}))}})))}r(473);var Rt,Mt=r(11).a.div(Rt||(Rt=Object(n.e)(["\n  height: 100%;\n  min-height: 1rem;\n  min-width: 2rem;\n  border-radius: 0.15rem;\n  margin-inline-end: 0.5rem;\n  background-image: linear-gradient(\n    to right,\n    ","\n  );\n"],["\n  height: 100%;\n  min-height: 1rem;\n  min-width: 2rem;\n  border-radius: 0.15rem;\n  margin-inline-end: 0.5rem;\n  background-image: linear-gradient(\n    to right,\n    ","\n  );\n"])),(function(e){return e.colors?e.colors.join(","):""}));function Ct(e){if(!e.data)return null;var t=e.data.colorMapColors;return t&&t.length?o.a.createElement(Mt,{colors:t}):null}var Ot=r(52);function It(e){if(!e.data)return null;var t=e.data.colorTypeIconData;return t&&t.icon?o.a.createElement($.Box,{paddingLeft:1},o.a.createElement(Ot.a,{src:t.icon,color:t.color,alt:"color type icon",size:16})):null}function Ft(e){var t=e.config,r=e.onPropertyValueChange,i=e.sectionId,a=e.onPropertyUseChange,s=t.name?o.a.createElement("label",{htmlFor:"chBox-"+i},""+t.name):null,c=function(e,t,r){var n=i+"-"+r+"-"+t;return e&&(n+="-"+e),{key:n}},l=!t.isReadOnly&&t.isOptional;return o.a.createElement("section",{className:"form-field"},o.a.createElement("div",null,s),o.a.createElement("div",{className:"input-wrap "+(l?"optional":"")},l&&o.a.createElement("div",null,o.a.createElement("input",{type:"checkbox",className:"checkbox",checked:t.useProperty,onChange:function(e){return function(e,t){a(e,t.target.checked)}(t.id,e)}})),o.a.createElement("div",{className:"element"},function e(t){var i,a,s=t.subValues,l=t.icon,u=t.id,d=t.type,p=t.name,h=t.value,f=t.options,g=t.extraOptionsData,m=t.isReadOnly||!t.useProperty;switch(d){case At:case"string":i=o.a.createElement("input",Object(n.a)({type:d===At?"number":"text",disabled:m},c(null,d,p),{onChange:function(e){return r(u,e.target.value)},value:h,className:m?"textInput readOnlyInput":"textInput"}));break;case Tt:i=o.a.createElement("input",Object(n.a)({type:"checkbox",className:"checkbox",disabled:m},c(null,d,p),{onChange:function(e){return r(u,e.target.checked)},checked:h}));break;case"color":i=o.a.createElement(Bt,{value:h instanceof z.a?h.hex():"",id:u,onChange:r});break;case"slider":i=o.a.createElement("input",{type:"range",disabled:m,value:h,onChange:function(e){return r(u,e.target.value)},className:"slider",min:"0",step:"0.02",max:"1"});break;case"select":case wt:case _t:i=o.a.createElement("div",{className:"common-select"},o.a.createElement(nt,{key:c(null,d,p).key,options:f,value:h,disabled:m,onChange:function(e){r(u,e)},extraOptionsData:g,node:(a=d,a===wt?o.a.createElement(tt,{iconNode:o.a.createElement(Ct,null)}):a===_t?o.a.createElement(tt,{iconNode:o.a.createElement(It,null)}):void 0)}));break;case"imageButton":i=o.a.createElement("div",Object(n.a)({},c(null,d,p),{className:"input-icon "+((null==l?void 0:l.selected)?"input-icon-selected":"")}),o.a.createElement(re,{type:null==l?void 0:l.type,name:null==l?void 0:l.name}));break;case"group":i=null==s?void 0:s.map((function(t){return e(t)}));break;default:i=o.a.createElement(o.a.Fragment,null)}return o.a.createElement(te,{key:t.id,name:t.name,tooltip:t.toolTip?{text:"\n"+t.toolTip}:void 0},i)}(t))))}function Nt(e){var t=e.section,r=t.id,n=t.name,i=t.isExpanded,a=t.toolBar,s=t.subSections,c=t.elements;return o.a.createElement(St,{id:r,title:n,isExpanded:i,toolBar:a,onSectionExpand:e.onExpand},o.a.createElement(o.a.Fragment,null,c&&o.a.createElement("div",{className:"settings-section-element-container"},c.map((function(t){return t&&o.a.createElement(Ft,{key:t.id+"-input-",sectionId:r,config:t,onPropertyValueChange:e.onPropertyValueChange,onPropertyUseChange:e.onPropertyUseChange})}))),s&&s.length?o.a.createElement("div",{className:"sub-section-container additional-padding"},s.map((function(t){return o.a.createElement(Nt,{key:t.id+"-sub-section",section:t,onExpand:e.onExpand,onPropertyValueChange:e.onPropertyValueChange,onPropertyUseChange:e.onPropertyUseChange})}))):null))}function Lt(e){var t=e.className,r=e.title,n=e.icon,i=e.toolBar,a=e.sectionId;return o.a.createElement("div",{className:"title-bar "+(t||"")},n&&n.src?o.a.createElement(Ot.a,{src:n.src,alt:n.description,color:n.color}):null,o.a.createElement($.Typography,{variant:"h2",component:"h2",className:"title"},r),i&&o.a.createElement(xt,{toolBar:i,sectionId:a}))}r(474),r(475);var Pt,Dt=r(292),Ut=function(){function e(e){this._id=e}return e.new=function(){return new e(Object(Dt.v4)())},e.create=function(t){return new e(t)},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return Oe.isEmpty(this._id)},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return""+this._id},e.prototype.clone=function(){return new e(this._id)},e.prototype.equals=function(e){return this._id===e._id},e.prototype.equalString=function(e){return!!this._id&&this._id===e},e.empty=new e,e}(),Gt=function(){function e(){}return Object.defineProperty(e.prototype,"className",{get:function(){return e.className},enumerable:!1,configurable:!0}),e.prototype.isA=function(t){return t===e.className},e.prototype.toString=function(){return this.className},e.className="Identifiable",e}();function jt(e,t){return e instanceof t}!function(e){e[e.Global=0]="Global",e[e.Target=1]="Target",e[e.Unique=2]="Unique"}(Pt||(Pt={}));var zt,kt=function(){function e(e,t){this.changes=null,this.add(e,t)}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return null===this.changes||0===this.changes.length},enumerable:!1,configurable:!0}),e.prototype.isChanged=function(){for(var e,t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(!this.changes)return!1;var o=function(e){return{value:a.changes.some((function(t){return t.changed===e}))}},a=this;try{for(var s=Object(n.h)(r),c=s.next();!c.done;c=s.next()){var l=c.value,u=o(l);if("object"==typeof u)return u.value}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return!1},e.prototype.isNameChanged=function(e){for(var t,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=this.getName(e);if(!a)return!1;var s=function(e){return/[A-Z]/.test(e)},c=function(e){return" "===e},l=a.length;try{for(var u=Object(n.h)(i),d=u.next();!d.done;d=u.next()){for(var p=d.value,h=!0,f=p.length,g=0,m=0;g<l&&h;g++){var y=a.charAt(g);if(!c(y))for(s(y)&&(y=y.toLowerCase());m<f;){var v=p.charAt(m);if(m++,!c(v)){s(v)&&(v=v.toLowerCase()),v!==y&&(h=!1);break}}}if(h)return!0}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return!1},e.prototype.getChangedDescription=function(e){if(this.changes)return 1===this.changes.length?this.changes[0].changed===e?this.changes[0]:void 0:this.changes.find((function(t){return t.changed===e}))},e.prototype.getName=function(e){var t=this.getChangedDescription(e);return t?t.name:void 0},e.prototype.getOrigin=function(e){var t=this.getChangedDescription(e);return t?t.origin:null},e.prototype.add=function(e,t){void 0!==e&&(this.changes||(this.changes=[]),this.changes.push(new Vt(e,t)))},e}(),Vt=function(e,t,r){void 0===r&&(r=null),this.changed=e,this.name=t,this.origin=r};!function(e){e[e.ColorMap=0]="ColorMap",e[e.Specified=1]="Specified",e[e.Parent=2]="Parent",e[e.Black=3]="Black",e[e.White=4]="White",e[e.Different=5]="Different"}(zt||(zt={}));var Wt,Ht=function(){function e(){}return e.visibleState=Symbol("visibleState"),e.filter=Symbol("filter"),e.active=Symbol("active"),e.expanded=Symbol("expanded"),e.selected=Symbol("selected"),e.nodeName=Symbol("nodeName"),e.nodeColor=Symbol("nodeColor"),e.nodeIcon=Symbol("nodeIcon"),e.nodeColorMap=Symbol("nodeColorMap"),e.geometry=Symbol("geometry"),e.renderStyle=Symbol("renderStyle"),e.resetStyle=Symbol("resetStyle"),e.childDeleted=Symbol("childDeleted"),e.childAdded=Symbol("childAdded"),e.pointOpenOrClosed=Symbol("pointOpenOrClosed"),e}();!function(e){e[e.All=0]="All",e[e.Some=1]="Some",e[e.None=2]="None",e[e.CanNotBeChecked=3]="CanNotBeChecked",e[e.Never=4]="Never",e[e.Unknown=5]="Unknown"}(Wt||(Wt={}));var Xt,Qt=function(){function e(){}return e.install=function(e){this.userInterface=e},e.updateNode=function(t,r){var n;null===(n=e.userInterface)||void 0===n||n.updateNode(t,r)},e.setFullScreen=function(t){var r;null===(r=e.userInterface)||void 0===r||r.setFullScreen(t)},e.updateToolbars=function(){var t;null===(t=e.userInterface)||void 0===t||t.updateToolbars()},e.updateStatusPanel=function(t){var r;null===(r=e.userInterface)||void 0===r||r.updateStatusPanel(t)},e.userInterface=null,e}();!function(e){e.png=".png",e.svg=".svg"}(Xt||(Xt={}));var Zt,Yt=function(){function e(){}return e.isZero=function(t){return t<0?t>-e.errorTolerance:t<e.errorTolerance},e.isAbsEqual=function(e,t,r){var n=e-t;return n<0?n>r:n<r},e.isEqual=function(e,t){var r=e-t;return r<0&&(r=-r),e<0&&(e=-e),t<0&&(t=-t),r/(1+(e+t)/2)<this.errorTolerance},e.isInt=function(t){var r=Math.round(t)-t;return e.isZero(r)},e.isInc=function(t,r){return e.isInt(t/r)},e.isInside=function(e,t,r){return e<r?e<t&&t<r:r<t&&t<e},e.max=function(e,t,r){return Math.max(e,Math.max(t,r))},e.min=function(e,t,r){return Math.min(e,Math.min(t,r))},e.strickSign=function(e){return 0===e?0:Math.sign(e)},e.toDeg=function(e){return 180*e/Math.PI},e.toRad=function(e){return Math.PI*e/180},e.square=function(e){return e*e},e.roundInc=function(e){for(var t=0,r=!1,n=0;n<100;n++)if(e<1)t--,e*=10;else{if(!(e>10)){r=!0;break}t++,e/=10}if(!r)return Number.NaN;if(e=e<2?2:e<2.5?2.5:e<5?5:10,t<0)for(;0!==t;t++)e/=10;else for(;0!==t;t--)e*=10;return e},e.ceil=function(e,t){return e/=t,(e=Math.ceil(e))*t},e.floor=function(e,t){return e/=t,(e=Math.floor(e))*t},e.compare=function(e,t){return e>t?1:e<t?-1:0},e.binarySearch=function(e,t,r){for(var n=0,i=e.length-1;n<=i;){var o=i+n>>1,a=r(t,e[o]);if(a>0)n=o+1;else{if(!(a<0))return o;i=o-1}}return-n-1},e.errorTolerance=1e-10,e}(),Jt=function(){function e(e,t){this._min=0,this._max=0,this._isEmpty=!0,void 0===e&&void 0!==t?this.set(t,t):void 0!==e&&void 0===t?this.set(e,e):void 0!==e&&void 0!==t&&this.set(e,t)}return Object.defineProperty(e,"newZero",{get:function(){return new e(0,0)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"newUnit",{get:function(){return new e(0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"newTest",{get:function(){return new e(-1e3,1e3)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"newZTest",{get:function(){return new e(-1e3,-1500)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._isEmpty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSingular",{get:function(){return this.min===this.max},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasSpan",{get:function(){return!this.isEmpty&&!this.isSingular},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(e){this._min=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(e){this._max=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delta",{get:function(){return this._max-this._min},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return(this._min+this._max)/2},enumerable:!1,configurable:!0}),e.prototype.clone=function(){var t=new e;return t._min=this._min,t._max=this._max,t._isEmpty=this._isEmpty,t},e.prototype.isEqual=function(e){return!(!this._isEmpty||!e._isEmpty)||this._isEmpty===e._isEmpty&&this.min===e.min&&this.max===e.max},e.prototype.toString=function(){return"("+this._min+", "+this._max+")"},e.prototype.getFraction=function(e){return(e-this.min)/this.delta},e.prototype.getTruncatedFraction=function(e){var t=this.getFraction(e);return t<0?0:t>1?1:t},e.prototype.getValue=function(e){return e*this.delta+this.min},e.prototype.getBestInc=function(e){void 0===e&&(e=50);var t=this.delta/e;return Yt.roundInc(t)},e.prototype.getNumTicks=function(e){return Math.round(this.delta/e)},e.prototype.getTicks=function(e){var t,r,i,o;return Object(n.d)(this,(function(n){switch(n.label){case 0:if(!(t=this.clone()).roundByInc(-e))return[2];if(t.getNumTicks(e)>1e3)return[2];r=e/1e4,i=t.max+r,o=t.min,n.label=1;case 1:return o<=i?Math.abs(o)<r?[4,0]:[3,3]:[3,6];case 2:return n.sent(),[3,5];case 3:return[4,o];case 4:n.sent(),n.label=5;case 5:return o+=e,[3,1];case 6:return[2]}}))},e.prototype.getFastTicks=function(e,t){var r,i;return Object(n.d)(this,(function(n){switch(n.label){case 0:if(!this.roundByInc(-e))return[2];if(this.getNumTicks(e)>1e3)return[2];r=this.max+t,i=this.min,n.label=1;case 1:return i<=r?Math.abs(i)<t?[4,0]:[3,3]:[3,6];case 2:return n.sent(),[3,5];case 3:return[4,i];case 4:n.sent(),n.label=5;case 5:return i+=e,[3,1];case 6:return[2]}}))},e.prototype.getBoldInc=function(e,t){var r,i;void 0===t&&(t=2);var o=0,a=e*t;try{for(var s=Object(n.h)(this.getTicks(e)),c=s.next();!c.done;c=s.next()){var l=c.value,u=Number(l);if(Yt.isInc(u,a)&&++o>2)return a}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return e},e.prototype.clear=function(){this._min=0,this._max=0,this._isEmpty=!0},e.prototype.set=function(e,t){this._min=Math.min(e,t),this._max=Math.max(e,t),this._isEmpty=!1},e.prototype.translate=function(e){this._isEmpty||(this._min+=e,this._max+=e)},e.prototype.scale=function(e){this._isEmpty||(this._min*=e,this._max*=e)},e.prototype.scaleDelta=function(e){if(!this._isEmpty){var t=this.center;this._min=(this._min-t)*e+t,this._max=(this._max-t)*e+t}},e.prototype.add=function(e){Number.isNaN(e)||(this._isEmpty?(this._isEmpty=!1,this._min=e,this._max=e):e<this._min?this._min=e:e>this._max&&(this._max=e))},e.prototype.addRange=function(e){e.isEmpty||(this.add(e.min),this.add(e.max))},e.prototype.expandByMargin=function(e){var t;this.isEmpty||(this._min-=e,this._max+=e,this._min>this._max&&(t=Object(n.f)([this._min,this._max],2),this._max=t[0],this._min=t[1]))},e.prototype.expandByFraction=function(e){this.isEmpty||this.expandByMargin(this.delta*e)},e.prototype.roundByInc=function(e){if(this.isEmpty)return!1;if(e<0){if(this._min=Yt.ceil(this._min,-e),this._max=Yt.floor(this._max,-e),this._min>this._max)return!1}else e>0&&(this._min=Yt.floor(this._min,e),this._max=Yt.ceil(this._max,e));return!0},e}(),qt=function(){function e(){}return e.getInt=function(t){return e.getInt2(t.min,t.max)},e.getInt2=function(e,t){return Math.round(e-.499999+Math.random()*(t-e+.99999))},e.getFloat=function(e){return e.getValue(Math.random())},e.getFloat2=function(e,t){return e+Math.random()*(t-e)},e.isTrue=function(e){return void 0===e&&(e=.5),Math.random()<e},e.getGaussian=function(e,t){for(void 0===e&&(e=0),void 0===t&&(t=1);;){var r=Math.random();if(!(r<=Number.EPSILON)){var n=Math.random();if(!(n<=Number.EPSILON))return Math.sqrt(-2*Math.log(r))*Math.cos(2*Math.PI*n)*t+e}}},e}(),Kt=function(){function e(e,t,r){void 0===r&&(r=0),this.x=e,this.y=t,this.z=r}return Object.defineProperty(e,"newUp",{get:function(){return new e(0,0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"newZero",{get:function(){return new e(0,0,0)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"newEmpty",{get:function(){return new e(Number.NaN,Number.NaN,Number.NaN)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return isNaN(this.x)||isNaN(this.y)||isNaN(this.z)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isZero",{get:function(){return 0===this.x||0===this.y||0===this.z},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"squareLength",{get:function(){return this.x*this.x+this.y*this.y+this.z*this.z},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return Math.sqrt(this.squareLength)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return Math.atan2(this.y,this.x)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minCoord",{get:function(){return Math.min(this.x,this.y,this.z)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxCoord",{get:function(){return Math.max(this.x,this.y,this.z)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absMinCoord",{get:function(){return Math.min(Math.abs(this.x),Math.abs(this.y),Math.abs(this.z))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absMaxCoord",{get:function(){return Math.max(Math.abs(this.x),Math.abs(this.y),Math.abs(this.z))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absMinDimension",{get:function(){var e=0,t=Math.abs(this.x);return Math.abs(this.y)<t&&(e=1,t=Math.abs(this.y)),Math.abs(this.z)<t?2:e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absMaxDimension",{get:function(){var e=0,t=Math.abs(this.x);return Math.abs(this.y)>t&&(e=1,t=Math.abs(this.y)),Math.abs(this.z)>t?2:e},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.z)},e.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z},e.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},e.prototype.getString=function(e){return"("+this.x.toFixed(e)+", "+this.y.toFixed(e)+", "+this.z.toFixed(e)+")"},e.prototype.squareDistance=function(e){return Yt.square(this.x-e.x)+Yt.square(this.y-e.y)+Yt.square(this.z-e.z)},e.prototype.squareDistance2=function(e){return Yt.square(this.x-e.x)+Yt.square(this.y-e.y)},e.prototype.distance=function(e){return Math.sqrt(this.squareDistance(e))},e.prototype.distance2=function(e){return Math.sqrt(this.squareDistance2(e))},e.prototype.getAt=function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:return Number.NaN}},e.prototype.getDot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z},e.prototype.getCross2=function(e){return this.x*e.y-this.y*e.x},e.prototype.getCross=function(t){return new e(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},e.prototype.getNormal=function(e){var t=this.getCross(e);return t.normalize(),t},e.prototype.setAt=function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t}},e.prototype.set=function(e,t,r){void 0===r&&(r=0),this.x=e,this.y=t,this.z=r},e.prototype.negate=function(){this.x=-this.x,this.y=-this.y,this.z=-this.z},e.prototype.abs=function(){this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.z=Math.abs(this.z)},e.prototype.normalize=function(){var e=this.length;return!(e<Number.EPSILON)&&(this.divideScalar(e),!0)},e.prototype.rotatePiHalf=function(){var e=this.x;this.x=this.y,this.y=-e},e.prototype.copy=function(e){this.x=e.x,this.y=e.y,this.z=e.z},e.prototype.add=function(e){this.x+=e.x,this.y+=e.y,this.z+=e.z},e.prototype.addWithFactor=function(e,t){this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t},e.prototype.addScalar=function(e){this.x+=e,this.y+=e,this.z+=e},e.prototype.substract=function(e){this.x-=e.x,this.y-=e.y,this.z-=e.z},e.prototype.multiply=function(e){this.x*=e.x,this.y*=e.y,this.z*=e.z},e.prototype.multiplyScalar=function(e){this.x*=e,this.y*=e,this.z*=e},e.prototype.divide=function(e){this.x/=e.x,this.y/=e.y,this.z/=e.z},e.prototype.divideScalar=function(e){this.x/=e,this.y/=e,this.z/=e},e.prototype.scaleZ=function(e){this.z*=e},e.prototype.crossProduct=function(e){this.set(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)},e.prototype.lerp=function(e,t,r){var n=1-r;this.x=e.x*n+t.x*r,this.y=e.y*n+t.y*r,this.z=e.z*n+t.z*r},e.getRandom=function(t){return new e(qt.getFloat(t.x),qt.getFloat(t.y),qt.getFloat(t.z))},e.getAxis=function(t){switch(t){case 0:return new e(1,0,0);case 1:return new e(0,1,0);case 2:return new e(0,0,1);default:return e.newEmpty}},e.getAxisName=function(e){switch(e){case 0:return"X";case 1:return"Y";case 2:return"Z";default:return"Undefined"}},e.getCenterOf2=function(t,r){return new e((t.x+r.x)/2,(t.y+r.y)/2,(t.z+r.z)/2)},e.getCenterOf4=function(t,r,n,i){return new e((t.x+r.x+n.x+i.x)/4,(t.y+r.y+n.y+i.y)/4,(t.z+r.z+n.z+i.z)/4)},e.addWithFactor=function(t,r,n){return new e(t.x+r.x*n,t.y+r.y*n,t.z+r.z*n)},e.substract=function(t,r){return new e(t.x-r.x,t.y-r.y,t.z-r.z)},e}(),$t=function(){function e(e,t){this.x=new Jt,this.y=new Jt,this.z=new Jt,void 0===e&&void 0!==t?this.set(t,t):void 0!==e&&void 0===t?this.set(e,e):void 0!==e&&void 0!==t&&this.set(e,t)}return Object.defineProperty(e,"newUnit",{get:function(){var t=new e;return t.x=Jt.newUnit,t.y=Jt.newUnit,t.z=Jt.newUnit,t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"newTest",{get:function(){var t=new e;return t.x=new Jt(21e3,23e3),t.y=new Jt(46e3,48e3),t.z=new Jt(-1e3,-1500),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.x.isEmpty||this.y.isEmpty||this.z.isEmpty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return new Kt(this.x.min,this.y.min,this.z.min)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return new Kt(this.x.max,this.y.max,this.z.max)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delta",{get:function(){return new Kt(this.x.delta,this.y.delta,this.z.delta)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return new Kt(this.x.center,this.y.center,this.z.center)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"aspectRatio2",{get:function(){return this.x.delta/this.y.delta},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.x.delta*this.y.delta*this.z.delta},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagonal",{get:function(){return Math.sqrt(Yt.square(this.x.delta)+Yt.square(this.y.delta)+Yt.square(this.z.delta))},enumerable:!1,configurable:!0}),e.prototype.clone=function(){var t=new e;return t.x=this.x.clone(),t.y=this.y.clone(),t.z=this.z.clone(),t},e.prototype.isEqual=function(e){return!!e&&this.x.isEqual(e.x)&&this.y.isEqual(e.y)&&this.z.isEqual(e.z)},e.prototype.toString=function(){return"(X: "+this.x.toString()+", Y: "+this.y.toString()+", Z: "+this.z.toString()+")"},e.prototype.getCornerPoints=function(){for(var e=[],t=0;t<8;t++)e[t]=this.getCornerPoint(t);return e},e.prototype.getCornerPoint=function(e){switch(e){case 0:return new Kt(this.x.min,this.y.min,this.z.min);case 1:return new Kt(this.x.max,this.y.min,this.z.min);case 2:return new Kt(this.x.max,this.y.max,this.z.min);case 3:return new Kt(this.x.min,this.y.max,this.z.min);case 4:return new Kt(this.x.min,this.y.min,this.z.max);case 5:return new Kt(this.x.max,this.y.min,this.z.max);case 6:return new Kt(this.x.max,this.y.max,this.z.max);case 7:return new Kt(this.x.min,this.y.max,this.z.max);default:return Error("getCornerPoint"),Kt.newEmpty}},e.prototype.set=function(e,t){this.x.set(e.x,t.x),this.y.set(e.y,t.y),this.z.set(e.z,t.z)},e.prototype.translate=function(e){this.x.translate(e.x),this.y.translate(e.y),this.z.translate(e.z)},e.prototype.scaleDelta=function(e){this.x.scaleDelta(e.x),this.y.scaleDelta(e.y),this.z.scaleDelta(e.z)},e.prototype.add=function(e){this.x.add(e.x),this.y.add(e.y),this.z.add(e.z)},e.prototype.addRange=function(e){void 0!==e&&(this.x.addRange(e.x),this.y.addRange(e.y),this.z.addRange(e.z))},e.prototype.expandByMargin=function(e){this.x.expandByMargin(e),this.y.expandByMargin(e),this.z.expandByMargin(e)},e.prototype.expandByMargin3=function(e){this.x.expandByMargin(e.x),this.y.expandByMargin(e.y),this.z.expandByMargin(e.z)},e.prototype.expandByFraction=function(e){this.x.expandByFraction(e),this.y.expandByFraction(e),this.z.expandByFraction(e)},e.createByMinAndMax=function(t,r,n,i){var o=new e;return o.x.set(t,n),o.y.set(r,i),o.z.set(0,0),o},e.createByMinAndDelta=function(t,r,n,i){var o=new e;return o.x.set(t,t+n),o.y.set(r,r+i),o.z.set(0,0),o},e.getWallNormal=function(e){switch(e){case 0:return new Kt(-1,0,0);case 1:return new Kt(0,-1,0);case 2:return new Kt(0,0,-1);case 3:return new Kt(1,0,0);case 4:return new Kt(0,1,0);case 5:return new Kt(0,0,1);default:return Error("getWallNormal"),Kt.newEmpty}},e.getWallCornerIndexes=function(e){switch(e){case 0:return[3,0,4,7];case 1:return[0,1,5,4];case 2:return[3,2,1,0];case 3:return[1,2,6,5];case 4:return[2,3,7,6];case 5:return[4,5,6,7];default:return Error("getWallCornerIndexes"),[0,0,0,0]}},e.getTickDirection=function(e,t){var r=new Kt(0,0,0);return 0!==e&&0!==t||(r.x=-Math.SQRT1_2),3!==e&&3!==t||(r.x=Math.SQRT1_2),1!==e&&1!==t||(r.y=-Math.SQRT1_2),4!==e&&4!==t||(r.y=Math.SQRT1_2),2!==e&&2!==t||(r.z=-Math.SQRT1_2),5!==e&&5!==t||(r.z=Math.SQRT1_2),r},e}(),er=r(5),tr=function(){function e(e,t,r){this._name=e,this._toolTip=r,this._readonly=void 0!==t&&t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"displayName",{get:function(){return this._displayName?this._displayName:this.name},set:function(e){this._displayName=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._readonly},set:function(e){this._readonly=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"toolTip",{get:function(){return this._toolTip},set:function(e){this._toolTip=e},enumerable:!1,configurable:!0}),e.prototype.clearDelegates=function(){},e}();!function(e){e[e.label=0]="label",e[e.value=1]="value"}(Zt||(Zt={}));var rr,nr=function(e){function t(t){var r=e.call(this,t.name,t.readonly,t.toolTip)||this;if(r._applyDelegate=t.applyDelegate,r._isEnabledDelegate=t.isEnabledDelegate,r._optionValidationDelegate=t.optionValidationDelegate,r._options=t.options,t.instance){if(void 0!==t.value)throw Error("Property has both value and instance");if(!Reflect.has(t.instance,r.name))return r.displayName="NOT_FOUND "+r.name,r;Reflect.has(t.instance,r.useName)&&(r._use=!0),r._instance=t.instance,r.displayName=r.name.charAt(0).toUpperCase()+er.startCase(r.name).substring(1).toLowerCase()}else{if(void 0===t.value)throw Error("Property has no value or instance");r._value=t.value,r._use=t.use}return r}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"isValueEnabled",{get:function(){return this.use&&this.isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return void 0===this._isEnabledDelegate||this._isEnabledDelegate()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasOptions",{get:function(){return void 0!==this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(e){this._options=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useName",{get:function(){return"use"+this.name.charAt(0).toUpperCase()+this.name.substring(1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOptional",{get:function(){return void 0!==this._use},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"applyDelegate",{get:function(){return this._applyDelegate},set:function(e){this._applyDelegate=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEnabledDelegate",{get:function(){return this._isEnabledDelegate},set:function(e){this._isEnabledDelegate=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optionValidationDelegate",{get:function(){return this._optionValidationDelegate},set:function(e){this._optionValidationDelegate=e},enumerable:!1,configurable:!0}),t.prototype.clearDelegates=function(){this._applyDelegate=void 0,this._isEnabledDelegate=void 0,this._optionValidationDelegate=void 0},Object.defineProperty(t.prototype,"value",{get:function(){return this._instance?Reflect.get(this._instance,this.name):this._value},set:function(e){if(this.isReadOnly)throw Error("Cannot set to a readonly property");this.value!==e&&(this._instance?Reflect.set(this._instance,this.name,e):this._value=e,this.apply())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"use",{get:function(){return void 0===this._use||(this._instance?Reflect.get(this._instance,this.useName):this._use)},set:function(e){if(this.isReadOnly)throw Error("Cannot set use on a readonly property");if(void 0===this._use)throw Error("Cannot set use, it is not optional");this.use!==e&&(this._instance?Reflect.set(this._instance,this.useName,e):this._use=e,this.apply())},enumerable:!1,configurable:!0}),t.prototype.extraOptionsData=function(){return null},t.prototype.apply=function(){this._applyDelegate&&this._applyDelegate(this.name)},t.prototype.getExpandedOptions=function(){var e,t,r=this,i=[],o=function(e){return!r.optionValidationDelegate||r.optionValidationDelegate(e)};if(this._options)if("length"in this._options)i=this._options.filter((function(e){return o(e)}));else{var a=[];try{for(var s=Object(n.h)(Object.keys(this._options)),c=s.next();!c.done;c=s.next()){var l=c.value;"number"==typeof this._options[l]&&a.push([l,this._options[l]])}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}i=a.filter((function(e){return o(e[Zt.value])}))}return i},t.prototype.getOptionIcon=function(e){return""},t}(tr),ir="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVRYw+2XQRKDIAxFo9PzcRmvxcr7EbqiY9MEfmyDi8oMozLK+yQkRKJ/b0u7SSnVmeB93xciovVqCzzkwLZtVGt9dWYmZv4Ya1cienvW3jvOk3PuC/DAezBrHtlWS0AEXBOgWkB+NAKg8OayrgVmwk0BUXDIApFwTYC5B1B4m/QMXBXgccExtBA4ZAGZXJCVWmI1gZALtJUiITqCw3nAC7dSsoS7oyAabgqIgrsyYQQc2gO/hss9NRRgne/eGuArC5wpQHp54NhdmdBTA4wsA7tgBLdSMgJ3CSildM+GM3C4JJsFVwVEwt1h6IUjJ+ZQgKzbo9vlf0Z3ewK1GiglU0TLlAAAAABJRU5ErkJggg==",or=function(e){function t(t,r){var n=e.call(this,t)||this;return n.options=Object(zt),n._nodeColor=r,n}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"nodeColor",{get:function(){return this._nodeColor},set:function(e){this._nodeColor=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentNodeColor",{get:function(){return this._parentNodeColor},set:function(e){this._parentNodeColor=e},enumerable:!1,configurable:!0}),t.prototype.getColorTypeOptionIcons=function(){var e=this,t=this.getExpandedOptions();return t.length?t.map((function(t){var r,n,i={};switch(t[Zt.value]){case zt.Black:i={icon:ir,color:"#000000"};break;case zt.White:i={icon:ir,color:"#FFFFFF"};break;case zt.Specified:i={icon:ir,color:(null===(r=e.nodeColor)||void 0===r?void 0:r.hex())||""};break;case zt.ColorMap:i={icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAKhElEQVR42pVXaaxdVRld+8znjufe2zf2jbR9tvQBFmkBhQKaEoNESSpECZBIjAgR9IeJMfwwxhBNNEaNQ+AHxhBipPGPqDGgMTHUKDaRltqRDq99852nc88903adUyAhUYb3st+775zz9l57fWutbx+B9/F1TqLoArMcxU1gTxkP/Piy/DfqwUW0/RKEsGFqE6gYu/Bn8fQXh71tJ47kzp04L9B+r7nFez3QlJgT8Xde9OTaYlccQ015BQ3oaIZb0Q234JJ1BjH/7kNFM9Aw7OQxaVyD6exOWIpz7HF8/wDw5RrEt+MPBED2MBYYT74U6n+61pV1dH0XnUBBR4nRsQN0hIshv5cxixZ/r6HHMUATkj91TpDl0HFj/NDxX2mH74b4+9L7BiDfwHRQfuSPvvznour8B5HQ4SGDvsijgywZsLhQsmvAcwtoKS5qpoeaiHgvRJUQVmUT9XYHjrgJk9mrThzWagcB+yzEoehdAcijmB9KfE3mdz4B8xQ0/Tb+n4sw1yIAnwvYXGACjeEM+sEIhvFF+DaZ0WOswMUlv43NaIBIM6DoJo4GNWiuw5LsPXk0rh+E+dzJ/wtAvoyrPBVPhsbIw1q2Cmvsw0BmACg5BHoFXTVPAKy1CPh5gKEIsYoiyY9QYxk2EaAWszyc1uN8sVBwgSusBR5m5A6YmDhzVuk9As1/FeIZ9x0A5C8x7ul4ArnZb+raEtTKAlCepe5DwNAgbRs9U2PtFUpbI8mCZGu4wHLUWYyN2KM+FMKw0aUs1wij0WuhnitjBtPYHLRx1jBxZ3zd2Zew/hCMp/7xNgD5E4y4Lu6JZg88YzZfgzE7D4xoaHt92KNT0HIWhJNFkDU5rc6hoRdrCKTKhS0uKtFi/delj03poaGGGKiSMBSIeoSzFR2nyVzeH2LeG8dI4Tr8Af5eiM8fuQLgceyJd+8/pAxe31a3SsjkZ7lwFkN9HWZhG2TeRlxxgGwWoWbBFSyDIrhTSTZoSXKxKQO04hhuLNCTAk2N9xWgEYboaxSsJDuRibZiIx/msE9MHHq+f/xLQt6LYpzBA7Iy8VO10kPgTJHycehlCyhQ53n+XcggKhUIpIBYt+GS6pamEAA4EgARhRmhIyXcKFmYALh4hwA97jxhLNFFj/qvKRrUwML98Tb8IDx2tWjciUXee6w0XngUYxKY3M7CbOHC9PI4Z8mOvQmgyGs5wMzA447ahoIe9dChBlqp9aKUkQF3mtizKZIYlLxq8r5C8fI+Aa6S834ocSCcwG/lykHh3o3PDkb3/KjsL29FPgCmdgD6BNWvQ06x9nYlBRATgFLIAxYdYVjoWTpcVUOLOmiw/k1WvP02ACUFkDAQ+SpqBFsngF4cYY17qvLZq+M8Pq3MQsgD+EatuPt7JWOAUKd/R6eRceYQ2Tr8ySxsK2EjAyQMOAVmAkcmi0HGTJmok/K2iFFnQvZIYAKgKxIASAGFAw1V5kQVPoZBjE1d4CLtWmJZ9mGEAD6C5/vOtvutrAbPjuAXRlAa3Y6AIvJnS8iaBEAXxGUHilNiSchCLo8wn4VvGWhGrLEiUSeIHnfuxjIVYZ3X2kIiCC1scK6qHCAggCateIq+ifg9F2cJ4FMfceXSui1MHcG4g6jgwKpMI4zp/520IF0RJi4oF6EWy1DzdEOBYiwktrQwUDJXGOBuuxSTSxBdGac0t1kaT1qsu5LGsxgQnJ3BCbJRJ4gtvkEA+3dLXKKRBj60ayjAQiK2UUSeC/X6BURWAWGiATKgOkUYBbJQLCEu5uATQGyWSHX0JgCkAdXi51qqiSjVyBoB1GIXussAy2ZwkuXZ4JNZXyOAWz4hq5uryEdUvWOiNjOCcX0KKsUj5mlBshLn6H/aUCMDSr7M50qpHqJc4giNsUy/U1y9BACbboejSvpbSgifHfE4rzc4fZaktoIhLlBSHc1kj6Dh5G13yd5aDWaowuONaH4aedZdNdhOJ2nBUrKQndpQKZShpSVwIMlGkoztkLtUaTMlUb9GDSRAyAAbVwIgZPisljWc64SwIt5nQp5mHwlo57gmIYZ3f6FtHLlUgKWhbynIzl+Fga7BLnPxMhWfK6ZJGJUciCLLkGWJcg4CasCnExp+wHSj6Fj7PqlOXcAd1xVeVyMM+2xc03kc3+xB91mygobjBB0RcMklAIldj0JM/zyaq0CxqUouUB+zUSlt4Q5t6MVRaiLLHCik+lBsloQ29MiKR9AthkqL9a5z8S5j2KMVkwhu0gVJiw56Q2wUTXbEmDrTERL/KR8I+y3cMFHoiBpu3xnPz5zMkyrLGSd/RLx7AnmLKqf99AKvUQNX2OAwKUrLRp85MTBZ2wCp56ukvs2oTQD0EwAap9IlNFryuNuEMVJCt0UNMOGX+JxSO4PajQtfEcdx+7hz0w1/q5wb7LAqM6TMg7lIN+g64rzJHScM2JAEIBP6Te6eh42uKdCnsLpcsMGxSQAtiizRgEsAreQeB1sGjjVayE066LE2q3ymJgaY0dfXX791/p60G57FZx6by0/9TCtOo5rRMLJlmolnMBMyUDOVNIhCx0kDKEq6IQG09WSH3C1naHDR9VThMu2GbwHo6BGDSMU6XdKn71VhYonnm4FRx127tNO/XlP3pwBaeHC+eN2u8wk3q3NbMOlzsaLNVDRh5Ed4HGMzYhDJTA6harPX6+yGBMDRIp31JOODkIJkO46ulKBtyLQEnUEWKvdzbrkKxxnB5SFPSplN1D82+jnq9sUr5wF8PYuHb30Bh2t34WKAAe2nGxkoc6NsnwW2gQL0HDuhzg5ocMcU3yYnb0YBd9bDIKQbogz7AmOZM6Yj7KPv99DMVAl8ESsU3kYHGM22cPOO7MnfXNbvwFOMi7eOZFU8NaEdXPyL/P2lXSXjQ8AdexEfuwhlgd0xCuHyYDGg0kPGcOio3CF3yUmXbCAgxXWW4DKTaJlNvx0GTEgNiqniwpAJW04Skpnhe9i6NTzz+ldzD9K3r2FR+G8DOIKn9TnEewq3zD+nn9IWwKMTxray9fahVzhDyebB9Eqt+bKS1plhiYsE0iKQZpSkG8uSgEl2S8U3OvwwZaDPxBuKDWiGdnr5W5WHieUormXbEEK+81SMFzhduC/cN/Ns91V3h5y6BuVShscNTqrxzE/rdamLvp1YbkjH8mUlZh4wTRJQm77ECntyY2gi5NFLp+Uu0KZshpBB/eRyL7wP3x27jHvTxYP//V5AECGcvd4nJ569UA0WFo7ygMrQCUo82TAGNsnCBsF0VB++xtIoebSHQ1Q5XUcx+b5IlljrOodLwXUqF5DT5enllfggxre/QcsFXDx+9zcjHNEDKFd79239ofnKyMf9QKTqTg7yLZnELD3OEKL2sERATS85fJKVhP6ECS+iHYcIhFg7Xw/+Cq31CxT8Y2js6Lz/d0Owj2J10sXYtavofHRl+/r9rVo855jboVgmNohmjSl0mZtRMiqGbGSrgY9L7mnIYrh0+nLud13seClC/1+EyIWnvKT3faC3Y4JI7pvn0TSXsVLYj8VFvk0cOIrezeG0uN4zDEMmpx+3izBjumvnM4e4wssn8NrhiySrhT2t93r7/i/L8uXahynYwAAAAABJRU5ErkJggg=="};break;case zt.Different:i={icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADLElEQVR42u2Xy2oUQRSG/xlNhmggaoxRNJq9PoIu3CnGvRvF5A3yANFtNsG9giC4dufabFwIguAFExRFRCe3Sabv1XVr/67qSWIMguOIGGw4nEsVc746h9PTVcMuz+LiYjE/P49ePmmaPpyenr6+M177GcDE1SXnG5vAGoGiyGCoLXVhBUxB29AuJPdw3eRcE9A6hlIKzSWFhQWN+/fGMDU1hZmZmdqvAUx89QBM6BMxKfUmgINhYptzT15B5gSICKD3AMCViS/Ot1WpS5CiTGpTl2gLQFQA+Z8B8IkJYP3Jrc1c/33Ps6oCwgPQ1ibuDUB9/bnzBxtAPwwadY1WK0RdC9SZCFoiCDMIkaO/piByhdFGjnYskaUKK4HCp5bGc3WyO4DJM6POL8I2bBigiEMUUQCEXtsk5hrtNAYStqX00xS2xf0KaFJeauDW2HiXAOPHPUDAH4wJQAhEodMlTAcABCjihACUlCO7vgPg1Pi/WoHTxzxAmYxV+A6grEAc0ackkQcoK5FkP1aga4CxkS2AsgKRrwKcXQGUwpOjbEFGiVmBjaA3AIPNZ84/NLCPrY+xtsH5ziUaUOhjhprRGKhpSMbqWmGIU6KkRpBKiExiOczxsS3xtH6iO4Br5177gJUomACF4pxLvhjoG/qEsLRLXZRHdjHNbawCR7O5LPDqg8DtJ0e7BXhTAXQSK/ei8boDoByg29MBkDsBhn8XQFYnlNtAtlXAbK+A6mUF/nYLzr70U7B5+jJBpwXagXVa4Hzd0dkOgJHuAD43Xzi/v7Gf73aBLBP8suEHhzHOPzx8kDGJGn9ldSVA2E4xdOQAIQz3ZQiCGButiAVqdAfQf+Gi83MmzI11Ijl60lJrA2WtW5OMK4owPpbyayjNcwRLS2i/fwc8ftQdQN/5CsD6JLsBiEr79b0G8L8Ff30KJi/f9N+Ekea/oYEJjNNFaUe0GTeR9TqmjqkTC7MioQXvBWkTb5K3uDN0918HCAnA5Cb0ADaqJKwA4gogqgBW9wzApV0AIg9RxlwrEh8zcaXpmzXVG4DZ2dme3Y5/CaB85ubmHvBKfaOXV/TdAL4BigMxe5E9idgAAAAASUVORK5CYII="};break;case zt.Parent:i={icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAGP0lEQVR42q2XW2wUZRTH/3Pb2dnZ+7XtSgttkUslLSAgRgIa4y1RSEx8UJ8kJprwoCEqhQfjiy8+qA+GBLGUQrkLtdALtNBWRQKRi4pBRbSABATphUtbuu1+nu+b2WV7dTfxS2bPzrcz5/y+c/7f2RkJGePCiXe7GWP+RN8QhvoTSA6zHpo+Y//cYdt2/lH+/Gft+B+GlHly5dxHLDptAXr/Po/b/3TCDMShqB44DD/udl0T19y5adm7tk0B2aC9thXgBNmTG8DP77P8khJALUIyqVCwToL5HapuIhArhVPTAFdkhIOBW10YTgyin2xyKCEsPx+41Y3BewNvz1ux/pMcANax/CKvdSKHwdQ4WR+BXET31fPov3kdcZ8Kj6GmQZgrbF1vWJbpPkDRBMTJ/duw+KUNUvYAZ9exvBSA5U4AQImJ4+bVSzjV2oSnF8UmTSvzlyAZeQjf7KrC469W5QhQ6OFh0/HTQ4kCjuk4ULUey5fEJwcwQkjGH0Vr7UY881pNbgCxKTYAG0UgU2YcZWjYtAEvLCmAJEmTAgwXLEJj9UYsf6M2B4Cf1rIoAfC4Y7JAAJI+Gw3Vn+PZxXmQZQmqIo8P4AxiKH8hGjd/gRVvbsse4C8OEPeIqKMTYAHMJKdVeIo0wG/UVAWKIo0PkPcwGms25Q4QKXBbTjJTwL/LHkjOmWiqqcaTC6LgFeAAmiqPAxBAIjYfTVs25wjw41oWzjdHAaQy4Iasz0DT1ho8MT8iAByaIo7RI6lzgLlo3rold4BQnmkvmo3SAAE4H0Rz7VYsnRuGTAQu6gfj6SCp+zEYqcDBbbW5AVzmAFFXRgYyIBQLgDt9rDwkANwubdwSJKkZDYbLcXD79hwBfqhkQQJIp9+G4OcSASjGdOH0kbIg7QLA59YFwOgdyQHuhebg0I6duQMEwhyAjdCfuFAxCaBUOF0wKyCCBrw6HDwDdCLZ3rhNOjhAGQ7t3J0jwJlK5g8Z9sJHbkUOoLpKhNO5032iDwR9ThKhlQELQLIBvAQwGy27vswN4BIHCDqtEqSEmAlgFgunc4q9ogQhvwHdoaQBUlngAIME0Lp7b+4AXr9uBWf3ayDaAAdwFwunM4tIkHRnJOiCUwBYK09pgekeJEKz0LqnLkeA05XM49Ot9KdkYH+RVROae5pwWho3RQaiIRcMh2plwPbELaMMDIVn4ERrB2739nbS9AcEUv2fABdPr2Eej55Ov1UKC6BvQMWN6wlc6+xEQUgXAHlhE4aeArgvRCgOJPPmWA8sff042nx4wkyMBDi1hrk9jnRga/s5oXuLcXjvfgomw+Oi5iNbTagg4rYC2xnI3AmSM4Ihf4wyp+PIvobsAUxTE4FF6vnziOqCw1sknPjdKhQK7qRVF+Z7RHA5I7hkE3Crekow5DFIOxqO1DVlCXByDXO5NBE8lQUOoPsIoK4RplMW2y8SMMQOkDNXnyFEblVvKZjPgCSraPuqOTuAzu/fY4ahpdPPbACnv1A4Ib2JoFz9kYCLnMPKAKQxQtQIQObXSAra6g9mB3Dh+DvMbVoaYElmAWik9AAHOMgnRQaiQZOODIBRq+cfuq8UasgUk+31LdkB/Prtaual9poCEBrQDLiCBFB/CIOJYfDnjyipP0bOecB0GUYASAhF8oQIxYvD/lYOwP+3k5MCnGxe1R0MGH4H5VroIMmfsAkgVEhOWtBHb0s8SCzsRh4HkMcCWPEl9N9L4oHyeaKc7QfENgzYLyx8UJ2RGAPw9e7XK2719LdNKQz4gxSAZ0FxGDDDhWIVl6/2UuvlO8CHgqjnvvjSQrT0wMfQMBMAjFbRceAIByjivS5j4WwMAB9161+uILOvaGpwapDqrJAG3JEpYhX1h3/5MBoy55YUBpfEY143346GrlFP0Mb8IfGhm26Ei0vQ0dDGAXhn4l3xzoQlyIDwk2kjgIpppXG4o1NSq1hK8/yl8DcbdBkdy7nlMKbhED0i9Zh2o6efXuucuHL5+h+vrN7zHJfZpBoYB2JfOBZYVlI2E9+1HL3z4qodC2nu3ATXryDDAZfRTqngEF09/V27ms5uqms5V0/zx1J1zwogw/HHZN662dNXs7KybiUvbxb3TCUz9dPqYzfajv/ZRd+vTnTtv5eiaz9uH4XdAAAAAElFTkSuQmCC",color:(null===(n=e.parentNodeColor)||void 0===n?void 0:n.hex())||""};break;default:i={}}return{colorTypeIconData:i}})):null},t.prototype.extraOptionsData=function(){return this.getColorTypeOptionIcons()},t}(nr);!function(e){e[e.Rgb=0]="Rgb",e[e.HsvMin=1]="HsvMin",e[e.HsvMax=2]="HsvMax"}(rr||(rr={}));var ar,sr,cr,lr=function(){function e(e,t,r){this.color=e,this.fraction=t,this.interpolation=r}return e.prototype.mix=function(e,t){var r=(t-this.fraction)/(e.fraction-this.fraction),n=1-r;if(this.interpolation===rr.Rgb){var i=this.color.red(),o=this.color.green(),a=this.color.blue(),s=i*n+e.color.red()*r,c=o*n+e.color.green()*r,l=a*n+e.color.blue()*r;return j.rgb(s,c,l)}var u=this.color.hue(),d=this.color.saturationv(),p=this.color.value(),h=e.color.hue(),f=e.color.saturationv(),g=e.color.value();this.interpolation===rr.HsvMax?u<h?h-u<180&&(h-=360):u-h<180&&(h+=360):u<h?h-u>180&&(h-=360):u-h>180&&(h+=360);var m=u*n+h*r,y=d*n+f*r,v=p*n+g*r;return j.hsv(m,y,v).rgb()},e}(),ur=function(){function e(e){var t,r;if(this._items=[],this._maxIndex=0,this.name="",e){this._maxIndex=e.length-1;var i=1/this._maxIndex,o=0;try{for(var a=Object(n.h)(e),s=a.next();!s.done;s=a.next()){var c=s.value;this._items.push(new lr(c,o,rr.Rgb)),o+=i}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}this._items[this._maxIndex].fraction=1}}return e.prototype.getColor=function(e){for(var t=0;t<=this._maxIndex;t++){var r=this._items[t];if(e<=r.fraction)return 0===t?r.color:this._items[t-1].mix(r,e)}return this._items[this._maxIndex].color},e.prototype.getColorFast=function(e,t){for(;t.value<=this._maxIndex;t.value++){var r=this._items[t.value];if(e<=r.fraction)return 0===t.value?r.color:this._items[t.value-1].mix(r,e)}return this._items[this._maxIndex].color.rgb()},e.prototype.add=function(e,t,r){this._items.push(new lr(e,t,r)),this._items.sort((function(e,t){return Yt.compare(e.fraction,t.fraction)})),this._maxIndex=this._items.length-1},e.prototype.reverse=function(){var e,t;this._items.reverse();try{for(var r=Object(n.h)(this._items),i=r.next();!i.done;i=r.next()){var o=i.value;o.fraction=1-o.fraction}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},e.prototype.create1DColors=function(t){void 0===t&&(t=1e3);for(var r=new Uint8Array(3*t*2),n=0,i=t,o=new dr,a=0;a<t;a++){var s=a/(t-1),c=this.getColorFast(s,o);e.setAt(r,n++,c),e.setAt(r,i++,c)}return r},e.prototype.create1DContourColors=function(t,r,n,i,o){void 0===o&&(o=1e3);var a,s=new Uint8Array(3*o*2),c=0,l=o,u=new dr;i&&(i=i.rgb());for(var d=k.black,p=k.white,h=0;h<o;h++){var f=h/(o-1),g=t.getValue(f),m=g%r,y=m/r;y<1&&(y+=1);var v=g-m-r/2,b=t.getFraction(v);a=i||this.getColorFast(b,u),a=y<.5?a.mix(p,n*(.5-y)):a.mix(d,n*(y-.5)),e.setAt(s,c++,a),e.setAt(s,l++,a)}return s},e.setAt=function(e,t,r){e[t*=3]=r.red(),e[t+1]=r.green(),e[t+2]=r.blue()},e.add=function(e,t){e.push(t.red(),t.green(),t.blue())},e}(),dr=function(e){void 0===e&&(e=0),this.value=e},pr=function(){function e(){}return e.get=function(t){return e.colorMaps.get(t)},e.getOptions=function(){var t=e.colorMaps;return Array.from(t.keys())},Object.defineProperty(e,"colorMaps",{get:function(){return e._map||(e._map=e.createColorMaps()),e._map},enumerable:!1,configurable:!0}),e.createColorMaps=function(){var t=new Map;return e.add(t,e.createTerrain()),e.add(t,e.createRainbow(!1)),e.add(t,e.createRainbow(!0)),e.add(t,e.createSeismic(!1)),e.add(t,e.createSeismic(!0)),e.add(t,e.createGreyScale(!1)),e.add(t,e.createGreyScale(!0)),t},e.add=function(e,t){e.set(t.name,t)},e.createSeismic=function(t){var r=new ur,n=rr.Rgb;return r.add(j.rgb(161,255,255),0,n),r.add(j.rgb(0,0,191),.2,n),r.add(j.rgb(77,77,77),.25,n),r.add(j.rgb(204,204,204),.5,n),r.add(j.rgb(97,69,0),.75,n),r.add(j.rgb(191,0,0),.8,n),r.add(k.yellow,1,n),r.name=t?e.seismicRevName:e.seismicName,t&&r.reverse(),r},e.createRainbow=function(t){var r=new ur,n=rr.HsvMax;return r.add(k.magenta,0,n),r.add(k.red,1,n),r.name=t?e.rainbowRevName:e.rainbowName,t&&r.reverse(),r},e.createGreyScale=function(t){var r=new ur,n=rr.HsvMax;return r.add(k.white,0,n),r.add(k.black,1,n),r.name=t?e.greyScaleRevName:e.greyScaleName,t&&r.reverse(),r},e.createTerrain=function(){var t=new ur,r=rr.Rgb;return t.add(k.white,0,r),t.add(j.rgb(168,144,140),.2,r),t.add(j.rgb(255,255,150),.4,r),t.add(j.rgb(87,221,119),.6,r),t.add(j.rgb(0,147,255),.8,r),t.add(j.rgb(50,50,156),1,r),t.name=e.terrainName,t.reverse(),t},e.seismicName="Seismic",e.seismicRevName="Seismic Rev",e.rainbowName="Rainbow",e.rainbowRevName="Rainbow Rev",e.greyScaleName="GreyScale",e.greyScaleRevName="GreyScale Rev",e.terrainName="terrain",e._map=null,e}(),hr=function(e){function t(t){void 0===t&&(t=null);var r=e.call(this)||this;return r.node=null,r.node=t,r}return Object(n.c)(t,e),t.prototype.isEnabled=function(){return null!=this.node},t}(bt),fr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t.prototype.getTooltip=function(){return"\nReset to the visual settings to default"},t.prototype.getIcon=function(){return W},t.prototype.getName=function(){return"Reset Settings"},t.prototype.invokeCore=function(){if(!this.node)return!1;var e=this.node.renderStyleRoot;return e||(e=this.node),!!e.replaceRenderStyle()&&(e.notify(new kt(Ht.renderStyle)),e.notify(new kt(Ht.resetStyle)),!0)},t}(hr),gr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t.prototype.getTooltip=function(){return"\nCopy the visual settings to all similar domain objects in the folder"},t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAGP0lEQVR42q2XW2wUZRTH/3Pb2dnZ+7XtSgttkUslLSAgRgIa4y1RSEx8UJ8kJprwoCEqhQfjiy8+qA+GBLGUQrkLtdALtNBWRQKRi4pBRbSABATphUtbuu1+nu+b2WV7dTfxS2bPzrcz5/y+c/7f2RkJGePCiXe7GWP+RN8QhvoTSA6zHpo+Y//cYdt2/lH+/Gft+B+GlHly5dxHLDptAXr/Po/b/3TCDMShqB44DD/udl0T19y5adm7tk0B2aC9thXgBNmTG8DP77P8khJALUIyqVCwToL5HapuIhArhVPTAFdkhIOBW10YTgyin2xyKCEsPx+41Y3BewNvz1ux/pMcANax/CKvdSKHwdQ4WR+BXET31fPov3kdcZ8Kj6GmQZgrbF1vWJbpPkDRBMTJ/duw+KUNUvYAZ9exvBSA5U4AQImJ4+bVSzjV2oSnF8UmTSvzlyAZeQjf7KrC469W5QhQ6OFh0/HTQ4kCjuk4ULUey5fEJwcwQkjGH0Vr7UY881pNbgCxKTYAG0UgU2YcZWjYtAEvLCmAJEmTAgwXLEJj9UYsf6M2B4Cf1rIoAfC4Y7JAAJI+Gw3Vn+PZxXmQZQmqIo8P4AxiKH8hGjd/gRVvbsse4C8OEPeIqKMTYAHMJKdVeIo0wG/UVAWKIo0PkPcwGms25Q4QKXBbTjJTwL/LHkjOmWiqqcaTC6LgFeAAmiqPAxBAIjYfTVs25wjw41oWzjdHAaQy4Iasz0DT1ho8MT8iAByaIo7RI6lzgLlo3rold4BQnmkvmo3SAAE4H0Rz7VYsnRuGTAQu6gfj6SCp+zEYqcDBbbW5AVzmAFFXRgYyIBQLgDt9rDwkANwubdwSJKkZDYbLcXD79hwBfqhkQQJIp9+G4OcSASjGdOH0kbIg7QLA59YFwOgdyQHuhebg0I6duQMEwhyAjdCfuFAxCaBUOF0wKyCCBrw6HDwDdCLZ3rhNOjhAGQ7t3J0jwJlK5g8Z9sJHbkUOoLpKhNO5032iDwR9ThKhlQELQLIBvAQwGy27vswN4BIHCDqtEqSEmAlgFgunc4q9ogQhvwHdoaQBUlngAIME0Lp7b+4AXr9uBWf3ayDaAAdwFwunM4tIkHRnJOiCUwBYK09pgekeJEKz0LqnLkeA05XM49Ot9KdkYH+RVROae5pwWho3RQaiIRcMh2plwPbELaMMDIVn4ERrB2739nbS9AcEUv2fABdPr2Eej55Ov1UKC6BvQMWN6wlc6+xEQUgXAHlhE4aeArgvRCgOJPPmWA8sff042nx4wkyMBDi1hrk9jnRga/s5oXuLcXjvfgomw+Oi5iNbTagg4rYC2xnI3AmSM4Ihf4wyp+PIvobsAUxTE4FF6vnziOqCw1sknPjdKhQK7qRVF+Z7RHA5I7hkE3Crekow5DFIOxqO1DVlCXByDXO5NBE8lQUOoPsIoK4RplMW2y8SMMQOkDNXnyFEblVvKZjPgCSraPuqOTuAzu/fY4ahpdPPbACnv1A4Ib2JoFz9kYCLnMPKAKQxQtQIQObXSAra6g9mB3Dh+DvMbVoaYElmAWik9AAHOMgnRQaiQZOODIBRq+cfuq8UasgUk+31LdkB/Prtaual9poCEBrQDLiCBFB/CIOJYfDnjyipP0bOecB0GUYASAhF8oQIxYvD/lYOwP+3k5MCnGxe1R0MGH4H5VroIMmfsAkgVEhOWtBHb0s8SCzsRh4HkMcCWPEl9N9L4oHyeaKc7QfENgzYLyx8UJ2RGAPw9e7XK2719LdNKQz4gxSAZ0FxGDDDhWIVl6/2UuvlO8CHgqjnvvjSQrT0wMfQMBMAjFbRceAIByjivS5j4WwMAB9161+uILOvaGpwapDqrJAG3JEpYhX1h3/5MBoy55YUBpfEY143346GrlFP0Mb8IfGhm26Ei0vQ0dDGAXhn4l3xzoQlyIDwk2kjgIpppXG4o1NSq1hK8/yl8DcbdBkdy7nlMKbhED0i9Zh2o6efXuucuHL5+h+vrN7zHJfZpBoYB2JfOBZYVlI2E9+1HL3z4qodC2nu3ATXryDDAZfRTqngEF09/V27ms5uqms5V0/zx1J1zwogw/HHZN662dNXs7KybiUvbxb3TCUz9dPqYzfajv/ZRd+vTnTtv5eiaz9uH4XdAAAAAElFTkSuQmCC"},t.prototype.getName=function(){return"Copy Similar Folder Settings"},t.prototype.invokeCore=function(){var e,t,r=this.node;if(!r)return!1;var i=r.parent;if(!i)return!1;var o=r.getRenderStyle();if(!o)return!1;try{for(var a=Object(n.h)(i.children),s=a.next();!s.done;s=a.next()){var c=s.value;if(c!==r&&typeof c==typeof r){var l=o.clone();if(!l)return!1;c.replaceRenderStyle(l)&&c.notify(new kt(Ht.renderStyle))}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return!0},t}(hr),mr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t.prototype.getTooltip=function(){return"\nCopy the visual settings to all similar domain objects in the entire system"},t.prototype.getIcon=function(){return H},t.prototype.getName=function(){return"Copy Domain Settings"},t.prototype.invokeCore=function(){var e,t,r=this.node;if(!r)return!1;var i=r.getTreeNode();if(!i)return!1;var o=r.getRenderStyle();if(!o)return!1;try{for(var a=Object(n.h)(i.getDescendants()),s=a.next();!s.done;s=a.next()){var c=s.value;if(c!==r&&typeof c==typeof r){var l=o.clone();if(!l)return!1;c.replaceRenderStyle(l)&&c.notify(new kt(Ht.renderStyle))}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return!0},t}(hr),yr=function(e){function t(){var t=e.call(this)||this;return t._color=void 0,t._colorMap=pr.rainbowName,t._name=void 0,t._isExpanded=!1,t._isActive=!1,t._isSelected=!1,t._isInitialized=!1,t._uniqueId=Ut.new(),t._children=[],t._parent=null,t._renderStyles=[],t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this.getName()},set:function(e){this.setName(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.getColor()},set:function(e){this.setColor(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"colorMap",{get:function(){return this._colorMap},set:function(e){this._colorMap=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uniqueId",{get:function(){return this._uniqueId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderStyles",{get:function(){return this._renderStyles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return(this.parent?this.parent.path:"")+"\\"+this.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeTarget",{get:function(){return this.activeTargetIdAccessor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayName",{get:function(){var e=this.getNameExtension();return Oe.isEmpty(e)?this.name:this.name+" ["+e+"]"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},t.prototype.toString=function(){return this.getDebugString()},t.prototype.setName=function(e){this._name=e},t.prototype.getName=function(){return void 0===this._name&&(this._name=this.generateNewName()),this._name},t.prototype.canChangeName=function(){return!0},t.prototype.getNameExtension=function(){return null},t.prototype.isVisibleInTreeControl=function(){return!0},t.prototype.getLabelColor=function(){return k.black},t.prototype.isLabelInBold=function(){return this.isActive},t.prototype.isLabelInItalic=function(){return!this.canBeDeleted()},Object.defineProperty(t.prototype,"isTab",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getColor=function(){return void 0===this._color&&(this._color=this.generateNewColor()),this._color},t.prototype.setColor=function(e){this._color=e},t.prototype.canChangeColor=function(){return!0},t.prototype.hasIconColor=function(){return this.canChangeColor()},t.prototype.hasColorMap=function(){return!1},t.prototype.getIcon=function(){return this.typeName+Xt.png},Object.defineProperty(t.prototype,"boundingBox",{get:function(){var e,t,r=new $t;try{for(var i=Object(n.h)(this.children),o=i.next();!o.done;o=i.next()){var a=o.value;r.addRange(a.boundingBox)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},set:function(e){this._isActive=e},enumerable:!1,configurable:!0}),t.prototype.canBeActive=function(){return!1},t.prototype.canBeSelected=function(){return!0},t.prototype.canBeDeleted=function(){return!0},t.prototype.canBeChecked=function(e){return!0},t.prototype.isFilter=function(e){return!1},t.prototype.isRadio=function(e){return!1},t.prototype.isTree=function(){return!1},t.prototype.getCheckBoxEnabled=function(e){return e||(e=this.activeTarget),!0},t.prototype.getCheckBoxState=function(e){var t,r;if(e||(e=this.activeTarget),!e)return Wt.Never;var i=0,o=0,a=0;try{for(var s=Object(n.h)(this.children),c=s.next();!c.done;c=s.next()){var l=c.value.getCheckBoxState(e);if(l!==Wt.Never&&(i++,l===Wt.All?o++:l!==Wt.None&&l!==Wt.CanNotBeChecked||a++,a<i&&i<o))return Wt.Some}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return 0===i?Wt.Never:i===o?Wt.All:i===a?this.canBeChecked(e)?Wt.None:Wt.CanNotBeChecked:Wt.Some},t.prototype.setVisibleInteractive=function(e,t,r){var i,o,a,s;if(void 0===r&&(r=!0),t||(t=this.activeTarget),!t)return!1;var c=this.getCheckBoxState(t);if(c===Wt.Never)return!1;if(c===Wt.None&&!this.canBeChecked(t))return!1;var l=!1;try{for(var u=Object(n.h)(this.children),d=u.next();!d.done;d=u.next())d.value.setVisibleInteractive(e,t,!1)&&(l=!0)}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}if(!l)return!1;var p=new kt(Ht.visibleState);if(this.notify(p),r)try{for(var h=Object(n.h)(this.getAncestorsExceptRoot()),f=h.next();!f.done;f=h.next())f.value.notify(p)}catch(e){a={error:e}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}return!0},t.prototype.toggleVisibleInteractive=function(e){var t=this.getCheckBoxState(e);t===Wt.None?this.setVisibleInteractive(!0,e):t!==Wt.Some&&t!==Wt.All||this.setVisibleInteractive(!1,e)},t.prototype.initializeCore=function(){},t.prototype.notifyCore=function(e){},t.prototype.removeInteractiveCore=function(){},Object.defineProperty(t.prototype,"activeTargetIdAccessor",{get:function(){var e=this.root;return e?e.activeTargetIdAccessor:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderStyleResolution",{get:function(){return Pt.Unique},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderStyleRoot",{get:function(){return null},enumerable:!1,configurable:!0}),t.prototype.createRenderStyle=function(e){return null},t.prototype.verifyRenderStyle=function(e){},t.prototype.supportsColorType=function(e){return!0},t.prototype.populateInfoCore=function(e){var t=this;e.addString({name:"name",instance:this,readonly:!this.canChangeName(),applyDelegate:function(e){return t.notifyNameChanged()}}),this.canChangeColor()&&e.addColor({name:"color",instance:this,applyDelegate:function(e){return t.notifyColorChanged()}}),e.addReadOnlyString("Type",this.typeName),this.hasColorMap()&&e.addColorMap({name:"colorMap",instance:this,readonly:!1,applyDelegate:function(e){return t.notifyColorMapChanged()},toolTip:"Color map is used in visualization, see color type "})},t.prototype.populateStatisticsCore=function(e){},t.prototype.populateInfo=function(e){this.populateInfoCore(e)},t.prototype.populateStatistics=function(e){this.populateStatisticsCore(e)},t.prototype.populateRenderStyle=function(e){var t,r,i,o=this,a=this.getRenderStyle();a&&a.populate(e);try{for(var s=Object(n.h)(e.children),c=s.next();!c.done;c=s.next()){var l=c.value;l instanceof nr&&(l.applyDelegate=function(e){var t=o.renderStyleRoot;t||(t=o),t.notify(new kt(Ht.renderStyle,e))},l instanceof or&&(l.optionValidationDelegate=function(e){return o.supportsColorType(e)},l.nodeColor=this.color,l.parentNodeColor=null===(i=this.parent)||void 0===i?void 0:i.color))}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}},t.prototype.createRenderStyleCommands=function(){var e=[];e.push(new fr(this));var t=this.renderStyleRoot;return t&&t!==this||(e.push(new gr(this)),e.push(new mr(this))),e},t.prototype.isSelected=function(){return this._isSelected},t.prototype.setSelected=function(e){this._isSelected=e},t.prototype.setSelectedInteractive=function(e){var t,r;if(this._isSelected===e)return!1;if(!this.isVisibleInTreeControl)return!1;if(e){var i=this.getTreeNode();if(i)try{for(var o=Object(n.h)(i.getDescendants()),a=o.next();!a.done;a=o.next()){var s=a.value;s.isSelected()&&s.setSelectedInteractive(!1)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}}return this.setSelected(e),this.notify(new kt(Ht.selected)),!0},Object.defineProperty(t.prototype,"isExpanded",{get:function(){return this._isExpanded},set:function(e){this._isExpanded=e},enumerable:!1,configurable:!0}),t.prototype.toggleExpandInteractive=function(){this.setExpandedInteractive(!this.isExpanded)},t.prototype.setExpandedInteractive=function(e){return this.isExpanded!==e&&!!this.canBeExpanded&&(this.isExpanded=e,this.notify(new kt(Ht.expanded)),!0)},t.prototype.canBeExpanded=function(){var e,t;try{for(var r=Object(n.h)(this.children),i=r.next();!i.done;i=r.next())if(i.value.isVisibleInTreeControl())return!0}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return!1},Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childCount",{get:function(){return this._children.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childIndex",{get:function(){return this.parent?this.parent.children.indexOf(this):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return null!=this.parent?this.parent.root:this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasParent",{get:function(){return null!=this._parent},enumerable:!1,configurable:!0}),t.prototype.getColorByColorType=function(e){switch(e){case zt.Specified:return this.getColor();case zt.Parent:return this.parent?this.parent.getColor():k.grey;case zt.Black:return k.black;case zt.White:default:return k.white}},t.prototype.hasChildByType=function(e){return null!==this.getChildByType(e)},t.prototype.getChild=function(e){return this._children[e]},t.prototype.getChildByName=function(e){var t,r;try{for(var i=Object(n.h)(this.children),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.name===e)return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null},t.prototype.getChildByUniqueId=function(e){var t,r;try{for(var i=Object(n.h)(this.children),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.uniqueId.equals(e))return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null},t.prototype.getChildByType=function(e){var t,r;try{for(var i=Object(n.h)(this.children),o=i.next();!o.done;o=i.next()){var a=o.value;if(jt(a,e))return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null},t.prototype.getActiveChildByType=function(e){var t,r;try{for(var i=Object(n.h)(this.children),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.isActive&&jt(a,e))return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null},t.prototype.getChildrenByType=function(e){var t,r,i,o,a,s;return Object(n.d)(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,7]),t=Object(n.h)(this.children),r=t.next(),c.label=1;case 1:return r.done?[3,4]:jt(i=r.value,e)?[4,i]:[3,3];case 2:c.sent(),c.label=3;case 3:return r=t.next(),[3,1];case 4:return[3,7];case 5:return o=c.sent(),a={error:o},[3,7];case 6:try{r&&!r.done&&(s=t.return)&&s.call(t)}finally{if(a)throw a.error}return[7];case 7:return[2]}}))},t.prototype.getDescendants=function(){var e,t,r,i,o,a,s,c,l,u,d;return Object(n.d)(this,(function(p){switch(p.label){case 0:p.trys.push([0,12,13,14]),e=Object(n.h)(this.children),t=e.next(),p.label=1;case 1:return t.done?[3,11]:[4,r=t.value];case 2:p.sent(),p.label=3;case 3:p.trys.push([3,8,9,10]),u=void 0,i=Object(n.h)(r.getDescendants()),o=i.next(),p.label=4;case 4:return o.done?[3,7]:[4,o.value];case 5:p.sent(),p.label=6;case 6:return o=i.next(),[3,4];case 7:return[3,10];case 8:return a=p.sent(),u={error:a},[3,10];case 9:try{o&&!o.done&&(d=i.return)&&d.call(i)}finally{if(u)throw u.error}return[7];case 10:return t=e.next(),[3,1];case 11:return[3,14];case 12:return s=p.sent(),c={error:s},[3,14];case 13:try{t&&!t.done&&(l=e.return)&&l.call(e)}finally{if(c)throw c.error}return[7];case 14:return[2]}}))},t.prototype.getThisAndDescendants=function(){var e,t,r,i,o;return Object(n.d)(this,(function(a){switch(a.label){case 0:return[4,this];case 1:a.sent(),a.label=2;case 2:a.trys.push([2,7,8,9]),e=Object(n.h)(this.getDescendants()),t=e.next(),a.label=3;case 3:return t.done?[3,6]:[4,t.value];case 4:a.sent(),a.label=5;case 5:return t=e.next(),[3,3];case 6:return[3,9];case 7:return r=a.sent(),i={error:r},[3,9];case 8:try{t&&!t.done&&(o=e.return)&&o.call(e)}finally{if(i)throw i.error}return[7];case 9:return[2]}}))},t.prototype.getDescendantsByType=function(e){var t,r,i,o,a,s,c,l,u,d,p,h;return Object(n.d)(this,(function(f){switch(f.label){case 0:f.trys.push([0,12,13,14]),t=Object(n.h)(this.children),r=t.next(),f.label=1;case 1:return r.done?[3,11]:jt(i=r.value,e)?[4,i]:[3,3];case 2:f.sent(),f.label=3;case 3:f.trys.push([3,8,9,10]),p=void 0,o=Object(n.h)(i.getDescendantsByType(e)),a=o.next(),f.label=4;case 4:return a.done?[3,7]:jt(s=a.value,e)?[4,s]:[3,6];case 5:f.sent(),f.label=6;case 6:return a=o.next(),[3,4];case 7:return[3,10];case 8:return c=f.sent(),p={error:c},[3,10];case 9:try{a&&!a.done&&(h=o.return)&&h.call(o)}finally{if(p)throw p.error}return[7];case 10:return r=t.next(),[3,1];case 11:return[3,14];case 12:return l=f.sent(),u={error:l},[3,14];case 13:try{r&&!r.done&&(d=t.return)&&d.call(t)}finally{if(u)throw u.error}return[7];case 14:return[2]}}))},t.prototype.getActiveDescendantByType=function(e){var t,r;try{for(var i=Object(n.h)(this.children),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.isActive&&jt(a,e))return a;var s=a.getActiveDescendantByType(e);if(s)return s}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null},t.prototype.getDescendantByUniqueId=function(e){var t,r;try{for(var i=Object(n.h)(this.children),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.uniqueId.equals(e))return a;var s=a.getDescendantByUniqueId(e);if(s)return s}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null},t.prototype.getSelectedNode=function(){var e,t;try{for(var r=Object(n.h)(this.getThisAndDescendants()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.isSelected())return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return null},t.prototype.getTreeNode=function(){var e,t;try{for(var r=Object(n.h)(this.getThisAndAncestors()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.isTree())return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return null},t.prototype.getThisAndAncestors=function(){var e;return Object(n.d)(this,(function(t){switch(t.label){case 0:e=this,t.label=1;case 1:return e?[4,e]:[3,3];case 2:return t.sent(),e=e.parent,[3,1];case 3:return[2]}}))},t.prototype.getAncestors=function(){var e;return Object(n.d)(this,(function(t){switch(t.label){case 0:e=this.parent,t.label=1;case 1:return e?[4,e]:[3,3];case 2:return t.sent(),e=e.parent,[3,1];case 3:return[2]}}))},t.prototype.getAncestorsExceptRoot=function(){var e;return Object(n.d)(this,(function(t){switch(t.label){case 0:e=this.parent,t.label=1;case 1:return e&&e.hasParent?[4,e]:[3,3];case 2:return t.sent(),e=e.parent,[3,1];case 3:return[2]}}))},t.prototype.getAncestorByType=function(e){var t,r;try{for(var i=Object(n.h)(this.getAncestors()),o=i.next();!o.done;o=i.next()){var a=o.value;if(jt(a,e))return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null},t.prototype.getThisOrAncestorByType=function(e){var t,r;try{for(var i=Object(n.h)(this.getThisAndAncestors()),o=i.next();!o.done;o=i.next()){var a=o.value;if(jt(a,e))return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null},t.prototype.addChild=function(e,t){void 0===t&&(t=!1),e.hasParent?Error("The child "+e.typeName+" already has a parent"):e!==this?(t?this._children.unshift(e):this._children.push(e),e._parent=this):Error("Trying to add illegal child "+e.typeName)},t.prototype.remove=function(){if(!this.parent)return Error("The child "+this.typeName+" don't have a parent"),!1;var e=this.childIndex;return void 0===e?(Error("The child "+this.typeName+" is not child of it's parent"),!1):(this.parent.children.splice(e,1),this._parent=null,!0)},t.prototype.sortChildrenByName=function(){this.children.sort((function(e,t){return e.name.localeCompare(t.name)}))},t.prototype.notifyNameChanged=function(){this.notify(new kt(Ht.nodeName))},t.prototype.notifyColorChanged=function(){this.notify(new kt(Ht.nodeColor))},t.prototype.notifyColorMapChanged=function(){this.notify(new kt(Ht.nodeColorMap))},t.prototype.notify=function(e){Qt.updateNode(this,e),Qt.updateStatusPanel(JSON.stringify(e)),this.notifyCore(e)},t.prototype.initialize=function(){this._isInitialized||(this.initializeCore(),this._isInitialized=!0)},t.prototype.initializeRecursive=function(){var e,t;this.initialize();try{for(var r=Object(n.h)(this.children),i=r.next();!i.done;i=r.next())i.value.initializeRecursive()}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t.prototype.removeInteractive=function(){this.removeInteractiveCore();var e=this.parent;this.remove(),null==e||e.notify(new kt(Ht.childDeleted))},t.prototype.setActiveInteractive=function(){var e,t;if(!this.isActive&&this.canBeActive()){if(this.parent)try{for(var r=Object(n.h)(this.parent.getDescendants()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o!==this&&o.className===this.className){if(!o.canBeActive())return;o.isActive&&(o.isActive=!1,o.notify(new kt(Ht.active)))}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.isActive=!0,this.notify(new kt(Ht.active))}},t.prototype.getRenderStyle=function(e){var t,r,i,o,a=this.renderStyleRoot;if(null!=a&&a!==this)return a.getRenderStyle(e);if(!e){var s=this.activeTargetIdAccessor;if(!s)return null;if(!(e=s.targetId))return null}var c=null;try{for(var l=Object(n.h)(this.renderStyles),u=l.next();!u.done;u=l.next())if(!(h=u.value).isDefault&&h.targetId.equals(e,this.renderStyleResolution)){c=h;break}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}if(!c&&this.renderStyleResolution===Pt.Unique)try{for(var d=Object(n.h)(this.renderStyles),p=d.next();!p.done;p=d.next()){var h;if(!(h=p.value).isDefault&&h.targetId.hasSameTypeName(e)){(c=h.clone()).isDefault=!1,c.targetId.set(e,this.renderStyleResolution),this.renderStyles.push(c);break}}}catch(e){i={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return c||(c=this.createRenderStyle(e))&&(c.targetId.set(e,this.renderStyleResolution),this.renderStyles.push(c)),c&&this.verifyRenderStyle(c),c},t.prototype.replaceRenderStyle=function(e){void 0===e&&(e=null);var t=this.activeTargetIdAccessor;if(!t)return!1;var r=t.targetId;if(!r)return!1;for(var n=0;n<this.renderStyles.length;n++){var i=this.renderStyles[n];if(!i.isDefault&&i.targetId.equals(r,this.renderStyleResolution)){this.renderStyles.splice(n,1);break}}return!(!e&&!(e=this.createRenderStyle(r)))&&(e.targetId.set(r,this.renderStyleResolution),this.renderStyles.push(e),!0)},t.prototype.generateNewColor=function(){return this.canChangeColor()?k.nextColor:k.white},t.prototype.generateNewName=function(){var e,t,r=this.typeName;if(!this.canChangeName())return r;if(!this.parent)return r;var i=0;try{for(var o=Object(n.h)(this.parent.children),a=o.next();!a.done;a=o.next()){var s=a.value;if(s===this)break;this.typeName===s.typeName&&i++}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r+" "+(i+1)},t.prototype.getDebugString=function(){var e=this.name;return e+=Oe.cocatinate("typeName",this.typeName),e+=Oe.cocatinate("className",this.className),this.canChangeColor()&&(e+=Oe.cocatinate("color",this.getColor())),e+=Oe.cocatinate("id",this.uniqueId.isEmpty?"":this.uniqueId.toString().substring(0,6)+"..."),this.isActive&&(e+=Oe.cocatinate("active")),this.renderStyles.length>0&&(e+=Oe.cocatinate("renderStyles",this.renderStyles.length)),e},t.prototype.toHierarcyString=function(){var e,t,r,i,o="";try{for(var a=Object(n.h)(this.getThisAndDescendants()),s=a.next();!s.done;s=a.next()){var c=s.value,l=0;try{for(var u=(r=void 0,Object(n.h)(c.getAncestors())),d=u.next();!d.done;d=u.next())d.value,l++}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}o+=" ".padStart(4*l)+c.toString()+"\n"}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return o},t.prototype.debugHierarcy=function(){console.log(this.toHierarcyString())},t.className="BaseNode",t}(Gt),vr=function(e){function t(){var t=e.call(this)||this;return t.isExpanded=!0,t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},t.prototype.isVisibleInTreeControl=function(){return!1},t.prototype.canChangeName=function(){return!1},t.prototype.canChangeColor=function(){return!1},t.prototype.isTree=function(){return!0},t.className="BaseTreeNode",t}(yr),br=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"TargetTree"},enumerable:!1,configurable:!0}),t.prototype.getName=function(){return"Targets"},t.className="TargetTreeNode",t}(vr),xr=function(){function e(e,t){this._typeName=e,this._uniqueId=t}return Object.defineProperty(e.prototype,"typeName",{get:function(){return this._typeName},set:function(e){this._typeName=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uniqueId",{get:function(){return this._uniqueId},set:function(e){this._uniqueId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return Oe.isEmpty(this.typeName)&&this.uniqueId.isEmpty},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"("+this.typeName+", "+this.uniqueId+")"},e.prototype.clone=function(){return new e(this.typeName,this.uniqueId)},e.prototype.hasSameTypeName=function(e){return this.typeName===e.typeName},e.prototype.hasSameUniqueId=function(e){return this.uniqueId.equals(e.uniqueId)},e.prototype.equals=function(e,t){switch(t){case Pt.Global:return this.isEmpty;case Pt.Target:return this.hasSameTypeName(e);case Pt.Unique:var r=this.hasSameUniqueId(e);if(!this.hasSameTypeName(e))throw Error("The TypeName should be equal");return r;default:throw Error(t)}},e.prototype.set=function(e,t){switch(t){case Pt.Global:this.typeName="",this.uniqueId=Ut.empty;break;case Pt.Target:this.typeName=e.typeName,this.uniqueId=Ut.empty;break;case Pt.Unique:this.uniqueId=e.uniqueId,this.typeName=e.typeName;break;default:throw Error(t)}},e.empty=new e("",Ut.empty),e}(),Sr=function(){function e(){if(this.products=new Map,e._instance)throw new Error("Error - use ViewFactory.instance")}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e.prototype.register=function(e,t,r){var n=this.getKey(e,r),i=new Ar((function(){return new t}));this.products.set(n,i)},e.prototype.create=function(e,t){var r=this.getKeyByNode(e,t),n=this.products.get(r);return void 0===n?null:n.func()},e.prototype.canCreate=function(e,t){var r=this.getKeyByNode(e,t);return this.products.has(r)},e.prototype.getKeyByNode=function(e,t){return this.getKey(e.className,t)},e.prototype.getKey=function(e,t){return e+"."+t},e._instance=null,e}(),Ar=function(e){this.func=e},wr=function(){function e(){this.list=[]}return Object.defineProperty(e.prototype,"count",{get:function(){return this.list.length},enumerable:!1,configurable:!0}),e.prototype.add=function(e){this.list.push(e)},e.prototype.remove=function(e){var t=this.list.indexOf(e,0);return!(t<0)&&(this.list.splice(t,1),!0)},e.prototype.clear=function(){this.list.splice(0,this.list.length)},e.prototype.getViewByTarget=function(e){var t=this.list.find((function(t){return t.getTarget()===e}));return void 0===t?null:t},e.prototype.isOk=function(){var e,t;try{for(var r=Object(n.h)(this.list),i=r.next();!i.done;i=r.next())if(!i.value.verify())return!1}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return!0},e}(),_r=function(e){function t(){var t=e.call(this)||this;return t._views=new wr,t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"views",{get:function(){return this._views},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},t.prototype.getCheckBoxState=function(e){return e||(e=this.activeTarget)?this.hasView(e)?Wt.All:this.canBeVisible(e)?this.canBeChecked(e)?Wt.None:Wt.CanNotBeChecked:Wt.Never:Wt.Never},t.prototype.setVisibleInteractive=function(e,t,r){var i,o;if(void 0===r&&(r=!0),!t&&!(t=this.activeTarget))return!1;if(e){if(!this.canBeChecked(t))return!1;if(this.isRadio(t)&&this.parent)try{for(var a=Object(n.h)(this.parent.getDescendants()),s=a.next();!s.done;s=a.next()){var c=s.value;c!==this&&c.className===this.className&&c.setVisibleInteractive(!1,t)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}return!!this.setVisible(e,t)&&(this.notifyVisibleStateChange(r),!0)},t.prototype.removeInteractiveCore=function(){this.removeAllViews(),e.prototype.removeInteractiveCore.call(this)},t.prototype.getDebugString=function(){var t=e.prototype.getDebugString.call(this);return this.views.count>0&&(t+=Oe.cocatinate("views",this.views.count)),t},t.prototype.notifyCore=function(t){var r,i;e.prototype.notifyCore.call(this,t);try{for(var o=Object(n.h)(this.views.list),a=o.next();!a.done;a=o.next())a.value.update(t)}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.canBeVisible=function(e){return e||(e=this.activeTarget),!!e&&e.canShowView(this)},t.prototype.canBeVisibleNow=function(){return!0},t.prototype.getViewByTarget=function(e){return this.views.getViewByTarget(e)},t.prototype.isVisible=function(e){return e||(e=this.activeTarget),!!e&&e.hasVisibleView(this)},t.prototype.hasView=function(e){return e||(e=this.activeTarget),!!e&&e.hasView(this)},t.prototype.setVisible=function(e,t){return!(e&&!this.canBeVisibleNow())&&!(!t&&!(t=this.activeTarget))&&(e?t.showView(this):t.hideView(this))},t.prototype.removeAllViews=function(){var e,t;try{for(var r=Object(n.h)(this.views.list),i=r.next();!i.done;i=r.next()){var o=i.value,a=o.getTarget();a&&a.removeViewShownHere(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.views.clear()},t.prototype.notifyVisibleStateChange=function(e){var t,r,i,o,a=new kt(Ht.visibleState);if(this.notify(a),e)try{for(var s=Object(n.h)(this.getAncestorsExceptRoot()),c=s.next();!c.done;c=s.next())c.value.notify(a)}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}try{for(var l=Object(n.h)(this.children),u=l.next();!u.done;u=l.next())u.value.notify(a)}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}},t.className="BaseVisualNode",t}(yr),Tr=function(e){function t(){var t=e.call(this)||this;return t._viewsShownHere=new wr,t.isLightBackground=!1,t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"viewsShownHere",{get:function(){return this._viewsShownHere},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targetId",{get:function(){return new xr(this.className,this.uniqueId)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fgColor",{get:function(){return this.isLightBackground?k.black:k.white},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bgColor",{get:function(){return this.getColor()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},t.prototype.getColor=function(){return this.isLightBackground?k.white:k.black},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Target"},enumerable:!1,configurable:!0}),t.prototype.canBeActive=function(){return!0},t.prototype.getDebugString=function(){var t=e.prototype.getDebugString.call(this);return this.viewsShownHere.count>0&&(t+=Oe.cocatinate("viewsShownHere",this.viewsShownHere.count)),t},t.prototype.removeInteractiveCore=function(){this.removeAllViewsShownHere(),e.prototype.removeInteractiveCore.call(this)},t.prototype.canShowView=function(e){return Sr.instance.canCreate(e,this.className)},t.prototype.hasView=function(e){return null!=e.views.getViewByTarget(this)},t.prototype.hasVisibleView=function(e){var t=e.views.getViewByTarget(this);return!!t&&t.isVisible},t.prototype.showView=function(e){var t=e.views.getViewByTarget(this);return!t&&!!(t=this.createViewCore(e))&&(t.attach(e,this),e.views.add(t),this._viewsShownHere.add(t),t.initialize(),t.onShow(),!0)},t.prototype.hideView=function(e){var t=e.views.getViewByTarget(this);return!!t&&(this.removeViewShownHere(t),e.views.remove(t),!0)},t.prototype.removeViewShownHere=function(e){e.isVisible&&e.onHide(),e.dispose(),this._viewsShownHere.remove(e),e.detach()},t.prototype.getBgColor=function(e){return e?this.isLightBackground?k.lightGrey:k.darkGrey:this.bgColor},t.prototype.createViewCore=function(e){return Sr.instance.create(e,this.className)},t.prototype.removeAllViewsShownHere=function(){var e,t;try{for(var r=Object(n.h)(this.viewsShownHere.list),i=r.next();!i.done;i=r.next()){var o=i.value;o.onHide(),o.dispose();var a=o.getNode();a instanceof _r&&a.views.remove(o),o.detach()}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this._viewsShownHere.clear()},t.prototype.hasViewOfNodeType=function(e){var t,r;try{for(var i=Object(n.h)(this.viewsShownHere.list),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.getNode();if(s&&jt(s,e)&&a.isVisible)return!0}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return!1},t.prototype.getViewByNode=function(e){var t,r;try{for(var i=Object(n.h)(this.viewsShownHere.list),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.getNode();if(s&&s===e)return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null},t.className="BaseTargetNode",t}(yr),Er=function(e){function t(){var t=e.call(this)||this;return t.name="Root",t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"targets",{get:function(){var e=this.getChildByType(br);if(!e)throw new Error("Cannot find the "+br.className);return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},t.prototype.canChangeColor=function(){return!1},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Root"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeTargetIdAccessor",{get:function(){return this.activeTarget},enumerable:!1,configurable:!0}),t.prototype.initializeCore=function(){e.prototype.initializeCore.call(this),this.hasChildByType(br)||this.addChild(new br)},Object.defineProperty(t.prototype,"activeTarget",{get:function(){return this.targets.getActiveDescendantByType(Tr)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"active",{get:function(){return t._active},set:function(e){t._active=e},enumerable:!1,configurable:!0}),t.className="BaseRootNode",t}(yr),Br=function(e){function t(t){var r=e.call(this,t)||this;return r.options=pr.getOptions(),r}return Object(n.c)(t,e),t.prototype.getColorMapOptionColors=function(e){var t=this.getExpandedOptions();return t.length?t.map((function(t){var r={colorMapColors:[]},n=pr.get(t);if(!n)return r;for(var i=new Jt(0,e-1),o=0;o<e;o++){var a=i.getFraction(o),s=n.getColor(a).hex();r.colorMapColors.push(s)}return r})):null},t.prototype.extraOptionsData=function(){return this.getColorMapOptionColors(V.valuesPerColorMap)},t}(nr),Rr=function(e){function t(t){return e.call(this,t)||this}return Object(n.c)(t,e),t}(nr),Mr=function(e){function t(t){return e.call(this,t)||this}return Object(n.c)(t,e),t}(nr),Cr=function(e){function t(t){return e.call(this,t)||this}return Object(n.c)(t,e),t}(nr),Or=function(e){function t(t){return e.call(this,t)||this}return Object(n.c)(t,e),t}(nr),Ir=function(e){function t(t){return e.call(this,t)||this}return Object(n.c)(t,e),t}(nr),Fr=function(e){function t(t){var r=e.call(this,t,!1)||this;return r._children=[],r}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),t.prototype.clearDelegates=function(){var e,t;try{for(var r=Object(n.h)(this.children),i=r.next();!i.done;i=r.next())i.value.clearDelegates()}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t.prototype.createGroup=function(e){throw Error("Cannot make a group here")},t.prototype.createExpander=function(e){throw Error("Cannot make a folder here")},t.prototype.getChildByName=function(e){var t,r;try{for(var i=Object(n.h)(this.children),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.name===e)return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null},t.prototype.getDescendantByName=function(e){var r,i;try{for(var o=Object(n.h)(this.children),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.name===e)return s;if(s instanceof t){var c=s.getDescendantByName(e);if(null!=c)return c}}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return null},t.prototype.addChild=function(e){this._children.push(e)},t.prototype.addBoolean=function(e){this.addChild(new Ir(e))},t.prototype.addNumber=function(e){this.addChild(new Or(e))},t.prototype.addSlider=function(e){this.addChild(new Cr(e))},t.prototype.addString=function(e){this.addChild(new Rr(e))},t.prototype.addColor=function(e){this.addChild(new Mr(e))},t.prototype.addColorType=function(e){this.addChild(new or(e))},t.prototype.addColorMap=function(e){this.addChild(new Br(e))},t.prototype.addReadOnlyString=function(e,t){this.addChild(new Rr({name:e,value:t,readonly:!0}))},t.prototype.addReadOnlyInteger=function(e,t){this.addReadOnlyString(e,t.toString())},t.prototype.addReadOnlyNumber=function(e,t,r){void 0===r&&(r=2),this.addReadOnlyString(e,t.toFixed(r))},t.prototype.addReadOnlyAngle=function(e,t){this.addReadOnlyString(e,Yt.toDeg(t).toFixed(2)+" [degrees]")},t.prototype.addReadOnlyStatistics=function(e,t,r){if(void 0===r&&(r=2),t&&!t.isEmpty){var n=this.createGroup(e),i=t.mean.toFixed(r);n.addChild(new Rr({name:e+"mean",value:i,readonly:!0,toolTip:"Mean: "+i})),i=t.stdDev.toFixed(r),n.addChild(new Rr({name:e+"stdDev",value:i,readonly:!0,toolTip:"Standard deviation: "+i}))}},t.prototype.addReadOnlyRange1=function(e,t,r){if(void 0===r&&(r=2),t&&!t.isEmpty){var n=this.createGroup(e),i=t.min.toFixed(r);n.addChild(new Rr({name:e+"min",value:i,readonly:!0,toolTip:"Minimum: "+i})),i=t.delta.toFixed(r),n.addChild(new Rr({name:e+"delta",value:i,readonly:!0,toolTip:"Delta: "+i})),i=t.max.toFixed(r),n.addChild(new Rr({name:e+"$max",value:i,readonly:!0,toolTip:"Maximum: "+i}))}},t.prototype.addReadOnlyRange3=function(e,t){void 0===t&&(t=2),this.addReadOnlyRange1("X",e.x,t),this.addReadOnlyRange1("Y",e.y,t),this.addReadOnlyRange1("Z",e.z,t)},t.prototype.addReadOnlyIndex2=function(e,t){this.addReadOnlyStrings(e,t.i.toString(),t.j.toString())},t.prototype.addReadOnlyIndex3=function(e,t){this.addReadOnlyStrings(e,t.i.toString(),t.j.toString(),t.k.toString())},t.prototype.addReadOnlyVector2=function(e,t,r){void 0===r&&(r=2);var n=this.createGroup(e),i=t.x.toFixed(r);n.addChild(new Rr({name:e+"x",value:i,readonly:!0,toolTip:"X: "+i})),i=t.y.toFixed(r),n.addChild(new Rr({name:e+"y",value:i,readonly:!0,toolTip:"Y: "+i}))},t.prototype.addReadOnlyVector3=function(e,t,r){void 0===r&&(r=2);var n=this.createGroup(e),i=t.x.toFixed(r);n.addChild(new Rr({name:e+"x",value:i,readonly:!0,toolTip:"X: "+i})),i=t.y.toFixed(r),n.addChild(new Rr({name:e+"y",value:i,readonly:!0,toolTip:"Y: "+i})),i=t.z.toFixed(r),n.addChild(new Rr({name:e+"z",value:i,readonly:!0,toolTip:"Z: "+i}))},t.prototype.addReadOnlyStrings=function(e){for(var t,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=this.createGroup(e);try{for(var s=Object(n.h)(i.entries()),c=s.next();!c.done;c=s.next()){var l=Object(n.f)(c.value,2),u=l[0],d=l[1];a.addChild(new Rr({name:e+u,value:d,readonly:!0}))}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}},t}(tr),Nr=function(e){function t(t){return e.call(this,t)||this}return Object(n.c)(t,e),t}(Fr),Lr=function(e){function t(t,r){void 0===r&&(r=!1);var n=e.call(this,t)||this;return n._expanded=!0,n._showToolbar=!1,n._showToolbar=r,n}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"expanded",{get:function(){return this._expanded},set:function(e){this._expanded=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showToolbar",{get:function(){return this._showToolbar},enumerable:!1,configurable:!0}),t.prototype.createGroup=function(e){var t=new Nr(e);return this.addChild(t),t},t.prototype.createExpander=function(e){var r=new t(e);return this.addChild(r),r},t.prototype.createExpanderWithToolbar=function(e){var r=new t(e,!0);return this.addChild(r),r},t}(Fr),Pr=function(){function e(){}return Object.defineProperty(e,"renderStyleCommands",{get:function(){return e._renderStyleCommands},enumerable:!1,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return e._currentProperties},set:function(t){var r,i;if(e._currentProperties)try{for(var o=Object(n.h)(e._currentProperties.children),a=o.next();!a.done;a=o.next())a.value.clearDelegates()}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}e._currentProperties=t},enumerable:!1,configurable:!0}),e.getTreeRoot=function(){return Er.active?Er.active:null},e.getNodeById=function(e){return Er.active?Er.active.getDescendantByUniqueId(Ut.create(e)):null},e.getPropertyById=function(t){return e.properties?e.properties.getDescendantByName(t):null},e.createRenderStyleCommands=function(t){e._renderStyleCommands=t.createRenderStyleCommands()},e.createElementTree=function(t){var r,i,o,a,s;if(!t)return null;if(t instanceof Nr){var c=e.createGroupElement(t);try{for(var l=Object(n.h)(t.children),u=l.next();!u.done;u=l.next()){var d=u.value;(f=e.createControlElement(d))&&(null===(s=c.subValues)||void 0===s||s.push(f))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return c}if(t instanceof Lr){c=e.createExpanderElement(t);try{for(var p=Object(n.h)(t.children),h=p.next();!h.done;h=p.next()){var f;d=h.value,(f=e.createElementTree(d))&&c.elements.push(f)}}catch(e){o={error:e}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}return c}return t instanceof nr?e.createControlElement(t):null},e.createExpanderElement=function(t){var r={id:t.name,name:t.displayName,elements:[]};return e.renderStyleCommands&&t.showToolbar&&(r.toolBar=e.renderStyleCommands),r},e.createGroupElement=function(e){return{id:e.name,name:e.displayName,type:"group",toolTip:e.toolTip,subValues:[],isReadOnly:e.isReadOnly,useProperty:!0,isOptional:!1}},e.createControlElement=function(t){if(!(t instanceof nr))return null;if(!t.isEnabled)return null;var r=e.getControlType(t);return r?{id:t.name,name:t.displayName,type:r,toolTip:t.toolTip,value:t.value,subValues:[],isReadOnly:t.isReadOnly,useProperty:t.use,isOptional:t.isOptional,options:e.createSelectOptions(t.getExpandedOptions(),t.getOptionIcon),extraOptionsData:t.extraOptionsData()||void 0}:null},e.createSelectOptions=function(e,t){var r,i,o=[];if(e&&e.length>0)try{for(var a=Object(n.h)(e),s=a.next();!s.done;s=a.next()){var c=s.value;"object"==typeof c?o.push({label:c[Zt.label],value:c[Zt.value],iconSrc:t&&t(c[Zt.value])}):o.push({label:""+c,value:c})}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o},e.getControlType=function(e){return e instanceof Ir?Tt:e instanceof Cr?"slider":e instanceof Mr?"color":e instanceof Br?wt:e instanceof or?_t:e.hasOptions?"select":e instanceof Rr?"string":e instanceof Or?At:(console.error("property is not supported",e),null)},e._currentProperties=null,e._renderStyleCommands=null,e}(),Dr=function(){function e(){}return e.setFullScreenStatus="SET_FULLSCREEN_STATUS",e.changeSelectState="settings/onSelectedNodeChange",e.changeNodeName="explorer/onNodeNameChange",e.changeNodeColor="explorer/onNodeColorChange",e.changeNodeIcon="explorer/onNodeIconChange",e.setVisualizerData="SET_VISUALIZER_DATA",e.setStatusPanelText="SET_STATUS_PANEL_TEXT",e.executeVisualizerToolbarCommand="EXECUTE_VISUALIZER_TOOLBAR_COMMAND",e.executeVisualizerToolbarCommandSuccess="EXECUTE_VISUALIZER_TOOLBAR_COMMAND_SUCCESS",e.selectOnChange="SELECT_ON_CHANGE",e}(),Ur=function(){function e(){}return e.setPropertyValue=function(e,t){var r=Pr.getPropertyById(e);r?r.value=t:console.log("Couldn't find property!")},e.setPropertyFolderExpand=function(e,t){var r=Pr.getPropertyById(e);r instanceof Lr?r.expanded=t:console.log("Couldn't find property!")},e.setPropertyUse=function(e,t){var r=Pr.getPropertyById(e);r instanceof nr?r.use=t:console.log("Couldn't find property!",e)},e.populateSettingsFolder=function(e){var t=new Lr("Settings"),r=t.createExpander(V.generalSettingsName);e.populateInfo(r),r=t.createExpander(V.statisticsName),e.populateStatistics(r),r=t.createExpanderWithToolbar(V.visualSettingsName),e.populateRenderStyle(r),Pr.properties=t},e}(),Gr={currentNodeId:"",titleBar:{name:"",icon:{src:"",description:"",color:""},toolBar:[]},expandedSections:(ar={},ar[V.generalSettingsName]=V.generalSettingsDefaultExpanded,ar[V.statisticsName]=V.statisticsDefaultExpanded,ar[V.visualSettingsName]=V.visualSettingsDefaultExpanded,ar),updateUICount:0},jr=Object(M.createSlice)({name:"settings",initialState:Gr,reducers:{onSettingsReset:{reducer:function(e,t){e.updateUICount+=1},prepare:function(e){return Ur.populateSettingsFolder(e),{payload:{}}}},onSelectedNodeChange:{reducer:function(e,t){var r=t.payload.node;r&&r.isSelected()?(e.currentNodeId=r.uniqueId.toString(),e.titleBar.name=r.displayName,e.titleBar.icon.src=r.getIcon(),e.titleBar.icon.color=r.hasIconColor()?r.getColor().hex():void 0,e.titleBar.icon.description=r.name):(e.currentNodeId="",e.titleBar.name="",e.titleBar.icon={})},prepare:function(e){return e&&e.isSelected()&&(Ur.populateSettingsFolder(e),Pr.createRenderStyleCommands(e)),{payload:{node:e}}}},onSectionExpand:{reducer:function(e,t){e.expandedSections[t.payload.sectionName]=t.payload.expandStatus},prepare:function(e,t){return{payload:{sectionName:e,expandStatus:t}}}}},extraReducers:(sr={},sr[Dr.changeNodeName]=function(e,t){var r=t.payload.nodeId;return e.currentNodeId===r&&(e.titleBar.name=t.payload.newLabel,e.titleBar.icon.description=t.payload.newLabel),e},sr[Dr.changeNodeColor]=function(e,t){var r=t.payload.nodeId;return e.currentNodeId===r&&(e.titleBar.icon.color=t.payload.nodeColor.hex()),e},sr[Dr.changeNodeIcon]=function(e,t){var r=t.payload.nodeId;return e.currentNodeId===r&&(e.titleBar.icon.src=t.payload.nodeIcon),e},sr)}),zr=jr.reducer,kr=(cr=jr.actions).onSelectedNodeChange,Vr=cr.onSectionExpand,Wr=cr.onSettingsReset,Hr=Object(a.connect)((function(e){var t=e.settings;return{id:t.currentNodeId,titleBar:t.titleBar,expandedSections:t.expandedSections,updateUICount:t.updateUICount}}),(function(e){return{onSectionExpand:function(t,r){e(Vr(t,r))},onPropertyValueChange:function(e,t){Ur.setPropertyValue(e,t)},onPropertyUseChange:function(e,t){Ur.setPropertyUse(e,t)}}}))((function(e){var t,r,a=e.id,s=e.titleBar,c=e.onSectionExpand,l=e.onPropertyValueChange,u=e.onPropertyUseChange,d=e.expandedSections,p=Object(n.f)(Object(i.useState)(0),2)[1],h=null!==(r=null===(t=Pr.createElementTree(Pr.properties))||void 0===t?void 0:t.elements)&&void 0!==r?r:[],f=function(e,t){u(e,t),p((function(e){return++e}))},g=function(e,t){l(e,t),p((function(e){return++e}))};return o.a.createElement("div",{className:"settings-container"},a?o.a.createElement(o.a.Fragment,null,s&&o.a.createElement(Lt,{sectionId:"-1",className:"settings-title-bar",title:s.name,icon:s.icon,toolBar:s.toolBar}),h.map((function(e){return e.isExpanded=d[e.id],o.a.createElement("div",{key:e.name+"-section",className:"settings-section-container"},e.elements.length>0&&o.a.createElement(Nt,{section:e,onExpand:c,onPropertyValueChange:g,onPropertyUseChange:f}))}))):null)})),Xr=(r(478),r(293)),Qr=r.n(Xr),Zr=r(294),Yr=r.n(Zr),Jr=Object(J.withStyles)((function(){return{root:{minHeight:"30px",height:"100%"}}}))(Qr.a),qr=Object(J.withStyles)((function(e){return{root:{padding:0,textTransform:"none",minWidth:"80px",minHeight:"30px",color:e.palette.primary.contrastText,background:e.palette.primary.light,border:"1px solid rgba(0, 0, 0, 0.1)",borderBottom:0,boxShadow:e.shadows[4],"&:hover":{color:e.palette.secondary.contrastText,opacity:1},"&$selected":{background:e.palette.secondary.light,color:e.palette.secondary.contrastText},"&:focus":{backgroundColor:e.palette.secondary.dark,indicator:{backgroundColor:e.palette.primary.dark}}},selected:{}}}))((function(e){return o.a.createElement(Yr.a,Object(n.a)({disableRipple:!0},e))}));function Kr(e){var t=e.onTabChange,r=e.tabs,n=e.selectedTabIndex;return r?o.a.createElement("div",{className:"explorer-tabs"},o.a.createElement(Jr,{value:n,indicatorColor:"primary",textColor:"primary",onChange:function(e,r){t(r)}},r.map((function(e){return o.a.createElement(qr,{tabIndex:0,key:"node-type-"+e.type,label:o.a.createElement("div",{className:"explorer-tab"},o.a.createElement(re,{src:e.icon}),o.a.createElement("span",null,e.name))})})))):null}var $r,en=r(120),tn=r(41);!function(e){e.Checked="checked",e.Partial="partial",e.UnChecked="unchecked",e.Disabled="disabled",e.Default="unknown",e.CanNotBeChecked="cannotcheck",e.NotVisible="notvisiable"}($r||($r={}));var rn,nn,on=function(){function e(){}return e.selectNodeById=function(e,t){var r=Pr.getNodeById(e);if(r)try{r.setSelectedInteractive(t)}catch(e){console.log("Error Selecting Node",e)}},e.toggleVisibleById=function(e){var t=Pr.getNodeById(e);if(t)try{t.toggleVisibleInteractive()}catch(e){console.log("Error Viewing Node",e)}},e.setNodeExpandById=function(e,t){var r=Pr.getNodeById(e);if(r)try{t!==r.isExpanded&&r.toggleExpandInteractive()}catch(e){console.log("Error Expanding Node",e)}},e.getCheckBoxStateByNode=function(e){var t=$r.Default;if(e)switch(e.getCheckBoxState()){case Wt.All:t=$r.Checked;break;case Wt.None:t=$r.UnChecked;break;case Wt.CanNotBeChecked:t=$r.CanNotBeChecked;break;case Wt.Some:t=$r.Partial;break;case Wt.Never:t=$r.NotVisible;break;default:t=$r.Default}return t},e.getAllTabNodes=function(){var e,t,r=Pr.getTreeRoot(),i=[];if(r)try{for(var o=Object(n.h)(r.children),a=o.next();!a.done;a=o.next()){var s=a.value;s.isTab&&i.push(s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return i},e.getSelectedNodeOfCurrentTab=function(t){var r=e.getAllTabNodes()[t];return null==r?void 0:r.getSelectedNode()},e}(),an=Object(M.createSlice)({name:"explorer",initialState:{tabs:[],selectedTabIndex:0,selectedNodeId:null,nodes:{byId:{},allIds:[]}},reducers:{generateNodeTree:{reducer:function(e,t){var r,i,o,a,s=t.payload.tabNodes;try{for(var c=Object(n.h)(s),l=c.next();!l.done;l=c.next()){var u=l.value,d=u.typeName,p=_n(u,null,d),h=p.uniqueId;e.tabs.push(h),e.nodes.byId[h]=p,e.nodes.allIds.push(h);try{for(var f=(o=void 0,Object(n.h)(u.getDescendants())),g=f.next();!g.done;g=f.next()){var m=g.value;if(m.parent){var y=_n(m,m.parent.uniqueId.toString(),d),v=y.uniqueId;e.nodes.byId[v]=y,e.nodes.allIds.push(v)}}}catch(e){o={error:e}}finally{try{g&&!g.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return e},prepare:function(){return{payload:{tabNodes:on.getAllTabNodes()}}}},onSelectedTabChange:function(e,t){return e.selectedTabIndex=t.payload.selectedTabIndex,e},onCheckboxStateChange:{reducer:function(e,t){var r=t.payload.nodeId,n=e.nodes.byId[r];n.disabled=t.payload.disabled;var i=t.payload.checkBoxState;return n.checked=i===$r.Checked,n.indeterminate=i===$r.Partial,n.checkable=i!==$r.CanNotBeChecked,e},prepare:function(e){return{payload:{nodeId:e.uniqueId.toString(),checkBoxState:on.getCheckBoxStateByNode(e),disabled:!e.getCheckBoxEnabled()}}}},onExpandStateChange:{reducer:function(e,t){var r=t.payload.nodeId,n=t.payload.expandState;return e.nodes.byId[r]&&(e.nodes.byId[r].expanded=n),e},prepare:function(e){return{payload:{nodeId:e.uniqueId.toString(),expandState:e.isExpanded}}}},onActiveStateChange:{reducer:function(e,t){var r=t.payload.nodeId;return e.nodes[r]&&(e.nodes.byId[r].label.bold=t.payload.activeState),e},prepare:function(e){return{payload:{nodeId:e.uniqueId.toString(),activeState:e.isActive}}}},onNodeNameChange:{reducer:function(e,t){var r=t.payload.nodeId;return e.nodes.byId[r].name=t.payload.newLabel,e},prepare:function(e){return{payload:{nodeId:e.uniqueId.toString(),newLabel:e.displayName}}}},onNodeColorChange:{reducer:function(e,t){var r=t.payload.nodeId,n=e.nodes.byId[r].icon;return n&&(n.color=t.payload.nodeColor),e},prepare:function(e){return{payload:{nodeId:e.uniqueId.toString(),nodeColor:e.color}}}},onNodeIconChange:{reducer:function(e,t){var r=t.payload.nodeId,n=e.nodes.byId[r].icon;return n&&(n.path=t.payload.nodeIcon),e},prepare:function(e){return{payload:{nodeId:e.uniqueId.toString(),nodeIcon:e.getIcon()}}}}},extraReducers:(rn={},rn[Dr.changeSelectState]=function(e,t){var r=t.payload.node,n=r.uniqueId.toString(),i=r.isSelected();return e.nodes.byId[n]&&(e.nodes.byId[n].selected=i,i&&(e.selectedNodeId=n)),e},rn)}),sn=(nn=an.actions).generateNodeTree,cn=nn.onSelectedTabChange,ln=nn.onCheckboxStateChange,un=nn.onExpandStateChange,dn=nn.onActiveStateChange,pn=nn.onNodeColorChange,hn=nn.onNodeNameChange,fn=nn.onNodeIconChange,gn=an.reducer,mn=function(e){return e.explorer.nodes.byId},yn=function(e){return e.explorer.selectedTabIndex},vn=Object(tn.a)([mn,function(e){return e.explorer.nodes.allIds}],(function(e,t){return t.map((function(t){return e[t]}))})),bn=Object(tn.a)([function(e){return e.explorer.tabs},mn],(function(e,t){return e.map((function(e){return t[e]})).map((function(e){return{name:e.name,icon:e.icon.path,type:e.nodeType}}))})),xn=Object(tn.a)([vn],(function(e){return e.filter((function(e){return e.visible}))})),Sn=Object(tn.a)([bn,yn],(function(e,t){return e[t]?e[t].type:""})),An=Object(tn.a)([xn,Sn],(function(e,t){return e.filter((function(e){return e.nodeType===t}))})),wn=Object(tn.a)([An],(function(e){var t,r,i=[],o={};try{for(var a=Object(n.h)(e),s=a.next();!s.done;s=a.next()){var c=s.value,l=Object(n.a)(Object(n.a)({},c),{children:[]});if(o[c.uniqueId]=l,c.parentId){var u=o[c.parentId];u?u.children.push(l):i.push(l)}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}));function _n(e,t,r){var n=on.getCheckBoxStateByNode(e);return{nodeType:r,parentId:t,uniqueId:e.uniqueId.toString(),name:e.displayName,expanded:e.isExpanded,icon:{path:e.getIcon(),description:e.displayName,color:e.hasIconColor()?e.getColor():void 0},selected:e.isSelected(),checked:n===$r.Checked,indeterminate:n===$r.Partial,checkable:n!==$r.CanNotBeChecked,disabled:!e.getCheckBoxEnabled(),isRadio:e.isRadio(null),isFilter:e.isFilter(null),checkVisible:n!==$r.NotVisible,visible:e.isVisibleInTreeControl(),label:{italic:e.isLabelInItalic(),bold:e.isLabelInBold(),color:e.getLabelColor()}}}var Tn=Object(a.connect)((function(e){return{tabs:bn(e),data:wn(e),selectedTabIndex:yn(e)}}),(function(e){return{onTabChange:function(t){e(cn({selectedTabIndex:t}));var r=on.getSelectedNodeOfCurrentTab(t);r&&e(kr(r))},onNodeExpandToggle:function(e,t){on.setNodeExpandById(e,t)},onToggleVisible:function(e){on.toggleVisibleById(e)},onNodeSelect:function(e,t){on.selectNodeById(e,t)}}}))((function(e){return o.a.createElement("div",{className:"explorer"},o.a.createElement(en.a,{data:e.data,onToggleNodeSelect:function(t,r){e.onNodeSelect(t,r)},onToggleNodeExpand:function(t,r){e.onNodeExpandToggle(t,r)},onToggleNodeCheck:function(t){e.onToggleVisible(t)}}),o.a.createElement(Kr,{tabs:e.tabs,selectedTabIndex:e.selectedTabIndex,onTabChange:e.onTabChange}))}));function En(){return o.a.createElement("div",{className:"left-panel"},o.a.createElement(R,{split:"horizontal",defaultSize:"50%",primary:"second"},o.a.createElement(Tn,null),o.a.createElement(Hr,null)))}var Bn=function(){function e(e){this.dispatcher=e}return e.prototype.processEvent=function(e,t){t.isEmpty||(t.isChanged(Ht.visibleState)&&this.dispatcher(ln(e)),t.isChanged(Ht.selected)&&this.dispatcher(kr(e)),t.isChanged(Ht.expanded)&&this.dispatcher(un(e)),t.isChanged(Ht.active)&&this.dispatcher(dn(e)),t.isChanged(Ht.nodeName)&&this.dispatcher(hn(e)),t.isChanged(Ht.nodeColor)&&this.dispatcher(pn(e)),t.isChanged(Ht.nodeIcon)&&this.dispatcher(fn(e)),t.isChanged(Ht.resetStyle)&&this.dispatcher(Wr(e)))},e}(),Rn=function(){function e(e,t){this.notificationAdaptor=e,this.dispatcher=t}return e.prototype.updateNode=function(e,t){this.notificationAdaptor.processEvent(e,t)},e.prototype.setFullScreen=function(e){var t;this.dispatcher((t=e,{type:Dr.setFullScreenStatus,payload:t}))},e.prototype.updateToolbars=function(){this.dispatcher(P())},e.prototype.updateStatusPanel=function(e){this.dispatcher(D({text:e}))},e}(),Mn=function(){function e(){this._node=null,this._target=null}return Object.defineProperty(e.prototype,"hasTarget",{get:function(){return null!=this._target},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetId",{get:function(){return this.getTarget().targetId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderTarget",{get:function(){return this.getTarget()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.initializeCore=function(){},e.prototype.updateCore=function(e){},e.prototype.clearMemoryCore=function(){},e.prototype.onShowCore=function(){},e.prototype.onHideCore=function(){},e.prototype.beforeRender=function(){},e.prototype.disposeCore=function(){},e.prototype.getNode=function(){if(!this._node)throw Error("The node is missing in the view");return this._node},e.prototype.getTarget=function(){if(!this._target)throw Error("The target is missing in the view");return this._target},e.prototype.getStyle=function(){var e;if(!(e=this._target?this.getNode().getRenderStyle(this.targetId):this.getNode().getRenderStyle(xr.empty)))throw Error("The style is missing in the view");return e},e.prototype.initialize=function(){this.initializeCore(),this.verify()},e.prototype.update=function(e){this.updateCore(e)},e.prototype.clearMemory=function(){this.clearMemoryCore()},e.prototype.onShow=function(){this.onShowCore()},e.prototype.onHide=function(){this.onHideCore()},e.prototype.dispose=function(){this.disposeCore()},e.prototype.isOwner=function(e){return null!==this._node&&this._node===e},e.prototype.detach=function(){this._node=null,this._target=null},e.prototype.attach=function(e,t){this._node=e,this._target=t},e.prototype.verify=function(){return!!this.getNode()&&!!this.getTarget()&&!!this.getNode().isInitialized},e}(),Cn=function(e){function t(){var t=e.call(this)||this;return t._boundingBox=void 0,t}return Object(n.c)(t,e),t.prototype.updateCore=function(t){e.prototype.updateCore.call(this,t),t.isChanged(Ht.geometry)&&this.touchBoundingBox()},t.prototype.calculateBoundingBoxCore=function(){},t.prototype.getViewInfoCore=function(e){},t.prototype.getViewInfo=function(e){return this.getViewInfoCore(e)},Object.defineProperty(t.prototype,"boundingBox",{get:function(){return this._boundingBox||(this._boundingBox=this.calculateBoundingBoxCore()),this._boundingBox},set:function(e){this._boundingBox=e},enumerable:!1,configurable:!0}),t.prototype.touchBoundingBox=function(){this._boundingBox=void 0},t}(Mn),On=function(){function e(e,t,r){this.dx=0,this.dy=0,this.isMultiLine=!1,this.isBold=!1,this.key=e,this.isBold=t,this.value=r}return Object.defineProperty(e.prototype,"hasValue",{get:function(){return Oe.isEmpty(this.value)},enumerable:!1,configurable:!0}),e}(),In=function(){function e(){this.footer="",this.items=[],this.polyline=null}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!!Oe.isEmpty(this.footer)&&!(this.items.length>0)},enumerable:!1,configurable:!0}),e.prototype.addHeader=function(e){this.items.push(new On(""+e,!0))},e.prototype.addActiveTool=function(e){this.items.push(new On(""+e.getDisplayName(),!0))},e.prototype.addPickedNode=function(e){this.items.push(new On("Picked "+e.displayName+":",!0))},e.prototype.addText=function(e){this.items.push(new On(e,!1))},e.prototype.addValue=function(e,t){this.items.push(new On(e,!0,t))},e.prototype.addTabbedValue=function(e,t){this.items.push(new On("   "+e,!0,t))},e.prototype.addNumber=function(e,t,r){this.addValue(e,t.toFixed(r))},e.prototype.setPolyline=function(e){this.polyline=e},e.prototype.clear=function(){this.items.splice(0,this.items.length),this.polyline=null},e}(),Fn=function(e){function t(t){var r=e.call(this)||this;return r._isInvalidated=!0,r._viewInfo=new In,r._fractionRange=t||$t.newUnit,r.isLightBackground=V.viewerIsLightBackground,r._viewInfo.footer=V.viewerFooter,r}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"viewInfo",{get:function(){return this._viewInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"aspectRatio",{get:function(){return this.pixelRange.aspectRatio2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixelRange",{get:function(){var e=this.domElement,t=e.clientWidth,r=e.clientHeight,n=this._fractionRange.x.min*t,i=this._fractionRange.y.min*r,o=t*this._fractionRange.x.delta,a=r*this._fractionRange.y.delta;return $t.createByMinAndDelta(n,i,o,a)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},t.prototype.initializeCore=function(){e.prototype.initializeCore.call(this),this.invalidate()},t.prototype.onResize=function(){},t.prototype.viewAll=function(){},t.prototype.addTools=function(e){},Object.defineProperty(t.prototype,"isInvalidated",{get:function(){return this._isInvalidated},enumerable:!1,configurable:!0}),t.prototype.getBoundingBoxFromViews=function(){var e,t,r=new $t;try{for(var i=Object(n.h)(this.viewsShownHere.list),o=i.next();!o.done;o=i.next()){var a=o.value;a instanceof Cn&&a.isVisible&&r.addRange(a.boundingBox)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r},t.prototype.fillViewInfo=function(){var e,t,r=this.viewInfo;try{for(var i=Object(n.h)(this.viewsShownHere.list),o=i.next();!o.done;o=i.next()){var a=o.value;a instanceof Cn&&a.getViewInfo(r)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r},t.prototype.invalidate=function(e){void 0===e&&(e=!0),this._isInvalidated=e},t.className="BaseRenderTargetNode",t}(Tr),Nn=function(){function e(){if(this.modules=[],e._instance)throw new Error("Error - use Modules.instance")}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e.prototype.add=function(e){this.modules.push(e)},e.prototype.install=function(){this.installPackages(),this.registerViews()},e.prototype.clearModules=function(){this.modules=[]},e.prototype.initializeWhenPopulated=function(e){var t,r,i,o;e.initializeRecursive();try{for(var a=Object(n.h)(this.modules),s=a.next();!s.done;s=a.next())s.value.initializeWhenPopulated(e)}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}try{for(var c=Object(n.h)(this.modules),l=c.next();!l.done;l=c.next())l.value.setDefaultVisible(e)}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}var u=e.activeTarget;u&&u.viewAll()},e.prototype.startAnimate=function(e){var t,r;try{for(var i=Object(n.h)(this.modules),o=i.next();!o.done;o=i.next())o.value.startAnimate(e)}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.createRoot=function(){for(var e,t,r=null,i=this.modules.length-1;i>=0&&!(r=this.modules[i].createRoot());--i);if(!r)throw Error("No module has implemented createRoot()");r.initializeRecursive();try{for(var o=Object(n.h)(this.modules),a=o.next();!a.done;a=o.next())a.value.loadData(r)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return Er.active=r,r},e.prototype.createRenderTargetNode=function(){for(var e=this.modules.length-1;e>=0;--e){var t=this.modules[e].createRenderTargetNode();if(t)return t}return null},e.prototype.getDomElements=function(e){var t,r,i,o,a;return Object(n.d)(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,7]),t=Object(n.h)(e.targets.getChildrenByType(Fn)),r=t.next(),s.label=1;case 1:return r.done?[3,4]:[4,r.value.domElement];case 2:s.sent(),s.label=3;case 3:return r=t.next(),[3,1];case 4:return[3,7];case 5:return i=s.sent(),o={error:i},[3,7];case 6:try{r&&!r.done&&(a=t.return)&&a.call(t)}finally{if(o)throw o.error}return[7];case 7:return[2]}}))},e.prototype.installPackages=function(){var e,t;try{for(var r=Object(n.h)(this.modules),i=r.next();!i.done;i=r.next())i.value.installPackages()}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},e.prototype.registerViews=function(){var e,t,r=Sr.instance;try{for(var i=Object(n.h)(this.modules),o=i.next();!o.done;o=i.next())o.value.registerViews(r)}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e._instance=null,e}(),Ln=function(){function e(e,t){this.htmlElement=null,this.target=null,this.toolbarCommands={},this.name=e,this.htmlElement=t}return e.prototype.setTarget=function(e){this.target=e},e.prototype.setToolbarCommands=function(e){this.toolbarCommands=e.getCommands()},e.prototype.getTarget=function(){return this.target},e.prototype.getToolbarCommands=function(){return this.toolbarCommands},e.prototype.getHTMLElement=function(){return this.htmlElement},e.prototype.getName=function(){return this.name},e}(),Pn=function(){function e(){this.toolbarCommands={}}return e.prototype.getCommands=function(){return this.toolbarCommands},e.prototype.add=function(e,t){this.toolbarCommands[e]||(this.toolbarCommands[e]=[]),this.toolbarCommands[e].push(t)},e}();function Dn(e){var t=Object(a.useDispatch)(),r=Object(a.useSelector)((function(e){return e.common})),s=e.root;s&&(Er.active=s);var c=Object(i.useCallback)((function(e){var r,i;if(e&&s){e.innerHTML="",C.addViewer("3D",new Ln("3D",e));try{for(var o=Object(n.h)(Object.values(C.getViewers())),a=o.next();!a.done;a=o.next()){var c=a.value,l=Nn.instance.createRenderTargetNode();if(l){var u=new Pn;l.addTools(u),l.setName(c.getName()),c.setTarget(l),c.setToolbarCommands(u),s.targets.addChild(l),e.appendChild(l.domElement),l.setActiveInteractive()}}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}Nn.instance.initializeWhenPopulated(s);var d=new Bn(t);Qt.install(new Rn(d,t)),t(N()),t(sn()),console.log("NodeVisualizer: Added toolbars and viewers")}}),[s]);return o.a.createElement("div",{className:"node-viz-container"},o.a.createElement(R,{split:"vertical",minSize:r.isFullscreen?0:V.leftPanelDefaultSize,maxSize:r.isFullscreen?0:V.leftPanelMaxSize,onChange:function(){var e,t,r;try{for(var i=Object(n.h)(Object.values(C.getViewers())),o=i.next();!o.done;o=i.next())null===(r=o.value.getTarget())||void 0===r||r.onResize()}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}}},o.a.createElement(En,null),o.a.createElement(ct,{viewer3D:c})))}var Un,Gn=r(30),jn=Object(M.createReducer)({isFullscreen:!1},((Un={})[Dr.setFullScreenStatus]=function(e,t){e.isFullscreen=t.payload},Un));Object(Gn.c)(),Object(Gn.b)();var zn,kn={common:jn,settings:zr,explorer:gn,visualizers:F},Vn=function(e){return function(e){return function(t){var r,i,o,a=Object.values(C.getViewers());switch(t.type){case Dr.setFullScreenStatus:try{e(t);try{for(var s=Object(n.h)(a),c=s.next();!c.done;c=s.next())null===(o=c.value.getTarget())||void 0===o||o.onResize()}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}catch(e){console.error(e)}break;default:e(t)}}}},Wn=function(e,t){return(Wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};!function(e){e[e.NONE=0]="NONE",e[e.ROTATE=1]="ROTATE",e[e.TRUCK=2]="TRUCK",e[e.DOLLY=3]="DOLLY",e[e.ZOOM=4]="ZOOM",e[e.TOUCH_ROTATE=5]="TOUCH_ROTATE",e[e.TOUCH_TRUCK=6]="TOUCH_TRUCK",e[e.TOUCH_DOLLY=7]="TOUCH_DOLLY",e[e.TOUCH_ZOOM=8]="TOUCH_ZOOM",e[e.TOUCH_DOLLY_TRUCK=9]="TOUCH_DOLLY_TRUCK",e[e.TOUCH_ZOOM_TRUCK=10]="TOUCH_ZOOM_TRUCK"}(zn||(zn={}));var Hn=2*Math.PI,Xn=Math.PI/2;function Qn(e){return Math.abs(e)<1e-5}function Zn(e,t){return Math.round(e/t)*t}function Yn(e){return isFinite(e)?e:e<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Jn(e){return Math.abs(e)<Number.MAX_VALUE?e:e*(1/0)}function qn(e){return"TouchEvent"in window&&e instanceof TouchEvent}function Kn(e,t){if(t.set(0,0),qn(e)){for(var r=e,n=0;n<r.touches.length;n++)t.x+=r.touches[n].clientX,t.y+=r.touches[n].clientY;return t.x/=r.touches.length,t.y/=r.touches.length,t}var i=e;return t.set(i.clientX,i.clientY),t}function $n(e,t){return!e.isPerspectiveCamera&&(console.warn(t+" is not supported in OrthographicCamera"),!0)}var ei,ti,ri,ni,ii,oi,ai,si,ci,li,ui,di,pi,hi,fi,gi,mi,yi,vi,bi=function(){function e(){this._listeners={}}return e.prototype.addEventListener=function(e,t){var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)},e.prototype.removeEventListener=function(e,t){var r=this._listeners[e];if(void 0!==r){var n=r.indexOf(t);-1!==n&&r.splice(n,1)}},e.prototype.removeAllEventListeners=function(e){e?Array.isArray(this._listeners[e])&&(this._listeners[e].length=0):this._listeners={}},e.prototype.dispatchEvent=function(e){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var r=t.slice(0),n=0,i=r.length;n<i;n++)r[n].call(this,e)}},e}(),xi=/Mac/.test(navigator.platform),Si=Object.freeze(zn),Ai=function(e){function t(t,r){var n=e.call(this)||this;if(n.enabled=!0,n.minPolarAngle=0,n.maxPolarAngle=Math.PI,n.minAzimuthAngle=-1/0,n.maxAzimuthAngle=1/0,n.minDistance=0,n.maxDistance=1/0,n.minZoom=.01,n.maxZoom=1/0,n.dampingFactor=.05,n.draggingDampingFactor=.25,n.azimuthRotateSpeed=1,n.polarRotateSpeed=1,n.dollySpeed=1,n.truckSpeed=2,n.dollyToCursor=!1,n.verticalDragToForward=!1,n.boundaryFriction=0,n.colliderMeshes=[],n._state=zn.NONE,n._viewport=null,n._dollyControlAmount=0,n._boundaryEnclosesCamera=!1,n._needsUpdate=!0,n._updatedLastTime=!1,n._camera=t,n._yAxisUpSpace=(new ei.Quaternion).setFromUnitVectors(n._camera.up,ri),n._yAxisUpSpaceInverse=n._yAxisUpSpace.clone().inverse(),n._state=zn.NONE,n._domElement=r,n._target=new ei.Vector3,n._targetEnd=n._target.clone(),n._spherical=(new ei.Spherical).setFromVector3(oi.copy(n._camera.position).applyQuaternion(n._yAxisUpSpace)),n._sphericalEnd=n._spherical.clone(),n._zoom=n._camera.zoom,n._zoomEnd=n._zoom,n._nearPlaneCorners=[new ei.Vector3,new ei.Vector3,new ei.Vector3,new ei.Vector3],n._updateNearPlaneCorners(),n._boundary=new ei.Box3(new ei.Vector3(-1/0,-1/0,-1/0),new ei.Vector3(1/0,1/0,1/0)),n._target0=n._target.clone(),n._position0=n._camera.position.clone(),n._zoom0=n._zoom,n._dollyControlAmount=0,n._dollyControlCoord=new ei.Vector2,n.mouseButtons={left:zn.ROTATE,middle:zn.DOLLY,right:zn.TRUCK,wheel:n._camera.isPerspectiveCamera?zn.DOLLY:n._camera.isOrthographicCamera?zn.ZOOM:zn.NONE},n.touches={one:zn.TOUCH_ROTATE,two:n._camera.isPerspectiveCamera?zn.TOUCH_DOLLY_TRUCK:n._camera.isOrthographicCamera?zn.TOUCH_ZOOM_TRUCK:zn.NONE,three:zn.TOUCH_TRUCK},n._domElement){var i=new ei.Vector2,o=new ei.Vector2,a=new ei.Vector2,s=new ei.Vector4,c=function(e,t){if(n._camera.isPerspectiveCamera){var r=n._camera,i=oi.copy(r.position).sub(n._target),o=r.getEffectiveFOV()*ei.Math.DEG2RAD,a=i.length()*Math.tan(.5*o),c=n.truckSpeed*e*a/s.w,l=n.truckSpeed*t*a/s.w;n.verticalDragToForward?(n.truck(c,0,!0),n.forward(-l,!0)):n.truck(c,l,!0)}else if(n._camera.isOrthographicCamera){var u=n._camera;c=e*(u.right-u.left)/u.zoom/s.z,l=t*(u.top-u.bottom)/u.zoom/s.w,n.truck(c,l,!0)}},l=function(e,t){var r=Hn*n.azimuthRotateSpeed*e/s.w,i=Hn*n.polarRotateSpeed*t/s.w;n.rotate(r,i,!0)},u=function(e,t,r){var i=Math.pow(.95,-e*n.dollySpeed),o=n._sphericalEnd.radius*i,a=n._sphericalEnd.radius;n.dollyTo(o),n.dollyToCursor&&(n._dollyControlAmount+=n._sphericalEnd.radius-a,n._dollyControlCoord.set(t,r))},d=function(e){var t=Math.pow(.95,e*n.dollySpeed);n.zoomTo(n._zoom*t)},p=function(e){if(n.enabled){e.preventDefault();var t=n._state;switch(e.button){case ei.MOUSE.LEFT:n._state=n.mouseButtons.left;break;case ei.MOUSE.MIDDLE:n._state=n.mouseButtons.middle;break;case ei.MOUSE.RIGHT:n._state=n.mouseButtons.right}t!==n._state&&y(e)}},h=function(e){if(n.enabled){e.preventDefault();var t=n._state;switch(e.touches.length){case 1:n._state=n.touches.one;break;case 2:n._state=n.touches.two;break;case 3:n._state=n.touches.three}t!==n._state&&y(e)}},f=-1,g=function(e){if(n.enabled&&n.mouseButtons.wheel!==zn.NONE){if(e.preventDefault(),n.dollyToCursor||n.mouseButtons.wheel===zn.ROTATE||n.mouseButtons.wheel===zn.TRUCK){var t=performance.now();f-t<1e3&&n._getClientRect(s),f=t}var r=xi?-1:-3,i=1===e.deltaMode?e.deltaY/r:e.deltaY/(10*r),o=n.dollyToCursor?(e.clientX-s.x)/s.z*2-1:0,a=n.dollyToCursor?(e.clientY-s.y)/s.w*-2+1:0;switch(n.mouseButtons.wheel){case zn.ROTATE:l(e.deltaX,e.deltaY);break;case zn.TRUCK:c(e.deltaX,e.deltaY);break;case zn.DOLLY:u(-i,o,a);break;case zn.ZOOM:d(-i)}n.dispatchEvent({type:"control",originalEvent:e})}},m=function(e){n.enabled&&e.preventDefault()},y=function(e){if(n.enabled){if(e.preventDefault(),Kn(e,ii),n._getClientRect(s),i.copy(ii),o.copy(ii),qn(e)&&e.touches.length>=2){var t=e,r=ii.x-t.touches[1].clientX,c=ii.y-t.touches[1].clientY,l=Math.sqrt(r*r+c*c);a.set(0,l);var u=.5*(t.touches[0].clientX+t.touches[1].clientX),d=.5*(t.touches[0].clientY+t.touches[1].clientY);o.set(u,d)}document.addEventListener("mousemove",v),document.addEventListener("touchmove",v,{passive:!1}),document.addEventListener("mouseup",b),document.addEventListener("touchend",b),n.dispatchEvent({type:"controlstart",originalEvent:e})}},v=function(e){if(n.enabled){e.preventDefault(),Kn(e,ii);var t=o.x-ii.x,r=o.y-ii.y;switch(o.copy(ii),n._state){case zn.ROTATE:case zn.TOUCH_ROTATE:l(t,r);break;case zn.DOLLY:case zn.ZOOM:var p=n.dollyToCursor?(i.x-s.x)/s.z*2-1:0,h=n.dollyToCursor?(i.y-s.y)/s.w*-2+1:0;n._state===zn.DOLLY?u(r*(1/8),p,h):d(r*(1/8));break;case zn.TOUCH_DOLLY:case zn.TOUCH_ZOOM:case zn.TOUCH_DOLLY_TRUCK:case zn.TOUCH_ZOOM_TRUCK:var f=e,g=ii.x-f.touches[1].clientX,m=ii.y-f.touches[1].clientY,y=Math.sqrt(g*g+m*m),v=a.y-y;a.set(0,y),p=n.dollyToCursor?(o.x-s.x)/s.z*2-1:0,h=n.dollyToCursor?(o.y-s.y)/s.w*-2+1:0,n._state===zn.TOUCH_DOLLY||n._state===zn.TOUCH_DOLLY_TRUCK?u(v*(1/8),p,h):d(v*(1/8)),n._state!==zn.TOUCH_DOLLY_TRUCK&&n._state!==zn.TOUCH_ZOOM_TRUCK||c(t,r);break;case zn.TRUCK:case zn.TOUCH_TRUCK:c(t,r)}n.dispatchEvent({type:"control",originalEvent:e})}},b=function e(t){n.enabled&&(n._state=zn.NONE,document.removeEventListener("mousemove",v),document.removeEventListener("touchmove",v,{passive:!1}),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e),n.dispatchEvent({type:"controlend",originalEvent:t}))};n._domElement.addEventListener("mousedown",p),n._domElement.addEventListener("touchstart",h),n._domElement.addEventListener("wheel",g),n._domElement.addEventListener("contextmenu",m),n._removeAllEventListeners=function(){n._domElement.removeEventListener("mousedown",p),n._domElement.removeEventListener("touchstart",h),n._domElement.removeEventListener("wheel",g),n._domElement.removeEventListener("contextmenu",m),document.removeEventListener("mousemove",v),document.removeEventListener("touchmove",v,{passive:!1}),document.removeEventListener("mouseup",b),document.removeEventListener("touchend",b)}}return n.update(0),n}return function(e,t){function r(){this.constructor=e}Wn(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.install=function(e){ei=e.THREE,ti=Object.freeze(new ei.Vector3(0,0,0)),ri=Object.freeze(new ei.Vector3(0,1,0)),ni=Object.freeze(new ei.Vector3(0,0,1)),ii=new ei.Vector2,oi=new ei.Vector3,ai=new ei.Vector3,si=new ei.Vector3,ci=new ei.Vector3,li=new ei.Vector3,ui=new ei.Spherical,di=new ei.Spherical,pi=new ei.Box3,hi=new ei.Box3,fi=new ei.Quaternion,gi=new ei.Quaternion,mi=new ei.Matrix4,yi=new ei.Raycaster},Object.defineProperty(t,"ACTION",{get:function(){return Si},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentAction",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._spherical.radius},set:function(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"azimuthAngle",{get:function(){return this._spherical.theta},set:function(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"polarAngle",{get:function(){return this._spherical.phi},set:function(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"phiSpeed",{set:function(e){console.warn("phiSpeed was renamed. use azimuthRotateSpeed instead"),this.azimuthRotateSpeed=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thetaSpeed",{set:function(e){console.warn("thetaSpeed was renamed. use polarRotateSpeed instead"),this.polarRotateSpeed=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boundaryEnclosesCamera",{get:function(){return this._boundaryEnclosesCamera},set:function(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0},enumerable:!0,configurable:!0}),t.prototype.rotate=function(e,t,r){void 0===r&&(r=!1),this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,r)},t.prototype.rotateTo=function(e,t,r){void 0===r&&(r=!1);var n=ei.Math.clamp(e,this.minAzimuthAngle,this.maxAzimuthAngle),i=ei.Math.clamp(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=n,this._sphericalEnd.phi=i,this._sphericalEnd.makeSafe(),r||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi),this._needsUpdate=!0},t.prototype.dolly=function(e,t){void 0===t&&(t=!1),this.dollyTo(this._sphericalEnd.radius-e,t)},t.prototype.dollyTo=function(e,t){void 0===t&&(t=!1),$n(this._camera,"dolly")||(this._sphericalEnd.radius=ei.Math.clamp(e,this.minDistance,this.maxDistance),t||(this._spherical.radius=this._sphericalEnd.radius),this._needsUpdate=!0)},t.prototype.zoom=function(e,t){void 0===t&&(t=!1),this.zoomTo(this._zoomEnd+e,t)},t.prototype.zoomTo=function(e,t){void 0===t&&(t=!1),this._zoomEnd=ei.Math.clamp(e,this.minZoom,this.maxZoom),t||(this._zoom=this._zoomEnd),this._needsUpdate=!0},t.prototype.pan=function(e,t,r){void 0===r&&(r=!1),console.log("`pan` has been renamed to `truck`"),this.truck(e,t,r)},t.prototype.truck=function(e,t,r){void 0===r&&(r=!1),this._camera.updateMatrix(),ci.setFromMatrixColumn(this._camera.matrix,0),li.setFromMatrixColumn(this._camera.matrix,1),ci.multiplyScalar(e),li.multiplyScalar(-t);var n=oi.copy(ci).add(li);this._encloseToBoundary(this._targetEnd,n,this.boundaryFriction),r||this._target.copy(this._targetEnd),this._needsUpdate=!0},t.prototype.forward=function(e,t){void 0===t&&(t=!1),oi.setFromMatrixColumn(this._camera.matrix,0),oi.crossVectors(this._camera.up,oi),oi.multiplyScalar(e),this._encloseToBoundary(this._targetEnd,oi,this.boundaryFriction),t||this._target.copy(this._targetEnd),this._needsUpdate=!0},t.prototype.moveTo=function(e,t,r,n){void 0===n&&(n=!1),this._targetEnd.set(e,t,r),n||this._target.copy(this._targetEnd),this._needsUpdate=!0},t.prototype.fitTo=function(e,t,r){var n=void 0===r?{}:r,i=n.paddingLeft,o=void 0===i?0:i,a=n.paddingRight,s=void 0===a?0:a,c=n.paddingBottom,l=void 0===c?0:c,u=n.paddingTop,d=void 0===u?0:u,p=e.isBox3?pi.copy(e):pi.setFromObject(e),h=Zn(this._sphericalEnd.theta,Xn),f=Zn(this._sphericalEnd.phi,Xn);this.rotateTo(h,f,t);var g=oi.setFromSpherical(this._sphericalEnd).normalize(),m=fi.setFromUnitVectors(g,ni);Qn(Math.abs(g.y)-1)&&m.multiply(gi.setFromAxisAngle(ri,h));var y=hi.makeEmpty();ai.copy(p.min).applyQuaternion(m),y.expandByPoint(ai),ai.copy(p.min).setX(p.max.x).applyQuaternion(m),y.expandByPoint(ai),ai.copy(p.min).setY(p.max.y).applyQuaternion(m),y.expandByPoint(ai),ai.copy(p.max).setZ(p.min.z).applyQuaternion(m),y.expandByPoint(ai),ai.copy(p.min).setZ(p.max.z).applyQuaternion(m),y.expandByPoint(ai),ai.copy(p.max).setY(p.min.y).applyQuaternion(m),y.expandByPoint(ai),ai.copy(p.max).setX(p.min.x).applyQuaternion(m),y.expandByPoint(ai),ai.copy(p.max).applyQuaternion(m),y.expandByPoint(ai),m.setFromUnitVectors(ni,g),y.min.x-=o,y.min.y-=l,y.max.x+=s,y.max.y+=d;var v=y.getSize(oi),b=y.getCenter(ai).applyQuaternion(m),x=this._camera.isPerspectiveCamera,S=this._camera.isOrthographicCamera;if(x){var A=this.getDistanceToFit(v.x,v.y,v.z);return this.moveTo(b.x,b.y,b.z,t),void this.dollyTo(A,t)}if(S){var w=this._camera,_=w.right-w.left,T=w.top-w.bottom,E=Math.min(_/v.x,T/v.y);return this.moveTo(b.x,b.y,b.z,t),void this.zoomTo(E,t)}},t.prototype.setLookAt=function(e,t,r,n,i,o,a){void 0===a&&(a=!1);var s=oi.set(e,t,r),c=ai.set(n,i,o);this._targetEnd.copy(c),this._sphericalEnd.setFromVector3(s.sub(c).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),a||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd)),this._needsUpdate=!0},t.prototype.lerpLookAt=function(e,t,r,n,i,o,a,s,c,l,u,d,p,h){void 0===h&&(h=!1);var f=oi.set(e,t,r),g=ai.set(n,i,o);ui.setFromVector3(f.sub(g).applyQuaternion(this._yAxisUpSpace));var m=oi.set(l,u,d);this._targetEnd.copy(g).lerp(m,p);var y=ai.set(a,s,c);di.setFromVector3(y.sub(m).applyQuaternion(this._yAxisUpSpace));var v=di.theta-ui.theta,b=di.phi-ui.phi,x=di.radius-ui.radius;this._sphericalEnd.set(ui.radius+x*p,ui.phi+b*p,ui.theta+v*p),this.normalizeRotations(),h||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd)),this._needsUpdate=!0},t.prototype.setPosition=function(e,t,r,n){void 0===n&&(n=!1),this.setLookAt(e,t,r,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,n)},t.prototype.setTarget=function(e,t,r,n){void 0===n&&(n=!1);var i=this.getPosition(oi);this.setLookAt(i.x,i.y,i.z,e,t,r,n)},t.prototype.setBoundary=function(e){if(!e)return this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),void(this._needsUpdate=!0);this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0},t.prototype.setViewport=function(e,t,r,n){null!==e?(this._viewport=this._viewport||new ei.Vector4,"number"==typeof e?this._viewport.set(e,t,r,n):this._viewport.copy(e)):this._viewport=null},t.prototype.getDistanceToFit=function(e,t,r){if($n(this._camera,"getDistanceToFit"))return this._spherical.radius;var n=this._camera,i=e/t,o=n.getEffectiveFOV()*ei.Math.DEG2RAD,a=n.aspect;return.5*(i<a?t:e/a)/Math.tan(.5*o)+.5*r},t.prototype.getTarget=function(e){return(e&&e.isVector3?e:new ei.Vector3).copy(this._targetEnd)},t.prototype.getPosition=function(e){return(e&&e.isVector3?e:new ei.Vector3).setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).add(this._targetEnd)},t.prototype.normalizeRotations=function(){this._sphericalEnd.theta=this._sphericalEnd.theta%Hn,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Hn),this._spherical.theta+=Hn*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Hn)},t.prototype.reset=function(e){void 0===e&&(e=!1),this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.zoomTo(this._zoom0,e)},t.prototype.saveState=function(){this._target0.copy(this._target),this._position0.copy(this._camera.position),this._zoom0=this._zoom},t.prototype.updateCameraUp=function(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,ri),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).inverse()},t.prototype.update=function(e){var t=this._state===zn.NONE?this.dampingFactor:this.draggingDampingFactor,r=1-Math.exp(-t*e*62.5),n=this._sphericalEnd.theta-this._spherical.theta,i=this._sphericalEnd.phi-this._spherical.phi,o=this._sphericalEnd.radius-this._spherical.radius,a=oi.subVectors(this._targetEnd,this._target);if(Qn(n)&&Qn(i)&&Qn(o)&&Qn(a.x)&&Qn(a.y)&&Qn(a.z)?(this._spherical.copy(this._sphericalEnd),this._target.copy(this._targetEnd)):(this._spherical.set(this._spherical.radius+o*r,this._spherical.phi+i*r,this._spherical.theta+n*r),this._target.add(a.multiplyScalar(r)),this._needsUpdate=!0),0!==this._dollyControlAmount){if(this._camera.isPerspectiveCamera){var s=this._camera,c=oi.setFromSpherical(this._sphericalEnd).applyQuaternion(this._yAxisUpSpaceInverse).normalize().negate(),l=ai.copy(c).cross(s.up).normalize();0===l.lengthSq()&&(l.x=1);var u=si.crossVectors(l,c),d=this._sphericalEnd.radius*Math.tan(s.getEffectiveFOV()*ei.Math.DEG2RAD*.5),p=(this._sphericalEnd.radius-this._dollyControlAmount-this._sphericalEnd.radius)/this._sphericalEnd.radius,h=oi.copy(this._targetEnd).add(l.multiplyScalar(this._dollyControlCoord.x*d*s.aspect)).add(u.multiplyScalar(this._dollyControlCoord.y*d));this._targetEnd.lerp(h,p),this._target.copy(this._targetEnd)}this._dollyControlAmount=0}var f=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,f),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),oi.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);var g=this._zoomEnd-this._zoom;this._zoom+=g*r,this._camera.zoom!==this._zoom&&(Qn(g)&&(this._zoom=this._zoomEnd),this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);var m=this._needsUpdate;return m&&!this._updatedLastTime?(this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):m?this.dispatchEvent({type:"update"}):!m&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._updatedLastTime=m,this._needsUpdate=!1,m},t.prototype.toJSON=function(){return JSON.stringify({enabled:this.enabled,minDistance:this.minDistance,maxDistance:Yn(this.maxDistance),minZoom:this.minZoom,maxZoom:Yn(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:Yn(this.maxPolarAngle),minAzimuthAngle:Yn(this.minAzimuthAngle),maxAzimuthAngle:Yn(this.maxAzimuthAngle),dampingFactor:this.dampingFactor,draggingDampingFactor:this.draggingDampingFactor,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:this._camera.position.toArray(),zoom:this._camera.zoom,target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0})},t.prototype.fromJSON=function(e,t){void 0===t&&(t=!1);var r=JSON.parse(e),n=oi.fromArray(r.position);this.enabled=r.enabled,this.minDistance=r.minDistance,this.maxDistance=Jn(r.maxDistance),this.minZoom=r.minZoom,this.maxZoom=Jn(r.maxZoom),this.minPolarAngle=r.minPolarAngle,this.maxPolarAngle=Jn(r.maxPolarAngle),this.minAzimuthAngle=Jn(r.minAzimuthAngle),this.maxAzimuthAngle=Jn(r.maxAzimuthAngle),this.dampingFactor=r.dampingFactor,this.draggingDampingFactor=r.draggingDampingFactor,this.dollySpeed=r.dollySpeed,this.truckSpeed=r.truckSpeed,this.dollyToCursor=r.dollyToCursor,this.verticalDragToForward=r.verticalDragToForward,this._target0.fromArray(r.target0),this._position0.fromArray(r.position0),this._zoom0=r.zoom0,this.moveTo(r.target[0],r.target[1],r.target[2],t),ui.setFromVector3(n.sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(ui.theta,ui.phi,t),this.zoomTo(r.zoom,t),this._needsUpdate=!0},t.prototype.dispose=function(){this._removeAllEventListeners()},t.prototype._encloseToBoundary=function(e,t,r){var n=t.lengthSq();if(0===n)return e;var i=ai.copy(t).add(e),o=this._boundary.clampPoint(i,si).sub(i),a=o.lengthSq();if(0===a)return e.add(t);if(a===n)return e;if(0===r)return e.add(t).add(o);var s=1+r*a/t.dot(o);return e.add(ai.copy(t).multiplyScalar(s)).add(o.multiplyScalar(1-r))},t.prototype._updateNearPlaneCorners=function(){if(this._camera.isPerspectiveCamera){var e=(i=this._camera).near,t=i.getEffectiveFOV()*ei.Math.DEG2RAD,r=Math.tan(.5*t)*e,n=r*i.aspect;this._nearPlaneCorners[0].set(-n,-r,0),this._nearPlaneCorners[1].set(n,-r,0),this._nearPlaneCorners[2].set(n,r,0),this._nearPlaneCorners[3].set(-n,r,0)}else if(this._camera.isOrthographicCamera){var i,o=1/(i=this._camera).zoom,a=i.left*o,s=i.right*o,c=i.top*o,l=i.bottom*o;this._nearPlaneCorners[0].set(a,c,0),this._nearPlaneCorners[1].set(s,c,0),this._nearPlaneCorners[2].set(s,l,0),this._nearPlaneCorners[3].set(a,l,0)}},t.prototype._collisionTest=function(){var e=1/0;if(!(this.colliderMeshes.length>=1))return e;if($n(this._camera,"_collisionTest"))return e;e=this._spherical.radius;var t=oi.setFromSpherical(this._spherical).divideScalar(e);mi.lookAt(ti,t,this._camera.up);for(var r=0;r<4;r++){var n=ai.copy(this._nearPlaneCorners[r]);n.applyMatrix4(mi);var i=si.addVectors(this._target,n);yi.set(i,t),yi.far=e;var o=yi.intersectObjects(this.colliderMeshes);0!==o.length&&o[0].distance<e&&(e=o[0].distance)}return e},t.prototype._getClientRect=function(e){var t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.z=this._viewport.z,e.w=this._viewport.w):(e.z=t.width,e.w=t.height),e},t.prototype._removeAllEventListeners=function(){},t}(bi),wi=r(2),_i=function(){function e(){}return e.prototype.installPackages=function(){},e.prototype.registerViews=function(e){},e.prototype.createRoot=function(){return null},e.prototype.createRenderTargetNode=function(){return null},e.prototype.loadData=function(e){},e.prototype.initializeWhenPopulated=function(e){},e.prototype.setDefaultVisible=function(e){},e.prototype.startAnimate=function(e){},e}(),Ti=function(e){function t(t){var r=e.call(this)||this;return r.isDefault=!1,r._targetId=t.clone(),r}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"targetId",{get:function(){return this._targetId},set:function(e){this._targetId=e},enumerable:!1,configurable:!0}),t.fontSizeOptions=[6,7,8,9,10,12,14,16,20,24,30,36,50],t}(function(){function e(){}return e.prototype.populateCore=function(e){},e.prototype.populate=function(e){this.populateCore(e)},e}()),Ei=function(e){function t(t){var r=e.call(this,t)||this;return r.showAxis=!0,r.showAxisLabel=!0,r.showAxisNumbers=!0,r.showAxisTicks=!0,r.showGrid=!0,r.numTicks=50,r.tickLength=.005,r.tickFontSize=1.5,r.labelFontSize=3,r}return Object(n.c)(t,e),t.prototype.clone=function(){return er.cloneDeep(this)},t.prototype.populateCore=function(e){},t}(Ti),Bi=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"renderStyle",{get:function(){return this.getRenderStyle()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Axis"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAADk0lEQVRYw72WTWgkRRTHf1U9zUx3MmtE2IuIfRJnD0u87Yow8eIHBp0+qCC6xoOgBzGKsIoILogreFFk9yLiqqcFoXY3iJjk4CBCXFTMbW4mhwUR1MTMVPf0R5WXnmUyJjAzpi1oqH794P36vX+9V3DICsPw0TAMQ0peziHBXwI+B55sNBp/djqd6/8bQBiGbwLvAxYQwMNlQjgjwV8H3i1eozzPXSllDjzSaDR+63Q6Px01gBwK/jhwHtgxxnyVJEm+s7NDmqbnC5c3wjCcLw0AiIEN4Iwx5seBsd/v/w48BvwK1I8aoDK0/xlYVkr9sLi4eOvAmKbp30qpa8C1MjRwE0ApdQO4AWCtjQd2a21e5jGUh9j7QwC2TIDKQUYhRD5tvcMwbALzwAJwH1AxxsxJKe9XSn07FkDx03sFRD5G0GeB5SLwv9MsJUVfGbsE+xIyhk/rgODdof2WUqo9dgmmAFgqAO41xpyUUj6U5/mc49zsc59NpAHAnbD0njHmASnlU2maBlprXNftzs7OzhbfP50UwBk3cqvVeq5oXgt7e3tYa/NarXbB87xjRWauKKW2JwXYp8lDhHcSeMUYs9TtdkmSBM/zvvF9/7Usy+JioAF8MPExHBGnGAl8AngCeFlrPRdFEdVqdct13UtSystKqU7htwQESqnNaQAOO24vAGf7/X6gtUZKuVupVD52HOfK2tra98O+SqldYHOqRrRPXZ73YBiGHvB0lmULvV4PY0wipbwopby8vr6+ceSdcHj5vn+XMeZMr9cjSRJbq9WuAl/MzMysKqW6pbRiKeWWEML1PA+t9akoigCs67rnVldXz5U+jFZWVq47jkO1WiXLMoQQuRAiy7IsbDabzdIvpQCNRkNJKY9Xq9XbPc/zhRBOmqbHgWeCIHg+CII/tre3N/8rgBhD+bcUvf5tIIjjmCiKsNZmwC7wKnC13W7vlgJwwNRbAhaSJEFrjTEmBzIhxEfW2ncmBRHTUBczfxloZVlGFEWkaWoBA3wJnG2329sFcAtYKvrC0QAMgdxZlOZUnud3a61JkmQg2q/r9fptlUrldHHX/PDIAUZ0cgmYN8YEURQRxzGO4+h6ve47jvOLUuqe0gBGpuOL1tqLAHEcD5oZwGml1MY0N6LJVC2EllK+JaX8zvf9QXCAT4pMTT+Mxk1C8QzulQKYBU4AweiAKgPgPeACcAzQwB3F3gH+GnX+B+ped2WsA2n3AAAAAElFTkSuQmCC"},t.prototype.createRenderStyle=function(e){return new Ei(e)},t.className="AxisNode",t}(_r),Ri=function(){function e(){}return e.toThreeColor=function(e){return new wi.Color(e.red()/255,e.green()/255,e.blue()/255)},e.toThreeVector3=function(e){return new wi.Vector3(e.x,e.y,e.z)},e.fromThreeVector3=function(e){return new Kt(e.x,e.y,e.z)},e.fromThreeVector2=function(e){return new Kt(e.x,e.y,0)},e.copyToThreeVector3=function(e,t){e.x=t.x,e.y=t.y,e.z=t.z},e}(),Mi=function(){function e(){}return e.createByPositionAndDirection=function(t,r,n,i,o){var a=e.create(t,i,o);return a?(a.position.x=r.x+n.x*a.scale.x/2,a.position.y=r.y+n.y*a.scale.y/2,a.position.z=r.z+n.z*a.scale.z/2,a):null},e.createByPositionAndAlignment=function(t,r,n,i,o){var a=e.create(t,i,o);return a?(Ri.copyToThreeVector3(a.position,r),e.align(a,n),a):null},e.create=function(t,r,n){var i=e.createCanvasWithText(t,n);return i?e.createSprite(i,r):null},e.createSprite=function(t,r){var n=e.createTexture(t),i=new wi.SpriteMaterial({map:n}),o=new wi.Sprite(i);return o.scale.set(r*t.width/t.height,r,1),o},e.createTexture=function(e){var t=new wi.CanvasTexture(e);return t.minFilter=wi.LinearFilter,t.magFilter=wi.NearestFilter,t.needsUpdate=!0,t},e.createCanvasWithText=function(e,t){var r=Ci.getNormalFont(40),n=document.createElement("canvas"),i=n.getContext("2d");if(!i)return null;i.font=r;var o=i.measureText(e).width+8;return n.width=o,n.height=44,i.font=r,i.textBaseline="middle",i.textAlign="center",i.translate(o/2,22),i.fillStyle=t.string(),i.fillText(e,0,0),n},e.align=function(e,t){switch(t){case 0:case 3:case 6:e.position.x-=e.scale.x/2;break;case 2:case 5:case 8:e.position.x+=e.scale.x/2}switch(t){case 0:case 1:case 2:e.position.z+=e.scale.y/2;break;case 6:case 7:case 8:e.position.z-=e.scale.y/2}},e}(),Ci=function(){function e(e,t){this.dx=0,this.dy=0,this.firstX=Number.NaN,this.lastX=Number.NaN,this.fillFunction=!1;var r=document.createElement("canvas"),n=r.getContext("2d");if(!n)return this.canvas=new HTMLCanvasElement,void(this.context=new CanvasRenderingContext2D);r.width=e,r.height=t,this.dx=e,this.dy=t,this.canvas=r,this.context=n}return e.prototype.createTexture=function(){return Mi.createTexture(this.canvas)},e.prototype.clear=function(t){this.context.fillStyle=e.getColor(t),this.context.fillRect(0,0,this.dx,this.dy)},e.prototype.beginPath=function(){this.context.beginPath()},e.prototype.closePath=function(){this.context.closePath()},e.prototype.drawPath=function(t,r){void 0===t&&(t=null),void 0===r&&(r=1),this.context.lineCap="round",this.context.lineWidth=r,this.context.strokeStyle=e.getColor(t),this.context.stroke()},e.prototype.addVerticalLine=function(e){e*=this.dx,this.context.moveTo(e,0),this.context.lineTo(e,this.dy)},e.prototype.beginFunction=function(e){this.fillFunction=e,this.firstX=Number.NaN},e.prototype.closeFunction=function(){return!Number.isNaN(this.firstX)&&(this.fillFunction&&this.context.lineTo(this.lastX,0),this.lastX=Number.NaN,this.firstX=Number.NaN,!0)},e.prototype.addFunctionValue=function(e,t){e*=this.dx,t*=this.dy,Number.isNaN(this.firstX)&&(this.beginPath(),this.firstX=e,this.fillFunction&&this.context.moveTo(e,0)),this.context.lineTo(e,t),this.lastX=e},e.prototype.drawText=function(t,r,n,i,o,a){void 0===a&&(a=!0);var s=.1*n,c=e.getBolderFont(n);this.context.font=c,this.context.textBaseline="alphabetic",this.context.fillStyle=e.getColor(i),this.context.save(),this.context.translate(t*this.dx-s,a?this.dy-s:s),this.context.rotate(-Math.PI/2),o&&this.context.scale(-1,1),this.context.textAlign=o!==a?"left":"right",this.context.fillText(r,0,0),this.context.restore()},e.prototype.fillPath=function(t,r){void 0===r&&(r=1),1!==r&&(t=t.alpha(r)),this.context.fillStyle=e.getColor(t),this.context.fill()},e.prototype.fillRect=function(t,r,n,i){void 0===i&&(i=1),1!==i&&(n=n.alpha(i)),t*=this.dx,r*=this.dx,this.context.fillStyle=e.getColor(n),this.context.fillRect(t,0,r-t,this.dy)},e.prototype.fillPathBySemiTransparentGradient=function(t,r){void 0===r&&(r=1);var n=this.context.globalCompositeOperation;this.context.globalCompositeOperation="darker",1!==r&&(t=t.alpha(r));var i=this.context.createLinearGradient(0,0,0,this.dy);i.addColorStop(0,"transparent"),i.addColorStop(1,e.getColor(t)),this.context.fillStyle=i,this.context.fill(),this.context.globalCompositeOperation=n},e.getColor=function(e){return e?e.string():"black"},e.getFont=function(e){return e+"px "+V.viewerFontType},e.getNormalFont=function(t){return"Normal "+e.getFont(t)},e.getBoldFont=function(t){return"Bold "+e.getFont(t)},e.getBolderFont=function(t){return"Bolder "+e.getFont(t)},e.measureTextHeight=function(t,r,n,i){return e.fillOrTextHeightText(t,r,-1,-1,n,i)},e.fillText=function(t,r,n,i,o,a){e.fillOrTextHeightText(t,r,n,i,o,a)},e.fillOrTextHeightText=function(e,t,r,n,i,o){for(var a=t.split(" "),s="",c=0,l=r>=0&&n>=0,u=0;u<a.length;u++){var d=s;s.length>0&&(d+=" "),d+=a[u],e.measureText(d).width>i&&u>0?(l&&e.fillText(s,r,n+c),s=a[u],c+=o):s=d}return l&&e.fillText(s,r,n+c),c+o},e}(),Oi=function(){function e(){this.scene=null,this.camera=null,this.context=null,this.texture=null,this.delta=new Kt(-1,-1)}return e.prototype.render=function(e,t,r,n,i){if(!t.isEmpty){this.delta.equals(r)||this.initialize(r);var o=this.context;o&&this.texture&&this.scene&&this.camera&&(o.clearRect(0,0,this.delta.x,this.delta.y),this.renderPolyline(o,t.polyline,n,i),this.renderTextItems(o,t.items,r,V.viewerOverlayFontSize,V.viewerOverlayFgColor,V.viewerOverlayBgColor),this.renderFooter(o,t.footer,V.viewerFooterFontSize,n,i),this.texture.needsUpdate=!0,e.render(this.scene,this.camera))}},e.prototype.clear=function(){if(this.texture&&(this.texture.dispose(),this.texture=null),this.context&&(this.context=null),this.camera&&(this.camera=null),this.scene)for(;this.scene.children.length;){var e=this.scene.children[0];if(this.scene.remove(e),e instanceof wi.Mesh){var t=e.material;t&&t.dispose();var r=e.geometry;r&&r.dispose()}}},e.prototype.initialize=function(e){this.clear();var t=document.createElement("canvas");if(this.delta=e,t.width=this.delta.x,t.height=this.delta.y,this.context=t.getContext("2d"),this.context){this.camera=new wi.OrthographicCamera(-this.delta.x/2,this.delta.x/2,this.delta.y/2,-this.delta.y/2,0,30),this.texture=new wi.CanvasTexture(t),this.texture.generateMipmaps=!1,this.texture.minFilter=wi.LinearFilter;var r=new wi.MeshBasicMaterial({map:this.texture});r.transparent=!0;var n=new wi.PlaneGeometry(this.delta.x,this.delta.y),i=new wi.Mesh(n,r);this.scene||(this.scene=new wi.Scene),this.scene.add(i)}},e.prototype.renderTextItems=function(e,t,r,i,o,a){var s,c,l,u,d,p,h,f;if(t&&t.length){var g=.33*i,m=i,y=1.5*i;e.textAlign="left",e.textBaseline="top";var v=0,b=0;try{for(var x=Object(n.h)(t),S=x.next();!S.done;S=x.next()){var A=S.value;e.font=A.isBold?Ci.getBoldFont(i):Ci.getNormalFont(i);var w=e.measureText(A.key);b=Math.max(b,w.width),void 0!==A.value&&(v=Math.max(v,w.width))}}catch(e){s={error:e}}finally{try{S&&!S.done&&(c=x.return)&&c.call(x)}finally{if(s)throw s.error}}var _=Math.max(200,v);e.font=Ci.getNormalFont(i);var T=0,E=0;try{for(var B=Object(n.h)(t),R=B.next();!R.done;R=B.next())A=R.value,this.measureValue(e,A,_,y),T=Math.max(T,A.dx),E+=A.dy}catch(e){l={error:e}}finally{try{R&&!R.done&&(u=B.return)&&u.call(B)}finally{if(l)throw l.error}}var M=g+b+m+T+g,C=g+(E-=.4*i)+g,O=g,I=r.y-g-C,F=O,N=I;e.shadowColor=Ci.getColor(o.alpha(.5)),e.shadowBlur=3,e.shadowOffsetX=6,e.shadowOffsetY=6,e.fillStyle=Ci.getColor(a),e.fillRect(F,N,M,C),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.strokeStyle=Ci.getColor(o),e.lineWidth=1,e.strokeRect(F,N,M,C),e.fillStyle=Ci.getColor(o),F+=g,N+=g;try{for(var L=Object(n.h)(t),P=L.next();!P.done;P=L.next())A=P.value,e.font=A.isBold?Ci.getBoldFont(i):Ci.getNormalFont(i),e.fillText(A.key,F,N),N+=A.dy}catch(e){d={error:e}}finally{try{P&&!P.done&&(p=L.return)&&p.call(L)}finally{if(d)throw d.error}}F+=v+m,N=I+g,e.font=Ci.getNormalFont(i);try{for(var D=Object(n.h)(t),U=D.next();!U.done;U=D.next())void 0!==(A=U.value).value&&(A.isMultiLine?Ci.fillText(e,A.value,F,N,_+g,y):e.fillText(A.value,F,N)),N+=A.dy}catch(e){h={error:e}}finally{try{U&&!U.done&&(f=D.return)&&f.call(D)}finally{if(h)throw h.error}}}},e.prototype.measureValue=function(e,t,r,n){t.dy>0||(t.isMultiLine=!1,t.dy=n,t.dx=0,void 0!==t.value&&(t.dx=e.measureText(t.value).width,t.dx>r&&(t.isMultiLine=!0,t.dx=r,t.dy=Ci.measureTextHeight(e,t.value,1.025*r,n))))},e.prototype.renderFooter=function(e,t,r,n,i){Oe.isEmpty(t)||(e.fillStyle=Ci.getColor(n),e.shadowBlur=2,e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowOffsetX=3,e.shadowOffsetY=3,e.font=Ci.getNormalFont(r),e.textAlign="right",e.textBaseline="bottom",e.fillText(t,this.delta.x-6,this.delta.y-3),e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)},e.prototype.renderPolyline=function(e,t,r,n){if(t&&!(t.length<1)){e.beginPath();var i=t.list[0];e.moveTo(i.x,i.y);for(var o=1;o<t.list.length;o++)i=t.list[o],e.lineTo(i.x,i.y);t.isClosed&&e.closePath(),e.lineCap="round",e.lineWidth=3,e.strokeStyle=Ci.getColor(r),e.stroke(),e.lineWidth=1,e.strokeStyle=Ci.getColor(n),e.stroke()}},e}(),Ii=function(e){function t(t){void 0===t&&(t=null);var r=e.call(this)||this;return r.target=null,r.target=t,r}return Object(n.c)(t,e),t.prototype.isEnabled=function(){return null!=this.target},Object.defineProperty(t.prototype,"isChecked",{get:function(){return!1},enumerable:!1,configurable:!0}),t}(bt),Fi=function(e){function t(t){return void 0===t&&(t=null),e.call(this,t)||this}return Object(n.c)(t,e),t.prototype.getName=function(){return"View all"},t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFEUlEQVR42r2Xe0xbVRzHv7f09skjukl06raS4NRonJluwIabWh9J5zQS/pDEGJeY8I/JBuVRHgNcRZkG/piYiAmEhGx/mJCYbZnzH+QxirKQLZssirQFgQIJIKPv1/WeA7el9N62JGQNJ730nnO+n/v7nfv9ncO0t7dzWq0WDMPgYX5CoRDm5+fBdHV1cQaDARqN5qGJcxyH6elpFBcXg+nu7uaKioqgVCohk8loByEapCNpm/9P5Zq0rYLCUweDQayurmJ0dBSlpaWxACbWlpT+6Ef7YeiGqMj1T2W4edmedI6SMSfGx8dRVlYWBVCpVKiWW7ELuaKD0pRAblEQ+h+8EXGx76EyLe5fYhHyiYsvYQIfDC3CarWivLw8CqBWq1GVNikKIFcDupNBFDT5oH0yFCO49dq3oISlUQnbVRZBjzjA+4MLFMBoNCYHkKUB+97lxc1eZOWEE4oL1+5/VbDUKWG/wYILiQNMTk6ioqIieQrI2tpzLIjCbz145EA4qThpTpsSg0YN5obk/I/xAKcG5ilAZWWlNAB5ci5MJl0f+ERBEPlmF7JfTiy+fJfFSL0WjmF24wn4P/7lEiJBAN7rd1CAqqoqcQCS86ffCML/AJgdlEfoH88PoOCbNTz2PCMqvvKXDMOVmZi3sJExewqDUGRwmOmT82uCoQAnf5uja0AUIFuZi5xTQRyu8SLk59B/Vs0/TRQi50MP9D96RKPQV5oOa686ClwQwPE2D9LkDEa/UsF6hcWibx2ARKC6ujoe4PhpHQ4Zo6t9YQwYrtVEnurFz9eQ1+AXTcEfZjXuXczYiJYfeefdyHzOjXA4DGY1C6PNKty8ZIehb5ZGIA7gysdh6Dt8dMDmiRf/DON2q5qHCkqKC+1WsxbuWTleOutCRo6f/kbmIy7o9/sx3qhD1mdDsNlssQDECYVOZEAqq32ruNQ9Mh9pPp8PLpeLWjGJgMlkkgbYKXGhkbkJgNvtFgdQKBRxADshTj6bUyBEgKRAEoB875T41hRIRoBl2W2lYDv3hBQkjQAR9nq9tPNOiUulwG63xwNc+wQ48b0rLgXE4W63aaDhX8NXalwJxe9cyIJrTo6DZ9xQ7XXFpWDiy2eQfrqfRqCmpiZ+Q3K0ZD8O1/qgyPZGvN1Sp40Y0Qu8ER0yOSXF732XuW5EeX4c4WuHKuc/ek/p3o2xVhUGuqbw9q92ClBbWxsPsG7FAbxq8iEUCGOAWjEbY8XHLq6Ihn34zC7YejUxVvxaq5ta8a2viRUrqBW/dcNGUyAKEClGrwfgW2MwF1OM/Mi/8CDicFvT4JnSwEKK0YgiYTEiACQCdXV1sWugRmGPlGNmoxwL9Zw8Td4XLurtiRac+59M/H4uHfMJynFKANEdibAhcUP5lDO1N2HxUQxVaCU3JPpfrDQFKQGQSOx7h98HnPdClr2akkWnreyG5ZwaUxJbsjevT1KA+vr6KIBcLkedalpiU8pBZ+ArYaMXAe1SQnG1NxsjTSrYrrE052Kb0hNX/8bU1BQaGhpSAxC25c+WBHCg2hYnvhmCvOcTvYm35YU/36cno8bGxigAGdyU4UjpYLLXeFdUfLbtYEoHkyM/3cHMzAzMZvM6gF6vpxa8vLxM3SoVexUDkOoj1ALBjj0eDxwOB1paWsB0dnZyOp2O+rPT6YwpRGKhTnYt1V+wY3I2JBBLS0vo6OgA09zczPX09NAfxA6WqZx0t9tXiAiJ+v9uZdtYUcZXXgAAAABJRU5ErkJggg=="},t.prototype.invokeCore=function(){return!!this.target&&(this.target.viewAll(),!0)},t}(Ii),Ni=function(e){function t(t){return void 0===t&&(t=null),e.call(this,t)||this}return Object(n.c)(t,e),t.prototype.getName=function(){return"Hide or show axis"},t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADrUlEQVR42r2XS0hUYRTHv3tnmnHGcRyd6GGWupMWokSlYjktLIMeChVkZYZKZmglgVESCVKLVmUKUYSP8hE+aRG1ykKwnS2UWlTqJrXGnIcz48x99P/kM26DomPeuXD4O/dePL8553znnOHIMtfl8u/HIJqGxqReouLFLeO8AvKQfawERH3YAOD8FqQOJiueqwbBBTm/AbnHPnpEIWDUaDeINBWwMkA8Vg0Azk9CXsJmJUkYDAT8+2fsE1FW6446nd5Yg/vjsDxADKsFcBRyE3ZXEPy7RFGoogAGg7nSEhNHnV+D3QbAB7UAtkHi4eBjaclooSzLjygAz2uLunpymsN6CkqKR05BnlIAjuPOdffmPg83wHFIKwWAnu3pO/wirAClxSNHIK/s9gkSKgBSmQ1JhdlgWTCtJIsWntMcQHrfrTYCFKCNReA0ADpWcHoecpU5Xu6yAWBgLQAFAGhfAYC267yg226Yif09BudJodSAEuAMANpWAIhm3z5TlqUUjuNzRcFv0Wh1i6/UAuBOKAD5kOYQALZIklTB83yB1+tMdDomiV5vcqN/LEYgEQDjoQCcgDxbDUB5+dcLHOEL/QGfzTk7SVBwotEY02AyxZrxuAjWB+f5oR5DJcCSNYBvnUK7IxwWOeDY53ORyMjYN2bzpuvopD6tVnef1cWSxbfqRhQcATjeCaHPrzid05a5uRliMESPoXU3RUREdTY1p31W1AUN/af/6oRKAPzTMkj1Yp41Wr2DEOkJHPc1t+weVKUVR5piWxDW97Qh/c2zJPhRcI0A6GxrzxpSdRZsjUseQp7TaZ69PpdsMsb0Y1NpjY7e/BbhdavSii+WftmDITSAUEfAOXG77XiTk/U6Y21HZ3at6rOA5duLZhLhQK79fh/diiTYKC2+7t5DA+EAoNVOu1cOzOLxzBKnY1piID9gNQBpUQ0gqM3mMZhECuJ2zRBRCggc4XAKSBWsHzAOVQCWmHq0u9nm5+cQkSmC80/TI6Bm6rFF1YUKwq2Fms18On7zcDQRkZ9kft4jIyJID9eFjb4aIOMMmEavCCfGsW4ACpAElpp0FGyywzlFfF434XmNiIi8tm5MsKIlZ1BYADxYd4CgOmmiIxnHNtHl/EU8nt9Eo9F5rLHx+G2hGwZAmmoA/07Hb5ewEzQubCQu+8I9dFIqGYAYUh2A5X077CBsn+IR7SGZwbWgBoByPXMxH4uLSWrwdFQDYC+ETlG6kHhYNMzs92UHACaU7/8BN5rnMOIo75AAAAAASUVORK5CYII="},Object.defineProperty(t.prototype,"isCheckable",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isChecked",{get:function(){return!!this.target&&this.target.hasViewOfNodeType(Bi)},enumerable:!1,configurable:!0}),t.prototype.invokeCore=function(){var e,t;if(!this.target)return!1;try{for(var r=Object(n.h)(this.target.root.getDescendantsByType(Bi)),i=r.next();!i.done;i=r.next())i.value.toggleVisibleInteractive(this.target)}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return!0},t}(Ii),Li=function(e){function t(t){return void 0===t&&(t=null),e.call(this,t)||this}return Object(n.c)(t,e),t.prototype.getName=function(){return"Toggle between black and white backgroud"},t.prototype.getIcon=function(){return this.isChecked?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAG9UlEQVR42rWXa2xcxRXH//fu6+5617vG8ToOTYgJwRCsyCWpAgJqEChKYqBqv4BUVQopCah8KESUD1GctxOJfLAAiWIJRZUwRklMKSSCKFRtWiKnKc6jSvy25fgZr732vryv+9jtOde+y+567bQSWWl0752dmfOb/5w5c0bA/K+pqSnt8XggiiLu5k9RFPT29uLAgQNF9KkJ8/XCyZMnU5s3b4bNZvtRDabT6cxT0zSMjo5i586daGtrW07VsgEgnj59Wqurq4PVaoUgCDkDcDHqjHdj4MUMZr+nUimoqopQKIQbN25g9+7d6Orqepj+ihUEyDZslOy6QrMrZNwoPPNkMgm/34++vj7s2bMHPT09m6hZ2AAwEYBqADAxd8oHiMsapiMKpkIy/PQMJzSY0ik4LYBTElEkmVBCH6XFlszMjdnHYjFdgVu3bmHv3r3sBz+nJsEFAOwDbJw7ZQNcGlLx52thmE3kpKIZMTmNQFwlp9IgEIQcT0ChIodmcfCl1aheLenGuS87ngEwNDSE+vp6Bni6IAArkA/AA719JgDH6vtg1QCHCbAhDREpJBMJXOmZxuh4GIPjAQSCUdRv9uKNX96b6csA8Xg8o8C+ffsY4BmyG1gAYLFYCirwu1Y/PkclLPTuMAMuiwCHKKAmNYlPznYjrci0x7goaPjVKuyoq9AH5rEMBcLhsA6wf//+pQHYOHdkesOh3vg8iOaIl0ekJRDnSlrAi3Y/vjrfSfUqbSoCIGdr3F6Fl5/1Zhww3wcoBtwZIF+BN1tD+NOEnWkoaggZgKetQVy42JMD8PHv12PbY6U5S5DtA3cE4A75AH9oDeLjW+IPAHpcELDRFEZ7ez+ogy4/A7Ts+Rlqa9wLfCAYDOoABw8eXBzAbDYvANCSQfzxi8uo79pANuW52c9DVKXC6OkcngPQFdDw5dHHseGhogxA9hL8zwByIgJ5+jsovi+hBdqohR+Vn15EypIEyAFhYgAR5ckQfEM+mr0KUVbgqPwPXvm1gMcrNmC5rQJlUhnsgj3jhHcEMJlMOkBo7O8wy7twjysNU9QPIanio3/X4XzXT/F1/yYkRSftRdoRSgyxiVkUL/Nj/S+uwl3djYg6g1kKVK5UCVZpD2Ln6tfhET0ZBQ4dOlQYYNu2bRkF/H2t8Dheg7uCZmx9iNa+BIjEkYhq6Lk0hM/+sRKnkk/A6VmLx14cxyO14whGNESiCQpSMhTy/u6BMdy8Po6GmmN4cvmTOQpQSC4MYCgw1X8W7sCrKHZHYXJQC6cZgqcWHRdoFlfbMRY34av1Fah6dC3cxQ5IjiJYbZLef2IqhDPftaOrfxySakfjE43YWLZRV2B4eFhXYFEAQwFf7zcwj/wWTjuFXwo8tDlg9Vbjyr/CmBgYxggBnNl0L1zlTtipgUOS4LDb4V1Wiubz36Ojb4S2JlAqluL92vexzrNOV2BJAMMHZJJwcuBvSHTsgGSZzgAUla3FjeuzmBi6jRFZRPOj98DqkSBRA4aQqNHK8jK0XriJsbEZ2hlAhbkCHzz3Ada41mQUOHz48NIAfHRODV7E1OXtsImTunGGcJb+BL3dcUyOTWNYEfBetQSz06obNwAeWLEcf/m2A5FgnHYGsEpahQ+3fIgV9hU5AP39/UsDBH3d6D67HepsJ0hdcKLkLCnB+KiC6clZDNLsGtaQDZsIq0Uk43MQ6+5bib+e7aKzmPMdoKq4Ck3PN8FlcmWc8MiRI4sDcE7IAMkERa6RNgy3f4TA6PcQUkG43DbEZjWEgiqmLW68W5KAz5Qg56DYZBPolBZwf4UXvf+coF1Dp6bgwK6Nu7Bj/Q4oSSWjQENDw9K7IEFHLEPMnecphG5fxWjHGcx0fQFNmcWyB17Asg2/wcXYIFo6W3DNdw3JdFIHKfEUIdAbhVfy4p2n3sGWNVt0Z+RQzAqMjIwsDcAKMACXnLRKTUKOTiGlyrAUeWm2kl4fokjYGehEy80WtI+2I6yE8Ii7Gm9tegs15TV0WgiZsyASiegKHD16tPASMAD/OGwygJHRFMoJ89M1WZPRPdWN2+HbqC6vRnlReSYl4yPZUICz4mPHjmFgYGAhwNatW3VaPrV4CbKz2vzkczGQ7HdjAnwY8YSi0ShtzzEcP358IcCpU6fU2tpavREDMEghI4ul3UuBMYCRE/h8PjQ2NmJwcDAXoLm5Wa2srNQ9lRtmy58/8FJpeT5kdmbMAW5mZgYnTpxgX8hNSilLUc+dO6cDGMb/n5tP/nf2RSb/gjI5OclLnJOW84WQ72TFVErmn7b5euFHvh4yDa9ZMvtiwob4NsHnnmv+aZmvvxs/BlCyr2b8pGyfQ4k+c+v8t3CXAFgFLftymg1hypL+bgLoS/FfMyqbjGfQOPEAAAAASUVORK5CYII=":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAGb0lEQVR42r2X228UdRTHvzPTnd3ubndZCr3QVlKkVARRAS0pikUfiWBCw4NvvsCTf4ZvvpjILSb6IImmAWKg8QGIgWACSIsQbbfbUkq37bK97n12d3YunjPtrlPYQTDWbX6Z/Ka/3zmf3zm/cxkBK7+zZ8+a+B9/J06c8NFDF1bmAgEYe/bsWXPFw8PD6O/vR19fXxNN1TKARAAaAxSLRWiaBtM0YRhG5VkePHcaT/9fFEXrna7rlkyWHY1GMTQ0hPPnz28nvcozALlcDqqqrlJoB7C/c4J0GgywtLSEkZERBugivekygIsAVAbIZrPWQqZ+WkChZCCdN5FUgFTBhKKJEPQSZJTgFnXIkg6vbMIn6xZUWYYdkAEikQgDHCC9yWcAMplMxQ125eGkDw+yDfC4ZbjkWqiGhLRqkrVonVZCPqugQPDKYhKHty6gJViwAJ62TiKRwOjoKAP0VAVIp9OrAJZPYeLb8SZ07O8GHQ5eCXCDfAwya6GAwcgipmMpTMSSSCRz+KR5Fh9tz1R1HQOMjY0xwEHSm6gKUCChpVKpcgJdN3BqpBG3W96Di+beGqDOJcArCnjLmMP3/SMwSypgjRJ62xfx/rZsVTcwwPj4uDNAMpmsANjpT0dacT24myKXTEC32xqmgMO1C7h0ZZjeaxRUBEDW+3RHCu+25yoWtLuB5T969MgZgAnz+bwFUN7IQr4Jt+EXeRsppXwlCBWAHjmJ679GVgF8tjeLN1pyVSMhlSJXTUw4A/AtLQPYN343vAlXzfa/AXhAwF4pjYGBh6BLY5mfAY7vz2Fbg1Ixvd0KDPD48WNngIWFhWcABD2DG5EMzqSPkE51+fQrEJ1GGpHh6DKAZQEdn3+Ywyv1iqMFOBk5AszPzy8DFLPwGUOoF+8giDA8viy2/ngLhqtIq2mbxAAiGospzE7O0uk1iGoJ3vYH6N47hs1mE/ylOvhNP2RDrgDwJZ+amnIGmJubg6IoEHO/452dZ9BU74KUW4BQ1HDmt0O4En4bPz/sQlH0UyxSRJQUKPEsAhsWsOvIPQR3jiCjLZEiFWLahdp4CF2ZbgTMQAVgenraGWB2dtYCkNI30dN9GqEW8qv8Gvk+BGTyKOR0RG5N4ocbbegr7od/XQf2HY5hxwcxJDM6MrkCFHJFifw+8nAG9wejOKR8jE6pswIwMzODCxcuVAeIx+MWgJm4hYPtpxCqL0Ly0gp/DYR1H2DoegqT9wYwk5dwaVczOnd3IBjwwuP1QXZ7IEkS4vMpXL45gPDDGERad9Q4ii3SFguAM20sFnMGePLkiVWQ9MQAuhpOIlSXRw0lHpeLDNGwE4O304iPRzFFgi93taCu0Y9aWuD1eOCtrUXDhnqcu3IXQ2NTFJqAr+hDr9iLVrG1AsA6HAHYPGwBLfEAOzxfI+jPVgB8Gzvwx/0s4pNPMKWKOLd7PeR1HnhoAUN4aFFb40acv/4nyVmiyAACxQB6a3rRKDZaAFzs2MqOAHxB2AJacgib9ZMIelOWcobw17didCSPuZlFREsCvtrpQY1ftpSXAbZuasJPV4eQSeYpMoCQGkKvuxfrhfUWAMvme+YIwCFi9QSZKAJzJynfz4CsC7ebAEIhxKZLWJzLYoJO98WrpMMtQnaJpHwZ4vXNbbjWHwbVKcoLwEZtI455j8FHf2ULcKg/F8AqyYU8JCUCOXENQn4cco2CQNANJatTPtcQN2vx5QaCkTlKKDe5BYg1ArY0NWD0ZpyihoRqLuxz70OX0GXNyxbgZOcIwFmqXJKt5EE5XihMwEzdgz87SCW4CEV+E4m6LtyXFnCneAdT+hQ0UbNAQkEfEmM5+A0/etw96BQ7IRhCJS2zBTjdOwJMTk5a6bIMUCmpugpBS8OkDkgT/HTBa5ZPZOQQM2K4W7hL9yKKgphHk9qMA64DaKJsyCe3V0O+4M8F4ELBAFyS7dXwn/o+zdAQU2NI6Sk0i82Wz6vtYwAuyY4AXKvtFqg27EJfBM6+jwFYviNAOBy27sDTnczLKHrePi50LL8qQC1lMoFKLPds5Z7eqQWv9nyRNdzyM8TFixdXN6XHjx9X2Te88N/8WPjLrCOAVW05dRigdIM6GlT2EAA3vsvvhf/464wJ+JRF+4cJK6KEC+8KhHdlLq7RJyIDlOyfZvykbp9TiXVyeWUurBEAW0G3f5zaISSb6dcSwHLFX9OuP5s54FTZAAAAAElFTkSuQmCC"},Object.defineProperty(t.prototype,"isCheckable",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isChecked",{get:function(){return!!this.target&&this.target.isLightBackground},enumerable:!1,configurable:!0}),t.prototype.invokeCore=function(){return!!this.target&&(this.target.isLightBackground=!this.target.isLightBackground,this.target.invalidate(),!0)},t}(Ii),Pi=function(e){function t(t,r){var n=e.call(this,t)||this;return n.viewFrom=r,n}return Object(n.c)(t,e),t.prototype.getName=function(){return"View from "+this.directionName},t.prototype.getIcon=function(){switch(this.viewFrom){case-1:return"";case 0:return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEiklEQVR42q1XfWwUVRCfvfbuWrC9o4QiCsIlJYgRhGIQQxCRmthSaSFICIrgRxSLCq0hBP7gI/EPTfxCaSSRpETBEsCkyPEVUgIlAVFQwEswgXCtRQKtgV64u/ba3p2/KbPNc9lu99p7yS+z+3bem9+8mTfvrUYDaKWlpRMhVgEjgT3ABb/f3ziQubQUjI6BmAG8CzwHOJXPYeAEUAs0gMzNtBGA4UkQr4jHedzn1kZQpsNDo1wl1NZ9CfidupP3jGR2ABdBpjllAjDqgygH3gaeuK/oJE/2dHo4dzENcfkeGBPtDFJr+CC1tZ+jeKKXTBQ4DfwInAKZpj4JwOhjEDOB14EXABf3Z2UV0LDh88jrnWs7rh0dQfq7cSPF46FWvI6Q7k7gDPAdk9JXRoPhpyA/B54GPNzpcHooZ+RLlJNfRJlZ+TSY1hkJUrilnsL/NlCiK0QKmb+AeiawV2Lc0xzZ+eQt3EDOXB+lqyW6IhS5WkvRpoP8mpTQZLM5JlCDhxUAh+B74Hm4Te5Jr5J7wsuDNt7dEqD2X7ZSMtraEx1gOZZ/L+ze5XcmsBIP37JhfDiF9zfl3aWNnkIZRWtJcw1N2XCyM0KJ83soEej1+hiwBDZCsMGhbgN+ZgKz8XBSJyAJ6ZEBzyTdQylevp5ozJP2rTcHKOPQF6SF75AYmoe5zygJr9v82JSAolgF8QkXna6pc6hj4Yf9pH+E3Md3kevXo7rXuzHnMpNt/iXEGmCKvgsuAtuh/J6J8liI48D4eI6X2lZtpvgjYx+w7bwWIE/NZ+S415PpN4BizBfoo86clapaoEkHs92JAW9YVMRqiAr2LFRcrrUXTqfY+ImkRSOUV1tDD52uZ7U4UI15VvdTXdshbkHPZ5uAEjvOqhx+j/kKSIvFyHWzp6ZcBV40q3YmK9qo21MJ7EPHYouBnJiVwCY90QUO3m3ABxi/3cbZspyNA+9Dv1onwIG7w0tiMWirVEquYmuh+7VSQ2J8RknsXzMms2EuPqTeAiZD70+dQJClkYAk6DfALLOsVgh4gc2S2SQH0DKzcGDMZU5ofMvuPYyMBGS5v5LJuf0BlBmPVp0A+jUlvj8I4S5JyErDGHbkLvrzVALnIabxRHhmT6ok0biIvIP+fX0s5/8IGJK1TlaG56iATq2y5evwvkAlwMplwD/Ao5JU24zs7RIwFJwKOdqvcOkF1gGLMOYnlQDfYOZInC8ARVyzbWS0JQElnHxVK1Z2z7MYc04lwLHbz6URyOTyC4X16SCgkNjGO4QJQN9heiWTGPmB0cB1YCGULw1yBWbLvh8nxzHXix393Qn5OF4p+3sTBnyaKgHxWt+anFNBs0ppxZzvh4eBXOA3vjUZB/ezC1SvOaRbUr6Wixd8S5ov16ilmOiARR1QveY6cJu7rcJo68cEE5dAHJAE9Uu5DakEDF7b2sap/hmxdw1cw+Xno1Qq5QqpmmskZ/jbXCuvB0RAIbJarvEZklj6+cGx3g18ZKeGDJiAkOAL4hGpmtz4glFidQqmlYBCZJ0s/eOpeJ02Aulo/wFLBAx1zskobwAAAABJRU5ErkJggg==";case 1:return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFF0lEQVR42q1Xf0yUZRz/vnBceYBdnJIOEWjWUilttlljktWYhWiyWegGYuVWUY3IP1yrVm3R/KcfLilusml15DLZrFjFWi15S3PmVCSg0cBLLOSQHwJ33KFen+/5ffG91/fuOOXdPnve93m+z/f5fJ8fn+f7KnQdT1FR0UIUbwDFQGljY2MDXeejxDFoJor7gWeBfCBJ1zwK/AzsBZpB6N9pI4CB70bxBPACkCbVbsAD3Ae4gMcAh4FMHXACZM7ETQCD5qBYB2wBFkn1OPAtUA2nJ2GzG++b8a5InyUoXpJ+GhkvoAJfAAdh645IAA7mo8gDNgEPA1ZpOgrUoPOnBpJhBAxtTKYJSABmS3UAOATsYlLazChi/J5M5y1ifA6oBXabsY5FwITMZmAjcJuOTAfwExPYJ2usPad5GnmaYzieEgGx5cDeAl4GgrI0M3iGFM0RwEvwGbBSNtLrcL7jRgnA7kEUvHxZso/K0Wcf6gf5mwk8h5dPeGA0HMT30/JtlXUsQf1wvARMomZfG9iXtA0B3yjC8BeNgK4zd1guhuu0tiluQvZZD2RI/9WwO2Ro5zHfMSWgM3wFxXYRnT1ofyoaASH+LlAhUdejvcyE4AcyM0u1U3CCdz2Mnzcx5rX7EbgD6AUKYNdqogMcyJey03tYnNguwvIcFlVdoHUOGiM06VSji4xVbp4ooF2O8TPAJdGMyhgb08fBwC5nygR0UbIapuqqJ2SJOmV23DF8ZMlRD42nJ/AVKp6McZargDelKihgtbvIMoz+tVPQhHIeHHgR9jUaAT5mAzwlUTrtEKUMOBZsstozVlFfRy2NnIPUKxZQYQ6htS81bmaDrzpZrntgd0oj0M2lkYBs0I+AFfydPCeP0hdXTMbvaaul0V6VsvN30UBXA13o+UHryhdQmdlywGcLb2i0zZi8jIwEZLo/FIWkpNQsSr93K1ludlzpELzirL8VBP4DgYL60PdFXz95Wj8m/9Bf2t7gDVllIMC9B1GfpifwB4plfKTwzurF5z9VsdjIkbuFbHOXh4chBM6fqqWxsyrNf7R+so4djg+0U9/x97EqLPkhIaqA7726I38A38V6AgdQPA6cDamXkkAp2QVkX1wWeTdhwIGTTvL2qJS5uj6MmPYMtn1Oo25ISJBPJ7Wz9ALbgPVaGqcR4AzmIXaRZM9RHHmvUkKS7RqHYUkE2gaPg8AZlTLWukwJhKomvHT+2E7ye1r08/cACBzRE+CzuZ+lEbAk31lEqbkbIqdNMtDQMSf5/lFpbvFVAmY30+WAl4Zb9pCvJ3QdBDF4gqlvWaNGUbmutILq25PsWabTz8/wUSeNu1Was94VcbYCfe00DKKXvP1aWsd6URcrJ+TrmK9pf/KSkptsC9eEDa51unAEBE6rlF5yLQGO2vtnA3k7m0iEqttMKZUogsH54XfAzMS0HJq5opISU2aFDTRy2En+bpVmbXSFOeSoR3530uWxyai3Y+C3407LRQ84S1rLaVTKyiqbNXPZ1Z+B35wU6FLJUeqajNrX0kDjHU2aDnBuWRQtvZvSjwmIFKL4mjeoZd5SSsmvIMVqo7FfQeBvlW4td9FEbzuNNlXzJZMtU77TKEI3+mfEs9HMGs7BJxe+lhLobKaJTpWsi1ZRoC0UtV/yyUdiJbVxE9ARqZT7P1FJnU3BEQ/pflxYkbaa5ZDTRkBI5KL4XnI+fjjBKIx2C04rAR2RbZLb3RVP1NNGYDqe/wEHHlJ1ODJi2QAAAABJRU5ErkJggg==";case 2:return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEvklEQVR42rVXfWxTVRQ/rytbrE5GB9sYDjKDiqDMRKMQouB3xAYFHQSYbCgqoguCAZVo0ASN/mEi4IJDEj4sfuESwEZYiIZtcZE4dYuwLUEHZQ6mW4S60Xbr1vo75dzy9nxtX+d8yS/n9b5zz/mde88991SjYTwul+tGiNeB+UCJx+OpomE+WgpOCyBmAM8CdwGjdJ97gW+BT4FaEDo7YgTg+GaIYuB5wCnDXqALuA1wAw8B2QYyO4BGkGlPmQCcFkI8CqwApspwEPgKeAtGm6CzE+9leNdkThFEucxTZPxAHfAJUANdb1wCMDARYhawDLgHSJdPPwAVmLzbQHIIAcM3JlMN2IBxMtwP1AMfMSm1MpoovyfLOVqU/wA+BHaasU5GwIRMGbAYyNWRaQW+YQJfyB6r5zQvIy9zEsOWCIguB/YG8GI0alsGRcJ9YV4hTRkCeAv2AHMkkV6D8c3/lQD0ZkPw9k3StFGUf+1KGj1mBjU3LL3AecUEVuJlGzuGsRr8flJ+p8s+LsK4L1UChqgjjqzpWv7kcrKnOWgw5KeTPz3Nagc1YXhUEdBNZud3ABdkS2pSSEK2uReYYIPD/GnryJF5PWhg+YGAr4XONG9i1U2mBHSG1kK8I0VnF74vT0RAiL8NrOKor8qZpeVNWRVzrGRX28d0vvMwT7lFnYJGznoYe84kmkkQR4DrgE7gfugdN6kDHMjnnOlpGU4aX7Se0q8sGOJYyfbGjRTs/ZWnTVaTI8YITYhUqMikyl0jFTBLjvFTwGDmxAfSsm8oNXWs5G91ZRSJhE7DX6FlAroouRpm6oZDvEV2Ry7l3L6B7Bljo06ihvWOw5fkQKCbzhxbTcqfnsA+DCxMcpbXABtlSEyTzVEwh5xFK+BEizk1i5zRc7aWuloref4L8FehCPAx+4uXJI7zUojNUim5iq2D7haVBxPmuQ3OtLhb0H1iO/Wei+b6dNj4RRE4xdJIQBJ0K3CnRLsXOk8YT0Lew9vJZncYotVMV6Cj/hUK9bYHYeeK2GVkJCDL/b5USH5+Bh4xXq2KwPgFblNnl/Z+6LZ4q5fy1POw5dQTaIC4lY8U3rl6rZVE4yL0DMb3JSrHeY8lIKDblpDPS53fbeCp+2Fzvp7Afo4Q6ODqBQwAH0BpjZULKbfYnTD5lPQ1f0Y9bR6e+rhq4xQB7mDuln3+EbjPrP7HI5CzyBqBjoMl6vTMhP1jegJc7b7k0gjYufxC4VWrBMYtNiEQvuw43O+nv5t2UeD3+igB2LaZtmSS9R6pcm3AgkR9gSIwdkn8FQj92UK+hkoa9Hertq4cNnck6wn5OuZruo8LDya8m4hAdsm/CUT6/HTxeBUFTvKlGs2pU3KPeC11xTDO/eHXwNXSFxYbJysCzmXuIZGHOluo5/tKCl+MRc1b+mbKbbnUA+6S5kmHuwSGDhgJjCl1x6IONlVRsLVa3RHcW7oSbaOlPyZwNBfigCSoR/4N+RSBrOVuGjjXQv66WNSWjnGq/4x4NWq5hkvP6JJKWZY+7UHqPxGNuk++3ZusqU2ZgI7Iarn/0ySxCnV/XLgNe8lKDRk2ASFxE8QhqZr8BIC5xpbufyOgI/KydL1TUol6xAiMxPMPNDmCdWXdv0IAAAAASUVORK5CYII=";case 3:return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFDklEQVR42q2Xf0xVZRjHn3MuF7jXvIDgWJIIW1oQVq7WZEUmRitjYUxXaWgsp4wyY62Z/pNtrnKrxVrmbbH8kUZaLm0M51ZNYLM1RfFHg2yETFQQ8HoBL3CBS9/n8hw493Tu5V7ibN+957w/P8/7Pu/zvkehKTz5+fkZqhqzw+cbXI7PV6uqqo7QFB8lgkHnIlkMbYSehKy64j7oN6gSqgXQ9WkDwMALkayC3oBmcZ7FlkgWq4O8PS38eQB6Dko0wFRADYC5GjEABk1HsgJaD2X6My1Wip6ziBwLCshmSyNXvZP6btQRBlCkzUNINkk7DcYD1UHfQTWo2xoUAB2kInkcWgvlQtGcr85Op9iMZ8g+L4csg0RRgwpE1N0AgPYJAIMBDHOCm0OzJdsLnYK+ZihtZhSp/Cn0KBQnlTss2SuSrQueoujYJP+A/sG9YwD83n3BSb0d5gAmMK9Br0DJOpgm6FcGOCxrPPbEYcDCMrLGp2IgRQalAOstyOu65KSem5MDCAQbth16GxqVpbHxDDHAHiYcfq+cor53El0BmDWGrItXkS3zWVPrOa+z0UnuzrBmYAmSfdA8aABahzaHke/ibwYowctu3/ptZJmTQerpGho5ASbfCEWlLCTHE5vIOmoPsJ7TjiYAdAcHMLGafeJl1HdL2W3oZ0UIT1LxGAB3rvb0k/foThq52UyK1U4J2WU0w5E5bj3PRvtlJ92+FdQJuc+DUIoM9DzqnTKUn4R2TACs3UbWuzP8nWtrP3Sumu6cPQT+EZqRkkPJ95WMz8KN5q8AUBsAIJZ9CJWK1QdRXmQC+JnMzMPaLmhQFuVS9LLi/zgeubrIVfsRDXs6EAriKDVjK9ktc+laayCAGHJIPL2NgxPKLgVZnt8lqt6rNR5VsnIoNm9DUM93XdxDPdd+8XeQkLiUhry3qK/3PH/GyzZ+HRqBdmHgzZM4Zj+SdtRLHwdQHwBA7sbAwQ2e7+1qpLamT8jnG9D3NyTnwt9Qnlm0MwzOu+EKtBd1iycA5j9G9ry3gu575Y6H3Ferqev6T1pfoyKOdsMchtGhM4yYsI4Hh95E/V0agFuZmeSYubrc1HpPay11Ne/HzuzXoti7aPy5FkMg9pYYWXs+nmtCAFTIcj2Iehc1gBYApMW9VB5gva+zlVx/7qMB919k5tU6gHjdnic5gIrMlgNtLiCZjzLb+GHkB7grKS1hZbl/cBXT3Xv2W/K01WntzkEFxqNVA9B2wpo127Pc7jNf4jVHfIMdsszQhg1xIX+WHuAMkkeSig5Qf/0R8lw+TqPDfkfjILIBlX8IMp0BAIZAc1RmhvsoRZ1KbctzGb5f1ANw5QLVlkC+fg7Rfqf6wkgfLoAh4JTK0d7IoRfaAq3UrnEaAN9glso610NPc8wOw6NDAuiiY6XcmjRfykabP/QAvDd/5NAIRUEfo8LW6QDQIFTV/o3P5ylkANRXTa9kskZV0D3QP1AhKp//nzOwRPZ9mhzHHC8qJrsT7kZSIvv7fTTYGSmA4Thmn2oxi5ShyPl+WA05oNN8azI2nmQX6K3mJf0g4mu5WLEfekGuUavR0bFgAAarOQ50cHaoZQzrxwQd8x/QMXHQKgm3bj2AweqwtnGkf0ZsXS3HcPn5yJcwzCoXqwelbFkoq6cEoAPZLOe/RRwrXYoG5Br2TjgxZMoAApGF5Ljc+fjhY3J5qFNwWgF0IFtk6u+PxOppA5iO518KBnx14vlBjgAAAABJRU5ErkJggg==";case 4:return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAE3klEQVR42q2XDWxTVRTHz3vtOle3AluHJorbDMbND4aBGD8yiRhjwGZI1IgRZCiZOCQDjSEuajRRQ0yUGSF0YclAmcuIJqgLhEQIAzMzJWQyky0aHGNABkW2wr67rv5Pd153+/bartCX/HNf3z333t+5955zbzW6gcfj8RSh+ABaCa1uamr6gW7w0ZIYdB6KR6A3oCegNKV6ADoKNUDHAXQxZQAY+EEUL0IboWz53A35oMXQPmgZlGOCqYXaANOTNAAGLUDxHLQeuk8+j0A/Q5+i0z9hU4f3Mrxr0qYYxSZpZ8AMQSeg76Bm2HbHBEAHd6F4HHoVWgo5pOoPaCca7zVBRgGY6hjmMKRDufJ5DGqBdjOUMTOaGH8h0zlLjC9BXqjOijoRgAVMGfQydJsC0wkdYYD9ssbGc5ankac5QcczAhBbduwjaDMUkqXJ4BnSjI5GP6ymtHov6Wc6jY30Pjr/6mYBYLcEBS9fnuyjtWizH9/7+DcDbMDLrsCbVUQFRaS3NpN+oI60YJBkHV9CA3+yABZec1+ruC+p64d+0oTw2Hh5FWn5RaTBVBscIm3v50QXzpAY8pI0J7EJuc966A5p/yzsWkz1x6BPIgDB9VWk5wFggiYFkFDLIQodbSSaCM/GHnSyLh6AePYZVCFe16N+jQXgdpmZhUYUtIUWL0VIrJsCMNR3hcYbt1GonwODeqGn0elfFnmAHWmUnX6ekxPbxVie3ySrzjcah6i4hPTS8ukAosAveyjYfoTEM85yd0oGnC1h/DoUlJxRmWBjDrMzsCuIAGgLSsjmiQWghcuJng4aPoixAiNqfwE5F/6R2elOMHiehHp4SacACh8m+4pNkUF1ZWAWjY2RrjvC74OHv6Txc6e46YRku3FOw+jQO4OcsJYHh96C/U4DwE8utyu9fDvCb3IDqoNHQ01p4NcaGv2XUz2NQumy9qvNEWMCqJXlWgC7dgOgS3O58295DQAhTYGYLl2pu95SQyNdYYDZSsyTHEBrrJYDY51GcQ/qMiKHURggy52fUVYd9jI83TZHNEhwOsy1VgCcPUFKJPD6fguVyN7gDbnFBMCbuA/fs1WAkygWZVbsSzjtqvy/19DwuSkAU6I5IDPDiagCNg1GyHMdfq9UAdh4heacQ65Xvraeeotv/SdraKhnOoAp4VTI0d7BqRfaCr1gXOMMAL7BPMkxbssp0LKeeY9sdmdMzyeBNLp6yktD52MDKNmxQXKGkUceRZtWFYDX7ntOjZA9434PZRavil7/UHROYF1t89LghfgACsQOjhAGgL1ueSWTNWriLKffmktzHttMDldezLD877SXBi4mnIElEvf5chxzvqhNdCfchWID6XbKKnyeXPNLIweUGoa+dgD0WgOYjmNOVF1WmTIeOd8PD0Iux6y7yf1QJaWlu6NmwNfhpeu9MaNA9XobbD5O+louXnwDlfI1am7x287MnEURgEudALgclQdUrwNyt/TEu97N6I8JOl6O4kfeoM7shXT7vRvJrjup928vXfNNApi85infYU5CN/vPiL07zjlc09NpXuG75L/cTP4r4VRcLV6Pyn3yqUSX2qQBFJBKOf9taY5cCoz5SPnjwtewd6zukCkDEIgHUBySOx8/fMFYHu8UTCmAArJVpr4wGa9TBpCK53+0kX11lby6UQAAAABJRU5ErkJggg==";case 5:return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFNElEQVR42rWXe2wUVRTGz0x3u7S4S2mrJmjVBgUxiAQVmzaKUvoHpBEloonlHQJYIRREETAWDU1solHEIiARtBSDSCx2IwqpoetbMNaKbY0GWApkSXn0sW5pt7vrd6Zndmcn23a3qZN8uTN37uN3zz33zBmFhnAVFhZOUFXblmCwexYe5zmdzkM0xEtJYNIsFDnQcugRyGp47YW+gT6BXAC6OGwAmPheFHOh56F0qXZDrdADgSm5pDY3kOLzmmF2Q/WAaUkYAJNmo3gCWgrdI9XXoRqoDIP+jjZ7cL+ot7ySlAAGOn+O1B+PEjX/StQVhvFB30L7oTr0c/cLgAFvQ5EHLYCmQ8ny6gRUgc4fmSA1gEBZJalB0iD0ki6eo8CBckzfwVa6Ubr0QD9AHzCUbhkFA92H8i02JzRKGl+CdkB7YlEbAUKvA4AtYILQy5AHMI0u8jccBUzICNMM1TLAp7LH+nWWzc9mHsQ3NADl1YgFGEKD0e+DSt99l4+6TxyinlNfc9eQbE0KpCr6QBBvwcfQo+JIrwBi62AASZtiWUAJwwRamqjr+A4Kea+gwkr2vOU0IiuHWvfPa2O/YoAVuHmfJ8aEdXheIs/sA4z8DOrb+wOwrq+MrFwr+yYnn496Iqsm65hJmHwlWSypFIJFWquXcfUXDDANN8d1ABl8lEz+ENQmW1IXC8C2rlJWroRNH+RV126nkO8aKdZUsk9fR7aMcWHQnktNdNVVxsNsiQlgmGQtijck6OzF+8VmgJQStoCiDUy81z8dIH9jrdYmOTuXHHnFUU7JEB31++jf019xk8n6Kahnr8cEz8Uw9e0ojkF3QR6oAO1O6QAjV+3TBg6cb6Lrx7bBvB2kpI4mR/5LlOzIivhG2E8UanWVUk/bPzz8nYpMEjKvMAZIBYpi8WKOcrdCM29Ysou6v68i/18wnqKQbXwB2R9c0LfaqGMZ2aKWI/D5oP8s5suOG0DaTZNoaI+EsiQgBUh13EyOGRvIkpIZfSz1UyEwAe9luuBaTfp8RoCDqHh6gMnZMddApVIVEqmkqDRy6kJKHZvfZ2ZDPDCunAG8LS663LiT+6/EfBU6AB+zq2ySfiZfiGKrREqOYi+i7buGGNIN2dSU0ZQ2tRgePyF8HKNh8AX7cxd1ejRfn4Qx/tABznBpBhAH3QY9LKutQpv55pMApVks9jd7ezuXat6fPp4yJheT1ZYZFSO0/f/lZfJ3eaim5nMl/DEyA4i535HB+foNmm3+tOoAqNfGKSraPLG9/eR2DRi+4cgqoIxx86PC89/fFXHTa+iTbgQ4ieJ+Hgj3m3G/VhyNg9Ay1B8cKBzrACZnrWbLqIh8N41dTI7MXOrudJO7YSM3qUafJ40A3Hg2dAG6BeqF3kOjNfF8kMwAhvdvy9FNTh4xhuxpU+iKx8mvntLTOB2AM5jHZJ+RUdCMWPE/UQDDdnKqNtNQnYM+PxsBONp9xqERsnD4RYMNwwGgQ6hq6ofBoG8OLxLt1ZgpmXi9U6LcaWjOQHlBnBZgf9gL3SFp3Sq03z1YTsif4xVyvkvRoTxRADE9O3SJ+NQZ+Y6448qKMQDnh19CDskL55o7D3IKjKvmLX0t4bRcVsFZ0uOSRj2LgQ73B2BatV9yy8KBtjGuHxMMzH9Ah8VBnfI31G4EMK06rmOc6J8Rr87FMVxyxkKJlIskapaIz/C7/MGS2oQBDCCrJY1PEsfKNvy4VEEvxBNDhgwgEBNRHJGoyVcXNMuc0v1vAAaQ9WL6uxNZ9bABDMf1Hzf9kHWILVGFAAAAAElFTkSuQmCC";default:return""}},t.prototype.invokeCore=function(){return!!this.target&&(this.target.viewFrom(this.viewFrom),!0)},Object.defineProperty(t.prototype,"directionName",{get:function(){switch(this.viewFrom){case-1:return"Side";case 0:return"Top";case 1:return"Bottom";case 2:return"South";case 3:return"North";case 4:return"West";case 5:return"East";default:return""}},enumerable:!1,configurable:!0}),t}(Ii),Di=function(){function e(t){this._controls=null,e._isCameraControlInstalled||(Ai.install({THREE:wi}),e._isCameraControlInstalled=!0),this._camera=t.isPerspectiveMode?this.createPerspectiveCamera(t):this.createOrthographicCamera(t),this._camera.position.set(0,0,5),this._camera.up.set(0,0,1),this._controls=new Ai(this._camera,t.domElement)}return Object.defineProperty(e.prototype,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){if(!this._controls)throw Error("Controls is not set");return this._controls},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){var e=this.controls,t=new wi.Vector3,r=new wi.Vector3;return t=e.getPosition(t),(r=e.getTarget(r)).distanceTo(t)},enumerable:!1,configurable:!0}),e.prototype.onResize=function(e){var t=this._camera;this._camera&&t instanceof wi.PerspectiveCamera&&(t.aspect=e,t.updateProjectionMatrix())},e.prototype.viewRange=function(e){return this.viewFrom(e,-2)},e.prototype.viewFrom=function(e,t){if(!e||e.isEmpty)return!1;var r=this.controls,n=this.camera,i=1;if(n instanceof wi.PerspectiveCamera){var o=Yt.toRad(n.fov);i=.65/(n.aspect*Math.tan(o/2))}var a=e.center,s=e.center;if(t<-1){var c=new wi.Vector3,l=new wi.Vector3;c=r.getPosition(c),l=r.getTarget(l);var u=Kt.substract(Ri.fromThreeVector3(c),Ri.fromThreeVector3(l));u.normalize();var d=new Kt(Kt.getAxis(0).getDot(u),Kt.getAxis(1).getDot(u),Kt.getAxis(2).getDot(u)),p=d.clone();p.abs(),p.negate(),p.addScalar(1),p.multiply(e.delta),d.multiply(e.delta),d.divideScalar(2);var h=p.absMaxCoord*i;h+=d.length,u.multiplyScalar(h),s.add(u)}if(-1===t){i/=2;var f=Math.max(e.y.delta,e.z.delta)*i*Math.sin(Math.PI/4),g=Math.max(e.x.delta,e.z.delta)*i*Math.sin(Math.PI/4),m=Math.max(e.x.delta,e.y.delta)*i*Math.sin(Math.PI/8);s.x=e.max.x+f,s.y=e.max.y+g,s.z=e.max.z+m}else 0===t||1===t?(h=Math.max(e.x.delta,e.y.delta)*i,0===t&&(r.rotateTo(0,Math.PI/2,!1),s.z=e.max.z+h),1===t&&(r.rotateTo(Math.PI,Math.PI/2,!1),s.z=e.min.z-h)):2===t||3===t?(h=Math.max(e.x.delta,e.z.delta)*i,2===t?(r.rotateTo(Math.PI/2,0,!1),s.y=e.min.y-h):(r.rotateTo(-Math.PI/2,0,!1),s.y=e.max.y+h)):4!==t&&5!==t||(h=Math.max(e.y.delta,e.z.delta)*i,4===t?(r.rotateTo(0,0,!1),s.x=e.min.x-h):(r.rotateTo(Math.PI,0,!1),s.x=e.max.x+h));return r.setTarget(a.x,a.y,a.z),r.setPosition(s.x,s.y,s.z),!0},e.prototype.zoomToTarget=function(e){var t=this.controls,r=new wi.Vector3,n=t.getPosition(r).distanceTo(e);t.setTarget(e.x,e.y,e.z,!0),t.dollyTo(n/2,!0)},e.prototype.viewAllAlternative=function(e,t,r,n){if(void 0===n&&(n=1.2),r){new wi.Box3;var i=Ri.toThreeVector3(r.delta),o=Ri.toThreeVector3(r.center),a=Math.max(i.x,i.y,i.z)/(2*Math.atan(Math.PI*e.fov/360)),s=a/e.aspect,c=n*Math.max(a,s),l=new wi.Vector3,u=new wi.Vector3;l=t.getPosition(l);var d=(u=t.getTarget(u)).clone().sub(e.position).normalize().multiplyScalar(c);t.maxDistance=10*c,u.sub(d),t.setTarget(o.x,o.y,o.z),t.setPosition(u.x,u.y,u.z)}},e.prototype.createPerspectiveCamera=function(e){var t=e?e.aspectRatio:void 0;return new wi.PerspectiveCamera(45,t,.1,1e4)},e.prototype.createOrthographicCamera=function(e){var t=e.pixelRange;return new wi.OrthographicCamera(-t.x.delta/2,t.x.delta/2,t.y.delta/2,-t.y.delta/2,.1,1e4)},e._isCameraControlInstalled=!1,e}(),Ui=function(e){function t(t){return void 0===t&&(t=null),e.call(this,t)||this}return Object(n.c)(t,e),t.prototype.getName=function(){return"Toggle between orthographic and perspective view"},t.prototype.getIcon=function(){return this.isChecked?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAD1ElEQVR42u2Xz29UVRTHz7n33TfvTafttMxknKktLWoaKFQjRo0/kZQNsCCA1v/ADYQt4R9g49aNXbhmgWjiQjaGgEaNJCQuTEQhmOjCCKFA6fTHvff4vfNeBQYoMw0hMfQ139733r1zz+ece2/eOUxdXPL5joiYe4h4jMS/h1f90A/Q39Bf0BxkoWXef0Y6mZM7MvzFrsjrqKTs4nN42kOsd5O3L6DLQPPQVegX6Osc5uf8fRNaBIzrGgDehr4E6iWlh31U2KfsEgy7TYhCCRGI7hruoaXc6AJ0BfoTOgOdg65Bt/O+e6LDDzCs0BSgCvQmNI1hEz4yNWVtEbaiRwUsXwaXA12HbkBfQd9Dv0OzC15uLpMsc5vh4PEzdwzTdmgAigHB2dzdXGF68TnUSnRug+zcLe9nrNCPbE9NKdI6ZecaSuw7GHAAehkqZ4bbo8TUEUjg1RpxgDmR/9ZpEQ+3nMzOe38Cz8f44szbg4mJDpZ7zPsJLU8ajZ3NHGPcgz1WmNS7rgAcAJYwFwwTDBNC38TMJzHqCB//aHwiTeKTo7XS2EifMo0NBU6Nwfa2FIHZKKE1RQDjHK0Y9jAswfDKL8PpyACOfDC8DVOejrSqG+yCGP+qvREN1fpprFqkeuIpjRWFPqOZwp9SD/faB8NY9iVWNGctNTOP25HvABw+MLQNN6eh+kqvhiGtFcVoS4mmRrlAjYGERsox9SUG75jiCFsHIBqtQoiDYWtinDWhuYVmy3Pv5WGxWh3gXqc4A2pFQAEgosGiopFaLzX6YqoCroyz4zmcN6EmYMT7R61P5wD37UEAcb4cAajSH9NbW8s0OBC3IDo8qGsHaL+KWKKp1yo0VE0QJe70Z48PICko2vVqlZ6t/Y8BJvOv2NMbgXWAdYB1gKcOAN8rvon2BHT0SQJIlpTyNafNea/ST4X1NwFgAh1fQqPha9tpsdIFQJaLEv0DnYVmvDKXbdQLkMJCAKjh5SFob15q9efZcKgNdA7VJUArb3S54VCgnIc+zu9n0W/Hp79tpQ4BIBgp4baHNNeF1XZkxFswwUvspY77QWQgKdKcABW1R+h+ALZIGsMmu4Ts+QLaT6A/QoEyPv2dW7U0O/ThqG55LoK03BfZ+Y0YMgqwN5BpTorm59lJMUvbM6C7AKxWat7p+FcmuaDEzSApRIkmszBs11ScIjrwmE0eAUSCNwJuszC/yOK3YshIUtDFqddrMlxNftNKfvJKfYbi9Yoid2P84Fn7WKrjHEZlS8AxAFIAhJKtUkyjd3e+Ut3QqKSnYiMX4fH11Txuv/4Fx02exAXByr0AAAAASUVORK5CYII=":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADv0lEQVR42u2XTYgURxTH61VXV/fs9M74saMbsgbJqlF0xc9EySLGowkYD+pFF0HNSRJFQfAkHvy4KKx4ERSTXAKBBEQS9KBG8OxJcwi5BRK/oqLO7Mx0d/l/PW+WcRSZlf24WOxvurd6et6vX1dXvyI1xY3e9cTKr1/xuRZo6XKgltt8OR1XAQkUACPft7IfghUgkv4quA2eiQxTAa1C3FeGpHtF4N7FdeQZo20U+b6nrYpjLQE8CbgSzJG+JWC+SM2S49wScJ+z0HQHN8ATCZz11V1ypZzWyqlyfPwpXTm2iiW6A+P1z5pZWNQdmiW+dlFg9FqPaDZLGK0CImrPAIlga0varjbLgJP4dZW4xKXlkTSuoO8yuo7S8HeL+QcHFdGw53u9FomAjS4VwqDbamMNqWJoVM43ykNePE2KAP4yA4PO9vvYDMi5r7tYVdMYoVM1kibZMbn6n8EBOjg0j1P5BfgBP1ki+eFGIIwwdHSHngqMQTClZkZWFbuMylujIl+rYhSqrkAri+9a/kCAKoKOJAiKUHGajA4CN3onVBn8BA7Rvu39LLC+IZDd09dHKjWumJuWfcbzSIWw8iHS12PVqv68stivS8iWgO3tKTgJzrKAj5014Efw0VgfTZYzsJnba9XgQEGFvu7ktIdgF7jKAhzwA/A9WNcyqjtuDYFADS4tYKx0JPAADIHr2dVCoiS3YMN7gUkS+FcEbk6FQCxTNgv81RToweYc2ChT7EQK1GSKHvpk2617TYE8NrvBETBtEgSuicCDpkAOm63gFJgxVQJbwOn3ApMgwIXLb+AbCDycCoHH4DA/9hAoNwR2zIeA26KcmwyB/8F+rgcgUMkEvt21IqQk3kRJ5YxyaWkCBfj9/A84CC5BYKQhsGe1ptrzfkpqv+DfRW8otcZDIJYp+IJMev9BIB199+/bPq8Xgpewu1xqvvESaNaGd8Ew+J1vAwd/pSzHQJyOzQmZjosyJfudFChvEeAgj8AfUgH9yeUYgrvX1gUQ4DNLUuuvBaulBJ8m5bgZo0BdUn4GcAX8NwLX37owkeqIr5ofywL4EHwNPgcfg7xkpnVF1C7gpOi8LW9YHldPEDwZ08pIZDwJmheBz2SRMiBlHK+KUMkTZQIDhTRnNT9mt8BxcAe8aE35O68NIdRcjnF2Zsst+tKRXuOT64KAhcAjCJxH/0VO/5tSPi6LU8hkSzYELzoyA4GO++aU7LJPF0Y3p0fmhoxyN6GrY257dy4lcqnNUdX0lfxg5YKo3FPwq50G5/YSuZE57XlcRboAAAAASUVORK5CYII="},Object.defineProperty(t.prototype,"isCheckable",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isChecked",{get:function(){var e;return(null===(e=this.target)||void 0===e?void 0:e.isPerspectiveMode)||!1},enumerable:!1,configurable:!0}),t.prototype.invokeCore=function(){return!!this.target&&(this.target.switchCamera(),!0)},t}(Ii),Gi=function(e){function t(t){return void 0===t&&(t=null),e.call(this,t)||this}return Object(n.c)(t,e),t.prototype.getName=function(){return"Copy a image of the viewer to the clipboard"},t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAGj0lEQVR42q2Xe2xTVRzHv/f2sT62rmwVFIc8BozBAghBZcoEIhr/EN1fgMLALLzUBPkDMIbwfo4wRZjBESPRBBP/MoBBxczhVpDxGmxsY2Pv9bG129q1t723j1vPuW1HB4NdIif55bT39Jzf5/x+33vOr8yePXsiBoMBDMPg/7RwOIzm5maUlJTo6dcEizxpHnPy5MnIqlWroFAoBh9GIhEJKLF/XKNj1LnT6cSmTZtw9uzZ58njADEh1j8RgiktLY2sXr16EIAuGHeY6Hi4z6IoSp95nkdrayu2bNmC8vLybDLkI+aJ9UH60xEBWJaVdhIHCIsRDPiC6PeG4OFDYMkzjQrQqlkYdEqolYwEQOd4vV50dHRgx44dqKioeJWsO0DMFeuFGEDksQBr1qyRvoRCIcm5hw+jvIlHZ38IXhLEPi4ES2M1WJGMhwKYZFTgzZxUqBTR8Pt8PvT09ICsherq6jyylJtYX6wXYmkYNoODANQxBaC7auwJ4Md7Cqg0euhYEMci6q9XYgZvxjMWrG4wBYkAtTYBayuUaI+kIEXFIFnBwHjrHAqn2vCsBTsIQB3HU3DXFsDHFyNo8KvJ9kkIGBbTmy7g85f78KwFOwQgGAxKP6ojAIXnBdR5mCgAGExqLsMXb3jxrAU7CEAH4wBNXQ5s+NWHGy4dASAQJLRjWy5h15IQ5Ag2EAhFBRvgMf05Jd5/JY1ARMPv8XjQ1dWF3bt3o7KyMk8CKCgoIIMhCJ4uBJxl8Nr/xJfmxfilcwGgYiQIY6sZRR8oIUewvf0e1DT2orHNgckGEcUF4zE2XSXNoRGgAOQEpgALBwGCAgfOdgx69mckeTvwV9NsfFWZj7KOuQir1VBbb+DE6mTIEew4RyvK/m0DSThyx2twbG0mXjSppQjTCFgsFuzdu5cCLJIAqLKD/AC4zq1IN/0ElWEKOb/0cFl4XPytFyXt88DrR6NwymuQI9h5XAeu3YwC5E3W49j6LIwepZTmxFOwb9++oQAB3oOB+u0wit9DkyqCHZWJuutq3L1ejz9eMsFvzMBi10bIEex0zoa6u53kCOKxZIYBRzdkIy1F8QiA2WweCuC8vQtq9yloNUECMQZ1DQo03LPh/MQ0WEU9CtjtkCPYCZ5utN23EgAB785Ox5GN2UjVs0M0MASAaoD3e2C9vh9h67fQJAWgM6ShpY1FY0svzozXol3QYKvhEOQI1uR2wGlxgg1xyF3Qjc/yp2KKYSJSFCngfbykgUcABD+H9mvH4bhTBG2SD3qDHt09LJotHpx8gUUTp8DXGSWQI1gN50aEdyL77RtIn1Mt3cqjw+PwTup7mKmbBbvVjv379z+UgoAAl+0uOqq+geP+eSkNJIWwk+vkB3L5VPX78V1OKeQIVj1tFnLzLVAaOPR7/OSA4nD15n3MEfPwSdancDlcUgQuX778AEAg+aLHJBWYs+0SLNVnILjaMXrmKlhNY3HwXDHWj18POYJNeX0aubSSodcnwyeEccF8GzV1nfhwwkdYl70Ovd29OHDgwAOAlStXSs79fr8kLFEMIyR4EQ7yUCSlSq9WJbkNeRcPOYLlJqdBn5QEY7Iebl8Y5/6pQcgbQWFWIQqyCh4FWLFihaROChC/NB622tpa9Pf3Q45gezLI7lUqpGq1CAZYVFxrgcKvxMacjVg2dRkcdgcOHjwYBaA1YX5+Pvr6+qQoDOectvr6eilNcgTbYlJCp1bBqNNCHVCj9o4N2pAWm+duxtLMpei2dUsAV65cWcQUFxdH5s+fD5fLNfhuP+yc9rSAMBqNkCVYvR+shoFWp0IycWxvdCMzJRM783YiOzUbVosVhw8fjkaA7CjS0NAg7X64+zzeaNm1bds2yBHsiTunUOOsIVXpANSiEiZhDA69dQg5phz4OB+sViuKioqiAGRtcoQhhdgoYgZiScSiZ+pDjejlbzmCdfqdMFvM+J0UMSFyai6fthy5GbkQwyI4jpMAjhw5Ek1BzGEcgvaqGMCQ4jUGcEuOYKNgIuxeO4LhIMbox5AFo0UMBbDb7Th69CiuXr0qASiJqWMgtFcMs3sm9iemQ45g4wCJz+IVEQWnNeHx48dRVVUlATAxp4qE0A8HwBLBuuUINrFepI4TC9JAIAC3243Tp0/TEn4hk7jDxHAP0xREsIIcwT6pQI0XMw6Hg24kT26Bz8SikxQTqnEkwY7QIrF/S8LTTGRjAh1JsHIbBQg+DUBcKyMJ9mmiEP4PoBzNWSu1e5EAAAAASUVORK5CYII="},t.prototype.invokeCore=function(){var e;return null===(e=this.target)||void 0===e||e.domElement.toBlob((function(e){navigator.clipboard.write([new ClipboardItem({"image/png":e})])})),!0},t}(Ii),ji=function(e){function t(t){return void 0===t&&(t=null),e.call(this,t)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"isCheckable",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isChecked",{get:function(){return!!this.target&&this.target.activeTool===this},enumerable:!1,configurable:!0}),t.prototype.invokeCore=function(){return!!this.target&&(this.target.activeTool=this,!0)},t.prototype.overrideLeftButton=function(){return!1},t.prototype.onActivate=function(){},t.prototype.onDeactivate=function(){},t.prototype.onMouseHover=function(e){},t.prototype.onMouseClick=function(e){},t.prototype.onMouseDown=function(e){},t.prototype.onMouseDrag=function(e){},t.prototype.onMouseUp=function(e){},t.prototype.onKeyDown=function(e){},t.prototype.onShowInfo=function(e){var t=this.target;if(t){var r=t.viewInfo,i=r.items.length;r.clear();var o=Object(n.f)(t.getViewByMouseEvent(e),2),a=o[0],s=o[1];a&&s&&a.onShowInfo(r,s);var c=r.items.length;(i>0||c>0)&&t.invalidate()}},t}(Ii),zi=function(){function e(){}return Object.defineProperty(e.prototype,"zRange",{get:function(){return this.boundingBox.z},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundingBox",{get:function(){return this._boundingBox||(this._boundingBox=this.calculateBoundingBox()),this._boundingBox},enumerable:!1,configurable:!0}),e.prototype.calculateBoundingBox=function(){var e=new $t;return this.expandBoundingBox(e),e},e.prototype.touch=function(){this._boundingBox=void 0},e}(),ki=function(e){function t(){var t=e.call(this)||this;return t.isClosed=!1,t}return Object(n.c)(t,e),t.prototype.clone=function(){var e=new t;return e.list=Object(n.g)(this.list),e},t.prototype.getLength=function(e){void 0===e&&(e=3);for(var t=0,r=this.list.length-1,n=1;n<=r;n++){var i=this.list[n-1],o=this.list[n];t+=3===e?i.distance(o):i.distance2(o)}return this.isClosed&&(i=this.list[r],o=this.list[0],t+=3===e?i.distance(o):i.distance2(o)),t},t.prototype.getArea=function(){return Math.abs(this.getSignedArea())},t.prototype.getSignedArea=function(){var e=this.length;if(2===e)return 0;for(var t=0,r=this.list[0],n=Kt.newZero,i=Kt.newZero,o=1;o<=e;o++)i.copy(this.list[o%e]),i.substract(r),t+=n.getCross2(i),n.copy(i);return.5*t},t.createByRandom=function(e,r){for(var n=new t,i=0;i<e;i++)n.add(Kt.getRandom(r));return n},t}(function(e){function t(){var t=e.call(this)||this;return t.list=[],t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return this.list.length},enumerable:!1,configurable:!0}),t.prototype.clone=function(){var e=new t;return e.list=Object(n.g)(this.list),e},t.prototype.expandBoundingBox=function(e){var t,r;try{for(var i=Object(n.h)(this.list),o=i.next();!o.done;o=i.next()){var a=o.value;e.add(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},t.prototype.getSum=function(){var e,t,r=Kt.newZero;try{for(var i=Object(n.h)(this.list),o=i.next();!o.done;o=i.next()){var a=o.value;r.add(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r},t.prototype.getSumDelta=function(){for(var e=Kt.newZero,t=1;t<this.list.length;t++){var r=this.list[t-1],n=this.list[t];e.add(n),e.substract(r)}return e},t.prototype.add=function(e){this.list.push(e)},t.prototype.clear=function(){this.list.splice(0,this.list.length)},t.createByRandom=function(e,r){for(var n=new t,i=0;i<e;i++)n.add(Kt.getRandom(r));return n},t}(zi)),Vi=function(e){function t(t){void 0===t&&(t=null);var r=e.call(this,t)||this;return r._pixelCoordinates=new ki,r._worldCoordinates=new ki,r}return Object(n.c)(t,e),t.prototype.getName=function(){return"Measure distance"},t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEM0lEQVR42r3Xe2xTVRwH8O+9fS4oDAZzyKZiAEfXx5qxGhemEIwCMdmDv/QP//MPY4woDpcYJSTGhKjZihJNfGWaSNR/3CbRIJFYeSTjIQ62lbGyTENITSAIsrW9vef6O+fe9t5bpuPR9iSnydrTnc/9/s4591YC4D65J5zWmIqmF4c99HcGZWwS9YUndgcu1z/1Jkb730Dzy/GyIjig+nhvQzLQ8RqUrBdjAzsIMVY2hAlo68a1M7vg8e1EfJCS2DpaFoQOiAaSoc7XcXWkB9A0uFd2If79jrIgBODE+6GkqihgmgMrA4ugqRl4VmxFfN/OkiP0BHZTAh3d+Cf+MTQ4KQQGSVPgevB5QrxVUkQeEGzvxvVzn9E7BGBaHuG8/zmM//A21pQIYSlBhq7eQRPLWBWuFQiAI7Jw1j2L8R93lQRhlqB9O6YTe6FJDiOB3BAdId/7NM7tf6foCEsJCHD+G5GAObkFARVyzRZCvFdUhK0EKpPga64Ho2OZKySJMGKIiUB1GyZ+6ikawixBWxemp77TE2BZVNzXgeSpPiysXkIgRu9rJmLxZkwciBYFYQPM/LmPrlgGy2ZQUbcZw/3vQpJdqI8EoWazBkLTEVUbCPHBHSPsu0CTwBe/L+KHt3YjTg/weo+0HYuG+ldHQgUISqXyMUz8vOeOEJYEtiF14YCRgIKK2g0E4LUeaaIx845Fg7HVDzfdgGDzW5A4+OFtI2yAmQsHRQqaygHrc4A6Y+xygXgkAlUpQNwdIcRHt4WwlCANVdXgX9sKRgDv0lacHhSAe2jMFT4uh/C1tBgIJhCypCFbEULil0/4+FtCWBJ4BamLR8QZwHeBt6aFAL05wF/U3XlEbyDmI6hKpdJPTAPh9RPi01tC5AGNBEgnh0SovASe6mYMD0atABQiGlrX6WuCMfEhRyjuVUjEPr9phK0EPFFGL4FHH4drcbgwAcyKoLH8Vq6XQ0ekXcsxGeu7KYRtEWYu/aaXgBJwVzUSIDoboADhjzWse9Ioh4GQgTTqcP5Q35y3cksJOOB3OvXoRkRHsacqQCXgCYzOBrAhhnoaYv71m0Q5cjcSjshoS5E49MX/7g6zBJmU+AfBJzrFLnBX+nCKTkKH0zPnQmKqimUPBbGgZpmxPZFHpNQlmDz85X8izATaX0X68lj+YYR/IstOOorlOQH8qsX9gunb0tpkWUIqu4AQX826JiyALih/j4vv8yvKLapiNI6YUe4ixN4bELYS8KvgvXHTMwJRzCZTktMpNyaPfk0L00TkH8vDnduhXJ3UE6BFmFvRxWqSJIlyTs9IhPgWa146IxAWAP0yujbFRxaWsYgISsLhwJWLf+Ds8V8H1m4b3iIAQ9HGszLUypLNbGeIJGTZgfALJ+dzAE2MB6gvAvLPX6VuvL6XqE/xCV3U50E/WMrZFOrX/wURbJhldjmYlgAAAABJRU5ErkJggg=="},t.prototype.getShortCutKeys=function(){return"M"},t.prototype.getTooltipCore=function(){return this.getDisplayName()+"\nClick and drag to wantet position.\nYou must hit a 3D object to see the distance."},t.prototype.overrideLeftButton=function(){return!0},t.prototype.onActivate=function(){var e=this.target;if(e){var t=e.viewInfo;t.clear(),t.addActiveTool(this),t.addText("Click on a location in 3D to start from."),e.invalidate(),this._pixelCoordinates.clear(),this._worldCoordinates.clear()}},t.prototype.onKeyDown=function(e){"Escape"===e.code&&this.onActivate()},t.prototype.onDeactivate=function(){this._pixelCoordinates.clear(),this._worldCoordinates.clear()},t.prototype.onMouseDown=function(e){var t=this.target;if(t){var r=Object(n.f)(t.getViewByMouseEvent(e),2),i=r[0],o=r[1];if(i&&o){var a=t.transformer,s=new Kt(e.offsetX,e.offsetY,0),c=Ri.fromThreeVector3(o.point);c.z/=a.zScale,this._worldCoordinates.add(c),this._pixelCoordinates.add(s);var l=this._worldCoordinates.list[0].clone();l.add(a.translation);var u=t.viewInfo;if(u.clear(),u.addActiveTool(this),this._worldCoordinates.length<=1)u.addText("Click on another location in 3D to end."),u.addValue("Start Position",l.getString(2));else{var d=this._worldCoordinates.list[this._worldCoordinates.length-1].clone();d.add(a.translation);var p=this._worldCoordinates.getSumDelta();u.addValue("2D / 3D distance",this._worldCoordinates.getLength(2).toFixed(2)+" / "+this._worldCoordinates.getLength(3).toFixed(2)),u.addValue("Sum delta X,Y,Z",p.getString(2)),u.addValue("2D area",this._worldCoordinates.getArea().toFixed(2)),u.addValue("Start Position",l.getString(2)),u.addValue("End Position",d.getString(2))}u.setPolyline(this._pixelCoordinates),t.invalidate()}}},t}(ji),Wi=function(e){function t(t){void 0===t&&(t=null);var r=e.call(this,t)||this;return r._isFullScreen=!1,r}return Object(n.c)(t,e),t.prototype.getName=function(){return this._isFullScreen?"Exit Full Screen":"Full Screen"},t.prototype.getIcon=function(){return this._isFullScreen?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA8gAAAPIBlLUtiQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADQSURBVFiF7ZYxCsJAEEXfhD2CRxBSCV5B8BJWAc9glQNY5UiB3CAIVgGPkDNkLLK2+lPINvNh2eYxvFmWYXB3lAN0QCNwDdCpdSv0nIGTwJ0yK2WLwF8SAiEQAsUFkpl1aIOjBkaBW4DazB4C2yfgCewEeATuAvdhlNd9Wp7fxVL8D4RACISAse5wyqq1AHd3f30taLYHWrTmhgQcgKMA1/m+/uBa4AJMQs05uftNAMmzXemqAiZ3V5oq/wdCIARCoLhA2sD2rPvjrwzArBZ9A9QxeEdR7pNAAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABJwAAAScBjbzwzAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAC5SURBVFiF7ZfLCsIwEEXPjSL+mX6udGOL236Sm2563RSx+GAKbVowF7IJydyTB5MMwAVwoN1sE2kTYtYJODO/UnDcSUAHHICj7W4BmI+SZMAJ0NDnjOZPz1UAXj3XBhhdlr/cgQ0BeMgguQH2wBXYZTTHdiepBe7Ku/B3RVNmASgABaAALCYBNYDtJf6G342lCujF8Ara1u8pswMYNnAEBaAAFACIVbEGqgnVcR2Nm4AmCNrPs96RmgfGz5Qsx30tFwAAAABJRU5ErkJggg=="},Object.defineProperty(t.prototype,"isCheckable",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isChecked",{get:function(){return this._isFullScreen},enumerable:!1,configurable:!0}),t.prototype.invokeCore=function(){return this._isFullScreen=!this._isFullScreen,Qt.setFullScreen(this._isFullScreen),this.target&&this.target.invalidate(),!0},t}(Ii),Hi=function(e){function t(t){void 0===t&&(t=null);var r=e.call(this,t)||this;return r._movementX=-1,r._movementY=-1,r}return Object(n.c)(t,e),t.prototype.getName=function(){return"Navigation"},t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAIfUlEQVR42uVXaWwcZxl+5trDe9izh73xFcdnbMdXcA5ykLY4CbQo4ioUIlAlpJL+aBE/EMRFRaJSSsUPRFsgqlQJUUGkRlUrIasEl0CI0pY4bmInPuIjdhyfu17P3ruzOwfvN3bSVi0IIgWEWGk8szOz8z7fc7zvmMN/+cP9TwFQhs5uUiYGv5qen3K6Nm2Gu6YlVbr78y/8RwAsnv2tQ8vEXotPDz2oZ9PgRBuK6zvhkANPhQ4cPXHvAfT/+vnUwvgT0HPwbqlHYmYCaiKNYPfB8dD+R5rvKYDlc68GMuGZq6qyECpt7yLqa5GYm8DiuX54qjrGax95ygKw+NYrsgHz9+n58XaO5+DwlUMs8p6QvL6fBbsfUu8KQHp+rEkZefvU6pU/d3lrNyO4Yxd4nkd68QYmT5/GJmKg9mtPN0+9+lwNDPOl9Pz1g6LEHmtAyxXg2dwCR6imp/y+o3+6awbGfvGkmVVuorznEJyhUuTjYcQnxrB04T1sPvDwimNT3TPRkbcP5ZXlIzavC4H2XbB5vIheeQfJ+UXIzbtecFVvPe7v7En/WwCUkQufik8Ovhge+GObb1s9/Lv2QFNjyC7MYvXyMBLTYZR17oOh5ckPq3BXVsPfsR0OfwDI56BcH0Z48BJ8rfuIuc+edFU2P/4vA4hePd+lrsycigyfawKnorLn0+A9Nqirt6BMTmDlwhAdp+CtqIC92At3dTXkbV2kewm0bBzZyDKiQ8NYG5smn9TB17Zbs8mhc85AVb/c/Mnn/imAyKUzdaqy9O7i+TcCoh0IPXA/XFWbkM9Ekb45jfD5AUTH5yA5ihBoa0WgpQOu2jrwdgH5RBjppVuIjU9idWgcmUgMbpLNV9cATdMpQdsycvOe7we7D7/4sQCiQ39pSc4MX1x9r98lBbwo27OPdCdKjRzSCzexfOFdxK7Pwk4aB9raILd2wh7wwyhkkF2eQ3JmBqtXRpGYD8Pp86Fs+w74mzsBu4TYyGVklQScgfLexkd/8uxHAEQu9e1VleXfhAf+UOusDEJub6OHB8j1Gox8hjwxiti165CcLsgt7fDUN4J3SMgrESSnJ7FG15M3F8BzInyNjRY4V1UNRGeR5ZPo8ABikzeoibl6O7778ocBKCPn74tP/O352PRQmz1QBLmzExLpCb5Aq6eN6MsuLFEC0qTpFjiCpXTNQD6yQm6/jNjUTRRyKlzERklDCzxbGmArlukeE1qaPBFeIF8NQ41kYPdX9LY9efLDAOb6fnU8PnX5hM6lENjZTbQH6ce0coP1D51A8Cza9BEhkvbUCqCl0ogODiI1v0BGlOGqqLI2m89Pv2Wq5ah4AtlomObINUSuTsBdWoVA6+7e+m/86H0A830ne9Lh2d+lV28ES9ob4WmopwfkYRJtMHTrYexWjpeosHAHt0Gs6GsxC5e9uIRMWGQ1IIMiWMhmoCXitKUpEasIXxxGci4Mub4eVT1fjjirtn492NHzFqdMXHgwPT/SF50aoJhJ8NRUw+Z1UiGdFq1bhUSrHhWm4tYhtVmeoaI9O8cQGHkNpppFPpWiokmoBCyfzBALBDKTJbU42MtCyGfpGC74G7rPebZ0HePCV04PJZbG2tXcGkSPG4LdARY93rb+fKuYTSDi6QsnbAjG3wFjUnEtk0J+jVZLxdVoDIVEyrpHcrtJbz/FsJzMXEZk5qFcG6UoRxBsO0jXffdzU2/+2GSP1CWd3MlbFILTwYsm1aDidE6URNoL6/QzQBy/wQjzZwG5FeoPc4tQw2skiwEXxdZZUY6iYBCc00YDlJhJJJBT1pCZXiTAEkKdPa95ajsf5ybPPGNyVEDHht5MQ9PilNigohJtAoEgAJAkiBu080wXBkSnoZPO0MPjMLI5ks8NmyxbQA1VJUnixMoapSCKfDQJM0sRre+Gq7zpi5WHv/U6N3LmB+btJPDkdIOiZWjkfr0AUaBCNlo9TTeBsSCtF7bOW4xQEeZAw6S9RmDIN7QIgy0nRj6IRIkVmh206bEMJE8AgaYdkBt3/pKT7D8M7vyccgeAwBehQHllkWMM6AWSgXu/sGhjDLDvjBXeAiASMwbYSmkYhcPUExSim1YdT6GQpAjSMdvrmbxlQv/WDgQ6D5zy1HU8Krfuz1vZ+iADGrnVLNAPDRYlWFoz/UEr5iR2zIBQHKXb0nDrLJCzE2MzSM4uQU9mLS+JTieZzEk9w0Gd0wFdK0CLGxTXiv7Q/i88Ftx+eNYCcO3N75kcaaqRUdSEYgEpZKj5mBKxQpqT7iS8ZUZWcJ0BKiysS8PZWSA5FMgDGtHOPGyjNElul1VcLHZZYHMxBfHRWfBZL4Kf+ExvaO+X1hvRxVe+aTFg0KrZm05yJYzY3BLsLjecJT7YKJa8ZNuII2tGxAIzoMhAMDBEEJNEYOdFSEUOSxYwT5CcOmM0Q41pjTriDL0zyE0Idh3sDe3/yjqAsz89ZAFIhRUU1PxHRrOzRIYgbgCgjSPdeSuKnJVECIYVhvWkcFbvZ2a0vMQ8kMgBOQ0CMSrZ/JArt/XLrXsfK919ZPYOAOXWChzquhVy9g8OyI2+YFgtB2wAWM2JFbfas8ksSH8JBEfXybiizo7pYlaj5iWQFF44i/3WDPBUNl/R0skH6o8+rdx5Ien7drv5j96KCgWNaQNTp1tIf41952AVNEzTwiBQdxQohnZiyektgZ0GkUCttJCJ91EnNDxlNQ5X2ZZc9ZHvHPnYl9K+Yx1PEGKTtWBXaYVLEMRKFLQyt1z2sE69Haw4a1A2mvtkJJZxNmiY9SSvl047kV5bekOw22LOkrKUv2mnN35r7OXWYz//6+0iamSxxR4sH72rt+LwO68fj00OiEyJQo6Gi04saHnTVlRiuqobDLu/nP45eejZ/49/Tu/F5+/91LdXG79TyQAAAABJRU5ErkJggg=="},t.prototype.getTooltipCore=function(){return this.getDisplayName()+"\nLeft button drag: Rotate\nRight button drag: Move\nWheel: Zoom in or out\nLeft click: Pick any object in 3D to get information"},t.prototype.onActivate=function(){var e=this.target;if(e){var t=e.viewInfo;t.clear(),t.addActiveTool(this),e.invalidate()}},t.prototype.onMouseDown=function(e){this._movementX=e.clientX,this._movementY=e.clientY},t.prototype.onMouseUp=function(e){e.clientX===this._movementX&&e.clientY===this._movementY&&this.onShowInfo(e)},t}(ji),Xi=function(){function e(){if(this.products=new Map,e._instance)throw new Error("Error - use ManipulatorFactory.instance")}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e.prototype.register=function(e,t,r){var n=this.getKey(e,r),i=new Qi((function(){return new t}));this.products.set(n,i)},e.prototype.create=function(e,t){var r=this.getKeyByNode(e,t),n=this.products.get(r);return void 0===n?null:n.func()},e.prototype.canCreate=function(e,t){var r=this.getKeyByNode(e,t);return this.products.has(r)},e.prototype.getKeyByNode=function(e,t){return this.getKey(e.className,t)},e.prototype.getKey=function(e,t){return e+"."+t},e._instance=null,e}(),Qi=function(e){this.func=e},Zi=function(e){function t(t){void 0===t&&(t=null);var r=e.call(this,t)||this;return r._currentManipulator=null,r}return Object(n.c)(t,e),t.prototype.getName=function(){return"Select or edit"},t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFBElEQVR42r2Xa0wcVRTHz8zssA/2RQmwWyjwAS2kfpCET37oB0n6hYAfpAYTGxppsfVZYoykmi0QkaRG1PhIykNSjFAQoYEsUMOjkFiCMSaURBMhoYXNUi3Ksuxj2J2HZ3bvmoGw3Vmh3s3NZOfO3PM7/3vuuWcoiNMcDkddU1PTp3tuS3DIjYo3UFtb276xsfHb4ODg5+SWSLr0vwCUlZU1e73eeqvVen5kZKQPbwnYeQXIYwWgKioq3vL7/R8IgqAzmUzvIsTXeH8He5jAiI8VoLy8/BLHcY7qN7zWjla9YDAY3h8dHe3EsSABORSIRwIEg8Er12+tWqadaSBD6PV6x9jYWAeOBw4LQhWAfOMHJwPXW7MEnU53ZXx8vP2wIFQDyC2mBEI0EAj/QSGSApDb8LAP+j578tAgVANwsI17MAhe3gc/j2ZGICRJqpuZmek7yHKoAuDACyG0ISECx4fRigR3b6fBNy0neFSiEZVo+68QCQFanXcsUiT9RfNPWDF3TImDBGZCgBbn7cgSMGRAINeQQEEKIx0YQjXAjhg9BAKh6CvecPSabxIPFBOqATgxapwip5EMoENZbIbo/MuzVrjW/FTSMZEQ4M3vZiMAGjo6wFISeEK7X5NVsGgk+NGZhckqosQlVKJfDURSAKwMwERPYy1eXX46YpwFGvQaeTIB7k49DV80m3iyHP0kT4TiQSQEeOXG7L+JyJYqRgxr0CAtMbgjeDRMIQALWvzR2Bkww9yUCb780Cy6XK6KpaWln/YoISUNYMS1Nmol0KL8GoaCDDoXaIoBr/AQpvvTwXQEcwOXuWuC+0tamHTS/Obm5rnFxUUngQjthUgI0Dg0HaQZKk2fQrFaCmgW/dfDschDU04DXLtqFFiW9VEUJe0t3cLh8A7P86tzc3OV+HebHOVh5VKo2gUMUKJOw9Cy9LKSC1PH4ZlneXCvMfDeBYtf5I2LExMTjcQ7ZQ8Toz4CoDw31AF8dWvaIodfCq4tC1aoe+mIbJjvHNnQGM0SrjcLnzRY/Csr9+rcbvfvxECIlG9KiMCeYkY9AAMmBDDC5ZonwHUfXCir8fTZLevzZ7nIw69XmTfcq4xrfn7+VeKlMvJjECEFmJjUYSTiO5dr8tBz+t7CwoIjNzf3BaMp5WT7zU2zQgVfVpbtBlbRrXKeIh6HFUWsoAhA1UHYgADm+pps2fjK5ORkrTxZRkZGekFBQetzL/pNZ17jLAoVllGFc/jXQ9adU+x/ab+SPi4AluUXMYo/yrDxhj/c9DIGWQ0ZC9vt9rScnJxqQ6rmVNvQ31ZZhaVfMSAvWv+027KHBgYGruJzW4qlkOJ9T8QFqKqqal9fX38Zq+EHWIiWycmPeCNLG8jPz7fhUoxUVnvSFbHwEFVYQxXOEBW8ChWSA6isrGzweDz16Plx/G8kJ/IO8SpQWFiYjR8tb2t1VDmqkKaMBbv96Lf7qJDcWQDR1K8nxvXEA06xl6GoqKggMzNz4uQpj+5CfdAcU2F9TfMAx77v6upqJ/ufI9EvJQPAENl1BEYkE8W2ktxSiouLy41GfWfH8F+p6y4aWt6xBLa9tA+DtK27u7srkQrUI2oFOe1pSGcU34axqKbImK60tPTO0WNbJ9yuFMjJ0U2FdrJ+6e3t7SfGYztiVwJSA0CRTpNrbCspvZDB2JKSktNarfbjvLy8rp6enptkjCNB6N0vBcfaP/6z9j+YmXesAAAAAElFTkSuQmCC"},t.prototype.getTooltipCore=function(){return this.getDisplayName()+"\nLeft button drag: Context dependent\nRight button drag: Move\nWheel: Zoom in or out\nMove hover: Pick any object in 3D to get information\nLeft click: Context dependent\n"},t.prototype.overrideLeftButton=function(){return!0},t.prototype.onActivate=function(){var e=this.target;if(e){var t=e.viewInfo;t.clear(),t.addActiveTool(this),e.invalidate()}},t.prototype.onMouseHover=function(e){this.onShowInfo(e)},t.prototype.onMouseDown=function(e){this._currentManipulator&&(this._currentManipulator.clear(),this._currentManipulator=null);var t=this.target;if(t){var r=Object(n.f)(t.getNodeByMouseEvent(e),2),i=r[0],o=r[1];if(i&&o){var a=Xi.instance.create(i,t.className);if(a){var s=t.getRayFromEvent(e);a.onMouseDown(t,i,o,s)&&(this._currentManipulator=a)}}}},t.prototype.onMouseDrag=function(e){var t=this.target;if(t&&this._currentManipulator){var r=t.getRayFromEvent(e);this._currentManipulator.onMouseDrag(t,r,!1)}},t.prototype.onMouseUp=function(e){var t=this.target;if(t&&this._currentManipulator){var r=t.getRayFromEvent(e);this._currentManipulator.onMouseDrag(t,r,!0),this._currentManipulator.clear(),this._currentManipulator=null}},t}(ji),Yi=function(e){function t(t){return void 0===t&&(t=null),e.call(this,t)||this}return Object(n.c)(t,e),t.prototype.getName=function(){return"Rectangle zoom"},t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAGi0lEQVR42r2WfWxT5xXGn/ttx7F97Xw4ISEkgaWjFSQjG2EdG47IHKWC8rGFkjVqnbUK2pi6ZJ0YogyIEDDIH6FkdFLWNtkEXTeqLlPGBHRbgkRTaesKdGsHq7p5hRBsJ/6IE8e+vtd355LyB9W6OmmyVzq60r1Xen/vc573nMPgv6zu7jMyy3JeQeA2UbiLi13geQ7T0woSiWSE49h+juN+tmHDg0P4lIv56IvOzpfaaNP9JSUuOSvLDF3XAU6CymfBzidgNkvQNA3xeNKAGSKY9vr6mivzAnDoUF+vLNu8Tmc2kpxJL65YphWXFWpWE7QsDhBYMJOTYEdujvJT4XHOLAqIRqci6bTW7vGs7vtUAPv2/bS3vLzIOzExibyVq9TSqqUpMw/dzALDr53jLp0/yx19tltR6d9kGphOgr197Z+ijdfYSGQSqqrVejxfGJoTwO7dJ9tsNmsXz7PI+vxDytLlDjXbBBinFinOv/Iy9/3Hm6R/J/W4kRFVn4FIaGCi730g5QoaOzo6FmEYlJESkVkBtLcfl8lQ/yoszJVThQ+oRatWKDYzYDFCBCRS4He/Os3tfbJZuhYnAMwApLQZiOg0mNQ775qW5JsZguirr1/dMiuAp57qaisocHbdjpv0JQ9tS8hW6Nl3ASQC4EmBX57mOnY0S5cnZgA0A8BQgfIxlQRit+N8BW6K4fAkGVR1kCkzVoHZubNzsKgo3x20VaoFlZWKJQu4Iz8FGR4mUuH3r5zmjn67WRqOfAhAJ0+mKAUEMJ0A6ELA/P5V7r7F2RKp0NLQsCZjQzI7dhzVc3NlXBQ2v762Jr8ixw6LAWC+C0AKvPnHAe5gy8PSa349ntZnAJTUDASZ8U6oN3yptSUp+8jI2HGqD+0ZA+zadVLXOREn/Nt6VkhD1UXO1CKnBVazpHOCwLA8q+Pany6yZ3/+Y6H5B8cmXCWlHMswHEEwhg9Y0YbFlR4tGQzr612jFr8/NLRp05drMwZ4+ukTekp0oCfwcI/0VntN9PKLlbMxUVX947Gtu/s4PRLW6/JHLIFAaGjLlnWZA7S2/kg3mSSc0Vv67DZRybOzcNo5OK0s7Fl0LcmMrx7c/MVrl36z4tBFvSdFsscVYJLcEJ1Kg+Rw2a3MSnvshrDhM1PFN274+xsba7dkDPDoo/vCOTkO+S/C+gtaXoXPJXPIlVnk2FjI2YBxJc/3HSkfOLmnru9dvUehzeNkvGgcCMd0jEXTCEQ0eBzXN64qUgsDgfGO7du/eiBjgKamH/aSCb23tELf5Ge/dsHl5OEigDwHSAXcgXj1J0fKX+rcU0cm7EmkjNMDoUlgPAoEIzriU2nreuFSk40KRyQSq21urs+4IjKPPLLXTSkYBCdAq/b+Vl6Uf6vAwcBFAPkyQdiAX5zoLH9u/666vyYJgIwXNTafAAJh4DaFM/x393JrtMLvH/e1tGwom3Up3rbtmUFZtrqnBcd4ccOTAwV5rFKQCxQQRC6pcKr72dIj32vzjOh6zzRdwQlKQ5BOPxqiQjQSrLAF33YzaQ3JpNL+xBMbj88aoLFxT5Uo8oM2W7actrrGV21/bKAwH0qRE3BQPTh76tSit994I6/ruZNXY/R/lFQIkgoj18crxt669KBspb4oCBBFzkc3oGxO3bCx8RmvKArUji1QICjVDZ7hNXXL/+GkYkQcsFAYVTBshArrn/9wpTri+6BCoAamqiqM2SEWi3fs3Ln1wJznAUqFmwaMX+flOalBMaBSpCx7YKnv/vvLYmaaiMKhCfiDoUVjt4KF2dQoEgnlzmBC4PB4anDu3DCk2DtDDbbeKrrZ/Uu+62+Z9UREpqTN2S5JEr1GiTYmoFRKhSDwsFhMtJkIheowndYnCGwHNSAqXHo0ldL2V5bxWKm8iJqtHoQuD2AyEOn7JAjm4z40Nx8w2vRmmhEq6VllzIQ8z0foeZXe9R879p17xrBvNX1zsN510V33jUZYqjcCkdcRuvDCJ0IwmKfV/fXc8NZ1quxa8RVwpVSJF68miGGCeP5/QswbQOdGZ+/y4pi3tiYLUum6jCHmDWCuEPMKMBeIeQeYLcSCANwLYSYI9z0QgbM9SIQm2pe0+Y8vGMDHQahsDv728mHESx7r+NL2PQcWFOCjENP21bj85k2Iaw7j+ijX0dq6aeEB7kIsK4h7oyq118/txftBwXhddvBgq+//AvAhRNt7zFrZz9xn9I7+M2cOX1lQE2a6/gObzOA/kHDnPAAAAABJRU5ErkJggg=="},t.prototype.getTooltipCore=function(){return this.getDisplayName()+"\nNot implemented yet."},t.prototype.onActivate=function(){var e=this.target;if(e){var t=e.viewInfo;t.clear(),t.addActiveTool(this),e.invalidate()}},t}(ji),Ji=function(e){function t(t){return void 0===t&&(t=null),e.call(this,t)||this}return Object(n.c)(t,e),t.prototype.getName=function(){return"Zoom to target"},t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAKBklEQVR42qVXCXAUZRb+/p7puWcyOQgBAgmQQCQJR4iCiItyCEhtSsGrooAiiMrlgqRERQEjtShHScACudwIhSsbRQVUjBWvRUnCGQhHEiSQA3LMkcncPd37uicMRLSg3E51Z2rm7/e+973vvff/DLd5/ftKP7MX5ycGQhjNoB0qQugrSmIUIIEBTsZwgWM4wnPqElWoy4GpPRrbbscuu9WCrZdZiggpLyiy3IAoGYMiEJLIrXzfsI6cQ0U3zwEajnl4ju3mIK6a2RNVfwnAvuZhusvtpcsDIl7yCpImIDumW/yd498bU4AoIAA9j6CWw3oI7I3nUyTPbQNYd4D14VKkvZ4gMr0CINzgmAOPBP1AxOsGwKSOU9a7hVY0+SrR6D0BEcEIEDWB0KkBkwanQxfYQ/8YL1XfEsDqr9kgqbt0sF1AvL/DuexYdjoyYT4GxkyGQR39hwx4BQcqbJ/hpyvrCcxxxbjqGgg1WliDevzLE4SjfwrgnSLWR0yWfmkLIN4nhCnXqqLxcN81GNZ1OhjjbkuwEvFQdnUnPq1ZCB+xcw2ERctauFqMyHtYqroJwCdV9+uq7CWlTh/RHgg772pIx4tZXyJO3/uPHUlhNTD2x1KyeWvx/rEcNLpPKiBIE4jSc5VJ5qw7n7qj3NMJQP4hblWbT8xz+Yj2EFFuTEfePT9Q/mJvcAiUnLiCorImlNa24Wp7UDERT0m+K9mMKdnxGD0ovhMgd8COdw/dh4b2k1CrALMWiDYY1i2527MwAmDpt+grcKi0t0PjD4ZpXz72COIMSRFD1XUuzN9egcNNHoR4ASESm0hPpQTpTwUNVIIGd8Ybsf6ZAeiXaL6Bict4s3goaaQVGmIhxgSBl1jGirHSuTCA7/gP7O7grHZvOPoZ2dswMnlqxMChimZMLTgOG+dFgLkVpct5ljoKkoV1TyB4aCQjomFC4ZxBGJl5nb1fLn2MLaXToJJZ0ANWIz7MH4Nn2LM7mDk2QWpsaYPRT7nvbs7E8gcOQxRFhcoL9S48uKyUJNyGANrJrYAoUtTku1IwOClchicvtaCotAYOb5BgqIkLE2JZDPYvHYqURFNEJ8uL70Gd8xi0GiDOAq+zhXVnSw7gccr7x0S/Ev0zQzdhWM/HO14CHn39MA41NsEHO/WCIHJH9seG58ZSBLpOgnN6/Ji/5Tt89OMZ6gE8dLBiWLdEFL2VFVlTVl+EbWUzFS1YCZdFh6fYos+xyeHGbJdHFhmP93Kqicqw8V+Ot2D6mmPwqJsobi9y701DYd5DEZH56uoUZep69oxUxYy1X6CwpJJ40MEodsO2BUMwMism/DsLYv7nfSiyAMwGqggDtrPFnxvKrtg92R5Sf0/LELxy/1cICkHlhaUFZ7CnvIaib6a8MZwrnAeTjvprQwM8c+bAdLpSYcmbdge0GzdAnZgID3Wv/tML4HCL0CMOk7PTsHJeqmJPreax+occXHSUwkAxxlt1x9miz4y2+hZ3tM8PDO+Vi8cy8pX8q2iy5MwtQ1XbZcq9A9PGZeCd58dQGiT4Jk1Cj6NHUY1wl5TNt2ZmAgcPKnJ8bdv32P7VSdKCFX0svbG/YAj1FQkcx6Ho9DL8XFsIPZVj12jeyeZ8zEJNdomTAYxNfQHj+y5QAMjXmBmHYWP1pPk2rHx2FKaM6gc/RS+OGoUW+n2Lon3SDd096BaLi6FJSsIXP1dj8QclVBMWqogkFG/JIudMAVB8YSO+OV+gCLFrDJPYC7tY6KotDGBc6vMY0/vFCICJM4+Q9OqIASdWzLgXDw5Pgr+xER5ioIW4/xexIQN4kj53p8/avXvBkx6Ky+uwZMsPxIAFVtYbBzYPIudQAJRc/IAAbICOAMTLAObuMtjrmz1WL2lgeNITyOmfh1AopLwwfdEZ1DguEgAbnhibhrlTBhGVIlpnz4b21ClcoaKWU9CN1otpabBs3UqpU2HT3grs/KaSAEQj2ZKKnetSIcckAzhQtQ7/vbgTOtJAQgzfxmbv0JU3OXxD3VQFvaIGY849O+Dz+RQG3tvSgH1lVaT/K7DoJRxY/yQCfi8kmw3sjTdgqKhQ1vnT0xFasYKKOw5anQGT5u+CwyORCBMwMXsAFj4Xr6zTanXY/Oss/GYvh5GaUUwUd4I9vRmbqQSfa6M+IAk8Vv79R/jlTQBdFZVevLr2HDw0wgR48OjoVLw5Zzz8fr8SjebqVTCi3p+QoKRNS4l9e1Mxdn97jsrQAKOUjBUL0jA4Q6vY0xs0WPLl32hG+2E2KWW4g03fqHnCHwrsbnUAQaq+admrkBJ9t1LTcom99nY9jv0ml2ITVYAfuRPSsXLxFKJQ02ka+mmILF3zKQr3V1Aj0lAXiMfg5P5Y+Xq3DlvUVZ2l+LDsZfA0mmOsBEitncYGz1RbMoeIjc020SDrINGcgZfG7IDb7VaMNzWLWLSsBq2BS6QF6ob0jDaq8MiEwRjYP1Epu4rz9djz9THY2kPKjknOfQzfG2uW9UXXMPswGmhIfT8Ll5zHw/mPVftOnVB3V1rak+/xW13e4LPOtnA7njViLfp1GR6phvPVAt58txr2QIMCIgQqGXrePIx0Su1b+UQsW5yCtFRVeFpSumpay7Hpp/nUjIh6GpRRJr7wo3nB6QqA8a8iNboLTrfYwMss6Gkc5z/yBXhmiNB8tUnEuwW1OHG+AUHOSe5JjBA6AKjJuR68FIWBKT3w8txe6JbARdIjUAJf/08OPDSO5ei7xEBwtiLzq3ycjewcHl2F1f4QFjmcYS30jMrAssd2K8Yj2ycyduRYOw6WNONoRStabF7l+7hoA4bQ6H3g/i7IzjJGQIdfErH8k1zUOk6Ap72AlU4SWjXW78nDgk47ovRcGO7IRKnDhfT2jsnYy5qJ/Gm7YDHGdDYq93XaYwmhjs+EURDEzrtdAuvy2LG0cCou2o8rE9BEyrdauLNnKnTZp3d53DdtSic9jVRVLxyyOxHX7paNknj4WCycvBrjR0yOaOJWl5zzb3/di7VFi+AKtCgAjUa57pktVCeN2L8d5/50Wz5pti4rFOX7hgQZJzMhp0P22y8hC1MnzMO4ETkwGc03MSJH3O52ofjXfdj5dQHONpQr3VSm3ShHboZN7TJP3LfJVXrLg8l9jxAT3bHX68eANtJEgERP3VY5nKgkLQYkD0HfxAGIjYpVekWroxU1dWdw+uJRhJhf+U7eemmp/1gsgEGPs0IDHvp+z/XIb3k0Gzcrw+DjTuXTFJvrckm8h1p1MNABRPwz6sOOeRo0BtpwmMxUABLer72AV2sPwv2XDqcZU1h/a7T0CgX/eCAAvc97Hci1LFyLWHYslxn993Gc6hOHLfTPU0U483+djq9dPUbBmtADk0hQo3m1NksQgr1pZ2yWT+eEw0XR/0ZAjoohdcmlWmFf44/UsW7j+h9CNS9frKTmxgAAAABJRU5ErkJggg=="},t.prototype.getShortCutKeys=function(){return"S"},t.prototype.getTooltipCore=function(){return this.getDisplayName()+"\nZoom by clicking on something in the 3D.\nThis position will then be in the center and\nthe rotation will be around this point.\nOtherwise it works as the navigation tool"},t.prototype.overrideLeftButton=function(){return!0},t.prototype.onActivate=function(){var e=this.target;if(e){var t=e.viewInfo;t.clear(),t.addActiveTool(this),t.addText("Zoom by clicking on something in the 3D."),t.addText("This position will then be in the center and"),t.addText("the rotation will be around this point."),e.invalidate()}},t.prototype.onMouseClick=function(e){var t=this.target;if(t){var r=t.getClickPosition(e);r&&(t.cameraControl.zoomToTarget(r),t.setPreviousTool(),Qt.updateToolbars())}},t}(ji),qi=function(){function e(){this._activeTool=null,this._previousTool=null,this._alltools=[]}return Object.defineProperty(e.prototype,"activeTool",{get:function(){return this._activeTool},enumerable:!1,configurable:!0}),e.prototype.add=function(e){this._alltools.push(e)},e.prototype.setPreviousTool=function(e){this._previousTool&&this.setActiveTool(this._previousTool,e)},e.prototype.setActiveTool=function(e,t){if(e&&this._activeTool!==e&&(this._activeTool&&(this._activeTool.onDeactivate(),this._previousTool=this._activeTool),this._activeTool=e,this._activeTool.onActivate(),t)){var r=t.controls;e.overrideLeftButton()?r.mouseButtons.left=Ai.ACTION.NONE:r.mouseButtons.left=Ai.ACTION.ROTATE}},e.prototype.onMouseClick=function(e,t){e.domElement.focus();var r=this.activeTool;r&&r.onMouseClick(t)},e.prototype.onMouseDown=function(e,t){e.domElement.focus();var r=this.activeTool;r&&r.onMouseDown(t)},e.prototype.onMouseUp=function(e,t){var r=this.activeTool;r&&r.onMouseUp(t)},e.prototype.onMouseMove=function(e,t){if(1===t.buttons){if(0===t.movementX&&0===t.movementX)return;(r=this.activeTool)&&r.onMouseDrag(t)}var r;0===t.buttons&&(r=this.activeTool)&&r.onMouseHover(t)},e.prototype.onKeyDown=function(e,t){var r,i,o=t.key.toUpperCase();try{for(var a=Object(n.h)(this._alltools),s=a.next();!s.done;s=a.next()){var c=s.value;if(c.getShortCutKeys()===o)return e.activeTool=c,void Qt.updateToolbars()}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}var l=this.activeTool;l&&l.onKeyDown(t)},e}(),Ki=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"scene",{get:function(){return this.renderTarget.scene},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"camera",{get:function(){return this.renderTarget.camera},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){return this.renderTarget.transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderTarget",{get:function(){return e.prototype.getTarget.call(this)},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(t){e.prototype.updateCore.call(this,t),this.invalidateTarget()},t.prototype.onShowCore=function(){e.prototype.onShowCore.call(this),this.invalidateTarget()},t.prototype.onHideCore=function(){e.prototype.onHideCore.call(this),this.invalidateTarget()},t.prototype.shouldPick=function(){return!0},t.prototype.onShowInfo=function(e,t){},t.prototype.invalidateTarget=function(){var e=this.renderTarget;e&&e.invalidate()},t.noPicking="noPicking",t}(Cn),$i=function(){function e(){this._xTranslation=0,this._yTranslation=0,this._zScale=1,this._initialized=!1}return Object.defineProperty(e.prototype,"zScale",{get:function(){return this._zScale},set:function(e){this._zScale=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return new wi.Vector3(1,1,this._zScale)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"translation",{get:function(){return new Kt(this._xTranslation,this._yTranslation,0)},enumerable:!1,configurable:!0}),e.prototype.to3D=function(e){return this._initialized||this.initialize(e),new wi.Vector3(e.x-this._xTranslation,e.y-this._yTranslation,e.z*this._zScale)},e.prototype.rangeTo3D=function(e){return e.isEmpty?new wi.Box3:(this._initialized||this.initialize(e.center),new wi.Box3(this.to3D(e.min),this.to3D(e.max)))},e.prototype.transformTo3D=function(e){this._initialized||this.initialize(e),e.x-=this._xTranslation,e.y-=this._yTranslation,e.z*=this._zScale},e.prototype.transformRelativeTo3D=function(e){e.z*=this._zScale},e.prototype.transformTangentTo3D=function(e){e.z*=this._zScale,e.normalize()},e.prototype.transformNormalTo3D=function(e){e.z/=this._zScale,e.normalize()},e.prototype.transformRangeTo3D=function(e){e.isEmpty||(this._initialized||this.initialize(e.center),e.x.translate(-this._xTranslation),e.y.translate(-this._yTranslation),e.z.scale(this._zScale))},e.prototype.toWorld=function(e){return new Kt(e.x+this._xTranslation,e.y+this._yTranslation,e.z/this._zScale)},e.prototype.transformToWorld=function(e){e.x+=this._xTranslation,e.y+=this._yTranslation,e.z/=this._zScale},e.prototype.rangeToWorld=function(e,t){return void 0===t&&(t=!0),e?t&&e.isEmpty?new $t:new $t(this.toWorld(e.min),this.toWorld(e.max)):new $t},e.prototype.transformRangeToWorld=function(e){e.isEmpty||(e.x.translate(this._xTranslation),e.y.translate(this._yTranslation),e.z.scale(1/this._zScale))},e.prototype.initialize=function(e){this._initialized||(console.log("3D translation is ",e.toString()),this._initialized=!0,this._xTranslation=e.x,this._yTranslation=e.y)},e}(),eo=function(e){function t(t){return void 0===t&&(t=null),e.call(this,t)||this}return Object(n.c)(t,e),t.prototype.getTooltipCore=function(){return"Set Z-scale"},t.prototype.getName=function(){return"Scale Z"},Object.defineProperty(t.prototype,"isDropdown",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropdownOptions",{get:function(){return["0.1","0.25","0.5","1","1.5","2","2.5","3","4","5","7.5","10","20","50","100"]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.target?this.target.zScale.toString():""},enumerable:!1,configurable:!0}),t.prototype.invokeCore=function(){return!0},t.prototype.invokeValueCore=function(e){return!!this.target&&!(Oe.getNumber(e)<=0)&&(this.target.zScale=Oe.getNumber(e),!0)},t}(Ii),to=function(){function e(){}return e.getBoundingBox=function(e,t){if(e){var r=new wi.BoxHelper(e,Ri.toThreeColor(k.white));return r.geometry.computeBoundingBox(),t.rangeToWorld(r.geometry.boundingBox,!1)}},e}(),ro=function(e){function t(){var t=e.call(this)||this;return t._object3D=null,t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"object3D",{get:function(){return this.mustTouch()&&this.touchPart(),this._object3D||this.makeObject(),this._object3D},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(t){e.prototype.updateCore.call(this,t),t.isChanged(Ht.geometry)&&this.touch()},t.prototype.clearMemoryCore=function(){this.isVisible||this.touch()},t.prototype.onShowCore=function(){e.prototype.onShowCore.call(this),this._object3D&&(this._object3D.visible=!0)},t.prototype.onHideCore=function(){this._object3D&&(this._object3D.visible=!1,e.prototype.onHideCore.call(this))},t.prototype.beforeRender=function(){if(e.prototype.beforeRender.call(this),this.isVisible){var t=this.object3D;t&&(t.visible=!0)}else{if(!this._object3D)return;this._object3D.visible=this.isVisible}},t.prototype.calculateBoundingBoxCore=function(){if(this.object3D){var e=to.getBoundingBox(this.object3D,this.transformer);if(e)return e}},t.prototype.mustTouch=function(){return!1},t.prototype.touchPart=function(){this.touch()},t.prototype.touch=function(){var e=this.scene;this._object3D&&e.remove(this._object3D),this._object3D=null,this.touchBoundingBox(),this.invalidateTarget()},t.prototype.makeObject=function(){this._object3D=this.createObject3DCore(),this._object3D&&(this._object3D.name=this.getNode().uniqueId.toString(),this._object3D.visible=!0,this.scene.add(this._object3D),this.touchBoundingBox())},t}(Ki),no=function(){function e(){}return e.Tools="Tools",e.Settings="Settings",e.Actions="Actions",e.ViewFrom="ViewFrom",e}(),io=function(e){function t(t){var r=e.call(this,t)||this;return r._scene=null,r._renderer=null,r._overlay=new Oi,r.isEmpty=!0,r.clock=new wi.Clock,r._cameraControl=null,r._toolController=new qi,r._raycaster=new wi.Raycaster,r._transformer=new $i,r.isPerspectiveMode=!0,r._prevPixelRange=new $t,r}return Object(n.c)(t,e),t.prototype.setPreviousTool=function(){this._toolController.setPreviousTool(this._cameraControl)},Object.defineProperty(t.prototype,"activeTool",{get:function(){return this._toolController.activeTool},set:function(e){this._toolController.setActiveTool(e,this._cameraControl)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"camera",{get:function(){return this.cameraControl.camera},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controls",{get:function(){return this.cameraControl.controls},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){return this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"directionalLight",{get:function(){return this.scene.getObjectByName("DirectionalLight")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zScale",{get:function(){return this._transformer.zScale},set:function(e){var t,r;if(this._transformer.zScale<=0)throw Error("ZScale cannot be less or equal 0");if(this._transformer.zScale!==e){this._transformer.zScale=e;try{for(var i=Object(n.h)(this.viewsShownHere.list),o=i.next();!o.done;o=i.next()){var a=o.value;a instanceof ro&&a.touch()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}this.invalidate()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scene",{get:function(){if(!this._scene)throw Error("Scene is not set");return this._scene},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraControl",{get:function(){if(!this._cameraControl)throw Error("Camera is not set");return this._cameraControl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){if(!this._renderer){var e=new wi.WebGLRenderer({antialias:!0,preserveDrawingBuffer:!0});e.autoClear=!1,e.gammaFactor=2.2,this._renderer=e}return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},t.prototype.initializeCore=function(){var t=this;e.prototype.initializeCore.call(this),this._scene=new wi.Scene,this._cameraControl=new Di(this);var r=new wi.AmbientLight(4210752,.25),n=new wi.DirectionalLight(Ri.toThreeColor(k.white),.95);n.name="DirectionalLight",this._scene.add(r),this._scene.add(n),this.domElement.tabIndex=1,this.controls.addEventListener("update",(function(){return t.updateLightPosition()})),this.domElement.addEventListener("click",(function(e){return t._toolController.onMouseClick(t,e)}),!1),this.domElement.addEventListener("mousedown",(function(e){return t._toolController.onMouseDown(t,e)}),!1),this.domElement.addEventListener("mouseup",(function(e){return t._toolController.onMouseUp(t,e)}),!1),this.domElement.addEventListener("mousemove",(function(e){return t._toolController.onMouseMove(t,e)}),!1),this.domElement.addEventListener("keydown",(function(e){return t._toolController.onKeyDown(t,e)}),!1),this.render()},Object.defineProperty(t.prototype,"domElement",{get:function(){return this.renderer.domElement},enumerable:!1,configurable:!0}),t.prototype.onResize=function(){var e=this.pixelRange;this.renderer.setSize(e.x.delta,e.y.delta),this._cameraControl&&this._cameraControl.onResize(this.aspectRatio),this.invalidate(),this._prevPixelRange=e},t.prototype.viewAll=function(){var e=this.getBoundingBoxFromViews();return this.transformer.transformRangeTo3D(e),!!this._cameraControl&&this._cameraControl.viewRange(e)},t.prototype.addTools=function(e){var t=new Hi(this);this.activeTool=t,this.addTool(e,no.Tools,t),this.addTool(e,no.Tools,new Zi(this)),this.addTool(e,no.Tools,new Yi(this)),this.addTool(e,no.Tools,new Ji(this)),this.addTool(e,no.Tools,new Vi(this)),this.addTool(e,no.Actions,new Fi(this)),this.addTool(e,no.Actions,new Ni(this)),this.addTool(e,no.Actions,new Ui(this)),this.addTool(e,no.Actions,new Gi(this)),this.addTool(e,no.Actions,new Li(this)),this.addTool(e,no.Actions,new Wi(this));for(var r=0;r<6;r++)this.addTool(e,no.ViewFrom,new Pi(this,r));this.addTool(e,no.Settings,new eo(this))},t.prototype.render=function(){var e,t,r=this;if(requestAnimationFrame((function(){r.render()})),this.isInitialized){this.pixelRange.isEqual(this._prevPixelRange)||this.onResize();var i=this.controls,o=!0;if(i){var a=this.clock.getDelta();o=i.update(a)}if(this.isInvalidated||o){this.updateNearAndFarPlane(),this.isEmpty&&(this.isEmpty=!this.viewFrom(-1));var s=this.hasViewOfNodeType(Bi);this.scene.background=Ri.toThreeColor(this.getBgColor(s));try{for(var c=Object(n.h)(this.viewsShownHere.list),l=c.next();!l.done;l=c.next())l.value.beforeRender()}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}this.renderer.render(this.scene,this.camera);var u=this.fillViewInfo();this._overlay.render(this.renderer,u,this.pixelRange.delta,this.fgColor,this.bgColor),this.invalidate(!1)}}},t.prototype.renderFast=function(){this.renderer.render(this.scene,this.camera);var e=this.fillViewInfo();this._overlay.render(this.renderer,e,this.pixelRange.delta,this.fgColor,this.bgColor)},t.prototype.addTool=function(e,t,r){r instanceof ji&&this._toolController.add(r),e.add(t,r)},t.prototype.viewFrom=function(e){var t=this.getBoundingBoxFromViews();return this.transformer.transformRangeTo3D(t),!!this._cameraControl&&this._cameraControl.viewFrom(t,e)},t.prototype.switchCamera=function(){var e=this;this.isPerspectiveMode=!this.isPerspectiveMode;var t=this.cameraControl.controls.azimuthAngle,r=this.cameraControl.controls.polarAngle;this.controls.removeEventListener("update",(function(){return e.updateLightPosition()})),this._cameraControl=new Di(this),this.controls.addEventListener("update",(function(){return e.updateLightPosition()}));var n=this.getBoundingBoxFromViews();this.transformer.transformRangeTo3D(n);var i=n.z.max-n.z.min,o=this.pixelRange.y.max-this.pixelRange.y.min;this.isPerspectiveMode||this.cameraControl.controls.zoomTo(o/i),this._cameraControl.controls.rotateTo(t,r,!1),this._cameraControl.viewRange(n)},t.prototype.updateLightPosition=function(){var e=this.camera,t=this.controls,r=this.directionalLight;if(r){var n=new wi.Vector3,i=new wi.Vector3;n=t.getPosition(n),i=t.getTarget(i);var o=n.clone();o.sub(i);var a=new wi.Vector3;e.getWorldDirection(a);var s=o.length();o.normalize();var c=o.clone(),l=new wi.Vector3(0,0,1);c.z=0,c.normalize(),c.applyAxisAngle(l,Math.PI/2),l.crossVectors(c,o),o.applyAxisAngle(l,Yt.toRad(0)),o.applyAxisAngle(c,-Yt.toRad(0)),s=Math.max(s,1e5),o.multiplyScalar(s),o.add(i),r.position.copy(o)}},t.prototype.getRayFromEvent=function(e){var t=this.getMouseRelativePosition(e);return this._raycaster.setFromCamera(t,this.camera),this._raycaster.ray},t.prototype.getIntersections=function(e){return this._raycaster.setFromCamera(e,this.camera),this._raycaster.intersectObjects(this.scene.children,!0)},t.prototype.getClickPosition=function(e){var t=Object(n.f)(this.getViewByMouseEvent(e),2)[1];return t?t.point:null},t.prototype.getMouseRelativePosition=function(e){var t=this.domElement.getBoundingClientRect(),r=(e.clientX-t.left)/t.width,n=(e.clientY-t.top)/t.height;return r=2*+r-1,n=2*-n+1,new wi.Vector2(r,n)},t.prototype.getViewByObject=function(e){for(var t,r;;){if(!e.visible)return null;if(e.userData[Ki.noPicking])return null;if(e.name)try{for(var i=(t=void 0,Object(n.h)(this.viewsShownHere.list)),o=i.next();!o.done;o=i.next()){var a=o.value;if(a instanceof Ki&&a.shouldPick()){var s=a.getNode();if(s&&s.uniqueId.equalString(e.name))return a}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}if(!e.parent)break;e=e.parent}return null},t.prototype.getNodeByMouseEvent=function(e){var t=Object(n.f)(this.getViewByMouseEvent(e),2),r=t[0],i=t[1];return r?[r.getNode(),i]:[null,null]},t.prototype.getViewByMouseEvent=function(e){var t,r,i=this.getMouseRelativePosition(e),o=this.getIntersections(i);try{for(var a=Object(n.h)(o),s=a.next();!s.done;s=a.next()){var c=s.value,l=this.getViewByObject(c.object);if(l)return[l,c]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return[null,null]},t.prototype.updateNearAndFarPlane=function(){if(this.isInitialized){var e=this.camera,t=this.getBoundingBoxFromViews();if(t&&!t.isEmpty){this.transformer.transformRangeTo3D(t);var r=t.diagonal,n=.001*r,i=2*r+this.cameraControl.distance;Yt.isAbsEqual(e.near,n,.1*n)&&Yt.isAbsEqual(e.far,i,.1*i)||(e.near=n,e.far=i,e.updateProjectionMatrix())}}},t.className="ThreeRenderTargetNode",t}(Fn),oo=function(e){function t(t){var r=e.call(this,t)||this;return r.size=30,r.colorType=zt.ColorMap,r}return Object(n.c)(t,e),t.prototype.clone=function(){return er.cloneDeep(this)},t.prototype.populateCore=function(e){},t}(Ti),ao=function(e){function t(){var t=e.call(this)||this;return t._data=null,t._dataLoader=null,t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"dataLoader",{get:function(){return this._dataLoader},set:function(e){this._dataLoader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasDataInMemory",{get:function(){return null!=this._data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataIsLost",{get:function(){return void 0!==this._dataIsLost&&this._dataIsLost},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anyData",{get:function(){if(null!=this._data||this.dataIsLost)return this._data;if(!this.dataLoader)return null;var e=this.dataLoader.load(this);return this.anyData=e,e},set:function(e){this._data=e;var t=this._dataIsLost;this._dataIsLost=!e,t!==this._dataIsLost&&this.notify(new kt(Ht.nodeIcon)),this.dataIsLost&&(console.warn("The data is lost in",this.name),this.notifyVisibleStateChange(!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAIZ0lEQVR42rWXCWwU1xnH3xw7s/cB5jCG2mC3NghBgiJMREmpIbSljZFSQzjtBkqJEgqlSWkjpQ2k0AAOpIWUIpFgAmlEOAIigkYlKYEcjqkbIATwuQfrZe1d7+7szuzM7Jx9Y946AxgKrTrS57F23/e+3/ve//veWwwM/GCm/3Xw/3mwmwJlm5t8mq7OUq5fHypresYf7Ppgypo1MfiVhiD0/xXGX1fnwzGtisa0ikCbX4jnxMOYfi1AyYn4NL7tyi6x43KZznOAdPsA5vQyoVjvWzv+fuZPexubuqC/iuy+QNrn1hRQowonOwZ7l+s5fma4pZVoae1sPdgRbDjDi+9hF949MHeMxG7LNDeOBKoKSJcb4DYHICgLsOCE3hVPfvxO08VX13945kM4nwxNMYHc9elcsqjSWT5mva3AO5mNRnwXzjbFjly88vpH6cxJv6oG4JAcduoP67ZVZJNPW1SRBrQNEB4vwGkrwHQ4v6IAQhYBkeXByfNX6g9f6Xj9YLu/C4EMmI322lrCQpPfon3O9dZBrscARVr9l9u5Iyf+ceLNWOzNiKa1om01/CVs5aMzir/pdf98VsmIlUMHu2nc6wMAx+FXEtAVGCcnAMBnAdYbE/3R1Cc1pxpXB1g2bDijbGhmCP/S2mV2O7aStuIPSFBizeeuxt9t6di3LxY/AGdj0VgZ+YuGCElo9MMlxdOXPjDhqWljS6cPLyxwGuM0UQR6lgV6hgFabw8guQxIClrgjUDPb19uDZ4wJshDBOoWTMS51G9oJT0P11XQk8Ols23RL9cFw5vjet+qVQQrIb9c3xbAPwQ0CprdYaGKaseXz6kqHrnoO2PHlFN2CqhMCqjpFASIAZ1NAwJCcLol8mK3vGL/ta5GY7LzT9RMczGhV6luf7kFA3gPcIK3o9mjhxPMPr+iBFBgGQUWTQAKhkqRRBA2AwTakJ+NKa77cWnRjyYUOEcTIgvUVBJoMLgKISRZAllHQfdp1VE/dfSosZZ4eKHS1WmnCQJ0KPb4IQ4cfJtl96MgGnoLyETz9uX7AI4yYcmDwA/clR73uHnDfCurPOTUYSpLK1ALAtSGqGh9M0g2D4MTuEtlkoQKdzas29k9GW3rWV44DRXEoSBGwKwp+E0Cxm7pTDjKhgFCQ7NC81TaHY/8ykf9sozgSzBdsuQ0HcjQHb76ZpGg2xeyo/VgVtndLAifoMBGIP6W4LeVMDZA+eK3gBgQtok0Pb7KRs6b71FrFVnEFFPxyaRDf7ZXf/GiwJ8x7bERmEPBcwNVzJ0A8p/nBdpXJU9WlA+vGuZbUZHwrxaYBIYROOwVcEajeWEYiLoKmzZEmE3nM5xRoka5ZRBEPviAHRS7hwMDXzFpkvWZ0cN2KqHLNUKq105SVkBaLICEzQpTRdgqRDiQlD7D3cdXdXZvhD4MtDRavTzQyu8VALTULijDssmtzJWmah2u1gobFW2zg0/DmdCXaaFtWYn32x5csqUTCdj0KLBHsK3bGo69pQE9hTQgIQBw3wCdixe7NClxjGu/8IjMZkiL0wXsgwaBYFLKrWuLbGnkhea1hUMeW1zim+9ROGcmmQRpi7vztZT6iwM9iWakAfMW3DtA4Kd1ZSqf3MW2NM9QORaQFA2sTifwZ4nMn4PxvSdY9ni+nue4XVNfGj/iBY8qeAQ2A1p1e+PcluhSWdfjpiyo9wXgXzTnGBdp+6HSGyOBpgEKno6CRoMdYfbAO0z6QE7Xe5HajX1W1o8avujxIvcaq8K5dEXTXouDtdsj3QeRIHlTFdwd4OKTtR6bym+Su64+JaWhlmDXI+CorIwrx+Lyp5vjyXqTwFikdENo1HNFw5YsL/auw0WGSkh45+aosOpogvkCbYU40DF+G0Bw2cKnpZ7AJj7W5dJl+caxDH3OxfXAllj6lQ5Z+goFzyDLr87gdDWMLamv8uJPiJmU/j5HNKwK9W40gd4myJsAjj9e/WClhf8sHvZbZZ7vC2wMiHJAXBVK/b5dlj5HE7EoC+aVGc2LKqKokfWlhZunW7jqdE6TF3ZJ1eez2UvIR7hVkP0AR6ZMGTSpfMQuPdoxl4eiU+BRjMG9F1UMHOvJffxyLLURBWRRnecnlNCE+cZlneH1ltcX2f42XGYKTkrufcuDPRvggJQpC+ptAKF51UstlLwzG79OS7wAFHg3NMTXnNRCm6PMK22SdAkB5JuMOaW6qY0bndP6woiC+Uucyqa0jvFb4vLqwwz3+UBZyANg/pofvE/bsVlCIgYkjgMKvIiosOHvCPKHGhimAa0gbVr9nerbgLCUWa0FG0YN3VRJ4wsOpbLb1kbiO00V0Z+FPoCvxo0b5HmoIkKQslXsjQMpkwEyz4IcvDDNuXz9uYiq/BM55yF4U4sdsH0benCTZOGpMd84k5AUZXbw2vdM50P+ZLxxHP+1tKxk5vQHAxqhAjHeAwEYoEAdpHkdfPdSeBlcagsKnkIg4t36u0kP9P7SkrWTCeL56Z3B2VFVvWo6nuX+C0mlxzP6g4Wz/Tyu3wBgkhCAA50pRZhzNfQTmKsgHJYAXwtJvlt/N+thVuGI4ue9rt1Ho92ntzPpN1Dwfv30ATxkd9jfq5l1jfQ5BgsQQIEAQoYDR0Lpf/0u3P1rOCSJLDVQKf0HCKquqOhRgmMn7ElnGkzXM+Ot5kVI/GVixarvjxv9ks1KOgV4/2tsiUT/GOrZfu7GDSeNMpA21f29/v7rv/SizxQUXDID4DOdziEzhviefXiI95loVuB3h6J7P+Kyp7SvhZfff+ke0n9rFvL3TQL5KjdpwFS/djhiPMytXbuhWOUObfd+f6TiJgOm3wj9l9J86dAoVQ6UNh2lK2vqeir47x7M1Hf6r2f/BgtMfxXOLwJVAAAAAElFTkSuQmCC"},t.prototype.canBeVisible=function(t){return!this.dataIsLost&&e.prototype.canBeVisible.call(this,t)},t.prototype.canBeVisibleNow=function(){return null!=this.anyData},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t),this.dataIsLost&&t.addReadOnlyString("Status","Load error")},t.className="DataNode",t}(_r),so=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"points",{get:function(){return this.anyData},set:function(e){this.anyData=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderStyle",{get:function(){return this.getRenderStyle()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Points"},enumerable:!1,configurable:!0}),t.prototype.hasColorMap=function(){return!0},t.prototype.getIcon=function(){return this.dataIsLost?e.prototype.getIcon.call(this):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACE0lEQVR42sWWT0vCcBjHf1MZBp5kRBFKFnjUtIvUJYQu9gqiU3RJege9gKBLB6VzQuYtA+nkW+hoCCpIwhiYZaEow7XWs0ExXLrn99ui5+LG5rPP8+/7/Dhisnw+vy1JkiCKojwcDl/H4/FTtVp9IX9o3PdFuVw+8Hg8x5qmrXe7Xa3RaLw1m80Hr9d7W6lU7p18ZF5gBkAul9sLhUKn4XB4azKZkHa7Ter1utJqtd59Pp9UKpU2aB1jAzMAstnsUTwePwOARVVVCTgk8JIOAv/TPuBFfvrjmIxhAjMA0un0fiKRuBAEYUm/7/f7BCIjvV5P8/v9FgBsxjCBGQCpVGo3Eolc8Ty/Ag/IaDQikE4C1wpAicVicc0MgM0YJjADIJPJrAYCgevBYLCpKMqCDgEwajAYlOD3slAonJsBsBnDBPYzBbFYbDkajd5ARDv6PdTyWZblu1qtdtLpdD7NANiMYQLjWMaKJmN2gXGss02TMZQQ/ZdxLOrllgrOBHBLljF+LACssszqxwLAIsu/GdaPBYBWlmcZ1o8FgEaW5zUY1g/HKjJ2DYb1w7GIDLbBMGLFJERuNaoFACs+bjUq85mQ9vxgC0ArPrTnB1sAlppityFqF2BrSrug0LsAU1PaBUW1C+xqmkwmH2kXFPUumFdTADyk7RHmXeBksbCMKgqAZe4d7QInp2DaUUXvArdOwdP2BR5MCWwS8+gGAAAAAElFTkSuQmCC"},Object.defineProperty(t.prototype,"boundingBox",{get:function(){return this.points?this.points.boundingBox:new $t},enumerable:!1,configurable:!0}),t.prototype.createRenderStyle=function(e){return new oo(e)},t.prototype.verifyRenderStyle=function(e){e instanceof oo&&(this.supportsColorType(e.colorType)||(e.colorType=zt.Specified))},t.prototype.supportsColorType=function(e){switch(e){case zt.ColorMap:case zt.Specified:return!0;default:return!1}},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t);var r=this.points;r&&(t.addReadOnlyInteger("# Points",r.length),t.addReadOnlyRange3(r.boundingBox))},t.className="PointsNode",t}(ao),co=function(e){function t(t){var r=e.call(this,t)||this;return r.lineWidth=1,r.colorType=zt.Different,r}return Object(n.c)(t,e),t.prototype.clone=function(){return er.cloneDeep(this)},t.prototype.populateCore=function(e){},t}(Ti),lo=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"polylines",{get:function(){return this.anyData},set:function(e){this.anyData=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderStyle",{get:function(){return this.getRenderStyle()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Polylines"},enumerable:!1,configurable:!0}),t.prototype.hasColorMap=function(){return!0},t.prototype.getIcon=function(){return this.dataIsLost?e.prototype.getIcon.call(this):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAGY0lEQVR42pVXWUycVRS+I4E+0Y4CVhDsEAOlMchIoSZQcIBCgdp0WKTsDjUh1RitvvikYNTEt+JDo2lSxUobtoZSdggwoJStZQ0BytIpBUTZlK2BVsbvTP5/crnMDGWSyflz17N85zvnKtg+ftnZ2YcgVFevXu3nx2ZmZh739PQ4nj179mvM5YpzHR0djgkJCTvm5J9iH5d/CpG7urqqdHR0NB+G8dzZ2dmc+/fvMyigx3gYt+cdCH1+fj6Lj49/XFhY+Nq+FcAhQRB5i4uLgXq9nrm6urKgoKDbuChOmn8IBVSdnZ0sLi5Oh/FfBY/9U1FRwXx9fZlKpVJi/t/nUgCbj0B8h3/a3bt32YMHD5hGo6FDDBjTUhiw5hy+b9+7d4+Nj4//l5yc7CReQAoODg6q5ubmWGRkpAbzLTYVkLTOw18Hq1ljY6NpXKvVMgcHBxrPlS/B2rKtrS1taWkpCw0NLa+urtZaOK8Mymm7urpYamrqLhwoLFxOFioFq+nCz7H5Z8FDBljHEAJ2+vRpNQ9Obt2PmL8oYWQEa47ZUiAY4o+BgQFGBycmJj46cOBADh9Xbm00rK8h6+HambKyMncLa/wgWqHAQfIAvPgnznKzpYAJtXV1dczd3X22ra3tVRsYaYaSGsn6JhwcYeFyPXmzoaGBra2tbQOkyVhXYlMBWGVKm8zMzN+vX78eauXyL7Du++LiYhYTE8OcnJx2gIu/nDJne3t7Kzw8/ITIH8QpuxSYmprSE/CysrJ25DS3xgPiEZCvmJiYYOfPn8/Dus+sWW5nZ2fpcvMaUYFYiKqbN2/aiusFWH+NrI+Ojt50dnY+zGWFGcRAPgMDbqenp/tbuxyktisEFyCuUQbgEsoAot1HopdguZ6IB2nVjfkTwuF99E3csLS0NGAwGPyshcbe3n7TEg8sgzSUNTU1RJ+GoqIiT2s4wfeuMFHeE22QEUaj0TA0NOTJZVg1/gd5XCiscH4epSG0p9wl1isXM4XChAO679y5c0LYfxniEtHv0aNHS3BZkowbAr2IC4UVlA9D+MhuCg4OfluOo6yAxO+99fX1/mJ6QmhIwePHj3/Z0tLyrRxaAm17e7sRuAjBeW1Wa4EMJrhaSUTj7+8/3dra6sEDlVwMS1b6+/sPCXuNJHEBfas5xZfBGUqxaNkqRiZAjYyMsO7ubpaRkWGKN8bfw3gx0fTY2Bg7c+aMmQNkJqUaUltby9bX1xXcebnAVk5VVRVLS0sbAMf47VmOsekXKkpSPV9CPXeSKxz4QtXU1MR0Ot0Mht6gVJRdjTkqYkZwyYtcippqB2UHKSjXjr0UMMfbx8dnrLm52Zs7rA9xVuIgYkJzNpCrKc14DHDnVUC8e+vWLebl5TUFnjjyXApQRsCqv9FeHebmfgMO0iW+WIACLrKrIXIIIxsbG4uTk5PO3J5PIH6Qwmp88uTJC3spkARRJDUcT1dWVhz4dAOqL0mEVAAFMnhXExNKPQAPRFOHRN8U1oCAgJi9FGiEheFSyZ0HNb/MpxtQrZHqvNiKlWFOK83lYy5LTFMKq4uLS56tLDC1W1zD8YHQkBhpXLpELfB9EuaKLDUhmLsC8RGdOz09vbInD5SUlLCwsLCmysrKCLFxIQUoBPPz82JN6cWcWmpCdvQK1CFBXAR/sOHh4WfWFDDRKTEhCsozpKAz32xi/jbEOQIagPlseXnZns93AqHUhBDpiL3CQ+oDKBM8PT0LFNYIiIiG3HTq1KkPUZB+EntBymWKI9q2b5ByX/FZI+8VHyNyWGkvuq5tAPQlSwr0YoGa2rLY2Nh21P0gS+RE/QDy/C8Qzitc2PpQwFQUezCkme1EHiDPSka+JcYuF3HPIdRTN+zm5iaCy8xmRMMpKSlm9BPyobiWFI+KilpBo/Im30tID5w24o0bN26wwMDAGISwViECD25Vog2nSrerhyfrcYBO7IQx/j7G84n9gHpiRp3YSWNNF0SghKunCwsLDjtqAcUeLVIfxQ5PLwMO8LTwUuLfAaZLSPHNzU0DskRJzy9vb2/zs03sMWgfKYDwfAxcXbHUFZPFftLrp18EJ6zsI+sjIiJGysvLj8njcHsfrCZmo35QLWSMybP0qCXQnjx5sgCVMmPfr2PpeXZ5dHQ0OiQkJJlT8AjeEIUA7Jw1xQlwdLmHh8eiWq1+nVfwf70YmM+Q+prRAAAAAElFTkSuQmCC"},Object.defineProperty(t.prototype,"boundingBox",{get:function(){return this.polylines?this.polylines.boundingBox:new $t},enumerable:!1,configurable:!0}),t.prototype.createRenderStyle=function(e){return new co(e)},t.prototype.verifyRenderStyle=function(e){e instanceof co&&(this.supportsColorType(e.colorType)||(e.colorType=zt.Specified))},t.prototype.supportsColorType=function(e){switch(e){case zt.Different:case zt.Specified:return!0;default:return!1}},t.prototype.populateStatisticsCore=function(t){var r,i;e.prototype.populateStatisticsCore.call(this,t);var o=this.polylines;if(o){var a=0;try{for(var s=Object(n.h)(o.list),c=s.next();!c.done;c=s.next())a+=c.value.length}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}t.addReadOnlyInteger("# Polylines",o.length),t.addReadOnlyInteger("# Points",a),t.addReadOnlyRange3(o.boundingBox)}},t.className="PolylinesNode",t}(ao),uo=function(e){function t(t){var r=e.call(this,t)||this;return r.showContours=new Ir({name:"Show contours",value:!0}),r.showSolid=new Ir({name:"Show solid",value:!0}),r.increment=new Or({name:"Increment",value:0}),r.contourColorType=new or({name:"Contour color",value:zt.Black}),r.solidColorType=new or({name:"Solid color",value:zt.ColorMap}),r.solidContour=new Cr({name:"Solid contour",value:.5,use:!0}),r.solidShininess=new Cr({name:"Solid shininess",value:.5,use:!0}),r.solidOpacity=new Cr({name:"Solid opacity",value:.5,use:!1}),r}return Object(n.c)(t,e),t.prototype.clone=function(){return er.cloneDeep(this)},t.prototype.populateCore=function(e){var t=this;e.addChild(this.showContours),e.addChild(this.showSolid),e.addChild(this.increment),e.addChild(this.contourColorType),e.addChild(this.solidColorType),e.addChild(this.solidContour),e.addChild(this.solidShininess),e.addChild(this.solidOpacity);var r=function(){return t.showSolid.value};this.increment.isEnabledDelegate=function(){return t.showContours.value||t.showSolid.value&&t.solidContour.use},this.contourColorType.isEnabledDelegate=function(){return t.showContours.value},this.solidColorType.isEnabledDelegate=r,this.solidContour.isEnabledDelegate=r,this.solidShininess.isEnabledDelegate=r,this.solidOpacity.isEnabledDelegate=r},t}(Ti),po=function(e){function t(){var t=e.call(this)||this;return t.colorMap=pr.terrainName,t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"surface",{get:function(){return this.anyData},set:function(e){this.anyData=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderStyle",{get:function(){return this.getRenderStyle()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Surface"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return this.dataIsLost?e.prototype.getIcon.call(this):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAHIklEQVR42sVXC1COaRQ+f5FySSUsUlKEGXJb13EPGSZDFJKmSKWMO6UUU0gjzY6kaLowQ4S0E5VshKhMrEuEUn9uS1iFEPr3PMf+/1hjF8nsO/PNX+/3fe973uc8z3POp6D/eSi+9YXt27ebt23b1rlly5brrl27VvzgwYOiP3jcu3fv4ZQpUyo8PT0Tf0gAmzdvths0aFDqmTNnKrOyslrzxvT06VNq06YNvXz5ku7fv09DhgzJrqmpye/evXtmXFxcToMFEB4e/ntmZqb1sWPHaNiwYTRmzBgaOXIkFRUV0cGDB+V3woQJ1KFDB0pKSqIRI0aQkZGRBwe947sD4FO5KpXKODc3N9m8cePG9P79e0pMTKSSkhIyNzeXDTkt8nxlZaUE8eTJkypDQ0OvEydO7K13AEuXLo1MS0vznjNnDnXs2JHu3LlDDDG9ePGCzp49S+PHj6fevXuTlpbWh8UUCvn78uXLxEHT4cOHqywsLGKOHz8epa+vr/ymAGbNmhWZkZHhbWVlRTo6OpJjXoSYbFRbWwuIZRMnJyeytbWVZxDYzZs3KT8/n86dOyfBXbhwgebNm5cUHBzsy8RVflUA/v7+kfv373fs1KmTsZ+fH71584ZevXpFkZGRpFKpqGfPnjR8+HBiQlJubq7MISCkBAhNmjSJJk+eLEHhfnR0NNnY2MRHRUWtMzAwUP5nANOmTVt469at1Y6Ojj9x/un169f09u1bYubT1atXycHBgYyNjTXPM0pUXFws6TE1NaUVK1bIPILChVFWVkahoaG0YMGCjMWLF3t+jMQ/AvDy8lrIjF7J0ZqA5Tg54D59+jQVFhbK5q1atZKFkWsEdOPGDWKy0ejRoyksLIwgT96IunTpIpzQ1tYW4qamplJsbCxt2LAhaf78+Zp0aALw9va25ZOn4xScM9E2Njpw4ADxPDEiwnTMYWHAzdKkbt260bhx4+jdu3eiDiBVUFBAy5cvp+bNm1OTJk3o6NGjkgr4xtChQ6v5Xh6ndy8HkSABxMTEWCUnJxfDVMB45A6wYxNEDpJh42fPnlG7du3o+fPntGfPHmrfvj3Nnj2beCGqq6uTCwMSxfvTp0+nHTs+WAE4wwZF7JRIUyYfOJD3K1AwJKbZ2dnK6upqsra2FhazhgVeKADw6unpUaNGjWQewd29e1dOC/0jAE0+FR8ABWK7du2S/0FY5pXMI0CkE/u5urpG+/j4hCrs7OxCmLn+VVVVYipdu3YVe4V8QKz+/fvTwIEDNdCfPHlScuns7EyXLl2iUaNG0eDBgyXXuKAMuCMQQO7Xr1+v8Qn175o1a4BIFiMbq2DCqdgoRCpsGkI8LMTIEEuGXFxcNCfEAmA5vyMmBAvGuxMnTiQTExPi4iQBDhgwQEi5bds2sWekEAhiXZAZ/nH+/PkaDw+PCmCmsre3J4ZDJKceCQkJ1LlzZ0EAAy8fOXJEXA55RHBABalKSUmR0wIhBAbEkCIo5NSpUzR16lR6+PChIHrx4kXxDHZYYl8QFaggn759+8rpccq/vVyY36JFC5nDi5s2baKAgADJq5pwuBcYGCi/KEg4vVr/+AUKIC24A6WAmEgzFypBQgJgz6ZmzZrJAxiHDh2Sv7EYTgViQg1c7+sYWi315mpO5OTkCGFRiNzd3TX6x7Vx40aRNHgCdHAPV3p6OpWXl5OCNazCgyAhImKvVzZt2tQMkMITYESYZz0r2fcNOaf6vXr1kkXAATghkIIkt27dKiedO3eupASnR+7hH+DHsmXLBClcIHBeXp4EYMMTeqwEFT9Yxm5oHxERUcy5rdTV1f2TT6v7+PFjG/YAF86rJQen5LJs1qdPH9kcvQEutRFt2bJFzKm0tFTkC1fE/O7duwX6fv36qclYx5fWt7RkrZn9BswVJ+ZMkKWlZW2PHj102FY1Gse4fv26yBAp5XKuuQd3xIlnzJghEmV3rOFAShT1aSQZBR9+2ZfJ2GHVqlUaMuICUcF4nD4oKEhjTrgHqYOYzJXn/G5+fHz8WEV9u1kmaCAvtIRLrwF8AbBiAygJRQtKgtxmzpypISQ3tHT79u1qdsYC7g/G1qsr/niwz5fv3LnThEmnDY+AjwB25Bwwcy8pHsDpQr0B0Z9yCn5jz3God1v+8eB+L4CtNriiooLMzMxo0aJFGv0j79A67jFXhBMcTCx3Wu7f9V3w6WDClbPWTdauXauNk6v7QgxfX1969OhRHZd3LVZNMpuQw3d/mHw6uPgEhISEBEPrgFttQqiY+/btQ5+oXLJkSSVz4ecG+TL63OAmpJwZ32716tU66roBU2JEcrmz+pX7yrAG+zT73Lhy5YofNyEeXOHMVq5cqVZDLiOSwoUrvEG/Df9tsLf7sdV6cM9oxJWykEtwGnc94Q3+cfoFQgYyGd04HRGs9V9+yNfxlwY7nAWnpPRrn/8LWknFyxc++D4AAAAASUVORK5CYII="},t.prototype.hasColorMap=function(){return!0},Object.defineProperty(t.prototype,"boundingBox",{get:function(){return this.surface?this.surface.boundingBox:new $t},enumerable:!1,configurable:!0}),t.prototype.createRenderStyle=function(e){return new uo(e)},t.prototype.verifyRenderStyle=function(e){if(e instanceof uo){var t=this.boundingBox;if(!t.isEmpty){var r=t.z;if((o=e.increment.value)<=0&&(e.increment.value=r.getBestInc()),!e.increment.hasOptions){for(var n=[],i=100;i>=3;i--){var o=r.getBestInc(i);0!==n.length&&n[n.length-1]===o||n.push(o)}e.increment.options=n}}}},t.prototype.supportsColorType=function(e){switch(e){case zt.ColorMap:case zt.Specified:case zt.Parent:case zt.Black:case zt.White:return!0;default:return!1}},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t);var r=this.surface;r&&(t.addReadOnlyIndex2("# Cells",r.cellSize),t.addReadOnlyVector2("Spacing",r.inc),t.addReadOnlyVector2("Origin",r.origin),t.addReadOnlyAngle("Rotation",r.rotationAngle),t.addReadOnlyRange3(r.boundingBox))},t.className="SurfaceNode",t}(ao),ho=function(e){function t(t){var r=e.call(this,t)||this;return r.budget=2e6,r}return Object(n.c)(t,e),t.prototype.clone=function(){return er.cloneDeep(this)},t.prototype.populateCore=function(e){},t}(Ti),fo=function(e){function t(){var t=e.call(this)||this;return t._url="",t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},set:function(e){this._url=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderStyle",{get:function(){return this.getRenderStyle()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Potree"},enumerable:!1,configurable:!0}),t.prototype.createRenderStyle=function(e){return new ho(e)},t.className="PotreeNode",t}(_r),go=function(e){function t(){var t=e.call(this)||this;return t.corners=[],t.centersIn3d=new Array(6),t.textColor=k.red,t.axisColor=k.red,t.gridColor=k.red,t.wallColor=k.red,t.bgColor=k.black,t.boundingBoxFromViews=void 0,t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"node",{get:function(){return e.prototype.getNode.call(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return e.prototype.getStyle.call(this)},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(t){e.prototype.updateCore.call(this,t)},t.prototype.shouldPick=function(){return!1},t.prototype.calculateBoundingBoxCore=function(){return new $t},t.prototype.mustTouch=function(){var e=this.renderTarget,t=e.getBoundingBoxFromViews();return t.isEmpty||t.expandByFraction(.02),(!t.isEqual(this.boundingBoxFromViews)||!er.isEqual(e.bgColor,this.bgColor))&&(this.bgColor=e.bgColor,this.boundingBoxFromViews=t,!0)},t.prototype.beforeRender=function(){var t,r;e.prototype.beforeRender.call(this);var i=this.object3D;if(i){var o=this.camera,a=null,s=null;if(o instanceof wi.OrthographicCamera){var c=new wi.Vector3(0,0,0);a=Ri.fromThreeVector3(o.getWorldDirection(c))}else s=Ri.fromThreeVector3(o.position);try{for(var l=Object(n.h)(i.children),u=l.next();!u.done;u=l.next()){var d=u.value;this.updateVisible(d,s,a)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}}},t.prototype.createObject3DCore=function(){var e=this.renderTarget,r=this.boundingBoxFromViews;if(!r)return null;if(r.isEmpty)return null;var n=this.style;if(!n)return null;var i=r.diagonal*n.tickLength;this.axisColor=e.fgColor,this.gridColor=e.isLightBackground?k.lightGrey:k.veryDarkGrey,this.wallColor=e.bgColor,this.textColor=e.fgColor,this.corners=r.getCornerPoints();for(var o=t.getUseWall(r),a=this.transformer,s=0;s<6;s++){var c=$t.getWallCornerIndexes(s);this.centersIn3d[s]=Kt.getCenterOf4(this.corners[c[0]],this.corners[c[1]],this.corners[c[2]],this.corners[c[3]]),a.transformTo3D(this.centersIn3d[s])}var l=new wi.Group;for(s=0;s<6;s++)this.addWall(l,o,s);var u=t.getGridInc(r,n.numTicks);return r.x.hasSpan&&(this.addAxis(l,n,o,u,i,0,1,0,1,2),this.addAxis(l,n,o,u,i,3,2,0,2,4),this.addAxis(l,n,o,u,i,7,6,0,4,5),this.addAxis(l,n,o,u,i,4,5,0,1,5)),r.y.hasSpan&&(this.addAxis(l,n,o,u,i,3,0,1,0,2),this.addAxis(l,n,o,u,i,1,2,1,2,3),this.addAxis(l,n,o,u,i,5,6,1,3,5),this.addAxis(l,n,o,u,i,7,4,1,0,5)),r.z.hasSpan&&(this.addAxis(l,n,o,u,i,0,4,2,0,1),this.addAxis(l,n,o,u,i,1,5,2,1,3),this.addAxis(l,n,o,u,i,2,6,2,3,4),this.addAxis(l,n,o,u,i,3,7,2,0,4)),n.showGrid&&(this.addGrid(l,o,0,u,1,2),this.addGrid(l,o,1,u,0,2),this.addGrid(l,o,2,u,0,1),this.addGrid(l,o,3,u,1,2),this.addGrid(l,o,4,u,0,2),this.addGrid(l,o,5,u,0,1)),l},t.prototype.addAxis=function(e,r,i,o,a,s,c,l,u,d){var p,h;if(i[u]||i[d]){var f=this.transformer;if(r.showAxis)for(var g=0;g<2;g++){var m,y=0===g;m=y?0===l?this.axisColor.mix(k.red,.6):1===l?this.axisColor.mix(k.green,.6):this.axisColor.mix(k.blue,.8):this.axisColor;var v=y?2:1;(R=new wi.Geometry).vertices.push(f.to3D(this.corners[s])),R.vertices.push(f.to3D(this.corners[c]));var b=new wi.LineBasicMaterial({color:Ri.toThreeColor(m),linewidth:v}),x=new wi.LineSegments(R,b);this.setUserDataOnAxis(x,u,d,y),e.add(x)}var S=Object(n.f)(t.getRealRange(o,this.corners[s].getAt(l),this.corners[c].getAt(l),l,f.zScale),2),A=S[0],w=S[1];if(!A.isEmpty){var _=0,T=0,E=A.getBoldInc(w),B=$t.getTickDirection(u,d);if(r.showAxisTicks||r.showAxisNumbers){var R=new wi.Geometry,M=r.tickFontSize*a;try{for(var C=Object(n.h)(A.getTicks(w)),O=C.next();!O.done;O=C.next()){var I=O.value,F=Number(I),N=this.corners[s].clone();N.setAt(l,F);var L=N.clone(),P=B.clone();if(P.multiplyScalar(a),r.showAxisTicks&&(L.add(P),R.vertices.push(f.to3D(N)),R.vertices.push(f.to3D(L))),r.showAxisNumbers){if(!Yt.isInc(F,E))continue;0===T&&(_=F),T++,L.add(P),f.transformTo3D(L),(U=Mi.createByPositionAndDirection(""+F,L,B,M,this.textColor))&&(e.add(U),this.setUserDataOnAxis(U,u,d,!0))}}}catch(e){p={error:e}}finally{try{O&&!O.done&&(h=C.return)&&h.call(C)}finally{if(p)throw p.error}}if(r.showAxisTicks){var D=Ri.toThreeColor(this.axisColor);b=new wi.LineBasicMaterial({color:D,linewidth:1}),x=new wi.LineSegments(R,b),this.setUserDataOnAxis(x,u,d,!0),e.add(x)}}if(r.showAxisLabel){var U,G=r.labelFontSize*a,j=void 0;T>=2?(F=_+Math.round(.5*T-.5)*E,F-=E===w?w/2:w,(j=this.corners[s].clone()).setAt(l,F)):j=Kt.getCenterOf2(this.corners[s],this.corners[c]),j=Kt.addWithFactor(j,B,5*a),f.transformTo3D(j),(U=Mi.createByPositionAndDirection(Kt.getAxisName(l),j,B,G,this.textColor))&&(e.add(U),this.setUserDataOnAxis(U,u,d,!0))}}}},t.prototype.addWall=function(e,t,r){if(t[r]){var n=$t.getWallCornerIndexes(r),i=new wi.Geometry,o=this.transformer;i.vertices.push(o.to3D(this.corners[n[0]])),i.vertices.push(o.to3D(this.corners[n[1]])),i.vertices.push(o.to3D(this.corners[n[2]])),i.vertices.push(o.to3D(this.corners[n[3]])),i.faces.push(new wi.Face3(0,1,2)),i.faces.push(new wi.Face3(0,2,3));var a=Ri.toThreeColor(this.wallColor),s=new wi.MeshBasicMaterial({color:a,side:wi.BackSide,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:4}),c=new wi.Mesh(i,s);this.setUserDataOnWall(c,r),e.add(c)}},t.prototype.addGrid=function(e,t,r,n,i,o){if(t[r]){var a=$t.getWallCornerIndexes(r),s=new wi.Geometry;this.addGridInOneDirection(s,n,a[0],a[1],a[3],i),this.addGridInOneDirection(s,n,a[0],a[3],a[1],o);var c=Ri.toThreeColor(this.gridColor),l=new wi.LineBasicMaterial({color:c,linewidth:1}),u=new wi.LineSegments(s,l);this.setUserDataOnWall(u,r),e.add(u)}},t.prototype.addGridInOneDirection=function(e,r,i,o,a,s){var c,l,u=this.transformer,d=this.corners[i].clone(),p=this.corners[o].clone(),h=this.corners[a].clone(),f=Object(n.f)(t.getRealRange(r,d.getAt(s),p.getAt(s),s,u.zScale),2),g=f[0],m=f[1];if(!g.isEmpty){var y=g.getBoldInc(m);try{for(var v=Object(n.h)(g.getTicks(m)),b=v.next();!b.done;b=v.next()){var x=b.value,S=Number(x);Yt.isInc(S,y)&&(d.setAt(s,S),h.setAt(s,S),e.vertices.push(u.to3D(d)),e.vertices.push(u.to3D(h)))}}catch(e){c={error:e}}finally{try{b&&!b.done&&(l=v.return)&&l.call(v)}finally{if(c)throw c.error}}}},t.prototype.setUserDataOnWall=function(e,t){e.userData.wallIndex0=t},t.prototype.setUserDataOnAxis=function(e,t,r,n){e.userData.wallIndex0=t,e.userData.wallIndex1=r,e.userData.mainAxis=n},t.prototype.updateVisible=function(e,t,r){var n=e.userData.wallIndex0;if(void 0!==n){var i=this.isWallVisible(n,t,r),o=e.userData.wallIndex1;if(void 0!==o){var a=this.isWallVisible(o,t,r),s=e.userData.mainAxis;e.visible=s?i!==a:i&&a}else e.visible=i}},t.prototype.isWallVisible=function(e,t,r){if(!r){if(!t)return!1;r=Kt.substract(this.centersIn3d[e],t)}var n=$t.getWallNormal(e);return r.getDot(n)>0},t.getGridInc=function(e,t){var r=0;return e.x.hasSpan&&(r=Math.max(r,e.x.getBestInc(t))),e.y.hasSpan&&(r=Math.max(r,e.y.getBestInc(t))),e.z.hasSpan&&(r=Math.max(r,e.z.getBestInc(t))),r},t.getRealRange=function(e,t,r,n,i){var o=new Jt(t,r);if(2===n&&1!==i){var a=o.getNumTicks(e);e=o.getBestInc(a*i*2)}return[o,e]},t.getUseWall=function(e){var t=new Array(6);return t[0]=e.y.hasSpan&&e.z.hasSpan,t[1]=e.x.hasSpan&&e.z.hasSpan,t[2]=e.x.hasSpan&&e.y.hasSpan,t[3]=e.y.hasSpan&&e.z.hasSpan,t[4]=e.x.hasSpan&&e.z.hasSpan,t[5]=e.x.hasSpan&&e.y.hasSpan,t},t}(ro),mo=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"node",{get:function(){return e.prototype.getNode.call(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return e.prototype.getStyle.call(this)},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(t){e.prototype.updateCore.call(this,t)},t.prototype.calculateBoundingBoxCore=function(){var e=this.node.boundingBox;if(e)return e.expandByMargin(this.style.size),e},t.prototype.createObject3DCore=function(){var e=this.node,r=this.style,n=e.points;if(!n)throw Error("points is missing in view");var i=e.getColor();r.colorType!==zt.Specified&&(i=k.white);var o=t.createBufferGeometry(n,this.transformer),a=new wi.PointsMaterial({color:Ri.toThreeColor(i),size:r.size,sizeAttenuation:!0});return r.colorType===zt.ColorMap&&(o.setAttribute("color",t.createColorsAttribute(n)),a.vertexColors=!0),new wi.Points(o,a)},t.createBufferGeometry=function(e,r){var n=new wi.BufferGeometry;return n.setAttribute("position",new wi.Float32BufferAttribute(t.createPositions(e,r),3,!0)),n},t.createColorsAttribute=function(e){return new wi.Uint8BufferAttribute(t.createColors(e),3,!0)},t.createPositions=function(e,t){for(var r=new Float32Array(3*e.length),n=0,i=0;i<e.length;i++){var o=e.list[i].clone();t.transformTo3D(o),r[n++]=o.x,r[n++]=o.y,r[n++]=o.z}return r},t.createColors=function(e){for(var t=e.zRange,r=0,n=new Uint8Array(3*e.length),i=0;i<e.length;i++){var o=e.list[i].z,a=t.getFraction(o),s=j.hsv(360*a,255,200);n[r++]=s.red(),n[r++]=s.green(),n[r++]=s.blue()}return n},t}(ro),yo=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"node",{get:function(){return e.prototype.getNode.call(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return e.prototype.getStyle.call(this)},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(t){e.prototype.updateCore.call(this,t)},t.prototype.calculateBoundingBoxCore=function(){return this.node.boundingBox},t.prototype.createObject3DCore=function(){var e,t,r=this.node,i=this.style,o=r.polylines;if(!o)throw Error("polylines is missing in view");var a=r.getColor(),s=i.colorType,c=new wi.Group,l=this.transformer;try{for(var u=Object(n.h)(o.list),d=u.next();!d.done;d=u.next()){var p=d.value,h=mo.createBufferGeometry(p,l);s===zt.Different&&(a=k.getNextColor(c.children.length));var f=new wi.LineBasicMaterial({color:Ri.toThreeColor(a),linewidth:i.lineWidth}),g=new wi.Line(h,f);c.add(g)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}return c},t}(ro),vo=function(){function e(e,t){void 0===t&&(t=!1),this.triangleIndexes=[],this.uniqueIndex=0,this.side=wi.FrontSide,this.positions=new Float32Array(3*e),this.normals=new Float32Array(3*e),this.uvs=new Float32Array(t?2*e:0)}return Object.defineProperty(e.prototype,"hasUvs",{get:function(){return this.uvs.length>0},enumerable:!1,configurable:!0}),e.prototype.getBufferGeometry=function(){var e=new wi.BufferGeometry;return e.setAttribute("position",new wi.Float32BufferAttribute(this.positions,3,!0)),e.setAttribute("normal",new wi.Float32BufferAttribute(this.normals,3,!1)),e.setIndex(new wi.Uint32BufferAttribute(this.triangleIndexes,1,!0)),this.hasUvs&&e.setAttribute("uv",new wi.Float32BufferAttribute(this.uvs,2,!0)),e},e.prototype.addPair=function(e,t,r,n,i){if(void 0===i&&(i=0),this.uniqueIndex>=2){var o=this.uniqueIndex-2,a=this.uniqueIndex-1,s=this.uniqueIndex,c=this.uniqueIndex+1;this.addTriangle(o,s,c),this.addTriangle(o,c,a)}this.add(e,r,i),this.add(t,n,i)},e.prototype.addPair2=function(e,t,r,n){if(this.uniqueIndex>=2){var i=this.uniqueIndex-2,o=this.uniqueIndex-1,a=this.uniqueIndex,s=this.uniqueIndex+1;this.addTriangle(i,a,s),this.addTriangle(i,s,o)}this.hasUvs&&(this.add(e,r,n,1),this.add(t,r,n,0))},e.prototype.add=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=3*this.uniqueIndex;this.positions[i+0]=e.x,this.positions[i+1]=e.y,this.positions[i+2]=e.z,this.normals[i+0]=t.x,this.normals[i+1]=t.y,this.normals[i+2]=t.z,this.hasUvs&&(i=2*this.uniqueIndex,this.uvs[i+0]=r,this.uvs[i+1]=n),this.uniqueIndex++},e.prototype.setAt=function(e,t,r,n){void 0===n&&(n=0);var i=3*e;this.positions[i+0]=t.x,this.positions[i+1]=t.y,this.positions[i+2]=t.z,this.normals[i+0]=r.x,this.normals[i+1]=r.y,this.normals[i+2]=r.z,this.hasUvs&&this.setUAt(e,n)},e.prototype.setUAt=function(e,t){var r=2*e;this.uvs[r+0]=t,this.uvs[r+1]=0},e.prototype.addTriangle=function(e,t,r){this.triangleIndexes.push(e,t,r)},e}(),bo=function(e){function t(r,i){var o=this,a=Object(n.f)(t.createUniqueIndexes(r),2),s=a[0],c=a[1];return(o=e.call(this,c,i)||this).makeBuffers(r,s),o.makeTriangleIndexes(r,s),o}return Object(n.c)(t,e),t.prototype.makeBuffers=function(e,t){for(var r=e.zRange,n=Kt.newZero,i=Kt.newZero,o=e.nodeSize.j-1;o>=0;o--)for(var a=e.nodeSize.i-1;a>=0;a--){var s=t[e.getNodeIndex(a,o)];if(!(s<0)&&e.getRelativeNodePosition(a,o,n)){e.getNormal(a,o,n.z,!1,i);var c=r.getFraction(n.z);this.setAt(s,n,i,c)}}},t.prototype.makeTriangleIndexes=function(e,t){for(var r=0;r<e.nodeSize.i-1;r++)for(var n=0;n<e.nodeSize.j-1;n++){var i=e.getNodeIndex(r,n),o=e.getNodeIndex(r+1,n),a=e.getNodeIndex(r+1,n+1),s=e.getNodeIndex(r,n+1),c=t[i],l=t[o],u=t[a],d=t[s],p=0;c>=0&&p++,l>=0&&p++,u>=0&&p++,d>=0&&p++,p<3||(c<0&&this.addTriangle(l,u,d),(4===p||l<0)&&this.addTriangle(c,u,d),u<0&&this.addTriangle(c,l,d),(4===p||d<0)&&this.addTriangle(c,l,u))}},t.createUniqueIndexes=function(e){for(var t=new Array(e.nodeSize.size),r=0,n=e.nodeSize.j-1;n>=0;n--)for(var i=e.nodeSize.i-1;i>=0;i--){var o=e.getNodeIndex(i,n);e.isNodeDef(i,n)?(t[o]=r,r++):t[o]=-1}return[t,r]},t}(vo),xo=function(){function e(){}return e.createTexture=function(e){return new wi.DataTexture(e,e.length/6,2,wi.RGBFormat)},e.create1D=function(t){if(!t)return null;var r=t.create1DColors();return e.createTexture(r)},e.create1DContours=function(t,r,n,i,o){if(!t)return null;var a=t.create1DContourColors(r,n,i,o);return e.createTexture(a)},e}(),So=function(){function e(e){this.range=Jt.newZero,this.positions=[],this.inc=e,this.tolerance=this.inc/1e3}return e.prototype.createContoursAsXyzArray=function(e){for(var t=Kt.newZero,r=Kt.newZero,n=Kt.newZero,i=Kt.newZero,o=0;o<e.nodeSize.i-1;o++)for(var a=0;a<e.nodeSize.j-1;a++){var s=e.getRelativeNodePosition(o+0,a+0,t),c=e.getRelativeNodePosition(o+1,a+0,r),l=e.getRelativeNodePosition(o+1,a+1,n),u=e.getRelativeNodePosition(o+0,a+1,i),d=0;s&&d++,l&&d++,l&&d++,u&&d++,d<3||(s||this.addTriangle(r,n,i),4!==d&&c||this.addTriangle(t,n,i),l||this.addTriangle(t,r,i),4!==d&&u||this.addTriangle(t,r,n))}return this.positions},e.prototype.addTriangle=function(e,t,r){var i,o;this.range.set(Yt.min(e.z,t.z,r.z),Yt.max(e.z,t.z,r.z));try{for(var a=Object(n.h)(this.range.getFastTicks(this.inc,this.tolerance)),s=a.next();!s.done;s=a.next()){var c=s.value,l=Number(c);this.addLevelAt(l,e,t,r)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.addLevelAt=function(e,t,r,n){if(Yt.isAbsEqual(t.z,e,this.tolerance)&&(t.z=e+this.tolerance),Yt.isAbsEqual(r.z,e,this.tolerance)&&(r.z=e+this.tolerance),Yt.isAbsEqual(n.z,e,this.tolerance)&&(n.z=e+this.tolerance),Yt.isAbsEqual(t.z,r.z,this.tolerance)&&(r.z=t.z+this.tolerance),t.z===e){if(Yt.isInside(r.z,e,n.z))return this.add(t),this.addLinearInterpolation(r,n,e),!0;if(r.z===e&&n.z!==e)return this.add(t),this.add(r),!0;if(n.z===e&&r.z!==e)return this.add(n),this.add(t),!0}if(r.z===e){if(Yt.isInside(n.z,e,t.z))return this.add(r),this.addLinearInterpolation(n,t,e),!0;if(n.z===e&&t.z!==e)return this.add(r),this.add(n),!0}if(n.z===e&&Yt.isInside(t.z,e,r.z))return this.add(n),this.addLinearInterpolation(t,r,e),!0;var i=0;return Yt.isInside(t.z,e,r.z)&&(this.addLinearInterpolation(t,r,e),i++),Yt.isInside(r.z,e,n.z)&&(this.addLinearInterpolation(r,n,e),i++),i<2&&Yt.isInside(n.z,e,t.z)&&(this.addLinearInterpolation(n,t,e),i++),2===i||(1===i&&(this.positions.pop(),this.positions.pop(),this.positions.pop()),!1)},e.prototype.add=function(e){this.positions.push(e.y,e.y,e.z)},e.prototype.addLinearInterpolation=function(e,t,r){var n=(r-e.z)/(t.z-e.z);this.positions.push((t.x-e.x)*n+e.x,(t.y-e.y)*n+e.y,r)},e}(),Ao=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"node",{get:function(){return e.prototype.getNode.call(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return e.prototype.getStyle.call(this)},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(r){if(e.prototype.updateCore.call(this,r),r.isChanged(Ht.nodeColorMap)){if(!this.object3D)return;this.touch()}if(r.isChanged(Ht.renderStyle)){if(this._object3D){var n=this.style;if(r.isNameChanged(Ht.renderStyle,n.solidShininess.name,n.solidOpacity.name)){var i=this._object3D.getObjectByName("Solid");if(i)return t.setMaterial(i.material,n),void this.invalidateTarget()}}this.touch()}},t.prototype.calculateBoundingBoxCore=function(){return this.node.boundingBox},t.prototype.createObject3DCore=function(){var e=this.node.surface;if(!e)return null;var t=new wi.Group,r=this.createSolid();r&&t.add(r);var n=this.createContours();n&&t.add(n);var i=this.transformer;return t.rotateZ(e.rotationAngle),t.position.copy(i.to3D(e.origin)),t.scale.copy(i.scale),t},t.prototype.onShowInfo=function(e,t){var r=this.node;e.addPickedNode(r);var n=this.transformer.toWorld(t.point);e.addValue("Position",n.getString(2));var i=r.surface;if(i){var o=i.getCellFromPosition(n);i.isNodeInside(o.i,o.j)&&e.addValue("Cell",o.toString())}},t.prototype.createSolid=function(){var e=this.style;if(!e.showSolid.value)return null;var r=this.node,n=r.surface;if(!n)return null;var i=r.getColorByColorType(e.solidColorType.value),o=new bo(n,!0).getBufferGeometry(),a=new wi.MeshPhongMaterial({side:wi.DoubleSide,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:4});t.setMaterial(a,e);var s=null;e.solidColorType.value===zt.ColorMap?(a.color=Ri.toThreeColor(k.white),s=e.solidContour.use?xo.create1DContours(pr.get(r.colorMap),n.boundingBox.z,e.increment.value,e.solidContour.value):xo.create1D(pr.get(r.colorMap))):e.solidContour.use?(a.color=Ri.toThreeColor(k.white),s=xo.create1DContours(pr.get(r.colorMap),n.boundingBox.z,e.increment.value,e.solidContour.value,i)):a.color=Ri.toThreeColor(i),s&&(s.anisotropy=4),a.map=s;var c=new wi.Mesh(o,a);return c.name="Solid",c},t.prototype.createContours=function(){var e=this.style;if(!e.showContours.value)return null;var t=this.node,r=t.surface;if(!r)return null;var n=t.getColorByColorType(e.contourColorType.value),i=new So(e.increment.value).createContoursAsXyzArray(r);if(0===i.length)return null;var o=new wi.BufferGeometry;o.setAttribute("position",new wi.Float32BufferAttribute(i,3));var a=new wi.LineBasicMaterial({color:Ri.toThreeColor(n),linewidth:1}),s=new wi.LineSegments(o,a);return s.name="Contour",s},t.setMaterial=function(e,t){e&&t&&(e.opacity=t.solidOpacity.use?t.solidOpacity.value:1,e.transparent=t.solidOpacity.use,e.shininess=t.solidShininess.use?100*t.solidShininess.value:0)},t}(ro),wo=r(222),_o=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"node",{get:function(){return e.prototype.getNode.call(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return e.prototype.getStyle.call(this)},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(t){e.prototype.updateCore.call(this,t)},t.prototype.createObject3DCore=function(){var e=this.node,t=this.style,r=e.url;if(Oe.isEmpty(r))return null;var n=new wo.Group;return n.setPointBudget(t.budget),wo.loadPointCloud(r,e.name,(function(e){var t=e.pointcloud;n.add(t),t.material,n.add(t)})),n},t}(ro),To=function(e){function t(t){var r=e.call(this,t)||this;return r.colorType=new or({name:"Color Type",value:zt.White}),r.radius=new Or({name:"Radius",value:5,options:[1,2,3,5,10,20,30,40,50],toolTip:"The radius of the well trajectorty"}),r.bandWidth=new Or({name:"Band Width",value:50,options:[20,25,30,50,75,100,200]}),r.nameFontSize=new Or({name:"Name Font Size",value:50,options:Ti.fontSizeOptions}),r.bandFontSize=new Or({name:"Band Font Size",value:30,options:Ti.fontSizeOptions,toolTip:"The font of the md values drawn in the bands"}),r}return Object(n.c)(t,e),t.prototype.clone=function(){return er.cloneDeep(this)},t.prototype.populateCore=function(t){e.prototype.populateCore.call(this,t),t.addChild(this.colorType),t.addChild(this.radius),t.addChild(this.nameFontSize),t.addChild(this.bandFontSize),t.addChild(this.bandWidth)},t}(Ti),Eo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAACSklEQVRYw72WMW8TQRCFvxwBIYQgghrF3aaIiCUKKIJwOpoRtgS94Re4oKFLeiToaJBwS4FImIZ01yHREEsUaCunokNOWhCimZOWxXbudo2n2fHq1vP2zZuZhUQTkRsi8ohMW0kNDhzb+VJVd1IBFInnngbgt3MYSAVwM/BXReTB0gCIyFWgE213l8nAtGBdA7Z0AKe2rqWykAvgQ24aiob5D8U2AZ7npqHIuP2+qo6AcQ4LWQCi9f8CEJEtExsAqnpg7jAnDU0Y6Af+z0AP/ZyeUCTSfx7YF5EvwCD6brBwAEZ/K9h6YWsb+BWx0BaR9UUzELbeT0A1/X4Dq8Au8C0lDXUBPAn8Lbv5kflHxs7GDL3kARCRzWj6XQJKoKOqX42dYXSsdhqKhuID+AEMVPXEyvFEVR9PufXrRQG4Ff2+BpQicm+OTgBuZz/JrKlM5nwysHQMTRexta1dJzMQ0j+2ICGgl8DnKPj3JmIsGpRfNXyqCqjsQuDvAc+alGMTBsrg8THt3CnwPhpOLWtizQFYr6+Gz0RVD2yvjMqysivGTDcC0U9l4C/6ReSN/fFaRHk30sUQuF43DUVN+neim0xM4bs2ljuRLu7WTUNRc/isRw+RVlhe5nci6mtNyKLG7A9tT1V7VRcMzTpiz0oztoezAJybcftXNvNDyu+o6tuzysp7f+icGxsjF6tSdc5teO/fzQVgnW8EXA62D4FtVT2uO+G89yPn3EebolWMTefcive+nJeCFhC+6caqen8a5WeZ6aIXbf8jxj+HkLV3VYB1wgAAAABJRU5ErkJggg==",Bo=function(e){function t(){var t=e.call(this)||this;return t.wellHead=Kt.newZero,t.waterDepth=0,t.elevationType="",t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"origin",{get:function(){return new Kt(this.wellHead.x,this.wellHead.y,0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Well"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return Eo},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t),t.addReadOnlyVector2("Wellhead",this.wellHead,2),t.addReadOnlyInteger("# Trajectories",this.children.length)},t.className="WellNode",t}(yr),Ro=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"log",{get:function(){return this.anyData},set:function(e){this.anyData=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wellNode",{get:function(){return this.getAncestorByType(Bo)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trajectoryNode",{get:function(){return this.getAncestorByType(Jo)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trajectory",{get:function(){var e=this.trajectoryNode;return e?e.trajectory:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterLogNode",{get:function(){var e=this.trajectoryNode;if(!e)return null;var t=e.getFilterLogFolder();return t&&t.getFilterLogNode(this)||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},t.prototype.hasIconColor=function(){return!0},t.prototype.getColor=function(){var t=this.filterLogNode;return t?t.getColor():e.prototype.getColor.call(this)},t.prototype.canChangeColor=function(){return!1},t.prototype.canBeChecked=function(e){var t=this.trajectoryNode;return!!t&&t.isVisible(e)},t.prototype.supportsColorType=function(e){switch(e){case zt.Specified:case zt.Parent:case zt.Black:case zt.White:return!0;default:return!1}},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t);var r=this.log;r&&(t.addReadOnlyRange1("Md",r.mdRange,2),t.addReadOnlyInteger("# Samples",r.length))},Object.defineProperty(t.prototype,"renderStyleRoot",{get:function(){return this.filterLogNode},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.wellLogType===e.wellLogType&&Oe.equalsIgnoreCase(this.name,e.name)},t.className="BaseLogNode",t}(ao),Mo=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"filterLogFolder",{get:function(){return this.getAncestorByType(Yo)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},t.prototype.isLabelInItalic=function(){return!0},t.prototype.isFilter=function(e){return!0},t.prototype.supportsColorType=function(e){switch(e){case zt.Specified:case zt.Parent:case zt.Black:case zt.White:return!0;default:return!1}},t.prototype.populateStatisticsCore=function(t){var r,i;e.prototype.populateStatisticsCore.call(this,t);var o=0;try{for(var a=Object(n.h)(this.getAllLogs()),s=a.next();!s.done;s=a.next())s.value,o++}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}t.addReadOnlyInteger("# Logs of this type",o)},t.prototype.isEqual=function(e){return this.wellLogType===e.wellLogType&&Oe.equalsIgnoreCase(this.name,e.name)},t.prototype.getAllLogs=function(){var e,t,r,i,o,a,s;return Object(n.d)(this,(function(c){switch(c.label){case 0:if(!(e=this.getTreeNode()))return[2];c.label=1;case 1:c.trys.push([1,6,7,8]),t=Object(n.h)(e.getDescendantsByType(Ro)),r=t.next(),c.label=2;case 2:return r.done?[3,5]:(i=r.value).isEqual(this)?[4,i]:[3,4];case 3:c.sent(),c.label=4;case 4:return r=t.next(),[3,2];case 5:return[3,8];case 6:return o=c.sent(),a={error:o},[3,8];case 7:try{r&&!r.done&&(s=t.return)&&s.call(t)}finally{if(a)throw a.error}return[7];case 8:return[2]}}))},t.className="BaseFilterLogNode",t}(_r);!function(e){e[e.Casing=0]="Casing",e[e.Discrete=1]="Discrete",e[e.Float=2]="Float",e[e.Point=3]="Point"}(vi||(vi={}));var Co,Oo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEUlEQVRYw7WXS2wTVxSGv4kdx2N7bAdiGwOWqTtJkQICqobChqpih0ShEZtUOKhSJSohxHOJKlKJNWwgRoiNywYJdUGpYMWiQiqiVK0LKNA8lBAbDzj4NfbYnrFnuiERjwVJca40uzlzvnv+c/87R2CZ1/DwcFpV1TWyLFMul3n06BETExOyoiiTAB1tyuNOJpNWIpGwgH5ABBgZGflrdnZ2TSQSodFoMD4+zszMzOB8cgDhQzMfPHjwM0mS/jBNE8Mw0HWdRqNBT08Pd+/epbe3F5/Px9TUFNFolEKh8PGVK1em5uPtHwqQzWb1aDSKYRg0Go0FiDt37rB27Vq8Xi+KotBqtXjx4sXg1atXp16P/2CA69ev/7tz505M00TTNHRdp9lsIkkSgUCAUqnE5OQkqVRqs67rqbfjhTb1wPpkMjlWKpUWIAqFAqqqMj4+Tnd3N6FQiEQi4QPKrwe2qwmfWJZFMBhEkiREUWTlypWEQiE2bNhALBZDEAROnDhRenvT7QKwDhw40Dk3N0c4HGbFihV4PB4kSSIUCiGKIm63m0qlAvDJckhAIBDYIMvyg61bt7J9+3YEQaBQKKBpGvV6nXq9TrVaJRaLcejQIaGtFdi2bdsXW7ZseRAOh8nn81y4cIFyuYzH4yEYDOL3+/F6vXR2diJJEm2XIJvNfgngcrnI5XL09/czMzPz3f79+11ut5tAIEAwGMSyrPjw8LDQVgl6eno+lWX5z2g0Sr1eR9M0fD7fnmvXrl1fTPwHAQwODn5dLBZ/9ng8OBwO0uk0tVptVyqVurnYbyzFiMShoaH4pk2bLgKsWrWK+/fvUyqVcDgcPH/+nNnZ2W8zmczNpWxiURU4fvz4941GY9Q0TUzTpNVqoSgKiqIQiUSoVqsEg0GKxaJ848aNyaUAvLcCZ8+eHbIsa/Tly5c0m01arRa6rpNOpwmHwxiGQTabpVgsxu/duze5VBnfewocDgeiKCJJEm63G1EUqVQq+Hw+bDYbiqIQi8Xo7+//CXAsFWCxTdg3Ojr6pFqt0mg00HWdiYkJMpkMHo+HWCxGpVIhFov943Q6d508eTLTbgAHsP7SpUupeQjDMGg2mxiGgWEY1Ot1dF0nkUgIbZXg1dKBp4FAYMHnXS4XoigiiiJOpxNRFOnq6uLIkSOfLwXAttgX/X5/eGpq6si6deuIRCLY7XY6Ojqw2WzYbDYsyyIajeLz+W7eunVrrK0A8Xh8TygU+r1erzM2NoaqquTz+f2yLA92dXXhcrlotVo/Pnv27JtTp07da0cTOi9evFhTFAVBECiXy9y+fRtJklBVlenp6WA+n8+14x55B+Do0aM/VKvVkVarhWVZaJpGKpUiEAigqiqZTOarXC73S7uu8TeM6PTp00OWZY3Y7XZM06TZbPL48WO8Xu/Cv14ulyu2c2544xTYbDY6OzvxeDw4nU5sNhvlcpmOjg7K5TKbN29m3759vwG+dgG8I8H58+ctTdMWDOfhw4ek02lkWaa7uxtVVRkYGODw4cPCsgAAkcuXLz8tlUoLhjP/NJtNarUasixz7NixZQOwA+FkMvlUVVVqtdoCgK7rVCoVzp071wtMtAPgHR/YvXt3eGBg4FdVVUO9vb04nU7sdjt2ux1BEDhz5sx24DlQXZZp1u/3b+3r67M2btxoxeNx61XDrQZW792796P/c+MtWoIdO3ZsAv7O5/OYpsn09HRA07S55Rzf/wN8RU+6avwQqQAAAABJRU5ErkJggg==",Io=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"log",{get:function(){return this.anyData},set:function(e){this.anyData=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"RiskLog"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return this.dataIsLost?e.prototype.getIcon.call(this):Oo},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t)},Object.defineProperty(t.prototype,"wellLogType",{get:function(){return vi.Point},enumerable:!1,configurable:!0}),t.className="PointLogNode",t}(Ro),Fo=function(e){function t(t){var r=e.call(this,t)||this;return r.colorType=new or({name:"Color Type",value:zt.Specified}),r.radius=new Or({name:"Radius",value:20,options:[10,20,25,30,50,75,100,200]}),r.fontSize=new Or({name:"Font Size",value:20,options:Ti.fontSizeOptions}),r}return Object(n.c)(t,e),t.prototype.clone=function(){return er.cloneDeep(this)},t.prototype.populateCore=function(t){e.prototype.populateCore.call(this,t),t.addChild(this.colorType),t.addChild(this.radius),t.addChild(this.fontSize)},t}(Ti),No=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"renderStyle",{get:function(){return this.getRenderStyle()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"PointLog"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return Oo},t.prototype.createRenderStyle=function(e){return new Fo(e)},t.prototype.supportsColorType=function(e){switch(e){case zt.Specified:case zt.Parent:case zt.Black:case zt.White:return!0;default:return!1}},Object.defineProperty(t.prototype,"wellLogType",{get:function(){return vi.Point},enumerable:!1,configurable:!0}),t.className="PointFilterLogNode",t}(Mo);!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Automatic=2]="Automatic"}(Co||(Co={}));var Lo=function(e){function t(t){var r=e.call(this,t)||this;return r.options=Object(Co),r}return Object(n.c)(t,e),t}(nr),Po=function(e){function t(t){var r=e.call(this,t)||this;return r.colorType=new or({name:"Color Type",value:zt.Specified}),r.bandPosition=new Lo({name:"Band Position",value:Co.Automatic}),r.min=new Or({name:"Minimum",value:Number.NaN,use:!1}),r.max=new Or({name:"Maximum",value:Number.NaN,use:!1}),r}return Object(n.c)(t,e),t.prototype.clone=function(){return er.cloneDeep(this)},t.prototype.populateCore=function(t){e.prototype.populateCore.call(this,t),t.addChild(this.colorType),t.addChild(this.bandPosition),t.addChild(this.min),t.addChild(this.max)},t}(Ti),Do="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGuklEQVRYw7WXTWwbWxXH78y9cz0fnhln7ATXcZp+xKlS0kqtFZDaUl6LVKksSoUeLCo2ELEAsUAqlXg8wa6Cig1vgVT1IfqARbtMValqi1CpylOe1A+pbb7klzhxEjvxJJnx2DP2fN17WZAiJPRoRJ0jzfLM+c25//M/c7nx8fEi6FJgjHsxxn+YnJyUdV3/QJblv9y5c6f9v3IQ6GIEQYAty+Isy2IAgDCKorfmdA2A4zg5DMOMZVmi7/ukVCqZlFLytjy+S8VFjHEKAPCLZrOpdTqdjSiKpjzPC3e9AxzHJWRZlgkhv63X6/vK5bLpuu6vCSEmIYTtdgcgxrgVhuFly7L2V6vVUNO0v6fT6b/Fcezv5AWoG8KL43hwa2sLWZblnzhxorx37944l8uBK1euvP0Ljh8/nnuH+sxxnJ6XL19Wstns4VarlTZN80AqlapGUbRULBaDp0+f7ioAwBgHmqbZlUrls/3793+l2Wz2b21tHSOE1Ofm5pbq9XrAGNs9AI7jgCiKoSRJ0dzc3GKhUDjsOE6+Xq8fW1lZMSmlixDCgBCye2MIAACpVKo1Ojr6st1u/2RsbKyCEBoQBOFDhNBXAQDCrvrAm9B13c3n875hGB8PDg56GGOdMYYppdyuA3Q6ncSrV6/qtVoNJ5PJHwqCoCqKQhVF8SRJorsyhoQQ5DiOeO/evYqqqu8NDQ197Lpu78LCQiqVSjXPnj1bD4Jgw/d9euvWre4CEEKk5eVlZXJy8huJROIiQigdhqHW39/vcBxXKpfLV0dGRkqapn1+8+ZN0tUOEEJQuVxOCILwu3Q6ncvlctHAwICvKMrazMzMVUEQPm00GqbruvGNGzfirjthu91OzM3NvcdxXP/w8DDZ2Ni46vv+XcMwvFarZT948CDwPI+9fv16d6xYURTx9OnT52dnZ2XP89q5XO5LS0tL3MOHD4MoihAAIN5+dgeg0+m0p6en/1QoFDKrq6v9pmn+yPO87yQSicccx81QSv+BEKoZhkFOnjwZp9PpFgCgc/36ddYVJ8QYx6qqNkzTnBwbG/uyKIoQQqjqun4UY3yKMfY+Quj7oij+IJPJnPc8j5ZKJXtsbExstVq03W7Hb+wZvYvzKYoSEEIuu647b9v2+TNnzvw4CALNcRxMKc3WajW4sLCQM01zpLe3txOGoRNF0UfJZPJBEARmGIadd9oFEEJCKW1rmiam0+lNwzA+CoLgE4TQkwsXLhwTRTFWVdXLZDKMUopN08w1Go2vYYy/xfO8AyFc6to/oSRJvmVZOcYYzxhz5+fnL1YqFbHT6WhLS0u5OI6HisXiBwMDAz2VSkVHCH1o27b9fwEwxvggCGAQBAgAAJPJpFipVKZs24aUUsPzPHT79u2vy7I8fOTIkW+HYajbto0mJye1RCJBDx061MAYB0EQfLEGfN8XgiBAjDEoCIL47NmzqY2NDcDzPNR1va9Wq/UBAA7qur7n1KlTFymlMiEErKyswDiOOVVVBUVR0ObmJtF1nRiGEUuStCYIQmN5efk3+/btmxVFsfSfALzv+9B1XbHdbicfPXoEAQAFRVF6R0dHL0IIFYwxoJSCra0tKEkS0nUdCYLAT09Px6IoEp7n6YEDB1gmk4n7+vpiAEDryZMnfzRN8/NUKrWez+drGOOo0Wg02u12dP/+/Rhtiynh+35nYmIiH0XRN2VZPivLsqYoiqBpGiSEiD09PQ3DMIiqqrGmaUQURYIxDlKpVPPu3bu/r1aryxBCR1EUv6+vb11RFMIYY3EcN23bjrbvCv82p3K5/K8x5HkepdNpWq1W/yyKYlaWZXlwcFAaGBjghoaGwJ49eyhjbHFiYuKXa2tr9WQyWVYUJZIkCQiCAJLJJOV5vtlsNmNKKXVdly0uLv6XC37RLQlti4qpqioUCgVjfX2dX19fBzzPg0wmAxRFaT1+/PiTUqnkZrPZRKlU4qampgBCCHAcByilfBiGOmOsAwDwGWNxPp/nVldX2U4EzY2PjxfjOJaq1WquWCz+ynXdVLlcBuVyGVmWhWVZVhljLQBAxHEcYIxFHMcBCOEbABAEQce27b/Gcfxpf39/5dq1a0tHjx5dGxkZITvaBQihTi6XW3Fd9zKllDMMAz5//rwBADg8PDz8UwihzhgDcRwDxhhgjKFtGJ5SyjuOI6mq+j3btr978ODBKJvNzlNK3wcA1He8jARBCH3f3wQAAFEUwblz5xAhZAZC+DOO4/jtwiCKIvTixYsmpRRFUST5vp/NZrM9ly5d+rnjOGlBENqWZc1GURTu5Aj+CQuZlRBV8HJUAAAAAElFTkSuQmCC",Uo=function(){function e(){this._sumSquared=0,this._sum=0,this._n=0,this._range=new Jt}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"n",{get:function(){return this._n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mean",{get:function(){return this.isEmpty?Number.NaN:this._sum/this._n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sum",{get:function(){return this._sum},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sumSquared",{get:function(){return this._sumSquared},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variance",{get:function(){return this.isEmpty?Number.NaN:(this._sumSquared-this._sum*this._sum/this._n)/this._n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stdDev",{get:function(){return this.isEmpty?Number.NaN:Math.sqrt(this.variance)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},enumerable:!1,configurable:!0}),e.prototype.getStdDev=function(e){if(this.isEmpty)return Number.NaN;var t=this._sumSquared/this._n-e*e;return t<=0?0:Math.sqrt(t)},e.prototype.getMostOfRange=function(e,t){if(!(this.n<=2)){var r=new Jt(void 0===t?this.mean:t),n=e*(void 0===t?this.stdDev:this.getStdDev(t));return r.expandByMargin(n),r}},e.prototype.add=function(e){this._n++,this._sum+=e,this._sumSquared+=e*e,this.range.add(e)},e.prototype.addStatistics=function(e){this._n+=e.n,this._sum+=e.sum,this._sumSquared+=e.sumSquared,this.range.addRange(e.range)},e.prototype.addWithNaN=function(e){Number.isNaN(e)||this.add(e)},e.prototype.clear=function(){this._n=0,this._sum=0,this._sumSquared=0,this.range.clear()},e}(),Go=function(e){function t(){var t=e.call(this)||this;return t.unit=null,t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"log",{get:function(){return this.anyData},set:function(e){this.anyData=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"FloatLog"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return this.dataIsLost?e.prototype.getIcon.call(this):Do},t.prototype.getNameExtension=function(){return this.unit},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t);var r=this.log;r&&(t.addReadOnlyRange1("Values",r.valueRange),t.addReadOnlyStatistics("Statistics",r.statistics))},Object.defineProperty(t.prototype,"wellLogType",{get:function(){return vi.Float},enumerable:!1,configurable:!0}),t.className="FloatLogNode",t}(Ro),jo=function(e){function t(){var t=e.call(this)||this;return t.propertyType="",t.unit="",t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"renderStyle",{get:function(){return this.getRenderStyle()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"FloatLog"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return Do},t.prototype.hasColorMap=function(){return!0},t.prototype.createRenderStyle=function(e){return new Po(e)},t.prototype.supportsColorType=function(e){switch(e){case zt.Specified:case zt.Parent:case zt.Black:case zt.White:return!0;default:return!1}},t.prototype.populateInfoCore=function(t){e.prototype.populateInfoCore.call(this,t),t.addString({name:"propertyType",instance:this,readonly:!1}),t.addString({name:"unit",instance:this,readonly:!1})},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t);var r=this.getStatistics();t.addReadOnlyRange1("Values",r.range),t.addReadOnlyStatistics("Statistics",r)},t.prototype.verifyRenderStyle=function(e){if(e instanceof Po){var t=this.getValueRange();t.isEmpty||(Number.isNaN(e.min.value)&&(e.min.value=r(t.min)),Number.isNaN(e.max.value)&&(e.max.value=r(t.max)))}function r(e){return Math.round(1e4*e)/1e4}},Object.defineProperty(t.prototype,"wellLogType",{get:function(){return vi.Float},enumerable:!1,configurable:!0}),t.prototype.getValueRange=function(){return this.getStatistics().range},t.prototype.getStatistics=function(){var e,t,r=new Uo;try{for(var i=Object(n.h)(this.getAllLogs()),o=i.next();!o.done;o=i.next()){var a=o.value;if(a instanceof Go){var s=a.log;s&&r.addStatistics(s.statistics)}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r},t.className="FloatFilterLogNode",t}(Mo),zo=function(e){function t(t){var r=e.call(this,t)||this;return r.bandPosition=new Lo({name:"Band Position",value:Co.Automatic}),r}return Object(n.c)(t,e),t.prototype.clone=function(){return er.cloneDeep(this)},t.prototype.populateCore=function(t){e.prototype.populateCore.call(this,t),t.addChild(this.bandPosition)},t}(Ti),ko="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADLElEQVR42u2Xy2oUQRSG/xlNhmggaoxRNJq9PoIu3CnGvRvF5A3yANFtNsG9giC4dufabFwIguAFExRFRCe3Sabv1XVr/67qSWIMguOIGGw4nEsVc746h9PTVcMuz+LiYjE/P49ePmmaPpyenr6+M177GcDE1SXnG5vAGoGiyGCoLXVhBUxB29AuJPdw3eRcE9A6hlIKzSWFhQWN+/fGMDU1hZmZmdqvAUx89QBM6BMxKfUmgINhYptzT15B5gSICKD3AMCViS/Ot1WpS5CiTGpTl2gLQFQA+Z8B8IkJYP3Jrc1c/33Ps6oCwgPQ1ibuDUB9/bnzBxtAPwwadY1WK0RdC9SZCFoiCDMIkaO/piByhdFGjnYskaUKK4HCp5bGc3WyO4DJM6POL8I2bBigiEMUUQCEXtsk5hrtNAYStqX00xS2xf0KaFJeauDW2HiXAOPHPUDAH4wJQAhEodMlTAcABCjihACUlCO7vgPg1Pi/WoHTxzxAmYxV+A6grEAc0ackkQcoK5FkP1aga4CxkS2AsgKRrwKcXQGUwpOjbEFGiVmBjaA3AIPNZ84/NLCPrY+xtsH5ziUaUOhjhprRGKhpSMbqWmGIU6KkRpBKiExiOczxsS3xtH6iO4Br5177gJUomACF4pxLvhjoG/qEsLRLXZRHdjHNbawCR7O5LPDqg8DtJ0e7BXhTAXQSK/ei8boDoByg29MBkDsBhn8XQFYnlNtAtlXAbK+A6mUF/nYLzr70U7B5+jJBpwXagXVa4Hzd0dkOgJHuAD43Xzi/v7Gf73aBLBP8suEHhzHOPzx8kDGJGn9ldSVA2E4xdOQAIQz3ZQiCGButiAVqdAfQf+Gi83MmzI11Ijl60lJrA2WtW5OMK4owPpbyayjNcwRLS2i/fwc8ftQdQN/5CsD6JLsBiEr79b0G8L8Ff30KJi/f9N+Ekea/oYEJjNNFaUe0GTeR9TqmjqkTC7MioQXvBWkTb5K3uDN0918HCAnA5Cb0ADaqJKwA4gogqgBW9wzApV0AIg9RxlwrEh8zcaXpmzXVG4DZ2dme3Y5/CaB85ubmHvBKfaOXV/TdAL4BigMxe5E9idgAAAAASUVORK5CYII=",Vo=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"log",{get:function(){return this.anyData},set:function(e){this.anyData=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"DiscreteLog"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return this.dataIsLost?e.prototype.getIcon.call(this):ko},t.prototype.hasIconColor=function(){return!1},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t);var r=this.log;r&&t.addReadOnlyRange1("Values",r.valueRange,0)},Object.defineProperty(t.prototype,"wellLogType",{get:function(){return vi.Discrete},enumerable:!1,configurable:!0}),t.className="DiscreteLogNode",t}(Ro),Wo=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"renderStyle",{get:function(){return this.getRenderStyle()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"DiscreteLog"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return ko},t.prototype.canChangeColor=function(){return!1},t.prototype.createRenderStyle=function(e){return new zo(e)},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t),t.addReadOnlyRange1("Values",this.getValueRange())},t.prototype.supportsColorType=function(e){switch(e){case zt.Specified:case zt.Parent:case zt.Black:case zt.White:return!0;default:return!1}},Object.defineProperty(t.prototype,"wellLogType",{get:function(){return vi.Discrete},enumerable:!1,configurable:!0}),t.prototype.getValueRange=function(){var e,t,r=new Jt;try{for(var i=Object(n.h)(this.getAllLogs()),o=i.next();!o.done;o=i.next()){var a=o.value;if(a instanceof Vo){var s=a.log;s&&r.addRange(s.valueRange)}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r},t.className="DiscreteFilterLogNode",t}(Mo),Ho=function(e){function t(t){var r=e.call(this,t)||this;return r.colorType=new or({name:"Color Type",value:zt.Specified}),r.opacity=new Cr({name:"Opacity",value:.2,use:!1}),r.radiusFactor=new Or({name:"Radius Factor",value:3,options:[1,1.5,2,2.5,3,4,5,10],toolTip:"To get the radius, the casing radius is multiplied with this factor"}),r}return Object(n.c)(t,e),t.prototype.clone=function(){return er.cloneDeep(this)},t.prototype.populateCore=function(t){e.prototype.populateCore.call(this,t),t.addChild(this.radiusFactor),t.addChild(this.colorType),t.addChild(this.opacity)},t}(Ti),Xo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFSklEQVRYw72XXUhbBxTHf1eTXJPcGzUaLWpjJFpmWVwZG3tZKatCYWOztAZKhTIofSnYlo4+bDAoe9hzX8pAC6Mv88EFWksHm7CX9VE6mVQlppVI/UhuPvTefGqSu4eSS2pbv7f7fs//4/zPuecK/A9PT0/Pt52dnT/6fD7cbjeKojA9PU1bWxvCfw3e3d3d5/V6J44fP47X6yWVSvHs2TMEQeDRo0c20yHhdAJngAwwBUwDhY6OjtZjx45NuN1ujh49SjabJRQKoWkaU1NTLdFoNHsYBGovXbo0n0wmAdB1nYaGBu7fv//V6dOnx3Vdx+12A7CwsMDS0hJzc3Mfzs/PrwBUHQKBa+l0GkF41U1BEIjH45w8eXJc0zTcbjdWq5WXL18SCoUIhUIDwWDw7/LLByVwZmBg4AePx4MoigiCgCAIZLNZHA4HHo8Hp9OJoii8ePGC3t5eZmZmApUFDhLCZr/fv9rU1ER7ezsmk4knT55QKBTQdZ329nY8Hg+5XI5gMIiqqjx48MACbFYWOYgDNyRJwuVy4XQ66erqor+/H5PJRFVVFVVVVRSLRRYXFwmHw+RyOUZGRja2FqneJ/jnfr//p7a2No4cOWKQ8Hq9+Hw+pqenURSFWCxGIpEAwGKxMDc3RzAY/AtYOEgLGv1+v1K2vqWlBZfLRWNjI/X19ciyjKqq3Lt3j5mZGXRdN6YDQJIkRkdHa4D8fltwzWazGYAOhwNZlrHb7YiiSHV1NfX19QwNDXH+/HkcDocRTkEQSKVSAD3lYnvdA5+dO3fue5fLZYBLkoTdbqempgaz2UypVGJzc5NMJkN3dzdOp5OnT58yPz+PpmmYzWaApf0QsA0ODv4pyzJOp5O6ujpDeRkcMMBVVUVVVVKpFA6Hg+bmZjKZDGNjY2eA5f0Q+Lq85SrBrVYrFosFQRAoFArkcjlSqRSqqrK2tkYikUBRFFZWVggEAt8Af1QW3S2Bzv7+/rvlvtfW1iJJEjabDYvFQnV1tWF9Op1G0zTW19cN8NXVVWRZBri7tfBuCAhDQ0PzqVQKp9NJbW0tdrsdm82GKIqYzWZ0XTesr1Qfj8eJRCKsra0RCATay8nf6yLqXV5eNsC3hk4QBIrFIrlc7q3qI5EIgUDgC2DxbcV3IlAzODg40dDQYKS+DF5pfT6ff019IpEgFosRiUTw+XwAv70LYCcCF4rF4mvqrVYroihiMpkM68vB0zTNCF40GkXXdW7fvu3YDmC7DLjOnj37cyW4zWZ7w/qNjQ1D/fr6Oslk0rB+fHz8Y0DbL4H3JUmirq7OsL48cmXrt/a+HDxFURgfH78BTO4UsO1aEK4cuTK4yfSKc7FYJJ/Pk06n31AviiLA8G7mezsHFk6cOEE+n3/D+vLMZ7NZ0um0MXaxWIxYLMbDhw8/ALK7IbCdA/rly5edV69evVCZeoBCofBa8ivH7tSpUwD/7Ha97rSIksCE1WrFZDIZwXuXekEQuHnzprSXr9uOi6i1tdU2PDxMIpFA13Vj32cyGWPpxONxYrEYo6OjnwLpvRDY8SK6fv36ejQaJRKJoKoqoihSKpVQVdUI3erqKmNjY98Bv+z1uNj2IvJ4PO91dnbOut1uampqUBSF1tZW7ty54wLaAc/IyMivV65c+RL4fevBeWACt27d0hcWFmhsbCSfzxMOh3n+/HlXOBwOHdav2zsz4PV6P5qcnESWZXRdJ5lM0tfXx2GCb5uBixcvLpVKJWRZJpPJkEgkePz4cZOmaZnDJPBWBzo6Oj6ZnZ1FkiSKxSLJZBK/38/y8rJy2H/P/wLzWcGXXpDwjQAAAABJRU5ErkJggg==",Qo=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"renderStyle",{get:function(){return this.getRenderStyle()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Casing"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return Xo},t.prototype.createRenderStyle=function(e){return new Ho(e)},t.prototype.supportsColorType=function(e){switch(e){case zt.Specified:case zt.Parent:case zt.Black:case zt.White:return!0;default:return!1}},Object.defineProperty(t.prototype,"wellLogType",{get:function(){return vi.Casing},enumerable:!1,configurable:!0}),t.className="CasingFilterLogNode",t}(Mo),Zo=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"log",{get:function(){return this.anyData},set:function(e){this.anyData=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Casing"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return this.dataIsLost?e.prototype.getIcon.call(this):Xo},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t);var r=this.log;r&&t.addReadOnlyRange1("Radius",r.radiusRange,0)},Object.defineProperty(t.prototype,"wellLogType",{get:function(){return vi.Casing},enumerable:!1,configurable:!0}),t.className="CasingLogNode",t}(Ro),Yo=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Log filter"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC3klEQVR42uWVS0wTURSGbysFXBhj1EAkKiQs3BDjTqNR48ZlNxqKLaBGeYQAaVwUE9yYoFhXRmvpRpZuCJhRMBGIUi0ISqyhA+1AB+iDQhmmj3m1dB4OBptgBDrttCw8q5vMPfn//PecbxRgs0yGdgFkqcgIA5xe1NHd31fx9zfFn4NF81yog9Wyi6MHfeAz9hVlSih94/ADaFsDJo1FuAbXySruSbgByk6NrjDeJy3+Fuhfd5IGjFUWoQK+K5t4lMMATH50cVxY0+Grt293L2lALyYQlikBjscARn5yFbC4ps+/vfgWAzfqu4TpRRkSYNcAHRxB8mi8cnpuZ/EtBrQPRQPFdzLSVgYpQMEjGL+wpEXGGj6k0pOVJ1ghIOTkviOVZvf51BN4JA5hqYxDuFFT0Tcwx67qjKkMYTbWcI0LAhs57GI4TCOuoX1HA9kC0Y/YHPhGT2wcK+r9bY6cJoDEHWCcGgX5IK7eFURyzgABMBCgJpdZlvi5zuFtRl/D7jNQazALCFedsbiKwAG5YJ07sBa5dyyktL92N3pyxgGBikYIeNDH4phusbfJLokDtSYxAU16CVDjE4B0OkCB6rSacXnsCy+qPan2Jg3UmNsFV41KmjJTSIeGZsMcTof4xCHdfKvJLtV80sBT8y3hjBZJubFvuiwwX3LONnC86Xomz5Y0UN31UnDerJLWHSTp8KA1wpM0VUiVWvZT5b3fO8rQtAzItQV58HvkQrSo87HtYrckA3KCiBTChI0YisZ4hirPL+q84r7avauBbKHYGfesWqkvR8XjWRHF4/8Hin9vKOdddpK2sIIjDOLvGMopipnFMc8poviZKujteTWryzGKHYN+NoTdF1EM5QzFG4X39qPKWLF+pvkSlBYH0kLxZoXe+ZyJ5XyDiGIobRI2dmkF/+0ZSc2Bt+sof/iEfvLyAJRuclv+BUvrVknNXiWv7mmehzKZGwXY49pzA78AQcWzMIbd70YAAAAASUVORK5CYII="},t.prototype.canChangeName=function(){return!1},t.prototype.canChangeColor=function(){return!1},t.prototype.isLabelInItalic=function(){return!0},t.prototype.isFilter=function(e){return!0},t.prototype.canBeChecked=function(e){return!1},t.prototype.getFilterLogNode=function(e){var t,r;try{for(var i=Object(n.h)(this.getChildrenByType(Mo)),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.isEqual(e))return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null},t.prototype.synchronize=function(){var e,t,r=this.getTreeNode();if(r){try{for(var i=Object(n.h)(r.getDescendantsByType(Ro)),o=i.next();!o.done;o=i.next()){var a=o.value,s=this.getFilterLogNode(a);s||(s=this.createFilterLogNode(a))&&(s.name=a.name,this.addChild(s),s.initialize())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this.sortChildrenByName()}},t.prototype.createFilterLogNode=function(e){return e instanceof Zo?new Qo:e instanceof Vo?new Wo:e instanceof Go?new jo:e instanceof Io?new No:(Error("Can not FilterLogNode"),null)},t.className="FilterLogFolder",t}(yr),Jo=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"trajectory",{get:function(){return this.anyData},set:function(e){this.anyData=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderStyle",{get:function(){return this.getRenderStyle()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wellNode",{get:function(){return this.getAncestorByType(Bo)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"WellTrajectory"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return this.dataIsLost?e.prototype.getIcon.call(this):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAADHElEQVRYw8WXTWgTQRiG3yQ7ZrMr+TGNtulSaW3RQ63RYBVj/VeKUGrx4MmbZTxYL0uLoAd78VbwFvbWo9CLFz1WRcGTYFfQKqQqbUIqdpNsu+xuNs16WSGHaP3Jbj8Y+GZ2YB/ed2a+GR+aRDqdDvX39z9pa2u7ODMzswkXw99sMJPJtCuKchRAEi5HUwBCyDHDMIKapqW2BaBarQ4DYFZXV895DjA5Ocmvra0NdXd3F6rV6gVRFINeK3BY1/U9XV1d1wkhwsbGxj5PAUzTPBUKhTZjsZgYj8eZQqFw0jMAURQDiqJc4nn+m23bVY7jNnRdP+ulAns1TdtfLBYtWZZfLC0thQghg5TSmCcAlmUN1mo11efzybIsz7S3tz8Mh8NkeXn5hCcApVLpfL1eZ3Vd3yUIwu1CoXA1GAyGTNMcch1gamoqoapqxrIstqOjYzqVSkm9vb3ZUqkUNk3z1NjYGHEDgPmZBAKBg7VabTchhGEYZkJRFF+lUpngeV5lGGZfpVI5AOCdawrk8/kTDMO86uvru6YoyulcLveiXC4XYrFYfyQSyVmWdcQ1C0RR3KFp2lAikXgdDocHAoFAZH19/Znf7z8M4Eo0Gv3IcdxoOp32uWKBYRiCbdsDLMtuyrI8oGnag8XFxefDw8OXV1ZW7iaTSZXjOJ7n+SSAfEsVEEXRp6pqpl6vJ/L5/KCqqtM9PT3iyMjIy9nZ2ZogCFPFYpG1bVvw+/1pNyzYQwi5YRiGybLsrfn5+U8AogAwPj4+kc1mH3V2dl6PRqPf4/E4nZub41sJ0NRTSqnd0E1JkrTg6X0AwOOGfMzzCwmA5w356HYANCqQopRGPAWQJOkrgC8NQ1e8VgAAnjbk97YD4E1D3kspdWUt/PZopZR+AHDA6ZYBnGn1lvRv8f2482M4h9NcqxfklsWFUnoIwNsm2/S9Y9Ob/1Hlj6obpTQL4OYW0744rQxgAUARQBVA7hfzy5IkLfxxeaWUPgMwCIBroQPTf13fHUtSAO4AaHPav8bjllwwnIX58yF7FkDEObx2AvgMQGtmAYD7PwC2HCQ9WJx7TgAAAABJRU5ErkJggg=="},Object.defineProperty(t.prototype,"boundingBox",{get:function(){return this.trajectory?this.trajectory.boundingBox:new $t},enumerable:!1,configurable:!0}),t.prototype.createRenderStyle=function(e){return new To(e)},t.prototype.verifyRenderStyle=function(e){e instanceof To&&(this.supportsColorType(e.colorType.value)||(e.colorType.value=zt.Specified))},t.prototype.supportsColorType=function(e){switch(e){case zt.Specified:case zt.Parent:case zt.Black:case zt.White:return!0;default:return!1}},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t);var r=this.trajectory;r&&(t.addReadOnlyInteger("# Points",r.length),t.addReadOnlyRange1("Md",r.mdRange,2),t.addReadOnlyRange3(r.boundingBox,2))},t.prototype.getFilterLogFolder=function(){var e=this.getTreeNode();return e?e.getChildByType(Yo):null},t.className="WellTrajectoryNode",t}(ao),qo=function(){function e(e,t){this.bandRange=e,this.mdRange=t}return e.prototype.createCanvas=function(e){var t=128*Math.max(1,e)*this.mdRange.delta/this.bandRange.delta,r=new Ci(t,128);return r.clear(k.white),r},e.prototype.createBands=function(e,t,r,i,o){for(var a,s,c=!0,l=0,u=this.mdRange.min;c;u+=10)c=u<this.mdRange.max,l++;var d=i?new vo(2*l,!0):null,p=o?new vo(2*l,!0):null;p&&(p.side=wi.BackSide);var h=[null,null];c=!0;var f=Kt.newZero,g=Kt.newZero;for(u=this.mdRange.min;c;u+=10)if((c=u<this.mdRange.max)||(u=this.mdRange.max),e.getPositionAtMd(u,f)&&e.getTangentAtMd(u,g)){t.transformRelativeTo3D(f),t.transformTangentTo3D(g);var m=this.mdRange.getFraction(u),y=Kt.substract(f,r).getNormal(g),v=y.getCross(g);if(d){var b=Kt.addWithFactor(f,y,this.bandRange.min),x=Kt.addWithFactor(f,y,this.bandRange.max);d.addPair2(b,x,v,m)}p&&(v.negate(),b=Kt.addWithFactor(f,y,-this.bandRange.min),x=Kt.addWithFactor(f,y,-this.bandRange.max),p.addPair2(b,x,v,m))}var S=!1;try{for(var A=Object(n.h)([d,p]),w=A.next();!w.done;w=A.next()){var _=w.value;if(S=!S,_){var T=_.getBufferGeometry(),E=new wi.MeshLambertMaterial({side:_.side,emissive:Ri.toThreeColor(k.white),emissiveIntensity:.05}),B=new wi.Mesh(T,E);h[S?0:1]=B}}}catch(e){a={error:e}}finally{try{w&&!w.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}return h},e.prototype.addAnnotation=function(e,t,r){var i,o,a,s;e.beginPath();try{for(var c=Object(n.h)(this.mdRange.getTicks(50)),l=c.next();!l.done;l=c.next()){var u=l.value,d=Number(u),p=this.mdRange.getFraction(d);e.addVerticalLine(p)}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}e.drawPath();var h=this.mdRange.getBoldInc(50,4);try{for(var f=Object(n.h)(this.mdRange.getTicks(h)),g=f.next();!g.done;g=f.next())u=g.value,d=Number(u),p=this.mdRange.getFraction(d),e.drawText(p,""+d,t,null,r)}catch(e){a={error:e}}finally{try{g&&!g.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}},e.prototype.addFloatLog=function(e,t,r,n,i,o){if(t){var a=t.valueRange;if(!a.isEmpty){var s=r.min.use?r.min.value:a.min,c=r.max.use?r.max.value:a.max;if(a.set(s,c),a.hasSpan){e.beginFunction(i);for(var l=0;l<t.samples.length;l++){var u=t.getAt(l);if(u.isEmpty||u.isMdEmpty)this.closePath(e,n,i,o),e.beginFunction(i);else{var d=this.mdRange.getFraction(u.md),p=a.getTruncatedFraction(u.value);e.addFunctionValue(d,p)}}this.closePath(e,n,i,o)}}}},e.prototype.closePath=function(e,t,r,n){e.closeFunction()&&(r&&e.fillPathBySemiTransparentGradient(t,1),n&&e.drawPath(t,2))},e.prototype.addDiscreteLog=function(e,t){if(t)for(var r=k.white,n=Number.NaN,i=0;i<t.samples.length;i++){var o=t.getAt(i);if(!o.isMdEmpty){var a=o.isEmpty?k.grey:k.getNextColor(o.value),s=this.mdRange.getFraction(o.md);i>0&&e.fillRect(n,s,r,.75),r=a,n=s}}},e.prototype.addPointLog=function(e,t,r,n){if(t)for(var i=0;i<t.samples.length;i++){var o=t.getAt(i);if(!o.isMdEmpty){var a=this.mdRange.getFraction(o.md);e.drawText(a,o.description,r,null,n)}}},e}(),Ko=function(e){function t(t,r){void 0===r&&(r=16);var n=e.call(this)||this;n.vertices=[],n.normals=[],n.indices=[],n.colors=[],n.uvs=[],n.sampleIndex=0,n.pseudoNormal=Kt.newZero,n.normal=Kt.newZero,n.n=Kt.newZero,n.b=Kt.newZero,n.radialSegments=r;var i=Kt.substract(t[0].point,t[t.length-1].point);if(t.length<2)return n;n.pseudoNormal=new Kt(0,0,0);var o=i.absMinDimension;return n.pseudoNormal.setAt(o,1),n.generateBufferData(t),n.generateUVs(t),n.setIndex(n.indices),n.setAttribute("position",new wi.Float32BufferAttribute(n.vertices,3)),n.setAttribute("normal",new wi.Float32BufferAttribute(n.normals,3)),n.setAttribute("color",new wi.Uint8BufferAttribute(n.colors,3,!0)),n}return Object(n.c)(t,e),t.prototype.generateBufferData=function(e){for(var t=e[0],r=t,n=Kt.newEmpty,i=e.length-1,o=0;o<=i;o++){var a=o<i?e[o+1]:r;n.copy(t.point),n.substract(a.point),r.isEmpty&&t.isEmpty||(r.isEmpty?(this.addSegment(r.point,t.radius,t.color,n,!0),this.addBaseCap(r,n,t)):0===o||t.isEmpty?(this.addTopCap(r,n),this.addSample(r,n)):o===i?(this.addSample(r,n,!0),this.addBaseCap(r,n)):r.isEqualColorAndRadius(t)?this.addSample(r,n,!0):(this.addSegment(r.point,t.radius,t.color,n,!0),this.addRadiusShift(t,r,n),this.addSample(r,n)),t=r,r=a)}},t.prototype.addTopCap=function(e,t){this.addSegment(e.point,0,e.color,t,!1,1),this.addSample(e,t,!0,1)},t.prototype.addBaseCap=function(e,t,r){void 0===r&&(r=null),r?this.addSegment(e.point,r.radius,r.color,t,!1,-1):this.addSample(e,t,!1,-1),this.addSegment(e.point,0,e.color,t,!0,-1)},t.prototype.addRadiusShift=function(e,t,r){var n=e.radius<t.radius?1:-1,i=n>0?t.color:e.color;this.addSegment(t.point,e.radius,i,r,!1,n),this.addSegment(t.point,t.radius,i,r,!0,n)},t.prototype.addSample=function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=0),this.addSegment(e.point,e.radius,e.color,t,r,n)},t.prototype.addSegment=function(e,t,r,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=0),this.sampleIndex++,this.n.copy(this.pseudoNormal),this.n.crossProduct(n),this.n.normalize(),this.b.copy(this.n),this.b.crossProduct(n),this.b.normalize(),o&&n.normalize();for(var a=0;a<=this.radialSegments;a++){var s=a/this.radialSegments*Math.PI*2,c=Math.sin(s),l=-Math.cos(s);this.normal.x=l*this.n.x+c*this.b.x,this.normal.y=l*this.n.y+c*this.b.y,this.normal.z=l*this.n.z+c*this.b.z,this.normal.normalize(),1===o?this.normals.push(n.x,n.y,n.z):-1===o?this.normals.push(-n.x,-n.y,-n.z):this.normals.push(this.normal.x,this.normal.y,this.normal.z);var u=e.x+t*this.normal.x,d=e.y+t*this.normal.y,p=e.z+t*this.normal.z;this.vertices.push(u,d,p),this.colors.push(r.red(),r.green(),r.blue())}i&&this.generateIndices()},t.prototype.generateIndices=function(){for(var e=this.sampleIndex-1,t=this.sampleIndex-2,r=this.radialSegments+1,n=0;n<this.radialSegments;n++){var i=n+1,o=r*t+n,a=r*e+n,s=r*e+i,c=r*t+i;this.indices.push(o,a,c),this.indices.push(a,s,c)}},t.prototype.generateUVs=function(e){for(var t=new Jt(e[0].md,e[e.length-1].md),r=0;r<e.length;r++)for(var n=t.getFraction(e[r].md),i=0;i<=this.radialSegments;i++)this.uvs.push(n,1)},t}(wi.BufferGeometry),$o=function(e){function t(){var t=e.call(this)||this;return t.cameraDirection=new Kt(0,0,1),t.cameraPosition=new Kt(0,0,1),t.fgColor=k.white,t.bandTextures=[null,null],t}return Object(n.c)(t,e),t.prototype.getBandName=function(e){return e===Co.Right?"RightBand":"LeftBand"},Object.defineProperty(t.prototype,"node",{get:function(){return e.prototype.getNode.call(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return e.prototype.getStyle.call(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bandRange",{get:function(){var e=this.style;return e?new Jt(e.radius.value,e.bandWidth.value):void 0},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(t){e.prototype.updateCore.call(this,t),t.isChanged(Ht.filter)&&this.clearTextures(this._object3D),t.isChanged(Ht.renderStyle,Ht.nodeColor,Ht.nodeName)&&(this.clearTextures(this._object3D),this.touch())},t.prototype.onShowCore=function(){var t,r;e.prototype.onShowCore.call(this);var i=this.node,o=i.getFilterLogFolder();if(o)try{for(var a=Object(n.h)(i.getDescendantsByType(Ro)),s=a.next();!s.done;s=a.next()){var c=s.value,l=o.getFilterLogNode(c);l&&l.isVisible(this.renderTarget)&&c.setVisibleInteractive(!0,this.renderTarget)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}},t.prototype.onHideCore=function(){e.prototype.onHideCore.call(this)},t.prototype.beforeRender=function(){var t,r;e.prototype.beforeRender.call(this);var i=this.object3D;if(i){var o=!1,a=!1;try{for(var s=Object(n.h)([Co.Left,Co.Right]),c=s.next();!c.done;c=s.next()){var l=c.value;i.getObjectByName(this.getBandName(l))&&(o=!0),this.bandTextures[l]&&(a=!0)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}o&&a||(o||this.addBands(i),a||(this.bandTextures=this.createBandTextures()),this.setBandTextures(i)),i.getObjectByName("trajectoryLabel")||this.addTrajectoryLabel(i),i.getObjectByName("wellLabel")||this.addWellLabel(i)}},t.prototype.calculateBoundingBoxCore=function(){var t=e.prototype.calculateBoundingBoxCore.call(this);if(!t)return t;var r=this.style;if(!r)return t;var n=new Kt(r.bandWidth.value,r.bandWidth.value,1.25*r.nameFontSize.value);return t.expandByMargin3(n),t},t.prototype.onShowInfo=function(e,r){var i,o,a=t.startPickingAndReturnMd(this,e,r);if(void 0!==a){var s=this.node,c=0;try{for(var l=Object(n.h)(s.getDescendantsByType(Ro)),u=l.next();!u.done;u=l.next()){var d=u.value;if(d.isVisible(this.renderTarget)&&!(d instanceof Io)){var p=d.log;if(p){0===c&&e.addHeader("Visible Logs");var h=p.getSampleByMd(a);e.addValue("  "+d.displayName,h?h.getSampleText():"Outside MD range"),c++}}}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}},t.prototype.createObject3DCore=function(){var e=this.node.wellNode;if(!e)return null;var t=new wi.Group;return this.addTrajectory(t),this.addTrajectoryLabel(t),this.addWellLabel(t),t.position.copy(this.transformer.to3D(e.origin)),t},t.prototype.mustTouch=function(){var e=this.node,t=e.trajectory;if(!t)return!1;var r=e.wellNode;if(!r)return!1;var n=this.renderTarget,i=!1;this.fgColor!==n.fgColor&&(this.fgColor=n.fgColor,i=!0);var o=!1,a=this.transformer,s=this.camera,c=a.toWorld(s.position);c.substract(r.origin);var l=t.boundingBox.center;return a.transformRelativeTo3D(c),a.transformRelativeTo3D(l),l.substract(c),l.normalize(),Math.acos(l.getDot(this.cameraDirection))>V.viewerSmallestCameraDeltaAngle&&(this.cameraDirection=l,this.cameraPosition=c,o=!0),o||i},t.prototype.touchPart=function(){var t=this._object3D;t?this.clearBands(t):e.prototype.touchPart.call(this)},t.prototype.getMdRange=function(){var e,t,r=this.node;if(this.bandRange&&r.trajectory){var i=new Jt;try{for(var o=Object(n.h)(r.getDescendantsByType(Ro)),a=o.next();!a.done;a=o.next()){var s=a.value;if(this.isInBand(s)){var c=s.log;c&&i.addRange(c.mdRange)}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}if(!i.isEmpty)return i}},t.prototype.isInBand=function(e){return e instanceof Go||e instanceof Vo},t.prototype.addTrajectoryLabel=function(e){var t=this.node,r=t.trajectory;if(r){var n=this.style;if(n){var i=r.getBasePosition().clone();this.transformer.transformRelativeTo3D(i);var o=Mi.createByPositionAndAlignment(t.name,i,7,n.nameFontSize.value,this.fgColor);o&&(o.name="trajectoryLabel",e.add(o))}}},t.prototype.addWellLabel=function(e){var t=this.node,r=t.wellNode;if(r){var n=t.trajectory;if(n){var i=this.style;if(i){var o=n.getTopPosition().clone();this.transformer.transformRelativeTo3D(o);var a=Mi.createByPositionAndAlignment(r.name,o,1,i.nameFontSize.value,this.fgColor);a&&(a.name="wellLabel",e.add(a))}}}},t.prototype.addTrajectory=function(e){var t,r,i,o,a=this.node;if(a.wellNode){var s=this.style,c=a.trajectory;if(c){var l=a.getColorByColorType(s.colorType.value),u=c.createRenderSamples(l,s.radius.value),d=this.transformer;try{for(var p=Object(n.h)(u),h=p.next();!h.done;h=p.next()){var f=h.value;d.transformRelativeTo3D(f.point)}}catch(e){t={error:e}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}var g=new Ko(u),m=new wi.MeshPhongMaterial({color:Ri.toThreeColor(k.white),shininess:75,vertexColors:!0,emissive:Ri.toThreeColor(k.cyan),emissiveIntensity:.25}),y=new wi.Mesh(g,m);y.name="trajectory",e.add(y),g=new wi.Geometry;try{for(var v=Object(n.h)(u),b=v.next();!b.done;b=v.next())f=b.value,g.vertices.push(Ri.toThreeVector3(f.point))}catch(e){i={error:e}}finally{try{b&&!b.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}m=new wi.LineBasicMaterial({color:Ri.toThreeColor(l),linewidth:2});var x=new wi.Line(g,m);e.add(x)}}},t.prototype.addBands=function(e){var t,r,i=this.node,o=this.bandRange;if(o){var a=i.trajectory;if(a){var s=this.getMdRange();if(s){var c=new qo(o,s).createBands(a,this.transformer,this.cameraPosition,!0,!0);try{for(var l=Object(n.h)([Co.Left,Co.Right]),u=l.next();!u.done;u=l.next()){var d=u.value,p=c[d];p&&(p.name=this.getBandName(d),e.add(p))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}}}}},t.prototype.clearTextures=function(e){this.bandTextures=[null,null],e&&this.setBandTextures(e)},t.prototype.clearBands=function(e){var t,r;try{for(var i=Object(n.h)([Co.Left,Co.Right]),o=i.next();!o.done;o=i.next()){var a=o.value,s=e.getObjectByName(this.getBandName(a));s&&e.remove(s);var c=e.getObjectByName("trajectoryLabel");c&&e.remove(c);var l=e.getObjectByName("wellLabel");l&&e.remove(l)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},t.prototype.setBandTextures=function(e){var t,r;try{for(var i=Object(n.h)([Co.Left,Co.Right]),o=i.next();!o.done;o=i.next()){var a=o.value,s=e.getObjectByName(this.getBandName(a));if(s&&s instanceof wi.Mesh){var c=s,l=c.material;if(l){var u=this.bandTextures[a];l.map=u,c.visible=null!=u}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},t.prototype.createBandTextures=function(){var e,t,r,i,o,a,s=[null,null];if(!parent)return s;var c=this.node,l=this.style,u=this.bandRange;if(!u)return s;var d=this.getMdRange();if(!d)return s;var p=new qo(u,d),h=[0,0],f=[null,null],g=this.transformer;function m(e){var t=f[e];if(!t){if(!(t=p.createCanvas(g.zScale)))throw Error("Can not create canvas");f[e]=t}return t}for(var y=0;y<2;y++)try{for(var v=(e=void 0,Object(n.h)(c.getDescendantsByType(Vo))),b=v.next();!b.done;b=v.next())if((_=b.value).isVisible(this.renderTarget)&&(T=_.getRenderStyle(this.targetId))){var x=T.bandPosition.value;if(0===y){if(x===Co.Automatic)continue}else{if(x!==Co.Automatic)continue;x=h[Co.Right]<h[Co.Left]?Co.Right:Co.Left}var S=m(x);p.addDiscreteLog(S,_.log),h[x]++}}catch(t){e={error:t}}finally{try{b&&!b.done&&(t=v.return)&&t.call(v)}finally{if(e)throw e.error}}for(y=0;y<2;y++)try{for(var A=(r=void 0,Object(n.h)(c.getDescendantsByType(Go))),w=A.next();!w.done;w=A.next()){var _,T;if((_=w.value).isVisible(this.renderTarget)&&(T=_.getRenderStyle(this.targetId))){if(x=T.bandPosition.value,0===y){if(x===Co.Automatic)continue}else{if(x!==Co.Automatic)continue;x=h[Co.Right]<h[Co.Left]?Co.Right:Co.Left}S=m(x);var E=_.getColorByColorType(T.colorType.value);p.addFloatLog(S,_.log,T,E,!0,!1),E=E.darken(.5),p.addFloatLog(S,_.log,T,E,!1,!0),h[x]++}}}catch(e){r={error:e}}finally{try{w&&!w.done&&(i=A.return)&&i.call(A)}finally{if(r)throw r.error}}try{for(var B=Object(n.h)([Co.Left,Co.Right]),R=B.next();!R.done;R=B.next())x=R.value,(S=f[x])&&(p.addAnnotation(S,l.bandFontSize.value,x===Co.Right),s[x]=S.createTexture())}catch(e){o={error:e}}finally{try{R&&!R.done&&(a=B.return)&&a.call(B)}finally{if(o)throw o.error}}return s},t.startPickingAndReturnMd=function(e,t,r,n){var i=e.getNode(),o=i.getThisOrAncestorByType(Bo);if(o){var a=i.getThisOrAncestorByType(Jo);if(a){var s=a.trajectory;if(s){if(void 0===n){var c=e.transformer.toWorld(r.point);c.substract(o.origin),n=s.getClosestMd(c)}var l=Kt.newEmpty;s.getPositionAtMd(n,l);var u=-l.z;return t.addValue("Well",o.displayName),t.addValue("Trajectory",a.displayName),t.addValue("Md",n.toFixed(2)+" m / "+(n*Ce.Feet).toFixed(2)+" ft"),t.addValue("Tvd",u.toFixed(2)+" m / "+(u*Ce.Feet).toFixed(2)+" ft"),n}}}},t}(ro),ea=function(e){function t(){var t=e.call(this)||this;return t.cameraDirection=new Kt(0,0,1),t.cameraPosition=new Kt(0,0,1),t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"node",{get:function(){return e.prototype.getNode.call(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return e.prototype.getStyle.call(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=this.node.trajectoryNode;return null!=e&&e.isVisible(this.renderTarget)},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(t){e.prototype.updateCore.call(this,t),t.isChanged(Ht.renderStyle,Ht.nodeColor,Ht.pointOpenOrClosed)&&this.touch()},t.prototype.calculateBoundingBoxCore=function(){if(this.isVisible){var e=this.node,t=e.trajectory;if(t){var r=this.node.wellNode;if(r){var n=e.log;if(n){for(var i=new $t,o=Kt.newZero,a=n.samples.length-1;a>=0;a--){var s=n.getAt(a);s.isMdEmpty||t.getPositionAtMd(s.md,o)&&i.add(o)}var c=1.2*this.radius;return i.expandByMargin(c),i.translate(r.origin),i}}}}},t.prototype.beforeRender=function(){var t,r;e.prototype.beforeRender.call(this);var i=this.object3D;if(i){var o=this.node,a=o.log;if(a){var s=o.wellNode;if(s){var c=o.trajectory;if(c){var l=this.transformer,u=this.camera,d=l.toWorld(u.position);d.substract(s.origin);var p=c.boundingBox.center;if(l.transformRelativeTo3D(d),l.transformRelativeTo3D(p),p.substract(d),p.normalize(),!(Math.acos(p.getDot(this.cameraDirection))<V.viewerSmallestCameraDeltaAngle)){this.cameraDirection=p,this.cameraPosition=d;var h=Kt.newZero,f=Kt.newZero,g=1.2*this.radius;try{for(var m=Object(n.h)(i.children),y=m.next();!y.done;y=m.next()){var v=y.value,b=v.userData.label;if(void 0!==b){var x=a.getAt(b);if(!x.isMdEmpty&&c.getPositionAtMd(x.md,h)&&c.getTangentAtMd(x.md,f)){l.transformRelativeTo3D(h),l.transformTangentTo3D(f);var S=(p=Kt.substract(h,this.cameraPosition)).getNormal(f);h.addWithFactor(S,g),Ri.copyToThreeVector3(v.position,h)}}}}catch(e){t={error:e}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}}}}}}},t.prototype.onShowInfo=function(e,r){if(this.object3D){var n=r.object.userData[t.sphereName];if(void 0!==n){var i=this.node;if(i.trajectory){var o=i.log;if(o){var a=o.getAt(n);a&&void 0!==$o.startPickingAndReturnMd(this,e,r,a.md)&&(e.addPickedNode(i),e.addTabbedValue("Description",a.description),e.addTabbedValue("Subtype",a.subtype),e.addTabbedValue("Subcategory",a.riskSubCategory),e.addTabbedValue("Details",a.details))}}}}},t.prototype.createObject3DCore=function(){var e=this.node,r=e.wellNode;if(!r)return null;var n=e.trajectory;if(!n)return null;var i=this.style;if(!i)return null;var o=e.getColorByColorType(i.colorType.value),a=e.log;if(!a)throw Error("Well trajectory is missing");for(var s=new wi.Group,c=this.transformer,l=this.radius,u=1.2*l,d=new wi.SphereGeometry(l,16,8),p=new wi.SphereGeometry(u,16,8),h=new wi.MeshPhongMaterial({color:Ri.toThreeColor(o)}),f=new wi.MeshPhongMaterial({color:Ri.toThreeColor(o),emissive:Ri.toThreeColor(k.selectedEmissive)}),g=Kt.newUp,m=Kt.newZero,y=Kt.newZero,v=0;v<a.samples.length;v++){var b=a.getAt(v);if(!b.isMdEmpty&&n.getPositionAtMd(b.md,y)&&n.getTangentAtMd(b.md,m)){c.transformRelativeTo3D(y),c.transformTangentTo3D(m);var x=new wi.Mesh(b.isOpen?p:d,b.isOpen?f:h);if(x.scale.z=.3333,Math.abs(m.z)<.999){var S=g.getCross(m),A=Math.acos(m.getDot(g));x.rotateOnAxis(Ri.toThreeVector3(S),A)}if(Ri.copyToThreeVector3(x.position,y),x.userData[t.sphereName]=v,s.add(x),b.isOpen){var w=Kt.substract(y,this.cameraPosition).getNormal(m);y.addWithFactor(w,u);var _=t.createLabel(e.name,b.description,y,i.fontSize.value);_&&(_.center=new wi.Vector2(0,1),_.userData.label=v,_.userData[Ki.noPicking]=!0,s.add(_))}}}return s.position.copy(c.to3D(r.origin)),s},Object.defineProperty(t.prototype,"radius",{get:function(){var e=20,t=this.node;if(!t)return e;var r=this.style;r&&(e=r.radius.value);var n=t.trajectoryNode;if(!n)return e;var i=n.getRenderStyle(this.targetId);return i&&(e+=i.radius.value),e},enumerable:!1,configurable:!0}),t.createLabel=function(e,r,n,i){var o=t.createCanvasWithText(e,r,600,30);if(!o)return null;var a=Mi.createTexture(o),s=new wi.SpriteMaterial({map:a}),c=new wi.Sprite(s),l=i*o.width/30,u=i*o.height/30;return c.scale.set(l,u,1),Ri.copyToThreeVector3(c.position,n),c},t.createCanvasWithText=function(e,t,r,n){var i,o,a=.025*r,s=1.5*n,c=Ci.getBoldFont(n),l=Ci.getBolderFont(n+2),u=document.createElement("canvas"),d=u.getContext("2d");if(!d)return null;d.font=l;var p,h,f=d.measureText(e).width;f>r?(o=!0,f=r,i=Ci.measureTextHeight(d,e,r+a,s),i-=.5*n/2):(o=!1,i=n),d.font=c;var g=d.measureText(t).width;g>r?(h=!0,g=r,p=Ci.measureTextHeight(d,t,r+a,s),p-=.5*n/2):(h=!1,p=n),u.width=Math.max(f,g)+2*a,u.height=i+.5*n+p+2*a;var m=d.createLinearGradient(0,0,u.width,0);m.addColorStop(0,Ci.getColor(k.white)),m.addColorStop(1,Ci.getColor(k.grey)),d.fillStyle=m,d.fillRect(0,0,u.width,u.height),d.strokeStyle=Ci.getColor(k.orange),d.lineWidth=4,d.strokeRect(2,2,u.width-4,u.height-4),d.textBaseline="top",d.textAlign="start",d.fillStyle=Ci.getColor(k.black);var y=a;return d.font=l,o?Ci.fillText(d,e,a,y,r+a,s):d.fillText(e,a,y),y+=i+.5*n,d.font=c,h?Ci.fillText(d,t,a,y,r+a,s):d.fillText(t,a,y),u},t.sphereName="sphere",t}(ro),ta=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"node",{get:function(){return e.prototype.getNode.call(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trajectoryNode",{get:function(){var e=this.node;return e?e.trajectoryNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=this.trajectoryNode;return null!=e&&e.isVisible(this.renderTarget)},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(t){e.prototype.updateCore.call(this,t),t.isChanged(Ht.renderStyle,Ht.nodeColor)&&this.updateTrajectory(t)},t.prototype.onShowCore=function(){e.prototype.onShowCore.call(this),this.updateTrajectory()},t.prototype.onHideCore=function(){e.prototype.onHideCore.call(this),this.updateTrajectory()},t.prototype.updateTrajectory=function(e){void 0===e&&(e=null);var t=this.trajectoryNode;if(t){var r=t.getViewByTarget(this.renderTarget);r&&r.update(null!=e?e:new kt(Ht.filter))}},t}(Mn),ra=function(){function e(e){void 0===e&&(e=0),this.md=e}return Object.defineProperty(e.prototype,"isMdEmpty",{get:function(){return Number.isNaN(this.md)},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"Md: "+this.md},e.prototype.getSampleText=function(){return""},e.prototype.translate=function(e,t){this.md+=e},e.prototype.isPickedOnEdge=function(e,t){return Math.abs(this.md-e)<=t},e.compareMd=function(e,t){return Yt.compare(e.md,t.md)},e}(),na=function(e){function t(t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=k.white);var o=e.call(this,r)||this;return o.point=t,o.radius=n,o.color=i,o}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.radius<=0||Number.isNaN(this.radius)},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return e.prototype.toString.call(this)+" Point: "+this.point+" radius: "+this.radius},t.prototype.isEqualColorAndRadius=function(e){return this.color===e.color&&this.radius===e.radius},t}(ra),ia=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"node",{get:function(){return e.prototype.getNode.call(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return e.prototype.getStyle.call(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=this.node.trajectoryNode;return null!=e&&e.isVisible(this.renderTarget)},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(t){e.prototype.updateCore.call(this,t),t.isChanged(Ht.renderStyle,Ht.nodeColor)&&this.touch()},t.prototype.calculateBoundingBoxCore=function(){if(this.isVisible){var e=this.node,t=e.trajectory;if(t){var r=this.node.wellNode;if(r){var n=e.log;if(n){for(var i=new $t,o=0,a=Kt.newZero,s=n.samples.length-1;s>=0;s--){var c=n.getAt(s);c.isMdEmpty||c.isEmpty||(o=Math.max(o,c.radius),t.getPositionAtMd(c.md,a)&&i.add(a),t.getPositionAtMd(c.baseMd,a)&&i.add(a))}return i.expandByMargin(o+this.trajectoryRadius),i.translate(r.origin),i}}}}},t.prototype.onShowInfo=function(e,t){var r=$o.startPickingAndReturnMd(this,e,t);if(void 0!==r){var n=this.node;e.addPickedNode(n);var i=n.log;if(i){var o=i.getConcreteSampleByMd(r);o&&(e.addTabbedValue("Name",o.name),e.addTabbedValue("Radius",Number.isNaN(o.radius)||0===o.radius?"No casing":o.radius.toFixed(3)),e.addTabbedValue("Comments",o.comments),e.addTabbedValue("Status comment",o.currentStatusComment))}}},t.prototype.createObject3DCore=function(){var e=this.node,t=e.wellNode;if(!t)return null;var r=this.style;if(!r)return null;var n=e.getColorByColorType(r.colorType.value),i=e.trajectory;if(!i)return null;var o=e.log;if(!o)throw Error("Well trajectory is missing");var a=new wi.Group,s=this.createRenderSamples(i,o,n);if(s&&s.length>0){var c=new Ko(s),l=new wi.MeshStandardMaterial({color:Ri.toThreeColor(k.white),vertexColors:!0,transparent:!0});r.opacity.use&&(l.opacity=r.opacity.value,l.transparent=!0);var u=new wi.Mesh(c,l);a.add(u)}return a.position.copy(this.transformer.to3D(t.origin)),a},t.prototype.createRenderSamples=function(e,t,r){for(var i,o,a=this.trajectoryRadius,s=[],c=0;c<t.length;c++)if(!(y=t.getAt(c)).isMdEmpty&&!Number.isNaN(y.baseMd)&&!Number.isNaN(y.radius)){var l=y.radius+a,u=Kt.newZero;e.getPositionAtMd(y.md,u)&&s.push(new na(u,y.md,l,r));for(var d=0;d<e.length;d++){var p=e.getAt(d);if(p.md>=y.baseMd)break;y.md<p.md&&s.push(new na(p.point.clone(),p.md,l,r))}var h=Kt.newZero;e.getPositionAtMd(y.baseMd,h)&&(s.push(new na(h,y.baseMd,l,r)),s.push(new na(h.clone(),y.baseMd,0,r)))}var f=this.transformer;try{for(var g=Object(n.h)(s),m=g.next();!m.done;m=g.next()){var y=m.value;f.transformRelativeTo3D(y.point)}}catch(e){i={error:e}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}return s},Object.defineProperty(t.prototype,"trajectoryRadius",{get:function(){var e=this.node;if(!e)return 0;var t=e.trajectoryNode;if(!t)return 0;var r=t.getRenderStyle(this.targetId);return r?r.radius.value:0},enumerable:!1,configurable:!0}),t}(ro),oa=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"node",{get:function(){return e.prototype.getNode.call(this)},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(t){var r,i;e.prototype.updateCore.call(this,t);var o=this.node;try{for(var a=Object(n.h)(o.getAllLogs()),s=a.next();!s.done;s=a.next()){var c=s.value.getViewByTarget(this.renderTarget);c&&c.update(t)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.onShowCore=function(){e.prototype.onShowCore.call(this),this.onHideOrShowCore(!0)},t.prototype.onHideCore=function(){e.prototype.onHideCore.call(this),this.onHideOrShowCore(!1)},t.prototype.onHideOrShowCore=function(e){var t,r,i=this.node;try{for(var o=Object(n.h)(i.getAllLogs()),a=o.next();!a.done;a=o.next()){var s=a.value,c=s.trajectoryNode;c&&c.isVisible(this.renderTarget)&&s.setVisibleInteractive(e,this.renderTarget)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},t}(Mn),aa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKvklEQVRYw72XeUzcZ3rHP7+5mWFmYA6uGYYxY4yxwSbgmMHgI6ezPhJns1aylesmXTWrpNL2j64iZautqkZdN7vuqhut4q2yzUrdVY4mGzeOY3ttx4ANGDO2sQEzYMAYZphhGGDu++ofdaiT3aZNVfX71yu9z/s8X33f6/sIdrtdCuQBASjwH5AASkDMH8Y2oBqwAI33xk3APFAMhIA+4BTQAyzctzZ/fyIJIAMy98a5ewH5e2S2fanA50VHNtTbmuSxecolaQRDJRlzM6a1PtO196PIG4q0S+4ly+yYywL8+h6RU0AXMHlf/YJgt9ufBI4Cx+8r0HEvoK9jS0OHJBnEos6QnVrCmgW5FlJNzVAkQRaeIC+voNRiQZLNkZEa0ODnl90CLWUXUena8S1FcfpjXB2ZCgFzgOMeMadgt9tfAY6o1RrR1q1baawxoynKEpo+R/6OD22lDLFERcFgQ1/7ILFJB9UxNz2zi+hyeQxN9UjqvoE0OkRWasQRVdGmjCCRSlkpLJLxKoinQuRc1/EqzDhG3cwFUpiMOmZ9y31is9msB2qqNTLLyNQMIxOTeFMynj7wEgVhBW1VC4ryaiirJ5NJUzAYkDc9S0ahIFHdglJfSka9htmCiBtX5qlZq8eTkXKpaw6h3IKyqILB4eucuRXAtZRGUJdz8IlHuHnTRyIbdonNZnM90HGw3Wz5xvY2VAqB2ckJTpw/j9Kgp6RUgkitIyMpJhNbQLF4G8MHvyJ4x4kQu4tMLPDBWJzTx8cJ6+HCJ3PUtyuJxOL0fHaJC70DRLJKyvUdbGiop8Mqp6FGSTQXZtrl71sl0P7Q05ZKYymalB9T+2M01dnoHXRy6tIIibkx6owyqta14CuUECRIPhmjqlZHIe3nsTYbsawecSRCNu1nsPsq+XCQCnUpT22tZm+rDc3GasSSHLaSPEKRhlOf9BPKZE+vEmjY3GC55S2wFClQU5TDVJLDmPDQvH0Pg3dXONnvxOVdYaPVzJKxmd8tq0lbH+LUaJKTPYsMj/fh8fupbZTxrQNPY1MU2F0jIle3jZwsh0kmQhBlWMjIWJzzkRSD27fynwo83WmzNJVJ0GozxJaXCRWq8csqUMR97N+qRyNJMusK8XHPFTx33ZQocvR1X8A7P0eVJsn3Dz1Ms9mL2VTB5V4F3tJRTFVtBAOLxFMFEiXNFAoJ1hlFyHIyRr1xFnyePsnnFzIhqkNqECGNhrHUtkFwHksqifNmkFzdi3RugPob7yFyzfPPg16uXp/jYIuFFquSFYzI9FbujnswVu3g2f1+7lytweFVslPtRmK1kA85mB0f5zc+G8kVH3nZMkBoVYHy/LzF6Y0iSCspjbqQaEpRKjToq+rQEiCTE+PyRLhTqKY26yGcTqEpLsPc9BBxoZhAKE6qkGOjVYEg0ZK13mbb0hTnpws4vdV4lrJEnV6eKxlCX5jlalxFOBx5Y1UBzZpNxCd6ic5c519VaxD0CSoUUp7cZSWXjRMY70Jfu5HNKiXnlkZIuKM0mqSEC0n0mgwVej0hjwdJYI6pYBnvjG5GvSSlteg6NvVZ4r4kKzoz76oOoSqLInUOrj7FAKzdvAtX1TqiI7OYpkbYoezCOVPg9WvbqFxvYpNkmprJ84jb9pFUG8gxh6hpP/WMEp10Mh7wc/q6mXBQwgbpNK83DDFVpGV4QUV12248iyHUMjntJWkWvSlOTk/3f4FAWW4epU5EfHsjK1YdJ6azyLSTHDZcILpSzPsLm/HmO9m54qCto5YbhSRl7uP8bKiVsblHaFDN8Py6GwT1IdyBct5eOsCuzvVULfQhzySoX7+RyMIkixkj/kyGgiDSUsizegbadu6wqOJJRIlb5CLjaMsradm1GUemg0IxNARu8MOWW0z5lJydERMJLjB4p5NH137CD77Tx+1kLVc8KooKCyjXb2CPdgJxeAqHx8TwtbuktRLSqCArUCwR6Lt6rWxgYOCPRJ8roNSZGIoViIoawbwfky5Fcn4Sa7ALhzNBoqmZHy/Y0aiitNkE0hmBH+88ie+Jg/x06bs8GbvOs61ByrdsxeQe4s3CLj7caKNTfp7nOgvUVVtIydSY1FFi/ttf+I4BCE462FyUwy9TYdQpmRvLU1RhodSyyA9in9GVbkWhqCIc11Mhd1Mii/PW1OMcLjlOABGOun2sXO5FVanH/4yd7+WOURrRc7FkN59djfNI8Hco/BMMl28hJjf/PoFK+8P0vvcvmNUL3JyQsLahDZlGwbB/HW9P6XlB8ylbC9f4UfKPqfX3oBALWJnh2PhzHLD5Ubn7GW7/JgeSH/JtxwLvuu3citVSrZbSun6E/sU16G1tbFDHCN/nc1a3QC5XU2fVs5RWUUhkiCY9CNk0rcVhXn58hjcTuzmjaOIN9a+5kGljUlxPv2s9f1t+DEdqmWyVjtf8PyflyfO6ZC/zTxmplcyzSz+GPF1EZ1Mx+9qsLMTCDE15AEa+QEDI58mIbWx58AHqG9czP+Oh6+NusppyTk1X8JP1vYxLNvDWlu/y2mMfYBHf4mff/zd+WPYqtfpltprUvBN7lCsyG6pNcZpC1/gz2yQ3ZqWcdTUiVK3lysQsOjnUlOQBUvcTkKtIs+J2MOzyIzVYabGZadsoZj6aYactxglVO3+1rp+61GXenDpMQqflVc8RXo4fQzQe4OfHNURWwsTbK/mLiVPUvR/gb7LPUGxIsFdymqjHizaxxJh7hY/ODqxugdhsNtcCL5aUVysMoizi5RHckVLCaT81FhOSicsodKUQjXFH8wSS6DzW2S5mskkO5wfIrd3PTY+aQFSKuk7DX6be4+jon3L1W3s4ZPkJiy4lmbpvoi0V6O4f5UK/g0gs88LA5b4/554TBsButw8byw1N+7a3YHH1E+p8gXhEQffwHPXZftZE0vhKlJS17cN5y0vfYA8vrS1GvkbPx04j/7DxMviDfM94hAN73sI/HWXgn5rZvreecNzP+bOfUqxW8/6HHwn3u+LV4+h2u4/pSnUV0x7/Fp/BxhrvMPWNFTTh5FLRQ+i0CQ5JJrm4IMJkLiIwfo2crpGTQxv4+wdO89mCwFstR3jF8Hec/FUN6nkzenkAV8BNd28XsVTir0+fOffwl/39F3y/2+3+tMxgXEqEI3uC+XJ8M5MUNzzA457j/EZ1GKGqlWeTH/LLLhHOhAqduIw3nviYt7MvMxysZt/dY5y41MyezQnikiBnbo4RF0v45OQpYW7OffEPNRi/13i43W6Hsay8W6FVPJ+WyvBeX6a6rZlnln/L0aFKwnVb2F3Uizfv48jDd9l77kVqlU4Obc8xmLGx48Esjmkv7/bO8OgzB/nHo0cFvgJfOWm329+xGIq/vamlle1yL6OpWtxeMT0zYkqVPYg2vcafzL7Kpt3ruOTRo1t28t5ohJBQzJmTH31l7v9SgS+p8Vu1riwzN+97JFT1AM3JITLFRmyFMVxJ+JHlMvp1Rm4VtRHwTfFO/yy+cPwX3RfOPcj/EOL/LsDtdl+qqKjojoWCz8cUOuxMkxWtMOKGA+VBLqU3cXFohJtTiwTCkacGBgZ+yteA8HWC7XZ7r6nS2LGjRsnw+CyC1spt7yLpdPwXAwMDL/G/gPB1F9jt9teVxepXAAq5HIlE/KmBgYET/H/Cbrd/x263D/9f5Pp3qt6p8oorxPkAAAAASUVORK5CYII=",sa=function(){function e(e,t,r){this.i=e,this.j=t,this.k=r}return Object.defineProperty(e,"newZero",{get:function(){return new e(0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.i,this.j,this.k)},Object.defineProperty(e.prototype,"size",{get:function(){return this.i*this.j*this.k},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isZero",{get:function(){return 0===this.i&&0===this.j&&0===this.k},enumerable:!1,configurable:!0}),e.prototype.getAt=function(e){switch(e){case 0:return this.i;case 1:return this.j;case 2:return this.k;default:return Number.NaN}},e.prototype.toString=function(){return"("+this.i+", "+this.j+", "+this.k+")"},e.prototype.copy=function(e){this.i=e.i,this.j=e.j,this.k=e.k},e.prototype.add=function(e){this.i+=e.i,this.j+=e.j,this.k+=e.k},e.prototype.substract=function(e){this.i-=e.i,this.j-=e.j,this.k-=e.k},e.prototype.addIndex2=function(e){this.i+=e.i,this.j+=e.j},e}(),ca=function(e){function t(t){var r=e.call(this)||this;return r.nodeSize=t.clone(),r.cellSize=t.clone(),r.cellSize.i--,r.cellSize.j--,r}return Object(n.c)(t,e),t.prototype.clone=function(){return new t(this.nodeSize)},t.prototype.expandBoundingBox=function(e){},t.prototype.toString=function(){return"("+this.nodeSize+")"},t.prototype.getCellIndex2=function(e,t){return e+this.cellSize.i*t},t.prototype.isNodeInside=function(e,t,r){return e>=0&&t>=0&&r>=0&&e<this.nodeSize.i&&t<this.nodeSize.j&&r<this.nodeSize.k},t.prototype.isCellInside=function(e,t,r){return e>=0&&t>=0&&r>=0&&e<this.cellSize.i&&t<this.cellSize.j&&r<this.cellSize.k},t.prototype.isCellInside3=function(e){return e.i>=0&&e.j>=0&&e.k>=0&&e.i<this.cellSize.i&&e.j<this.cellSize.j&&e.k<this.cellSize.k},t}(zi),la=function(){function e(e,t){this.i=e,this.j=void 0===t?e:t}return Object.defineProperty(e,"newZero",{get:function(){return new e(0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.i,this.j)},Object.defineProperty(e.prototype,"size",{get:function(){return this.i*this.j},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isZero",{get:function(){return 0===this.i&&0===this.j},enumerable:!1,configurable:!0}),e.prototype.getAt=function(e){switch(e){case 0:return this.i;case 1:return this.j;default:return Number.NaN}},e.prototype.toString=function(){return"("+this.i+", "+this.j+")"},e.prototype.copy=function(e){this.i=e.i,this.j=e.j},e.prototype.add=function(e){this.i+=e.i,this.j+=e.j},e.prototype.substract=function(e){this.i-=e.i,this.j-=e.j},e}(),ua=function(e){function t(t,r,n,i){void 0===i&&(i=void 0);var o=e.call(this,t)||this;return o.startCell=new la(0,0),o._hasRotationAngle=!1,o._rotationAngle=0,o._sinRotationAngle=0,o._cosRotationAngle=1,o.origin=r,o.inc=n,void 0!==i&&(o.rotationAngle=i),o}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"rotationAngle",{get:function(){return this._rotationAngle},set:function(e){this._hasRotationAngle=0!==e,this._hasRotationAngle?(this._rotationAngle=e,this._sinRotationAngle=Math.sin(this._rotationAngle),this._cosRotationAngle=Math.cos(this._rotationAngle)):(this._rotationAngle=0,this._sinRotationAngle=0,this._cosRotationAngle=1)},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"nodeSize: "+this.nodeSize+" origin: "+this.origin+" inc: "+this.inc+" rotationAngle: "+this.rotationAngle},t.prototype.clone=function(){return er.cloneDeep(this)},t.prototype.expandBoundingBox=function(e){e.addRange(this.getCornerRange())},t.prototype.getNodePosition=function(e,t,r,n){if(n||(n=Kt.newZero),this._hasRotationAngle){var i=this.inc.x*e,o=this.inc.y*t;n.x=i*this._cosRotationAngle-o*this._sinRotationAngle,n.y=i*this._sinRotationAngle+o*this._cosRotationAngle}else n.x=this.inc.x*e,n.y=this.inc.y*t;return n.z=this.inc.z*r,n.add(this.origin),n},t.prototype.getRelativeNodePosition=function(e,t,r,n){return n||(n=Kt.newZero),n.x=this.inc.x*e,n.y=this.inc.y*t,n.z=this.inc.z*r,n},t.prototype.getRealCell=function(e){var t=e.clone();return t.addIndex2(this.startCell),t},t.prototype.getCellCenter=function(e,t,r,n){return this.getNodePosition(e+.5,t+.5,r+.5,n)},t.prototype.getRelativeCellCenter=function(e,t,r,n){return this.getRelativeNodePosition(e+.5,t+.5,r+.5,n)},t.prototype.getCellFromPosition=function(e,t){t||(t=sa.newZero);var r,n,i=e.x-this.origin.x,o=e.y-this.origin.y,a=e.z-this.origin.z;if(this._hasRotationAngle){var s=i*this._cosRotationAngle+o*this._sinRotationAngle,c=-i*this._sinRotationAngle+o*this._cosRotationAngle;r=s/this.inc.x,n=c/this.inc.y}else r=i/this.inc.x,n=o/this.inc.y;var l=a/this.inc.z;return t.i=Math.floor(r),t.j=Math.floor(n),t.k=Math.floor(l),t},t.prototype.getAxis=function(e){var t=Kt.getAxis(e);if(e<2&&this._hasRotationAngle){var r=t.x,n=t.y;t.x=r*this._cosRotationAngle-n*this._sinRotationAngle,t.y=r*this._sinRotationAngle+n*this._cosRotationAngle}return t},t.prototype.getCornerRange=function(){var e=Kt.newZero,t=new $t;return t.add(this.origin),this.getNodePosition(0,this.nodeSize.j-1,0,e),t.add(e),this.getNodePosition(this.nodeSize.i-1,0,0,e),t.add(e),this.getNodePosition(this.nodeSize.i-1,this.nodeSize.j-1,this.nodeSize.k-1,e),t.add(e),t},t}(ca),da=function(){function e(e){this.values=new Array(e)}return Object.defineProperty(e.prototype,"length",{get:function(){return this.values.length},enumerable:!1,configurable:!0}),e.prototype.getAt=function(e){return this.values[e]},e.prototype.setAt=function(e,t){this.values[e]=t},e.prototype.generateSynthetic=function(e,t){e=Math.sin(e*Math.PI/3)+qt.getGaussian(0,.5),t=Math.sin(t*Math.PI/2)+qt.getGaussian(0,.5);for(var r=this.length-1;r>=0;r--){var n=r/(this.length-1),i=(e+t)*Math.sin(2*Math.PI*n*20)+qt.getGaussian(0,.5);this.values[r]=i}},e}(),pa=function(e){function t(t,r,n,i){void 0===i&&(i=void 0);var o=e.call(this,t,r,n,i)||this;return o._usedTraces=[],o._maxTracesInMemory=1e3,o.client=null,o.fileId="",o._traces=new Array(o.numberOfTraces),o}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"numberOfTraces",{get:function(){return(this.nodeSize.i-1)*(this.nodeSize.j-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueRange",{get:function(){return this._valueRange},set:function(e){this._valueRange=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statistics",{get:function(){return this._statistics},enumerable:!1,configurable:!0}),t.prototype.getTrace=function(e,t){var r=this.getCellIndex2(e,t),n=this._traces[r];return n||((n=this.readTrace(e,t))?(this.garbageCollectAt(e,t),this._traces[r]=n,n):null)},t.prototype.getRegularGrid=function(){var e=new ua(this.nodeSize,this.origin,this.inc,this.rotationAngle);return e.startCell.copy(this.startCell),e},t.prototype.getRealValue=function(e){return e},t.prototype.readTrace=function(e,t){var r=new da(this.cellSize.k);return r.generateSynthetic(e/(this.cellSize.i-1),t/(this.cellSize.j-1)),r},t.prototype.garbageCollectAt=function(e,t){this._usedTraces.push(new la(e,t)),this.garbageCollect()},t.prototype.garbageCollect=function(){if(this._usedTraces.length>this._maxTracesInMemory){for(var e=this._maxTracesInMemory/2,t=this._usedTraces.length-e,r=0;r<t;r++){var n=this._usedTraces[r],i=this.getCellIndex2(n.i,n.j);this._traces[i]=null}this._traces.splice(0,t)}},t.prototype.loadTraces=function(e,t,r){if(!this.client||!this.fileId)return null;var n={min:e.i,max:t.i},i={min:e.j,max:t.j};return n.min+=this.startCell.i,n.max+=this.startCell.i,i.min+=this.startCell.j,i.max+=this.startCell.j,this.client.volume.get(this,{iline:n,xline:i},r)},t.prototype.loadTrace=function(e){if(!this.client||!this.fileId)return null;var t=e.i+this.startCell.i,r=e.j+this.startCell.j;return this.client.volume.getTrace(this,t,r)},t.prototype.calculateStatistics=function(){var e=this,t=Math.round(this.cellSize.i/2),r=Math.round(this.cellSize.j/2),i=this.cellSize.i-1,o=this.cellSize.j-1,a=new la(t,0),s=new la(t,o),c=this.loadTraces(a,s);a=new la(0,r),s=new la(i,r);var l=this.loadTraces(a,s);Promise.all([c,l]).then((function(t){var r,i,o,a,s,c,l=new Uo;try{for(var u=Object(n.h)(t),d=u.next();!d.done;d=u.next()){var p=d.value;if(p)try{for(var h=(o=void 0,Object(n.h)(p)),f=h.next();!f.done;f=h.next()){var g=f.value;try{for(var m=(s=void 0,Object(n.h)(g.traceList)),y=m.next();!y.done;y=m.next()){var v=y.value;0!==v&&(v=e.getRealValue(v),l.add(v))}}catch(e){s={error:e}}finally{try{y&&!y.done&&(c=m.return)&&c.call(m)}finally{if(s)throw s.error}}}}catch(e){o={error:e}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}e._statistics=l,e.valueRange=l.getMostOfRange(4)}))},t.loadCube=function(e,r){return Object(n.b)(this,void 0,void 0,(function(){var i,o,a,s,c,l,u,d,p,h,f,g,m,y,v,b,x,S,A,w,_,T,E,B,R,M,C,O,I,F,N;return Object(n.d)(this,(function(L){switch(L.label){case 0:return[4,e.file.getLineRange({fileId:r})];case 1:if(!(i=L.sent()))throw Error("lineRange in undefined");if(!i.inline)throw Error("lineRange.inline in undefined");if(!i.xline)throw Error("lineRange.inline in undefined");if(o=la.newZero,a=la.newZero,s=i.inline,l=s.min,u=s.max,void 0===l||void 0===u)throw Error("lineRange.inline.max/max is undefined");if(o.i=l.value,a.i=u.value,c=i.xline,l=c.min,u=c.max,void 0===l||void 0===u)throw Error("lineRange.xline.max/max is undefined");if(o.j=l.value,a.j=u.value,d=[e.volume.getTrace({fileId:r},o.i,o.j),e.volume.getTrace({fileId:r},a.i,o.j),e.volume.getTrace({fileId:r},a.i,a.j),e.volume.getTrace({fileId:r},o.i,a.j)],p=a.i-o.i+1,h=a.j-o.j+1,p<=0)throw Error("numCellsI is 0");if(h<=0)throw Error("numCellsJ is 0");return f=[],g=[],[4,Promise.allSettled(d)];case 2:m=L.sent(),y=0;try{for(v=Object(n.h)(m),b=v.next();!b.done;b=v.next())if("fulfilled"===(x=b.value).status){if(S=x.value,y=Math.max(S.traceList.length,y),!S.coordinate)throw Error("trace.coordinate is undefined");if(!S.iline)throw Error("trace.iline is undefined");if(!S.xline)throw Error("trace.xline is undefined");A=S.coordinate,w=A.x,_=A.y,T=new Kt(w,_),f.push(T),(E=new la(S.iline.value,S.xline.value)).substract(o),g.push(E)}}catch(e){F={error:e}}finally{try{b&&!b.done&&(N=v.return)&&N.call(v)}finally{if(F)throw F.error}}return R=new sa(p+1,h+1,y+1),(M=$t.newTest).expandByFraction(.3),C=M.min,O=new Kt(5,5,4),I=Yt.toRad(5),(B=new t(R,C,O,I)).startCell=o,B.client=e,B.fileId=r,B.calculateStatistics(),[2,B]}}))}))},t}(ua),ha=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=-1);var n=e.call(this)||this;return n._perpendicularAxis=t,n._perpendicularIndex=r,n}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"surveyNode",{get:function(){return this.getAncestorByType(ma)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surveyCube",{get:function(){var e=this.surveyNode;return e?e.surveyCube:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isArbitrary",{get:function(){return this.perpendicularAxis<0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHorizontal",{get:function(){return 2===this.perpendicularAxis},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"perpendicularAxis",{get:function(){return this._perpendicularAxis},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"perpendicularIndex",{get:function(){if(this.isArbitrary)throw Error(this.generalName);var e=this.maxPerpendicularIndex;return e>0&&(this._perpendicularIndex<0?this._perpendicularIndex=e/2:this._perpendicularIndex>e&&(this._perpendicularIndex=e)),this._perpendicularIndex},set:function(e){if(this.isArbitrary)throw Error(this.generalName);this._perpendicularIndex=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realPerpendicularIndex",{get:function(){var e=this.surveyCube;if(!e)return 0;if(0===this.perpendicularAxis)return this.perpendicularIndex+e.startCell.i;if(1===this.perpendicularAxis)return this.perpendicularIndex+e.startCell.j;throw new Error("getMinIndex is not implemented for this case")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxPerpendicularIndex",{get:function(){var e=this.surveyCube;if(!e)return-1;if(this.isArbitrary)throw Error(this.generalName);return e.cellSize.getAt(this.perpendicularAxis)-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shortName",{get:function(){switch(this.perpendicularAxis){case 0:return"I";case 1:return"X";case 2:return"T";default:return"A"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"generalName",{get:function(){switch(this.perpendicularAxis){case 0:return"Inline";case 1:return"Crossline";case 2:return"Time Slice";default:return"Arbitrary"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unrotatedNormal",{get:function(){switch(this.perpendicularAxis){case 0:case 1:case 2:return Kt.getAxis(this.perpendicularAxis);default:return Kt.newEmpty}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"normal",{get:function(){if(2===this.perpendicularAxis)return Kt.newUp;var e=this.surveyCube;if(!e)throw Error("surveyCube not found");return e.getAxis(this.perpendicularAxis)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vectorInPlane",{get:function(){if(2===this.perpendicularAxis)return new Kt(1,0,0);var e=this.normal;return e.rotatePiHalf(),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Plane"},enumerable:!1,configurable:!0}),t.prototype.canChangeColor=function(){return!1},t.prototype.canChangeName=function(){return!1},t.prototype.getName=function(){return this.generalName},t.prototype.getNameExtension=function(){return this.perpendicularAxis<0||this.perpendicularAxis>=3?e.prototype.getNameExtension.call(this):this.surveyCube?""+this.realPerpendicularIndex:e.prototype.getNameExtension.call(this)},t.prototype.getIcon=function(){switch(this.perpendicularAxis){case 0:return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF00lEQVRYw8VXXWwUVRT+zr2z3e7W7nZpad1CWX5K+asgRB/4K8Vg1GRM1Ad/0ISGxPiiiQ8mvPimz/rgk/E3UV9KJECGEMVEMBKJCC1FV6GUAgK29I+W0u7Ozr3Hh5mdnVlWgmDwJjcz987knu985zvn3gv8P60FwLP32+hOAD8BmAXAhmHoe1rNNE0yTTNym1/aAXwhpbwGQAshdDI111758KabHU+8oOobGhgAjLsFYFkWm6bpBKaSALpisdjbuVxuDjOL6urqQiqVcpat3eos3viGNGrSEaEQuXL2B9DJI7gjAKZpGp5Bp2x+ztDQUHd9fX371NRUXaFQiAohdDzR4CzfsJFXPtbFUsYjpBCRkVpEapohRDWEBkTVA/46RpBSAHEAs5ZlBeOjAu+ZeDz+plKq68CBA0lmppq6ep63fK1eurZDpRa0Q8RSRqR2PhnxJpJUDaEIpAmCBYgBcNhBwzTNasuyct7YLv/FsqwXq2Oxt6RhrFKOU5XL5VV9YyOnM63O0sdfEZG2TZIUpNCAoAiIqiBEFIQoSEuAAWKAFEoAAhaMonHLshhAAcCadDr98djYWJtt2wkAEDIyk2lbE2nb+hzXZlYZAAFCQibTEKl5EA4glGdEu+/CMyi0O0faA4DSMxiCHQA6AXQSUWZkdAwNmTZqWbEWLavXg2rnxkQyzTI5l0Si0XOAXM+CXbsGfTCqNOcD0AApCgF4HsB7tYlEXVPLEixetxmpjpeJEo0ufUSAMAjSIJIeXipRSbpSp5JRD0hxDA2Q5hCAYQB9ndue6oyufwkiloRItYCi8Qo54fnuSdQ34C9cuUOHNVApBEAkisiiR0HRmoA59h0GB4yXe69cWoUOeysqhKDISBBArxf7Ml8Z2oMvvEVc9FQBgHDTTZFrNCDKEAgFSNvtQQCTroNlpZkASIBBrj3fcy6lEpM3ZDCzFwYqeRtkQgXYQ6UQVGpEALnGmdxheAGPDR3ICM0+CBGg368H+AcARALhz1RSAAEsCAQuKdhPP4Jgz2vNYV1oCokTFfY/o5LKfQhMfuEQDAhNEJr82KKocMcz6ABUYIiC9ooTAQogLVyQfCsA4T0vTE6M3RoBLqVXkM5gbA2HYCiC1ASpCFILSCVhFCSkIyC1gChLvYoACgX7Fg0WS2kojXw23C5VqfoJ7W08KtA1+UxqncfszCBu3hiAVk6ZBnwsCMU4mG4IqDmY37dTebCNj/2GH7/fhYGBHiSTiTAAdutumAXPa39zCT2pVO+LxcVRgFKAEgBL2PkR5HN/8sULh6mvdw+Gh86huXne9Jo1q19Pp9MjlmUFGGA44IAoOZzLodhzqeIFw6PtSajcdeRz07CnR3Huj4N84ng3tHZyjU3zPt/cse1ELCZGwHo/gGg5AzYIspiLVFbrg9STIh8cNKCdWcDJw565hPGrvfj15936fP9xStY1DLUtW9fd2rrK2t39wXcXL5wJnqg0Aon//tKVD736yDvfxKgqLnzqgyXVcQ1Kh9x5pxTz2ZEeXDq9F9meg7g2dAFNTfPPLFyU2VuXiO+zLOun29U6wzTNmGVZk+xK7NYtVgHkaEAxSAtAA+w40LkcZiYGcf7UPpw4/JF27NzNTGbBsc4tHeej0eiHlmX13MnhNhBz1l7Rg+DSFgrNrrBsG7qQh87PYHp4kE8f/oz7ew9SbSJ5ecWK9p75LQu79u35aqK/v/9fna5LGnBF6CZR8dCgtadqBzo/hcsn9+rskS9x7coAmhe2D3Y+uf3oof2f7BgfHcKJ40fv6nhvFDOXmfMgYj//Czac61dhT/yFy31H+NS3n2pVyBUWL2wZXLll87FDhw7tvHj2l3u+LhleRR+cnBiP8Mwka5mDthk3Bnu5r/vd2UtnT0VTqdTskkz6676+vq5sNotsNvuf39u2JJN1o8+8tmt449Pbpx5c0Jo3IlWqrqHJApC5HxfHLQCyAAa9vsO7at23tgHA7x6Q+9r+BkoLB9zsV3c1AAAAAElFTkSuQmCC";case 1:case 2:default:return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGpUlEQVRYw8WXa4xVVxXHf2ufc+6dGZgHnWFmigN0CowJQYS0JPIIUEhjkKttNZSqVVM1xhiNJmpMTD/2oybG5xdjILTBRksk3jZQOtIIFaUEOg0z1ctzmOkMzDBzewdm7vPs5Yd9zp3Lo9BUxZWcnHP23mfvtf7//1p7Hw9nTwDTwBT/D/N93wIK5IFjwFfvqQNtrW26c/vGcMOa5dPzW5tLxhgLWM/zxoA9wIr3+zaVSgWpVEo+dPAOAdj+cLPZuGp5A2XL6HsV+4v0+fDwm/+am81mdxYKhadFxNbV1U3m8/nngF1ALpqjkk6n9cM6IACdHW366++tZ+vqLqhYCiXLyGSZa9MhhMpMIdRdvQP2jYFL4btXsr611gRBUGxqanqvu7v7dGdn55PpdHryJmR8gHQ6XbkrAlUzgBGSCcPi1gBt9tGipVAI5YefWmE+/4mPSjZv9fRwNvxr3xn/3Mh4+4kTJ7aKyNVkMpnzPG/XzMzMz4BBILwNXQaoB2Zi1PwbsDCAL4gFzwpYhUAwobBgjietgUippKxpa+eZFW1QUY6Ol8Pnj5+xZ4dG54xNTHwb+K7v+aXe13r784X8T4C9NT4oUKpxqG6Wgu9vYOvDXa7HKhQshAolixYtlCxUrOsru3bKlkszltHpkFBBFfrHrtl9JzMMDF0uTF2faQBIJBJTra2tmdHR0a8DfbelQHyBQGaB8w1gwRcIY3hwToijChEWNRgW1QlqXdvSxhZZ95GHdDRv68eLyrEzQ5w6N9SUuTz+kIicUtVB4PXo2l11QD2BwLh1rLrFEbCCBAbEoqFEbYC6Pso3JkBr0khzIPJAE1QUtnUtgU1LGCuqvJDJ6pGB84vODY99eera1GeAfI0GxEUV66Hi9EBFHE5WwBO3sFH37EfvNTr3BPxAbk40kr7yxJIW2dK1SvYOFXlx35/fBq6Y6rhAIGHcpL44CkzU5kXv/uxdPUFNdPnRZQQFrAW1oKGioUOowRdW3+ezZn5A8rZpWO/BXB9mQgerpxHvtnoXIiowqFpsOUItHmpAy9F8ZQuhxQgYDOJJDdgCsBl4y7+lMsQD1Til24hz33GuAqpxZAqiqKpzAhCjbrxVJwJPqn2xWa025G50INaB6izsisMTQStRvxEkipgwolkcWBKnMRr7xwevhLFmRMCLJrLi1C+OdzxBPEESxiFhxS0aAh5IqAjqgjaAqHO2tt6J3KEUJw2EipYtVtyCGn0pVpEgSj8VRA0So1SyTjsxFdbOauOmUnhnBGIdqMHEAgsM5MOayQHPgGfRknVc+zXaiWmwWk3DWpvI5QAuVh2ohJZzg9M8OJhnQWeSZNK4yhh/HGq1LGMdQlTUUWWjuCxgbHVDI4gd4RYnSsVy1QEDoCr8+LkDfOMHB+n/5+T7K8ZE6CSME2hcPX2ZLUx+lDGRWN3zTdN4N2lg7dq120dHR+dPTE78cttTe+Yu7e7gs6mVbN6wWBcuSMr8loAwQtUT8DyBhItMrNsn1CqImUVkNuccYrEI1aVxlW2Anp6eocbGxpMdHe393YsX9I5fzY68+pfTK/6w/20/dw18r06mr1sKeYuIUB/DS6QRiaGOsiGe39Y4Edcnhf0XpirnLg5dqt2MbHRA2B+9//Y739rxUn//2dTLBwee3L33WOeaVQ/qjk+uMKuW3YeZnyDpQb1XUxcCQa3MipFoF61EaR1HrahaLd2AQCaTueX0cvzNgfMXBi8f2LR5y9/u72ibGB4Zb3/pwMm2IydHuHrd0NY8h/vnBY6TKK9FmV3IUm2voqRQtuhvjp0tj01MvgIc9O52aMxkMsMXLl56bf2GjW90dS0km5vO9h7ta//jqwPB9bKReY1zaKj3MaoY69a3EeQiNXSoo6ICuuetd4tjE5Ovp1Kpf/gf9PSaTqdPAd8E+OLOx+ZdHBze9fwr/at/9fu/d21bt0yf2fYx6W6dKw3G1bJE5IDEBxpPXOpajZP2DoXoLvbCi/uzwGMAX3vq0d19pzPrdzy7r3vJwnZ9+pHlPL6myzQH7pTkKRgjSAyFQUErN2jgP7FTp8//aWQs9/NHtmx9YGqmVP/ykb6mPYffkZL1JZGsF4vQkDD4CISWsKx2d99wbnwye7Knp+eoz3/JDh06VP2d6166ctfvDp/53E/3Ha//+LJFxWc/vbJ+VWejSNFSDFUnc7kAuFCTqP8zW9zR2pJOJPxw6cLO4hceXT/1oy89fqWlpfkqsOle/n42A1+Jor4ADNxrB2ptE/AOsA7g3ztX94yYnMEhAAAAAElFTkSuQmCC"}},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t),this.isArbitrary?t.addReadOnlyStrings("Along",this.generalName):t.addReadOnlyStrings("Along/Index",this.generalName,this.realPerpendicularIndex.toString())},t.prototype.moveTo=function(e){if(this.isArbitrary)throw Error(this.generalName);return e<0?e=0:e>this.maxPerpendicularIndex&&(e=this.maxPerpendicularIndex),this.perpendicularIndex!==e&&(this._perpendicularIndex=e,!0)},t.prototype.createCells=function(e){void 0===e&&(e=!0);var t=this.surveyCube;if(!t)throw Error("surveyCube is not set");var r=[],n=e?this.perpendicularIndex:0;if(0===this.perpendicularAxis)for(var i=0;i<t.cellSize.j;i++)r.push(new la(n,i));else if(1===this.perpendicularAxis)for(var o=0;o<t.cellSize.i;o++)r.push(new la(o,n));return r},t.prototype.getMinCell=function(){if(0===this.perpendicularAxis)return new sa(this.perpendicularIndex,0,0);if(1===this.perpendicularAxis)return new sa(0,this.perpendicularIndex,0);throw new Error("getMinCell is not implemented for this case")},t.prototype.getMaxCell=function(){var e=this.surveyCube;if(!e)throw Error("surveyCube is not set");if(0===this.perpendicularAxis)return new sa(this.perpendicularIndex,e.cellSize.j-1,e.cellSize.k-1);if(1===this.perpendicularAxis)return new sa(e.cellSize.i-1,this.perpendicularIndex,e.cellSize.k-1);throw new Error("getMinCell is not implemented for this case")},t.className="SeismicPlaneNode",t}(_r),fa=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Planes"},enumerable:!1,configurable:!0}),t.prototype.canChangeName=function(){return!1},t.prototype.canChangeColor=function(){return!1},t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAHFElEQVRYw+2XW2xcVxWGv7X3OZ6xHXvs2HGcxBcSJ23jBicpRIodEtMGixZclIKgogQRBSToAxIvVQTKQx8qJB4aIQEqElIoqBVSaUMfXEqJenFD1app0sZKnattWsfk5kt8i+d45uzFwzkznrEThLg9saStOVuzz/r/tf611taByB4CGvnfWWOMGZnneQ5QYA54G9j/XwDdH/ueAzTGRABqa2p19/ZWN3JtNH1ucMQfm5j2nHNYa0fDMHwF+AlwutBbd3e3AF68zfb09OgiwE3AAWvt58MwrDXGUJGqya5pvjNTu3JN8sMTr5qx0VHxogzAFz+dMru2tJaRcVy+kXU/6xkMXz9+btnExMTD6XR6r4i4ZDI5Pjc39wTwNDC1CDgF7CstLT2YTqeXq6pJJpOZ6urq7J1b782u2/F965Wv8k2IP3L+TeRkb5T9HN1lSUN1qQVfKPXEPPaldeZ7u5t9l1VupkP97Wv9+lb/x5UjQXDIOffTgYEB5/t+tqamZmJqaqoqk8kkjDGuPLUie1dHh7bet0+tLfMlxLd+BX75aoxJYhyYkmUL8hfmLAiVEhESJYbmGh9NebjAkU6H8tgXNpndGxvkxeODvHrqop45c8aISElJIlGXqq3Xje0PhKtaOzCl1Z5fsUa8snqxksSEgoQgYRZRBZUinbzu7u7ke8ffAQHPj8pCHFgn4JTn3x3kl6+c5fRHY5IOAvGsh1gLQNsdLVyfmpVro1fk2B9+RclLz1DbtJENn/sOLdsfRpwFBVFFwsgvCrhwgUBPT0+6fmUtGMF6htMDozz+6z5O9n/E2I1ZAGqWV7Pmrq1s+OyXWdZ8N2/84odcv9jH3i0N3L1mBarw4fUZjpy8wLkrf6X3qUfpfepRyitraNpwD5+8/3FW1G9C4moRbLEEc3MBP//9SX5w6DUuXZvGej41TXewbedWGtvaMRUrMKl6bKoOqaxDSisBaK20tC/3wAjrK6poX30PV+Yc1wPH2xeGeX9gmPOn3+Ds+zupqGpgzfrP0NCyi2WplUUEvjY9M8N75w31jS10de2katc3kMq6KH0iYDywHmK92zZ5TUJI+Za1lZaswgMNLdDZwrVAefb8DY6dGWLw7B8ZOv0ybR3fLiJw1fM8OnffT6L965jSFKa6EUmU3QJGyQ8PACPRAqyA5xcWWPSc8JSHWlLc19DG74YD3jo1QWkydYsu8BP4a7chifICuAJAjZ9dngdqBfUEHOAUdYvOWqHME7Yu95jNKkeGg6gO3AJNA3wwP5+JUl0Uq+LE4SSLahZxIRKGSOjyAA5wRnCeEEq0slklO+9wGYeGxcNRRBge/As1FWuLMjAZkXbF2RbAgiIooLnIVYsE0Vy0RvOZIKuRJouGs4vP+n7ZrQfREhMBicBVom2hUwHERKkQYnA07v1/7obyFrBMYXlBHDnEJIwgKOI0f04sGBGwIGGUK80JKxqRKyBrFsl8iwws0iwem6JgFIwTjJN8dKbMw5RZyGj+VXEuejb/yPMiAtZaJifGKF+sgEaSiyO6RFzcBYVt6MVRqckJHUuxNNqxyUlSVU1LCRhjyGTml9RgTsscsOjCyje/MTG7mJCfI8ISEvNBhoqKOmanB3BhNt+GMeDSnIkrXoQgYcEZK/EEkigUTxaGkydLZDBWGB87z59e+hESR2EAwjCcidpLigiYEGwWbKZ45S+VhIFSC0kLJRYSNton7EImCjKqQBgGunlz27729vY9eQLOuayiN/OFn2sxF0Vc9FswCTGC+AURFy6T69uFyaZObwZBMHnixInfAC8XSjBz/eplzbkuTLtxi/cFA8Yz4BvEN8XAhXubJ6GXr15XYAagp6dnHsB0d3dXAxdVtQwREQUbgslESzKKBBmYm0VnxslODiOaAeDJ507x5plxhiezjM8rs0DGCuoLJAyUGPAtiCAgqloGXIwx812QBnpV2YRSDVgc0cBxDsIQwiwumOLSyRddf+8zXBsZYGf7p+amb065rx48Ut7SWMfee1vZs63BpHxBHVgFEw+vuNoc6ATQG2PmCWh0F2iAiObHaGae7I2/MT9xmUt9vXrqz4ddmEln1n2icai1c+c7R48e3Q/Q1dV1eGRkZPuPnz229tDz1t/ftdl0bmyQVRUlrC6zJCTqBnGoqgaL55IXd+zQ5MS4rzcn1dk0bl6ZHvpA+557Yu7j86cS1dXVcy3Nq17o6+vb19/fT39/f762ckQA1q5ve/rw6xe+8uSRd0s3b2gKDj7YVrqlvkIkcASh6vjkpA8MFV/IkXWmUlWje7574OqOBx+Zqm9aH3h+SVhVu7IHaP4XvoKaV9ZU9ZSUeOH6xvrgka4dUwe+uedqVVVqFOi81QudQH/Mbgj4Vvyh8e9aKvaV89t/OwIdwJnb/fkfss4Yo4P/W4H9HXIY/VdD8O6uAAAAAElFTkSuQmCC"},t.prototype.initializeCore=function(){e.prototype.initializeCore.call(this),this.hasChildByType(ha)||(this.addChild(new ha(0,0)),this.addChild(new ha(0)),this.addChild(new ha(0,Number.MAX_VALUE)),this.addChild(new ha(1,0)),this.addChild(new ha(1)),this.addChild(new ha(1,Number.MAX_VALUE)))},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t),t.addReadOnlyInteger("# Planes",this.childCount)},t.className="SeismicPlaneFolder",t}(yr),ga=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"surveyNode",{get:function(){return this.getAncestorByType(ma)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surveyCube",{get:function(){var e=this.surveyNode;return e?e.surveyCube:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Outline"},enumerable:!1,configurable:!0}),t.prototype.canChangeName=function(){return!1},t.prototype.canChangeColor=function(){return!1},t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADz0lEQVR42q1Xa2iOYRjeN0z7gTXJD4dZUcipKCTm+MN82SbnNptDzNAO0lI0CvFDM7asrOa8bNTGF0lkU5OQORSlzHKIlFnJaTTXpevV4+3d977v53vr6nm/57nv573u576f63m+QEwETzAYHIVmJ5ABZIZCoQsxET4BHx8dgmYKsAGYAfQyhj8DN4AaoAmE3kaNAD48Fs0SYBOQqO424AMwCTgNzAf628hUAS0g88o3AXw0GU06sA4Yre5vwCVgLyZ9CJtqvOfgPSCf8Wi2yM8i8wW4BZwFGmHb1i0BTDAUzTRgFTAbiNPQXaACzidsJP8hYBsjmatALDBA3T+AZuAYSVkrE5DxQS1nPxm/ByqBaifWbgQcyOQAK4CBBplnwHUSqFWOrecll5HL7DKxJwKyZWC7gAKgS6mJ5woFrIkApuAkMFOFtAOTl/0vAdiloGH6klRH2fCpRX87f5NALl6O8sMYaMTvNfodpzwuQ3+HXwIOUXOu5ZxLY5+AiwExvGkRMJzpMFmG6daYxyLknGeAQfJfALtm2zi/uceRgGFYhGa/ROc4xleHIyDi+4A8RX0G41kOBEu1MhOsXdDCqofxRgdj5u4aMAJ4B8yD3RMHHWAg51TprylOtOsmPbelqsMt5y57hA5OFUZkVLnBUsAEbeO1wC9pRr5LYX5lMLBL9kzAiJJq2Mfo7lSKnmt12lzmSNJW//M9k0AdOpa67OVCoERdXQLV7idlGP6VHjQhmx8HNsO+wiLAbfaRSxLGqUxKSRXbBtvDhoZ8B3or95n2YrbNVaV0jYPdY4tAK1s7ARXoEWC6U1UbBBKMPR+jAyjLKR3wecSCxlj838PITkDLfUiT83kApNmPVoedwPyeEuFOFWShzYeBtKM/0SRwD81EToR3RlKkQqOIrEd/nR85VrHWa2U4Rx5saowtX4/fGSYBGqcBb6ReLKpyO/sI5LhUW5ey/pTSCxQDi61rnEWAN5hZyvN9YK6T/kdyICmdNdIMa/dMhc8dkwBzd57SCPSk/MJgezQIGCTKuUNIAPaxjlcy5SgklXsBLAp3L/C4Aina98N0HFMvqtzuhDyOc7W/S+BwwC8B23HMmmp1UspwzHk/vAz01b1wid3ZZReYUTOlu31fyxUFb0kLdY1aiYkawuiAGXWn7pbBcGn09McEE6eiaVCBhiS3HSYBW9SetrHff0aMrokarjtjUEqZI9UsUM1wbI7bpdY3AYNIvs7/HiqsZOOPC69hW71oSMQERGIMmitSTT68YKSGOwWjSsAgUqylH+kn6qgRiMbzG95+/2bJW35BAAAAAElFTkSuQmCC"},t.className="SeismicOutlineNode",t}(_r),ma=function(e){function t(){var t=e.call(this)||this;return t.surveyCube=null,t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Survey"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFsklEQVRYw82Xe2wURRzHP7O3d1dOyhWBCmghlVogEAyNEhIlIKiInsRgfJsIwWg0wQdGTVCIRk0MEaJ/aNBoAMVoVQzKIL6q1ioKKS9bAU9owSKvPuTovfZud8c/bvfYu7YIgomT/DJ7mZ37fub3mJ0R/IsWiURuAJYDo5z+NSnl/n/zX+IMRCcBtwLzgIFFcxVwFKgFVkspt58zgEgkMgd4GLgS0ACCYgi6FmZY4HqOmzs5bm7DVN3FMG8AG6SUW84YIBKJTAEWArOAYO5FP+F+kxg64FZCgcoec5KZVtrj6zme2oxlF8B0AmuBt6WUm/oEiEQik4E7gduBwe5YSUkVAwfdQFnZjNOOazrdyh/7l2BZMdv1mgMTA9YAS6WUbQAiEoncArwL6K6o5g9TesF1lJZfjV5Sztm0TKKV+LE64h3fY2djXs80AXU6sAzwuyNav3LKahbhH1BJFshyli1cSXDIHZi/Q/LA+pzbtaBQtjEemKADBoCx5GX8766AfXvo+vERghPnExx949nKYx5rJvXzK6hkOwAXjlpAeOBkdjXedQJI68BmoEprP4Z1/1OozfVo61ZibH8LY/cH6LevQATOO2NhlUlgN76P3bweQIXKJojhVQvQfSGy2SRAGfCpDmwB7hIWCBNEzVQYfTmsXgp/7sNcdTfmbc9BxfjTV29rxrdhOSLeheYLMXzc4yJUWg0KlAIjfcB98xc9Xw42aFauF/4QYv4zqE0bUd/Uotc+TXbiVaTnPPQP6Z8g+NUaAls+B1D9y68QQ8c8mBd2W3dXo/v4kQ4cBtB2/Iy4aGwOwDHtslmIUZdj1r6If/u3+HfU0/nkcqzhI3to+/c2E175Elp3DF/wfIZd+oQInFeREy6yVHyvOy0unD1AcekUtNn3FQB4Lfv1KqymOgAVm3WTSNVMwrhkLCKZ4Pz3VtK/oQ7AKh1xrW/Q6HsQjlhv/b6GuSiV3S+lrDwZAuUJQQ8TlEydh33xZFKfLRPhjesIb1yHUVmFMAwCh9rQQxdQPmmRTw8Ozq1aFK3czulk0x0olQX4Ds8uBRkDYZE3zQLNEo6BMDL4h44lPPdN9BE1AARb96rAoTZCFdMYOn0ZvtBglEbORJFpObVUbJer2Iiz+wEodahFaC6Ayq26wAsikPfQgOkLETbEf3hdGC0NDJx4b27VmnJWLHrE3U3EVGyPC/C9F8ASoGsmCCU8ED1N8445mW1ZSTQ95BFTvUIIBUZ3C0BaStnkBci9YAk0G8hk0HyBQpBe8gMHQARDvWS74w278IObjbcBpNzfLoChujv0fBKKQG5TskGz6bMyhJNY6lSnCk9YMrH8BlSfH3b6EwCJVQuc5DtphUlZNOZ4IJ94TqKpXk2ROJw/DqwpBigBUMm/VPzjxZBK9glyEkjkQ6C007PuFul+ig8WA0SABIDV2Yqx81M00wPgfXZKU/Thgd7K0DKTdG17LR8VKeXmAgAp5SYpZX/gNsBM/Srp/ORRrI4DOXG7cE/oEQLRe90rDYzO3XR8u4jUwU0AaeC+0zkTNgPj0HRKx9zMgKrZ+bLzlmF70wriRxoYdPeafJm5W64ykiSa15L6/QsAE2gFrpFSHijI0d4ApJTjgQewTdW9q5b2+sXY8Q4008kB0zFOhsCbfJn23XR9ucgVTwPPSymri8X7BHAgVgAjgSOZWAuHvntYpY5sLQgBnjK0BVjZJPGt7xCrewE70ZF1km2ylPLZvnR8p/q8R6PRE9FodFl1dbUCpiWO/iSMWAv9yybiw0+isxEj+QclNXMwj+4m/vVSsoebXJe/KqWcGY1Gj56rm1EF8BvQT2hBKsY8TuxYPbGOBgLjZpL59Quc82UcmCGl3HlOr2YekI+AOYDwB4aQzbTnz0PO8f4xKWXsnN8NiyBuAj70hDAFXC+lrP/PLqd9gGwAaoAxZ7Lq/1X7G+0a8RJPGM3wAAAAAElFTkSuQmCC"},t.prototype.canChangeColor=function(){return!1},Object.defineProperty(t.prototype,"boundingBox",{get:function(){return this.surveyCube?this.surveyCube.boundingBox:new $t},enumerable:!1,configurable:!0}),t.prototype.initializeCore=function(){e.prototype.initializeCore.call(this),this.hasChildByType(ga)||this.addChild(new ga),this.hasChildByType(fa)||this.addChild(new fa)},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t);var r=this.surveyCube;r&&(t.addReadOnlyIndex3("# Cells",r.cellSize),t.addReadOnlyIndex2("Start cell",r.startCell),t.addReadOnlyVector3("Spacing",r.inc),t.addReadOnlyVector3("Origin",r.origin),t.addReadOnlyAngle("Rotation",r.rotationAngle),t.addReadOnlyRange3(r.boundingBox))},t.className="SurveyNode",t}(_r),ya=function(e){function t(t){var r=e.call(this,t)||this;return r.opacity=new Cr({name:"Opacity",value:.5,use:!1}),r}return Object(n.c)(t,e),t.prototype.clone=function(){return er.cloneDeep(this)},t.prototype.populateCore=function(e){e.addChild(this.opacity)},t}(Ti),va=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"seismicCube",{get:function(){return this.anyData},set:function(e){this.anyData=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderStyle",{get:function(){return this.getRenderStyle()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surveyNode",{get:function(){return this.getAncestorByType(ma)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Seismic Cube"},enumerable:!1,configurable:!0}),t.prototype.hasColorMap=function(){return!0},t.prototype.getIcon=function(){return this.dataIsLost?e.prototype.getIcon.call(this):aa},t.prototype.isRadio=function(e){return!0},t.prototype.canChangeColor=function(){return!1},Object.defineProperty(t.prototype,"boundingBox",{get:function(){return this.seismicCube?this.seismicCube.boundingBox:new $t},enumerable:!1,configurable:!0}),t.prototype.createRenderStyle=function(e){return new ya(e)},t.prototype.populateStatisticsCore=function(t){e.prototype.populateStatisticsCore.call(this,t);var r=this.seismicCube;r&&(t.addReadOnlyString("FileId",r.fileId),t.addReadOnlyIndex3("# Cells",r.cellSize),t.addReadOnlyIndex2("Start cell",r.startCell),t.addReadOnlyVector3("Spacing",r.inc),t.addReadOnlyVector3("Origin",r.origin),t.addReadOnlyAngle("Rotation",r.rotationAngle),t.addReadOnlyRange3(r.boundingBox),t.addReadOnlyRange1("Values (approx)",r.valueRange),t.addReadOnlyStatistics("Statistics (approx)",r.statistics))},t.prototype.load=function(e,t){var r=this;pa.loadCube(e,t).then((function(e){var t,i;if(e&&(r.seismicCube=e,r.surveyNode&&(r.surveyNode.surveyCube=e.getRegularGrid()),r.surveyNode)){r.surveyNode.surveyCube=e.getRegularGrid();try{for(var o=Object(n.h)(r.surveyNode.getDescendantsByType(ha)),a=o.next();!a.done;a=o.next()){var s=a.value;s.perpendicularIndex,s.notifyNameChanged()}}catch(e){t={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}}})).catch((function(e){r.seismicCube=null,alert("Can not load seismic cube.\nError message: "+e)}))},t.className="SeismicCubeNode",t}(ao),ba=function(e){function t(t,r,n){var i=e.call(this,n.length*t.cellSize.k,!0)||this;return i.makeBuffers(t,r,n),i.makeTriangleIndexes(t,n),i}return Object(n.c)(t,e),t.prototype.makeBuffers=function(e,t,r){var i,o,a=Kt.newZero,s=0;try{for(var c=Object(n.h)(r),l=c.next();!l.done;l=c.next())for(var u=l.value,d=0;d<e.cellSize.k;d++,s++)e.getRelativeCellCenter(u.i,u.j,d,a),this.setAt(s,a,t)}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}},t.prototype.makeTriangleIndexes=function(e,t){for(var r=0;r<t.length-1;r++)for(var n=0;n<e.cellSize.k-1;n++){var i=r*e.cellSize.k+n,o=i+1,a=i+e.cellSize.k,s=a+1;this.addTriangle(i,o,s),this.addTriangle(i,s,a)}},t}(vo),xa=function(e){function t(){var t=e.call(this)||this;return t._index=-1,t._axis=-1,t._uniqueId=Ut.empty,t._timeStamp=0,t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"node",{get:function(){return e.prototype.getNode.call(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return e.prototype.getStyle.call(this)},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(e){if(e.isChanged(Ht.geometry))if(this.touchBoundingBox(),e.isNameChanged(Ht.geometry,"InDragging")){var t=this.node,r=this.seismicCubeNode,n=r?r.seismicCube:null,i=this.object3D;if(!i)return;this._index=t.perpendicularIndex,this._axis=t.perpendicularAxis,this.updateTextureCoords(i,t,t.surveyCube,n,null,!0)}else this.invalidateTarget();if(e.isChanged(Ht.nodeColorMap)){var o=this.object3D;if(!o)return;this.updateTextureMap(o,this.seismicCubeNode),this.invalidateTarget()}e.isChanged(Ht.filter)&&this.invalidateTarget()},t.prototype.calculateBoundingBoxCore=function(){var e=this.node,t=e.surveyCube;if(t){var r=new $t,n=Kt.newZero,i=e.getMinCell();t.getCellCenter(i.i,i.j,i.k,n),r.add(n);var o=e.getMaxCell();return t.getCellCenter(o.i,o.j,o.k,n),r.add(n),r.expandByMargin(t.inc.maxCoord),r}},t.prototype.beforeRender=function(){e.prototype.beforeRender.call(this);var t=this.object3D;if(t){var r=this.node,n=this.seismicCubeNode,i=n?n.seismicCube:null,o=n?n.uniqueId:Ut.empty;o.equals(this._uniqueId)?r.perpendicularIndex===this._index&&r.perpendicularAxis===this._axis||(this._index=r.perpendicularIndex,this._axis=r.perpendicularAxis,this.updateTextureCoords(t,r,r.surveyCube,i,null)):(this._uniqueId=o,this._index=r.perpendicularIndex,this._axis=r.perpendicularAxis,this.updateTextureCoords(t,r,r.surveyCube,i,n))}},t.prototype.onShowInfo=function(e,t){var r=this.node;e.addPickedNode(r);var n=this.transformer.toWorld(t.point);e.addValue("Position",n.getString(2));var i=r.surveyNode;if(i){var o=i.surveyCube;if(o){var a=o.getCellFromPosition(n);if(o.isCellInside(a.i,a.j,a.k)){e.addValue("Cell",o.getRealCell(a).toString());var s=this.seismicCubeNode;if(s){e.addValue("Seismic cube",s.displayName);var c=s.seismicCube;if(c){var l=c.getTrace(a.i,a.j);if(l){var u=l.getAt(a.k);e.addNumber("Amplitude",u,4)}}}}}}},t.prototype.createObject3DCore=function(){var e=this.node,t=new wi.Group;if(!e.surveyNode)return t;var r=this.seismicCubeNode,n=r?r.getRenderStyle(this.targetId):null,i=e.surveyCube;if(!i)return t;var o=this.createSolid(e,i,n);return o&&t.add(o),t},t.prototype.touch=function(){this._index=-1,this._axis=-1,this._uniqueId=Ut.empty,e.prototype.touch.call(this)},Object.defineProperty(t.prototype,"seismicCubeNode",{get:function(){var e,t,r=this.node.surveyNode;if(!r)return null;try{for(var i=Object(n.h)(r.getDescendantsByType(va)),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.getViewByTarget(this.renderTarget))return a}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return null},enumerable:!1,configurable:!0}),t.prototype.createSolid=function(e,t,r){var n=e.createCells(!1);if(n.length<2)return null;var i=e.unrotatedNormal;0===e.perpendicularAxis&&i.negate();var o=new ba(t,i,n).getBufferGeometry(),a=new wi.MeshStandardMaterial({color:Ri.toThreeColor(k.white),side:wi.DoubleSide});r&&r.opacity.use&&(a.opacity=r.opacity.value,a.transparent=!0);var s=new wi.Mesh(o,a);s.name="Solid";var c=this.transformer;return s.scale.copy(c.scale),s.setRotationFromAxisAngle(new wi.Vector3(0,0,1),t.rotationAngle),this._index=-1,this._axis=-1,s},t.prototype.move=function(e,t,r){if(t){var n=Kt.newZero;t.getNodePosition(r.i,r.j,0,n);var i=this.transformer;e.position.copy(i.to3D(n)),this.invalidateTarget(),this.touchBoundingBox()}},t.prototype.updateTextureCoords=function(e,t,r,i,o,a){if(void 0===a&&(a=!1),this.hasTarget&&r){var s=e.getObjectByName("Solid");if(s){var c=s.geometry;if(c){var l=t.createCells();if(!(l.length<2)){var u=l[0],d=c.getAttribute("uv");if(d){var p=d.array;if(p)if(i){if(i.client){this.move(s,r,u),a&&this._timeStamp++;var h=this._timeStamp;if(!(a&&h<this._timeStamp)){var f=0,g=a?100:1e5,m=i.valueRange;m&&Object(n.b)(this,void 0,void 0,(function(){var t,r,s,c,y,v,b,x,S,A,w,_,T,E,B,R,M,C=this;return Object(n.d)(this,(function(O){switch(O.label){case 0:return[4,Object(n.b)(C,void 0,void 0,(function(){return Object(n.d)(this,(function(e){return[2]}))}))];case 1:O.sent(),O.label=2;case 2:return a&&h<this._timeStamp||f>l.length-1?[3,5]:(u=l[f],t=Math.min(f+g,l.length-1),r=l[t],[4,i.loadTraces(u,r)]);case 3:if(!(s=O.sent()))return[3,4];c=f;try{for(E=void 0,y=Object(n.h)(s),v=y.next();!(v.done||(b=v.value,c++,a&&h<this._timeStamp));v=y.next())if(x=2*i.cellSize.k*c,b&&b.traceList&&0!==b.traceList.length)try{for(R=void 0,A=Object(n.h)(b.traceList),w=A.next();!w.done;w=A.next())_=w.value,_=i.getRealValue(_),T=m.getTruncatedFraction(_),p[x--]=T,p[x--]=0}catch(e){R={error:e}}finally{try{w&&!w.done&&(M=A.return)&&M.call(A)}finally{if(R)throw R.error}}else for(S=0;S<i.cellSize.k;S++)p[x--]=.5,p[x--]=0}catch(e){E={error:e}}finally{try{v&&!v.done&&(B=y.return)&&B.call(y)}finally{if(E)throw E.error}}f+=g,O.label=4;case 4:return[3,2];case 5:return d.needsUpdate=!0,o&&this.updateTextureMap(e,o),this.renderTarget.renderFast(),[2]}}))}))}}}else{this.move(s,r,u);for(var y=p.length-1;y>=0;y--)p[y]=0}else this.move(s,r,u)}else this.move(s,r,u)}}}}},t.prototype.updateTextureMap=function(e,t){var r=e.getObjectByName("Solid");if(r){var n=r.material;if(n){if(!t)return n.color=Ri.toThreeColor(this.node.color),void(n.needsUpdate=!0);var i=xo.create1D(pr.get(t.colorMap));i&&(i.anisotropy=1),n.color=Ri.toThreeColor(k.white),n.map=i,n.needsUpdate=!0}}},t}(ro),Sa=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"node",{get:function(){return e.prototype.getNode.call(this)},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(t){e.prototype.updateCore.call(this,t),this.updatePlanes(t)},t.prototype.onShowCore=function(){e.prototype.onShowCore.call(this),this.updatePlanes(new kt(Ht.filter))},t.prototype.onHideCore=function(){e.prototype.onHideCore.call(this),this.updatePlanes(new kt(Ht.filter))},t.prototype.updatePlanes=function(e){var t,r,i=this.node.surveyNode;if(i)try{for(var o=Object(n.h)(i.getDescendantsByType(ha)),a=o.next();!a.done;a=o.next()){var s=a.value.getViewByTarget(this.renderTarget);s&&s.update(e)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},t}(Mn),Aa=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"node",{get:function(){return e.prototype.getNode.call(this)},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(t){e.prototype.updateCore.call(this,t)},t.prototype.onShowCore=function(){e.prototype.onShowCore.call(this)},t.prototype.onHideCore=function(){e.prototype.onHideCore.call(this)},t}(Mn),wa=function(){function e(){}return e.prototype.clear=function(){},e.prototype.onMouseDown=function(e,t,r,n){return!1},e.prototype.onMouseDrag=function(e,t,r){},e}(),_a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._capureNode=null,t._perpedicularPlane=null,t}return Object(n.c)(t,e),t.prototype.clear=function(){this._capureNode=null,this._perpedicularPlane=null},t.prototype.onMouseDown=function(e,t,r,n){var i=t;if(!i)return!1;this._capureNode=i,this._perpedicularPlane=new wi.Plane;var o=i.normal,a=Ri.fromThreeVector3(n.direction),s=o.getDot(a);return Math.acos(Math.abs(s))<Math.PI/10&&((a=o).z-=Math.sign(s),a.normalize()),this._perpedicularPlane.setFromNormalAndCoplanarPoint(Ri.toThreeVector3(a),r.point),!0},t.prototype.onMouseDrag=function(e,t,r){var n=this._capureNode;if(n&&this._perpedicularPlane){var i=n.surveyCube;if(i){var o=new wi.Vector3;if(t.intersectPlane(this._perpedicularPlane,o)){var a=e.transformer.toWorld(o),s=sa.newZero;i.getCellFromPosition(a,s);var c=s.getAt(n.perpendicularAxis);n.moveTo(c)&&(n.notify(new kt(Ht.geometry,r?"":"InDragging")),e.viewInfo.clear(),e.viewInfo.addText("Moving plane `"+n.name+"` to index "+(n.realPerpendicularIndex+1)+"."),e.invalidate()),r&&n.notify(new kt(Ht.nodeName))}}}},t}(wa),Ta=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t.prototype.onMouseDown=function(e,t,r,n){var i=t;if(!i)return!1;var o=r.object.userData[ea.sphereName];if(void 0===o)return!1;if(!i.trajectory)return!1;var a=i.log;if(!a)return!1;var s=a.getAt(o);return!!s&&(s.isOpen=!s.isOpen,t.notify(new kt(Ht.pointOpenOrClosed)),!1)},t}(wa),Ea=function(e){function t(){var t=e.call(this)||this;return t.fgColor=k.white,t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"node",{get:function(){return e.prototype.getNode.call(this)},enumerable:!1,configurable:!0}),t.prototype.updateCore=function(e){e.isChanged(Ht.geometry)&&(this.touchBoundingBox(),this.invalidateTarget())},t.prototype.calculateBoundingBoxCore=function(){var e=this.node.surveyNode;return e?e.boundingBox:new $t},t.prototype.mustTouch=function(){var e=this.renderTarget;return this.fgColor!==e.fgColor&&(this.fgColor=e.fgColor,!0)},t.prototype.createObject3DCore=function(){var e,t,r,i,o,a,s,c,l,u,d,p,h,f,g,m,y=this.node,v=new wi.Group,b=this.renderTarget,x=y.surveyCube;if(!x)return v;var S=new wi.Geometry,A=this.transformer,w=x.nodeSize.i-1,_=x.nodeSize.j-1,T=x.nodeSize.k-1;this.fgColor=b.fgColor;var E=Ri.toThreeColor(this.fgColor);try{for(var B=Object(n.h)([0,w]),R=B.next();!R.done;R=B.next()){var M=R.value;try{for(var C=(r=void 0,Object(n.h)([0,_])),O=C.next();!O.done;O=C.next()){var I=O.value;try{for(var F=(o=void 0,Object(n.h)([0,T])),N=F.next();!N.done;N=F.next()){var L=N.value;S.vertices.push(A.to3D(x.getNodePosition(M,I,L)))}}catch(e){o={error:e}}finally{try{N&&!N.done&&(a=F.return)&&a.call(F)}finally{if(o)throw o.error}}}}catch(e){r={error:e}}finally{try{O&&!O.done&&(i=C.return)&&i.call(C)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{R&&!R.done&&(t=B.return)&&t.call(B)}finally{if(e)throw e.error}}try{for(var P=Object(n.h)([0,T]),D=P.next();!D.done;D=P.next()){L=D.value;try{for(var U=(l=void 0,Object(n.h)([0,_])),G=U.next();!G.done;G=U.next()){I=G.value;try{for(var j=(d=void 0,Object(n.h)([0,w])),z=j.next();!z.done;z=j.next())M=z.value,S.vertices.push(A.to3D(x.getNodePosition(M,I,L)))}catch(e){d={error:e}}finally{try{z&&!z.done&&(p=j.return)&&p.call(j)}finally{if(d)throw d.error}}}}catch(e){l={error:e}}finally{try{G&&!G.done&&(u=U.return)&&u.call(U)}finally{if(l)throw l.error}}try{for(var k=(h=void 0,Object(n.h)([0,w])),V=k.next();!V.done;V=k.next()){M=V.value;try{for(var W=(g=void 0,Object(n.h)([0,_])),H=W.next();!H.done;H=W.next())I=H.value,S.vertices.push(A.to3D(x.getNodePosition(M,I,L)))}catch(e){g={error:e}}finally{try{H&&!H.done&&(m=W.return)&&m.call(W)}finally{if(g)throw g.error}}}}catch(e){h={error:e}}finally{try{V&&!V.done&&(f=k.return)&&f.call(k)}finally{if(h)throw h.error}}}}catch(e){s={error:e}}finally{try{D&&!D.done&&(c=P.return)&&c.call(P)}finally{if(s)throw s.error}}var X=new wi.LineBasicMaterial({color:E,linewidth:1}),Q=new wi.LineSegments(S,X);return v.add(Q),v},t}(ro),Ba=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t.prototype.installPackages=function(){Ai.install({THREE:wi})},t.prototype.registerViews=function(e){e.register(Bi.className,go,io.className),e.register(so.className,mo,io.className),e.register(lo.className,yo,io.className),e.register(po.className,Ao,io.className),e.register(fo.className,_o,io.className),e.register(Jo.className,$o,io.className),e.register(Io.className,ea,io.className),e.register(Go.className,ta,io.className),e.register(Vo.className,ta,io.className),e.register(Zo.className,ia,io.className),e.register(No.className,oa,io.className),e.register(jo.className,oa,io.className),e.register(Wo.className,oa,io.className),e.register(Qo.className,oa,io.className),e.register(ha.className,xa,io.className),e.register(va.className,Sa,io.className),e.register(ma.className,Aa,io.className),e.register(ga.className,Ea,io.className);var t=Xi.instance;t.register(ha.className,_a,io.className),t.register(Io.className,Ta,io.className)},t.prototype.initializeWhenPopulated=function(e){document.body.onresize=function(){var t,r;try{for(var i=Object(n.h)(e.targets.getChildrenByType(Fn)),o=i.next();!o.done;o=i.next())o.value.invalidate()}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}},t.prototype.setDefaultVisible=function(e){var t,r,i,o;try{for(var a=Object(n.h)(e.targets.getChildrenByType(Tr)),s=a.next();!s.done;s=a.next()){var c=s.value;try{for(var l=(i=void 0,Object(n.h)(e.getDescendantsByType(Bi))),u=l.next();!u.done;u=l.next())u.value.setVisibleInteractive(!0,c)}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}},t.prototype.createRenderTargetNode=function(){var e=$t.createByMinAndMax(0,0,1,1);return new io(e)},t}(_i),Ra=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"WellTree"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return Eo},t.prototype.getName=function(){return"Wells"},Object.defineProperty(t.prototype,"isTab",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.synchronize=function(){var e=this.getChildByType(Yo);e||(e=new Yo,this.addChild(e,!0),e.initialize()),e.synchronize()},t.className="WellTreeNode",t}(vr),Ma=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Colormaps"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAKhElEQVR42pVXaaxdVRld+8znjufe2zf2jbR9tvQBFmkBhQKaEoNESSpECZBIjAgR9IeJMfwwxhBNNEaNQ+AHxhBipPGPqDGgMTHUKDaRltqRDq99852nc88903adUyAhUYb3st+775zz9l57fWutbx+B9/F1TqLoArMcxU1gTxkP/Piy/DfqwUW0/RKEsGFqE6gYu/Bn8fQXh71tJ47kzp04L9B+r7nFez3QlJgT8Xde9OTaYlccQ015BQ3oaIZb0Q234JJ1BjH/7kNFM9Aw7OQxaVyD6exOWIpz7HF8/wDw5RrEt+MPBED2MBYYT74U6n+61pV1dH0XnUBBR4nRsQN0hIshv5cxixZ/r6HHMUATkj91TpDl0HFj/NDxX2mH74b4+9L7BiDfwHRQfuSPvvznour8B5HQ4SGDvsijgywZsLhQsmvAcwtoKS5qpoeaiHgvRJUQVmUT9XYHjrgJk9mrThzWagcB+yzEoehdAcijmB9KfE3mdz4B8xQ0/Tb+n4sw1yIAnwvYXGACjeEM+sEIhvFF+DaZ0WOswMUlv43NaIBIM6DoJo4GNWiuw5LsPXk0rh+E+dzJ/wtAvoyrPBVPhsbIw1q2Cmvsw0BmACg5BHoFXTVPAKy1CPh5gKEIsYoiyY9QYxk2EaAWszyc1uN8sVBwgSusBR5m5A6YmDhzVuk9As1/FeIZ9x0A5C8x7ul4ArnZb+raEtTKAlCepe5DwNAgbRs9U2PtFUpbI8mCZGu4wHLUWYyN2KM+FMKw0aUs1wij0WuhnitjBtPYHLRx1jBxZ3zd2Zew/hCMp/7xNgD5E4y4Lu6JZg88YzZfgzE7D4xoaHt92KNT0HIWhJNFkDU5rc6hoRdrCKTKhS0uKtFi/delj03poaGGGKiSMBSIeoSzFR2nyVzeH2LeG8dI4Tr8Af5eiM8fuQLgceyJd+8/pAxe31a3SsjkZ7lwFkN9HWZhG2TeRlxxgGwWoWbBFSyDIrhTSTZoSXKxKQO04hhuLNCTAk2N9xWgEYboaxSsJDuRibZiIx/msE9MHHq+f/xLQt6LYpzBA7Iy8VO10kPgTJHycehlCyhQ53n+XcggKhUIpIBYt+GS6pamEAA4EgARhRmhIyXcKFmYALh4hwA97jxhLNFFj/qvKRrUwML98Tb8IDx2tWjciUXee6w0XngUYxKY3M7CbOHC9PI4Z8mOvQmgyGs5wMzA447ahoIe9dChBlqp9aKUkQF3mtizKZIYlLxq8r5C8fI+Aa6S834ocSCcwG/lykHh3o3PDkb3/KjsL29FPgCmdgD6BNWvQ06x9nYlBRATgFLIAxYdYVjoWTpcVUOLOmiw/k1WvP02ACUFkDAQ+SpqBFsngF4cYY17qvLZq+M8Pq3MQsgD+EatuPt7JWOAUKd/R6eRceYQ2Tr8ySxsK2EjAyQMOAVmAkcmi0HGTJmok/K2iFFnQvZIYAKgKxIASAGFAw1V5kQVPoZBjE1d4CLtWmJZ9mGEAD6C5/vOtvutrAbPjuAXRlAa3Y6AIvJnS8iaBEAXxGUHilNiSchCLo8wn4VvGWhGrLEiUSeIHnfuxjIVYZ3X2kIiCC1scK6qHCAggCateIq+ifg9F2cJ4FMfceXSui1MHcG4g6jgwKpMI4zp/520IF0RJi4oF6EWy1DzdEOBYiwktrQwUDJXGOBuuxSTSxBdGac0t1kaT1qsu5LGsxgQnJ3BCbJRJ4gtvkEA+3dLXKKRBj60ayjAQiK2UUSeC/X6BURWAWGiATKgOkUYBbJQLCEu5uATQGyWSHX0JgCkAdXi51qqiSjVyBoB1GIXussAy2ZwkuXZ4JNZXyOAWz4hq5uryEdUvWOiNjOCcX0KKsUj5mlBshLn6H/aUCMDSr7M50qpHqJc4giNsUy/U1y9BACbboejSvpbSgifHfE4rzc4fZaktoIhLlBSHc1kj6Dh5G13yd5aDWaowuONaH4aedZdNdhOJ2nBUrKQndpQKZShpSVwIMlGkoztkLtUaTMlUb9GDSRAyAAbVwIgZPisljWc64SwIt5nQp5mHwlo57gmIYZ3f6FtHLlUgKWhbynIzl+Fga7BLnPxMhWfK6ZJGJUciCLLkGWJcg4CasCnExp+wHSj6Fj7PqlOXcAd1xVeVyMM+2xc03kc3+xB91mygobjBB0RcMklAIldj0JM/zyaq0CxqUouUB+zUSlt4Q5t6MVRaiLLHCik+lBsloQ29MiKR9AthkqL9a5z8S5j2KMVkwhu0gVJiw56Q2wUTXbEmDrTERL/KR8I+y3cMFHoiBpu3xnPz5zMkyrLGSd/RLx7AnmLKqf99AKvUQNX2OAwKUrLRp85MTBZ2wCp56ukvs2oTQD0EwAap9IlNFryuNuEMVJCt0UNMOGX+JxSO4PajQtfEcdx+7hz0w1/q5wb7LAqM6TMg7lIN+g64rzJHScM2JAEIBP6Te6eh42uKdCnsLpcsMGxSQAtiizRgEsAreQeB1sGjjVayE066LE2q3ymJgaY0dfXX791/p60G57FZx6by0/9TCtOo5rRMLJlmolnMBMyUDOVNIhCx0kDKEq6IQG09WSH3C1naHDR9VThMu2GbwHo6BGDSMU6XdKn71VhYonnm4FRx127tNO/XlP3pwBaeHC+eN2u8wk3q3NbMOlzsaLNVDRh5Ed4HGMzYhDJTA6harPX6+yGBMDRIp31JOODkIJkO46ulKBtyLQEnUEWKvdzbrkKxxnB5SFPSplN1D82+jnq9sUr5wF8PYuHb30Bh2t34WKAAe2nGxkoc6NsnwW2gQL0HDuhzg5ocMcU3yYnb0YBd9bDIKQbogz7AmOZM6Yj7KPv99DMVAl8ESsU3kYHGM22cPOO7MnfXNbvwFOMi7eOZFU8NaEdXPyL/P2lXSXjQ8AdexEfuwhlgd0xCuHyYDGg0kPGcOio3CF3yUmXbCAgxXWW4DKTaJlNvx0GTEgNiqniwpAJW04Skpnhe9i6NTzz+ldzD9K3r2FR+G8DOIKn9TnEewq3zD+nn9IWwKMTxray9fahVzhDyebB9Eqt+bKS1plhiYsE0iKQZpSkG8uSgEl2S8U3OvwwZaDPxBuKDWiGdnr5W5WHieUormXbEEK+81SMFzhduC/cN/Ns91V3h5y6BuVShscNTqrxzE/rdamLvp1YbkjH8mUlZh4wTRJQm77ECntyY2gi5NFLp+Uu0KZshpBB/eRyL7wP3x27jHvTxYP//V5AECGcvd4nJ569UA0WFo7ygMrQCUo82TAGNsnCBsF0VB++xtIoebSHQ1Q5XUcx+b5IlljrOodLwXUqF5DT5enllfggxre/QcsFXDx+9zcjHNEDKFd79239ofnKyMf9QKTqTg7yLZnELD3OEKL2sERATS85fJKVhP6ECS+iHYcIhFg7Xw/+Cq31CxT8Y2js6Lz/d0Owj2J10sXYtavofHRl+/r9rVo855jboVgmNohmjSl0mZtRMiqGbGSrgY9L7mnIYrh0+nLud13seClC/1+EyIWnvKT3faC3Y4JI7pvn0TSXsVLYj8VFvk0cOIrezeG0uN4zDEMmpx+3izBjumvnM4e4wssn8NrhiySrhT2t93r7/i/L8uXahynYwAAAAABJRU5ErkJggg=="},t.prototype.getName=function(){return"Colormaps"},t.className="ColorMapTreeNode",t}(vr),Ca=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABNZJREFUeNrsl1tsFFUYx/87u52Znb3MdimwsLUWKRSFECXFyqWCxYIBYrgYMI0oNRDjq0IJ9ME3q70kRDQxhVUwERsKJaFbaBGl1AJauYeLBIK0dLu73W23MzvdZXfmzPGhpLHEYGuX9MWTnKcz58w/5/u+3/c/BkopxnMwGOcx7gJMqTzsg/KzFAAopajZtdgwkj2GseRA8Y7Gjaa0tFpNVUvjhDnoFIWuwkVzcPL0JXQHIpkm+nCx3eGolfv7C07se7ct5SEQbNbaVa+/DN5srrAJfOcr82YAABbkzYJo4ztZnqtdWZgHlmN/eSohiEWVnc1nLpevWDoPsUSC4VgWBkpgs5hRuHguY+FZ1B1rAdG0kqciIE6Mh0zAp7F4wiCYOZxpv4FgoA+ijceS/NmQlQFQyui9fUprynNgU1kzZTkOC+blwmrh0fb7H/iydMFQ4hV/fIQuWzIfkYiM46fOIaYo+PXoR4aU5YCaVLGsYC4ECwdKKYLhyLB1vz8IqutwiFYUr18ONZFMLQc0NYkTP12EEo2DUgKHTRi2PjEjHYCOSH8/vvvBC01TU1+GKz487BYtXGfhojmMwPM41dIOX3cAE5wiil6bD0lS4D3ZrofDkazrzaW+MSfh46BRQr61Ri2dEXgesjKApQUvgRIKXdchSTJE0Yr4gMxwRi0HgG/MIaCU4tX8WSCE4L1PThtBseftdUX4vq4JzS0X9UgkCgCIyDK8J9upZ/9RbNm8BoqstIy6DIt3NG40mky1RNNK44Q5yKWZjlgEdjD+SRUJlVxl0tjtNZ66Snd2Nvp6+97yNrXVv7PhDTQ0tqJfjuewjLahutpTbrVb80ZdhpvKmunqonwcP30ZlELPzZnKTJpgg2DmEI3GEO6VcOX6PV1Nxpl1KwvgOVAP/4MuAIPn3Tn3uWFMzYho2k7vj7+Vry7KRyyRYASOA6F0iHRWgYXTYWUsPAvPgXpYbPaSO+c+25+ybhgnxkN2ni2PxRMQzBw6unpwvzs0RDr3ZCdysqdAVgZgc2TooVBfa8r8wMbtDSxnpMdn52YO/bz96t2erq5QKdG09HBvpPTClVs9t+92wGrh8cLMqQzLMbUp8QObypqpyWQEbzbDabeCUorO7l7omlZ17Is1lY8+q1xe8g3ud3RXTM92Y6IzHayJmb9w/W6q6/o/InfEAtSkijdXLhxWesFwBCaG2TuchOpevz9YQXUdznQbitcvByEENZ66sd2ApiZRV/8zrKKIRXnPw27j4LAJCAdDWwFU/k3AVtfkCY9wK6PhRBtkSQLV9bEJOLx7nQEANmz3+oOhXpfNOgVul4iAP7htxfvfQlPVvWoyuZVSfdu0Z92glOKBrwdJlVy90lT2YsqqQFIe5t243dk5OcPOPJfpAgiZdO9PX4WvO1DhcmVgWtZU5Ex3Q5IUXLvZoSsDiVUpNaWPcz4704WszElDrKcGCkmKjoj3/80VP+L8vv1HIGZM1OfMfIbJcIpw2K2IyDICgTAuXbtHHw5Ihi2b16KqytMCwJASDgxCGlv2fPUdCCElobCUdfb8tZvepkFj29DYivPtty7IcnSumkzurK724Em8/9cON9KZW7CLfl1/l85YuIOOZt+T5qj8ANEIqiprUvoyMvz/OB1vAX8NAEDxqjkpEqkQAAAAAElFTkSuQmCC"},t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"SettingsTree"},enumerable:!1,configurable:!0}),t.prototype.getName=function(){return"Settings"},t.className="SettingsTreeNode",t}(vr),Oa=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"OthersTree"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return X},t.prototype.getName=function(){return"Others"},Object.defineProperty(t.prototype,"isTab",{get:function(){return!0},enumerable:!1,configurable:!0}),t.className="OthersTreeNode",t}(vr),Ia=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Seismic Tree"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return aa},t.prototype.getName=function(){return"Seismic"},Object.defineProperty(t.prototype,"isTab",{get:function(){return!0},enumerable:!1,configurable:!0}),t.className="SeismicTreeNode",t}(vr),Fa=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"wells",{get:function(){var e=this.getChildByType(Ra);if(!e)throw new Error("Cannot find the "+Ra.className);return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seismic",{get:function(){var e=this.getChildByType(Ia);if(!e)throw new Error("Cannot find the "+Ia.className);return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"others",{get:function(){var e=this.getChildByType(Oa);if(!e)throw new Error("Cannot find the "+Oa.className);return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"colorMaps",{get:function(){var e=this.getChildByType(Ma);if(!e)throw new Error("Cannot find the "+Ma.className);return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"settingsTree",{get:function(){var e=this.getChildByType(Ca);if(!e)throw new Error("Cannot find the "+Ca.className);return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},t.prototype.isVisibleInTreeControl=function(){return!1},t.prototype.getIcon=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEwklEQVR42q2XXWxURRTHz+wtEhpRNMFgfPfRdxMTYigsVaMQFLt0fUJ3WyqKoinrZ6lFaFQohcaHSlvYAgJGQ5tuSxQSfBFjog8m+kJiiO3GwpJd2q392HaOZ+7M3Jm77F4vgcmenfu1M79zzn/O3GVQoXWfGHOoe4zsSbIiWS3ZAtkafYyIc4ulhfz83OzNmprlD7EIq0VgDkde2JPcnKFnUA2H1vFtjVW7QRDPUDcC/9MQOdCHegSOYib3C6ZuZte1tyau0CMlMq4M7wRgE3Xf7XwlGjC5GgH1sRz/UF8GHrh/BQwOfPnUj2Pf/EmXZhXIUjlEEEAddd8HAXBNgDLSeuSu/gzU162F/lNn4NefLj53afj0LyqVC+UQQQD11GUqASCWaIRl0nPLIc1zmAB2b38W/rhWhI6DXZC9+vsLlzNnf6a70+UQQQDrqPuhWgSWEI28mNSAjAOD7gEJMJEHuJa9Dqm9nwArTm66PHruioIQ6VgUj2uAiBKJDfA0dZeCUrC4ZHnvhkMO133cAOSn/4W/JnLQcaADVpQKNoQbibsG0KrX3ovvI8dHXYDfrubh1iyHW9NzUJyZgfa2Vnj0wWU+iCCAqhrwvNdZ8MIv29ETozCeHYfJG/9U/O3pI21PUCduFoMA3DpQDWBhkXtlxkzPFAxTihRZkauEiVjR4fZ3OgSA0NffZDeCAALrgABAtNSvMdz5DYC5L7lefdcFeF4BZIMANlP3bTWA+RL3rX/UM3D01WDXc6tWvNa6TwBsoZNxsomqAD2DF7ZSdybZsB4QjcrRCrj44lYeULmLPs+ZDyfR6kZgq4qAD6BGLQ3oSV94hLq1ZGcTsfVuXj0vuVptaIA8QOWpT5Lor73JPfs0gC8CondUcRAANfSjl8hOJWN1Xq33q10KzrvOlAB9E8rw22loSlUGALOtKA0MjMRZJJJOxjaopWYBWOJDsJejNYDlto3dnPq0KoAHserh1az9i/4Yc5yTiYYNJvwVJgSdAmtHREuF6Bscofm9/YEAXjvcPxwngHSiIeqFErmJgNaFEZ+QB1p7g3xGJsBEoOX9kABdfcONLOIMNjVGgeuao1zj2ltbnFoP1raIes2gyi51r4cGOEYAjjOYjEXNWke/914aVGo0FHf9Numy9inY+UFIgEPHZAqECMESmFF+WW1AGRko89oTrErBGx8eCAdwsG+khTF2tGmbEiHXzqDxujwSHKywl1VJBfTmRyEBPu8djjqOMyYBVD71BCrHXK97JUCmK2M1LVDbFRrgq6GXIxHn6+bGjV64kaOvJqC1Aty3Yh1skRZfOkyV2fVx6AgMbaNVcFICoLcKuJVTzm0BsrKlieDfmeXJW+EBzlMldNI74vU0EfqEZtSvImJHxhOqFiGq7Vnee7stJMBnvefdOrAjvtFX6XToxXC3wdie69d2NK9q4AJ0hgZwI9BCKeDWwJWXI/g2JiyrhubfCwHs7bzDCAgNuAJknle+YmSJ0Z5QXkevCOoU7A4PMBSnOpAulWZgIjsJuXyBUolwLxoBvCgmDwRI7e99fKqQW9PTmcrR6WqylWTL1cvL3TSu/qZNkl2vCrAl3lxbyOdWXhw5J05Xqb/l990jgHmyKWH/AcOpzOXYWphPAAAAAElFTkSuQmCC"},t.prototype.initializeCore=function(){e.prototype.initializeCore.call(this),this.hasChildByType(Ia)||this.addChild(new Ia),this.hasChildByType(Ra)||this.addChild(new Ra),this.hasChildByType(Oa)||this.addChild(new Oa),this.hasChildByType(Ma)||this.addChild(new Ma),this.hasChildByType(Ca)||this.addChild(new Ca),this.targets.hasChildByType(Bi)||this.targets.addChild(new Bi)},t.className="SubSurfaceRootNode",t}(Er),Na=function(e){function t(t,r){void 0===r&&(r=0);var n=e.call(this,r)||this;return n.inclination=0,n.azimuth=0,n.point=t.clone(),n}return Object(n.c)(t,e),t.prototype.toString=function(){return e.prototype.toString.call(this)+" Point: "+this.point},t.prototype.getSampleText=function(){return this.point.toString()},t.prototype.updateMdFromPrevSample=function(e){this.md=e.md+e.point.distance(this.point)},t.prototype.updatePointFromPrevSample=function(e){var t=Yt.toRad(e.azimuth),r=Yt.toRad(this.azimuth),n=Yt.toRad(e.inclination),i=Yt.toRad(this.inclination),o=this.md-e.md,a=Math.acos(Math.cos(i-n)-Math.sin(n)*Math.sin(i)*(1-Math.cos(r-t))),s=(Math.abs(a)<1e-5?1:2/a*Math.tan(a/2))*o/2,c=Math.sin(n)*Math.sin(t),l=s*(c+Math.sin(i)*Math.sin(r)),u=s*(c+Math.sin(i)*Math.cos(r)),d=s*(Math.cos(n)+Math.cos(i));if(Number.isNaN(l))return!1;if(Number.isNaN(u))return!1;if(Number.isNaN(d))return!1;var p=e.point;return this.point.x=p.x+l,this.point.y=p.y+u,this.point.z=p.z-d,!0},t}(ra),La=function(){function e(){this.samples=[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.samples.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstSample",{get:function(){return this.samples.length>0?this.samples[0]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastSample",{get:function(){return this.samples.length>0?this.samples[this.samples.length-1]:null},enumerable:!1,configurable:!0}),e.prototype.getSampleByMd=function(e){return Error("Illegal usage for this type of log"),null},e.prototype.expandMdRange=function(e){var t,r;try{for(var i=Object(n.h)(this.samples),o=i.next();!o.done;o=i.next()){var a=o.value;a.isMdEmpty||e.add(a.md)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.getClosestIndexAtMd=function(e){var t=this.getFloatIndexAtMd(e);return t<0?-1:Math.round(t)},e.prototype.getFloatIndexAtMd=function(e){var t=this.samples.length-1;if(t<0)return-1;if(e<this.samples[0].md||this.samples[t].md<e)return-1;var r=this.binarySearch(e);if(r>=0)return r;r=~r;var n=this.samples[r-1];if(Yt.isEqual(e,n.md))return r-1;var i=this.samples[r];return Yt.isEqual(e,i.md)?r:r-1+(e-n.md)/(i.md-n.md)},Object.defineProperty(e.prototype,"mdRange",{get:function(){return this._mdRange||(this._mdRange=this.calculateMdRange()),this._mdRange},enumerable:!1,configurable:!0}),e.prototype.calculateMdRange=function(){var e=new Jt;return this.expandMdRange(e),e},e.prototype.touch=function(){this._mdRange=void 0},e.prototype.add=function(e){this.samples.push(e)},e.prototype.sortByMd=function(){e.sortByMd(this.samples)},e.sortByMd=function(e){e.sort(ra.compareMd)},e.prototype.binarySearch=function(e){var t=new ra(e);return Yt.binarySearch(this.samples,t,ra.compareMd)},e}(),Pa=function(){function e(e,t){this.origin=Kt.newZero,this.vector=Kt.newZero,this.length=0,void 0!==e&&void 0!==t&&this.set(e,t)}return Object.defineProperty(e.prototype,"min",{get:function(){return this.origin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return Kt.addWithFactor(this.origin,this.vector,this.length)},enumerable:!1,configurable:!0}),e.prototype.getClosest=function(e,t){t.copy(e),t.substract(this.origin);var r=this.vector.getDot(t);return r<0?r=0:r>this.length&&(r=this.length),t.copy(this.vector),t.multiplyScalar(r),t.add(this.origin),t},e.prototype.set=function(e,t){this.origin.copy(e),this.vector.copy(t),this.vector.substract(e),this.length=this.vector.length,this.vector.divideScalar(this.length)},e}(),Da=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.kb=0,t}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"boundingBox",{get:function(){return this._boundingBox||(this._boundingBox=this.calculateBoundingBox()),this._boundingBox},enumerable:!1,configurable:!0}),t.prototype.calculateBoundingBox=function(){var e=new $t;return this.expandRange(e),e},t.prototype.touch=function(){e.prototype.touch.call(this),this._boundingBox=void 0},t.prototype.expandRange=function(e){var t,r;try{for(var i=Object(n.h)(this.samples),o=i.next();!o.done;o=i.next()){var a=o.value;a&&e.add(a.point)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},t.prototype.getAt=function(e){return this.samples[e]},t.prototype.getPositionAt=function(e){return this.getAt(e).point},t.prototype.getTopPosition=function(){return this.getAt(0).point},t.prototype.getBasePosition=function(){return this.getAt(this.length-1).point},t.prototype.getPositionAtMd=function(e,t){var r=this.samples.length-1;if(r<0)return!1;if(e<this.samples[0].md||this.samples[r].md<e)return!1;var n=this.binarySearch(e);if(n>=0){var i=this.samples[n];return t.copy(i.point),!0}n=~n;var o=this.samples[n-1];if(Yt.isEqual(e,o.md))return t.copy(o.point),!0;var a=this.samples[n];if(Yt.isEqual(e,a.md))return t.copy(a.point),!0;var s=(e-o.md)/(a.md-o.md);return t.lerp(o.point,a.point,s),!0},t.prototype.getTangentAtMd=function(e,t){var r,n,i=this.samples.length-1;if(i<0)return!1;if(e<=this.samples[0].md?(r=0,n=1):e>=this.samples[i].md?(r=i-1,n=i):(n=r=this.getClosestIndexAtMd(e),0===r?n++:r===i?r--:(r--,n++)),r>=n)return Error("Index error in tangent"),!1;var o=this.samples[r],a=this.samples[n];return t.copy(o.point),t.substract(a.point),t.normalize(),!0},t.prototype.getTangentAt=function(e,t){var r,n;if(0===e?(r=0,n=1):e>=this.samples.length-1?(r=this.samples.length-2,n=this.samples.length-1):(r=e-1,n=e+1),r>=n)return Error("Index error in tangent"),!1;var i=this.samples[r],o=this.samples[n];return t.copy(i.point),t.substract(o.point),t.normalize(),!0},t.prototype.getClosestMd=function(e){for(var t=new Pa,r=null,n=Number.MAX_VALUE,i=-1,o=Kt.newZero,a=0;a<this.length-1;a++){var s=this.getPositionAt(a),c=this.getPositionAt(a+1);t.set(s,c),t.getClosest(e,o);var l=e.distance(o);l<n&&(i=a,r=o,n=l)}if(!r)return Number.NaN;var u=this.getAt(i),d=this.getAt(i+1),p=u.point.distance(r);if(Yt.isAbsEqual(p,0,1e-4))return u.md;var h=d.point.distance(r);if(Yt.isAbsEqual(h,0,1e-4))return d.md;var f=p+h,g=p/f;return h/f*u.md+g*d.md},t.prototype.createRenderSamples=function(e,t){for(var r=[],n=0;n<this.length;n++){var i=this.getAt(n);r.push(new na(i.point.clone(),i.md,t,e))}return r},t.createByRandom=function(e){var r,i,o=new t,a=e.clone(),s=a.clone();s.z+=-800;var c=s.clone();c.x+=qt.getFloat(new Jt(200,-100)),c.y+=qt.getFloat(new Jt(200,-100)),c.z+=-400;var l=c.clone();l.x+=qt.getFloat(new Jt(600,-600)),l.y+=qt.getFloat(new Jt(600,-600)),l.z+=-300;var u=[];u.push(Ri.toThreeVector3(a)),u.push(Ri.toThreeVector3(s)),u.push(Ri.toThreeVector3(c)),u.push(Ri.toThreeVector3(l));var d=new wi.CatmullRomCurve3(u).getPoints(64),p=0,h=Ri.fromThreeVector3(d[0]);try{for(var f=Object(n.h)(d),g=f.next();!g.done;g=f.next()){var m=g.value,y=Ri.fromThreeVector3(m);p+=h.distance(y),o.add(new Na(y,p)),h=y}}catch(e){r={error:e}}finally{try{g&&!g.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return o},t}(La),Ua=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Folder"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return X},t.prototype.canChangeColor=function(){return!0},t.prototype.canChangeName=function(){return!0},t.className="FolderNode",t}(yr),Ga=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t}(ra),ja=function(e){function t(t,r,n){var i=e.call(this,r)||this;return i.subtype="",i.riskSubCategory="",i.details="",i.isOpen=!1,i.description=t,void 0===n||Number.isNaN(n)?i.baseMd=r:i.baseMd=n,i}return Object(n.c)(t,e),t.prototype.toString=function(){return e.prototype.toString.call(this)+" Value: "+this.description},t.prototype.getSampleText=function(){return this.description},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return er.clone(this)},t}(Ga),za=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t.prototype.getAt=function(e){return this.samples[e]},t}(La),ka=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t.prototype.getAt=function(e){return this.samples[e]},t.prototype.expandMdRange=function(e){for(var t=this.length-1;t>=0;t--){var r=this.getAt(t);e.add(r.md),e.add(r.baseMd)}},t.createByRandom=function(e,r){for(var n=new t,i="Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut".split(" "),o=0;o<r;o++){for(var a="",s=qt.getFloat2(.2,1),c=0;c<i.length;c++)qt.isTrue(s)&&(a.length>0&&(a+=" "),a+=i[c]);var l=qt.getFloat(e);n.samples.push(new ja(a,l))}return n.sortByMd(),n},t}(za),Va=function(e){function t(t,r){var n=e.call(this,r)||this;return n.value=t,n}return Object(n.c)(t,e),t.prototype.toString=function(){return e.prototype.toString.call(this)+" Value: "+this.value},t.prototype.getSampleText=function(){return Number.isNaN(this.value)?"Not defined":this.value.toPrecision(6)},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return Number.isNaN(this.value)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return er.clone(this)},t}(Ga),Wa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t.prototype.getSampleByMd=function(e){return this.getConcreteSampleByMd(e)},t.prototype.getAt=function(e){return this.samples[e]},t.prototype.getConcreteSampleByMd=function(e){var t=this.getFloatIndexAtMd(e);if(t<0)return null;var r=Math.floor(t),n=t%1,i=this.samples[r];if(Yt.isZero(n))return i;var o=this.samples[r+1];if(Yt.isZero(n-1))return o;if(o.isEmpty)return null;if(o.isEmpty)return null;var a=i.value*(1-n)+o.value*n;return new Va(a,e)},Object.defineProperty(t.prototype,"valueRange",{get:function(){var e=this.statistics;return e?e.range:new Jt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"statistics",{get:function(){return this._statistics||(this._statistics=this.createStatistics()),this._statistics},enumerable:!1,configurable:!0}),t.prototype.touch=function(){e.prototype.touch.call(this),this._statistics=void 0},t.prototype.createStatistics=function(){for(var e=new Uo,t=this.length-1;t>=0;t--){var r=this.getAt(t);r.isMdEmpty||r.isEmpty||e.add(r.value)}return e},t.createByRandom=function(e,r){for(var n=new t,i=e.delta/499,o=0,a=e.min;o<500;o++,a+=i){var s=o%60==0?Number.NaN:qt.getGaussian(r.center,r.delta);n.samples.push(new Va(s,a))}return n},t}(za),Ha=function(e){function t(t,r){var n=e.call(this,r)||this;return n.value=t,n}return Object(n.c)(t,e),t.prototype.toString=function(){return e.prototype.toString.call(this)+" Value: "+this.value},t.prototype.getSampleText=function(){return Number.isNaN(this.value)?"Not defined":this.value.toFixed(0)},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return Number.isNaN(this.value)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return er.clone(this)},t}(Ga),Xa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t.prototype.getSampleByMd=function(e){return this.getConcreteSampleByMd(e)},t.prototype.getAt=function(e){return this.samples[e]},t.prototype.getConcreteSampleByMd=function(e){var t=this.getFloatIndexAtMd(e);if(t<0)return null;var r=Math.floor(t);return this.samples[r]},Object.defineProperty(t.prototype,"valueRange",{get:function(){return this._valueRange||(this._valueRange=this.calculateValueRange()),this._valueRange},enumerable:!1,configurable:!0}),t.prototype.calculateValueRange=function(){var e=new Jt;return this.expandValueRange(e),e},t.prototype.touch=function(){e.prototype.touch.call(this),this._valueRange=void 0},t.prototype.expandValueRange=function(e){for(var t=this.samples.length-1;t>=0;t--){var r=this.getAt(t);r.isMdEmpty||r.isEmpty||e.add(r.value)}},t.createByRandom=function(e,r){for(var n=new t,i=0;i<20;i++){var o=qt.getFloat(e);n.samples.push(new Ha(qt.getInt(r),o))}return n.sortByMd(),n},t}(za),Qa=function(e){function t(t,r,n,i){void 0===i&&(i=void 0);var o=e.call(this,t)||this;return o._hasRotationAngle=!1,o._rotationAngle=0,o._sinRotationAngle=0,o._cosRotationAngle=1,o.origin=r,o.inc=n,void 0!==i&&(o.rotationAngle=i),o._buffer=new Float32Array(t.size),o}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"rotationAngle",{get:function(){return this._rotationAngle},set:function(e){this._hasRotationAngle=0!==e,this._hasRotationAngle?(this._rotationAngle=e,this._sinRotationAngle=Math.sin(this._rotationAngle),this._cosRotationAngle=Math.cos(this._rotationAngle)):(this._rotationAngle=0,this._sinRotationAngle=0,this._cosRotationAngle=1)},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"nodeSize: ("+this.nodeSize+") origin: ("+this.origin.x+", "+this.origin.y+") inc: ("+this.inc.x+", "+this.inc.y+")"},t.prototype.clone=function(){return er.cloneDeep(this)},t.prototype.expandBoundingBox=function(e){for(var t=Kt.newZero,r=this.nodeSize.j-1;r>=0;r--)for(var n=this.nodeSize.i-1;n>=0;n--)this.getNodePosition(n,r,t)&&e.add(t)},t.prototype.isNodeDef=function(e,t){return!Number.isNaN(this.getZ(e,t))},t.prototype.isNodeInsideDef=function(e,t){return this.isNodeInside(e,t)&&this.isNodeDef(e,t)},t.prototype.getZ=function(e,t){var r=this.getNodeIndex(e,t);return this._buffer[r]},t.prototype.getNodePosition=function(e,t,r){r||(r=Kt.newZero);var n=this.getZ(e,t);if(Number.isNaN(n))return!1;if(this._hasRotationAngle){var i=this.inc.x*e,o=this.inc.y*t;r.x=i*this._cosRotationAngle-o*this._sinRotationAngle,r.y=i*this._sinRotationAngle+o*this._cosRotationAngle}else r.x=this.inc.x*e,r.y=this.inc.y*t;return r.z=n,r.add(this.origin),!0},t.prototype.getNodePosition2=function(e,t,r){if(this._hasRotationAngle){var n=this.inc.x*e,i=this.inc.y*t;r.x=n*this._cosRotationAngle-i*this._sinRotationAngle,r.y=n*this._sinRotationAngle+i*this._cosRotationAngle}else r.x=this.inc.x*e,r.y=this.inc.y*t;r.x+=this.origin.x,r.y+=this.origin.y},t.prototype.getRelativeNodePosition=function(e,t,r){var n=this.getZ(e,t);return!Number.isNaN(n)&&(r.x=this.inc.x*e,r.y=this.inc.y*t,r.z=n,!0)},t.prototype.getCellFromPosition=function(e,t){t||(t=la.newZero);var r,n,i=e.x-this.origin.x,o=e.y-this.origin.y;if(this._hasRotationAngle){var a=i*this._cosRotationAngle+o*this._sinRotationAngle,s=-i*this._sinRotationAngle+o*this._cosRotationAngle;r=a/this.inc.x,n=s/this.inc.y}else r=i/this.inc.x,n=o/this.inc.y;return t.i=Math.floor(r),t.j=Math.floor(n),t},t.prototype.getNormal=function(e,r,n,i,o){o||(o=Kt.newZero),n||(n=this.getZ(e,r));var a=t._staticHelperA,s=t._staticHelperB;o.set(0,0,0);var c=this.isNodeInside(e+1,r+0),l=this.isNodeInside(e+0,r+1),u=this.isNodeInside(e-1,r+0),d=this.isNodeInside(e+0,r-1),p=c?this.getNodeIndex(e+1,r+0):-1,h=l?this.getNodeIndex(e+0,r+1):-1,f=u?this.getNodeIndex(e-1,r+0):-1,g=d?this.getNodeIndex(e+0,r-1):-1,m=c?this._buffer[p]:0,y=l?this._buffer[h]:0,v=u?this._buffer[f]:0,b=d?this._buffer[g]:0;return c&&(Number.isNaN(m)?c=!1:m-=n),l&&(Number.isNaN(y)?l=!1:y-=n),u&&(Number.isNaN(v)?u=!1:v-=n),d&&(Number.isNaN(b)?d=!1:b-=n),c&&l&&(a.set(+this.inc.x,0,m),s.set(0,+this.inc.y,y),a.crossProduct(s),o.add(a)),l&&u&&(a.set(0,+this.inc.y,y),s.set(-this.inc.x,0,v),a.crossProduct(s),o.add(a)),u&&d&&(a.set(-this.inc.x,0,v),s.set(0,-this.inc.y,b),a.crossProduct(s),o.add(a)),d&&c&&(a.set(0,-this.inc.y,b),s.set(+this.inc.x,0,m),a.crossProduct(s),o.add(a)),i&&!o.normalize()&&o.set(0,0,1),o},t.prototype.getCornerRange=function(){var e=Kt.newZero,t=new $t;return t.add(this.origin),this.getNodePosition2(0,this.nodeSize.j-1,e),t.add(e),this.getNodePosition2(this.nodeSize.i-1,0,e),t.add(e),this.getNodePosition2(this.nodeSize.i-1,this.nodeSize.j-1,e),t.add(e),t},t.prototype.setNodeUndef=function(e,t){this.setZ(e,t,Number.NaN)},t.prototype.setZ=function(e,t,r){var n=this.getNodeIndex(e,t);this._buffer[n]=r},t.prototype.normalizeZ=function(e){for(var t=this.zRange,r=this._buffer.length-1;r>=0;r--){var n=this._buffer[r];n=t.getFraction(n),void 0!==e&&(n=e.getValue(n)),this._buffer[r]=n}this.touch()},t.prototype.smoothSimple=function(e){var t;if(void 0===e&&(e=1),!(e<=0)){for(var r=new Float32Array(this.nodeSize.size),i=0;i<e;i++){for(var o=this.nodeSize.i-1;o>=0;o--)for(var a=this.nodeSize.j-1;a>=0;a--)if(this.isNodeDef(o,a)){for(var s=Math.max(o-1,0),c=Math.min(o+1,this.cellSize.i),l=Math.max(a-1,0),u=Math.min(a+1,this.cellSize.j),d=0,p=0,h=s;h<=c;h++)for(var f=l;f<=u;f++)h===o&&f===a||this.isNodeDef(h,f)&&(p+=this.getZ(h,f),d++);p+=this.getZ(o,a)*d,d+=d,r[this.getNodeIndex(o,a)]=p/d}t=Object(n.f)([r,this._buffer],2),this._buffer=t[0],r=t[1]}this.touch()}},t.createFractal=function(e,r,n,i,o){void 0===n&&(n=.7),void 0===i&&(i=0);var a=Kt.newZero,s=new Kt(1,1,0),c=new t(new la(Math.pow(2,r)+1),a,s,o),l=c.cellSize.i,u=c.cellSize.j;return c.setZ(0,0,qt.getGaussian(0,1)),c.setZ(l,0,qt.getGaussian(0,1)),c.setZ(0,u,qt.getGaussian(0,1)),c.setZ(l,u,qt.getGaussian(0,1)),function e(t,r,n,i,o,a,s,c){if(!(i-r<=1&&o-n<=1)){if(i-r!=o-n)throw Error("Logical bug, should be a square");var l=0;if(l+=Za(t,r,n,i,n,a*=c),l+=Za(t,r,o,i,o,a),l+=Za(t,r,n,r,o,a),l+=Za(t,i,n,i,o,a),Za(t,r,n,i,o,a,l/4),0!==--s){var u=Math.trunc((r+i)/2),d=Math.trunc((n+o)/2);e(t,r,n,u,d,a,s,c),e(t,r,d,u,o,a,s,c),e(t,u,n,i,d,a,s,c),e(t,u,d,i,o,a,s,c)}}}(c,0,0,l,u,1,r,n),c.origin.x=e.x.min,c.origin.y=e.y.min,c.inc.x=e.x.delta/c.cellSize.i,c.inc.y=e.y.delta/c.cellSize.j,c.normalizeZ(e.z),c.smoothSimple(i),c},t._staticHelperA=Kt.newZero,t._staticHelperB=Kt.newZero,t._staticHelperC=Kt.newZero,t}(function(e){function t(t){var r=e.call(this)||this;return r.nodeSize=t.clone(),r.cellSize=t.clone(),r.cellSize.i--,r.cellSize.j--,r}return Object(n.c)(t,e),t.prototype.clone=function(){return new t(this.nodeSize)},t.prototype.expandBoundingBox=function(e){},t.prototype.toString=function(){return"("+this.nodeSize+")"},t.prototype.getNodeIndex=function(e,t){return e+this.nodeSize.i*t},t.prototype.getCellIndex=function(e,t){return e+this.cellSize.i*t},t.prototype.isNodeInside=function(e,t){return e>=0&&t>=0&&e<this.nodeSize.i&&t<this.nodeSize.j},t.prototype.isCellInside=function(e,t){return e>=0&&t>=0&&e<this.cellSize.i&&t<this.cellSize.j},t}(zi));function Za(e,t,r,n,i,o,a){var s=Math.trunc((t+n)/2),c=Math.trunc((r+i)/2),l=e.getZ(s,c);if(0!==l)return l;void 0===a&&(a=(e.getZ(t,r)+e.getZ(n,i))/2);var u=qt.getGaussian(a,o);return e.setZ(s,c,u),u}var Ya="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAE/ElEQVR42q2XWUgsRxSGz7jv+76LIKIEDSr4IhlwwT1uoKgIEhdQ0YiKoijuCyqiqLh7zYMEQS7kXe6DgTz5FOFyY9QIagKiDyKuUVN/MTX09PSYaZKCprrL7jpf/ec/VY6GJK22tvYNvYWFBTk4OJC1tTXJGxv7wK7f7+7ufmaPf4yPj5/Sf2gaOcDw8DCdnJzQ6uoqxcfHU0JCAl1cXNDR0RE9PT3R1dXVuxPa2Nj8aGVldfD6+vpTf3//r6oBBgYGyN7enl5eXujs7Izm5uY4SGpqKh93cnLi797e3tLb2xs9Pj7SwcHB4/Hxsa0SIFNIowqgq6uL37NVkJ2dHU/D+fk57e3t0f7+PuXl5ZGLi4seRPRImegtLS3p4eGBenp6aHl5WR1AZ2enPOeQlWxtbenw8JB2dnYoKyvrXVm9vLzIz8+PMJdqgI6ODv0zy6P+HgBY7eDgIBUUFLwL4OjoSKGhoQQ1VQO0t7fze+RX2pASZ2dnGhoaosLCQtJoNO8ChISEUHd3t3qAtrY2RQCUppubGwfIzs7meVYqUzSYNTg4mHp7e9UDtLa2GsmPhoAw3+joKGVkZHAgAECZ/xWgpaXFSAHAIBhSwMqK0tLSOADMiUsJIDAwkPr6+tQDNDU1KSogACYmJiglJYV7AMZEqcobxvz9/blhVQM0NjYqegApcHV1pcnJSdJqtfwZZlPyAQBQhvCLaoCGhgbFFCDXMOHU1BQlJyfzFMATSikAgI+PD42MjKgHqK+v18svIPCMQFBgenqakpKSOICnpydXQF6SAMBmNDY2ph6grq7OIP8CAgBY8czMDCUmJvKgCAIf8Il0EOjxrre3NzesaoCamhqDlUtNiBTMzs5SbGws9wCCAABBoYgUAHAwrGqA6upqHlgOAQB3d3d+OsbExHBPAAAlJ1292LbxNxhWNUBVVZUBgNQDHh4eND8/T1FRUTwYnC4AoIAcAIZVDVBZWWmwcqkHALCwsEARERE8YEBAAAcQW7VQAQCogu3tbX6Us3eqmHc+mAVQUVGhD4pegLB/wfhkOJKxcngAADj/5QogXagY7BM3Nze0vr5uUgkjgPLycn1g9CLXS0tLfLXYDREMR3NQUJBRcNEDAIphDhjXbIDS0lL+kVABq0G9r6ys8CpAMICEh4ebDC7SgQMJSsG4ZgOUlJQYKAAAlNTa2hqXFEF8fX25KriXQ4jgUA4HEnoY12yA4uJiAwCxqSCPgEEAGAwQuJeaTwoBI+JAwveqAIqKivTBRfkhGAAwBkkFAO5NpQBqYd+AZ1A5ZgPk5+frAXBhJXA9AJ6fn/UKoALE6qUqiGdxeAF0cXERAJYoLN1lGgB9bm4uD47fBgBAsI2NDV6KYgOCvCL/chCxj6BSIiMjBYA7G/6bXS+6/tkIgB2fcdfX159Y7bplZmbqPQCAzc1Nur+/5++hvGAwJROKXnyLcwMlzABCdcFv2XUjlDDKS3NzcxzrPrJgYenp6VwBBAPA7u7uCJP16+jo6EzxPspR/DiRQyD/ODd0AF/ht6QOQDkFEgg31n1iEHE5OTkcQDfJN2z8L3b9pgPVsutb9p5WfAvJxRF9eXnJ709PT/FtFBv68q4JFSCghLasrIy2trYwSTQb+2zi/XzWAVALcOnfdOC/iLybBSCZeJpN+D37rfcDa9/pDPRv34SxLoxBMxEur9n9n6be/Qe3R2g/whW6egAAAABJRU5ErkJggg==",Ja=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Well folder"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return Ya},t.prototype.canChangeColor=function(){return!0},t.className="WellFolder",t}(Ua),qa=function(e){function t(){return e.call(this)||this}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return t.className},enumerable:!1,configurable:!0}),t.prototype.isA=function(r){return r===t.className||e.prototype.isA.call(this,r)},Object.defineProperty(t.prototype,"typeName",{get:function(){return"Log folder"},enumerable:!1,configurable:!0}),t.prototype.getIcon=function(){return Ya},t.prototype.canChangeColor=function(){return!0},t.className="LogFolder",t}(Ua),Ka=function(e){function t(t,r,n){var i=e.call(this,r)||this;return i.name="",i.comments="",i.currentStatusComment="",i.baseMd=n,i.radius=t,i}return Object(n.c)(t,e),t.prototype.toString=function(){return e.prototype.toString.call(this)+" Radius: "+this.radius},t.prototype.getSampleText=function(){return Number.isNaN(this.radius)?"No casing":"Radius = "+this.radius.toFixed(3)},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return Number.isNaN(this.radius)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return er.clone(this)},t}(Ga),$a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t.prototype.getSampleByMd=function(e){return this.getConcreteSampleByMd(e)},t.prototype.expandMdRange=function(e){for(var t=this.length-1;t>=0;t--){var r=this.getAt(t);e.add(r.md),e.add(r.baseMd)}},t.prototype.getAt=function(e){return this.samples[e]},t.prototype.getConcreteSampleByMd=function(e){for(var t=null,r=Number.MIN_VALUE,n=this.length-1;n>=0;n--){var i=this.getAt(n);i.md<=e&&e<=i.baseMd&&i.radius>r&&(t=i,r=i.radius)}return t},Object.defineProperty(t.prototype,"radiusRange",{get:function(){return this._radiusRange||(this._radiusRange=this.calculateRadiusRange()),this._radiusRange},enumerable:!1,configurable:!0}),t.prototype.calculateRadiusRange=function(){var e=new Jt;return this.expandRadiusRange(e),e},t.prototype.touch=function(){e.prototype.touch.call(this),this._radiusRange=void 0},t.prototype.expandRadiusRange=function(e){for(var t=this.length-1;t>=0;t--){var r=this.getAt(t);r.isMdEmpty||r.isEmpty||e.add(r.radius)}},t.createByRandom=function(e,r){var n=new t,i=e.delta/(r-1);i=qt.getGaussian(i,i/10);for(var o=0,a=e.min;o<r;o++,a+=i){var s=15*(r-o)/r;n.samples.push(new Ka(s,a,a+i/2))}return n},t}(za),es=r(295),ts=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t.prototype.createRoot=function(){return new Fa},t.prototype.loadData=function(e){t.addSeismic(e),t.addWells(e),t.addSurfaces(e)},t.prototype.setDefaultVisible=function(e){},t.prototype.startAnimate=function(e){setInterval((function(){return t.animate(e)}),200)},t.addSurfaces=function(e){if(e instanceof Fa)for(var t=0;t<1;t++){var r=new Ua;e.others.addChild(r);for(var n=0;n<2;n++){var i=new Ua;r.addChild(i);for(var o=0;o<3;o++){var a=new po,s=$t.newTest.clone();s.expandByFraction(.2),s.z.set(300*(o-1)-1e3,300*(o-1)-1500),a.surface=Qa.createFractal(s,8,.5,3,Yt.toRad(5)),i.addChild(a)}}}},t.setSurfacesVisible=function(e){var t,r;try{for(var i=Object(n.h)(e.getDescendantsByType(po)),o=i.next();!o.done;o=i.next())o.value.setVisibleInteractive(!0)}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},t.addWells=function(e){if(e instanceof Fa){for(var t=e.wells,r=new ns,n=new rs,i=0;i<5;i++){var o=new Ja;t.addChild(o),o.name="Area "+(i+1);for(var a=qt.getInt2(2,6),s=0;s<a;s++){var c=new Bo;o.addChild(c),c.wellHead=Kt.getRandom($t.newTest),c.wellHead.z=0,c.name=i+1+"-"+qt.getInt2(1e4,2e4);for(var l=0;l<2;l++){var u=new Jo;u.name="Traj "+(l+1),u.dataLoader=n,c.addChild(u);for(var d=1,p=0;p<d;p++)(g=new Zo).dataLoader=r,g.name="Casing",u.addChild(g);var h=new qa;for(u.addChild(h),d=qt.getInt2(2,5),p=0;p<d;p++){(g=new Go).dataLoader=r;var f=null;0===p?f="Gamma ray":1===p?f="Resisivity":2===p?f="Neutron density":(3===p||4===p)&&(f="Permeability"),f&&(g.name=f),h.addChild(g)}for(h=new qa,u.addChild(h),d=1,p=0;p<d;p++)(g=new Vo).dataLoader=r,g.name="Zone log",h.addChild(g);for(d=qt.getInt2(1,2),p=0;p<d;p++){var g;(g=new Io).dataLoader=r,g.name="Risk "+p,h.addChild(g)}}}}t.synchronize()}},t.setWellsAndLogsVisible=function(e){var t,r,i,o,a,s,c,l;try{for(var u=Object(n.h)(e.getDescendantsByType(Bo)),d=u.next();!d.done;d=u.next()){var p=d.value;try{for(var h=(i=void 0,Object(n.h)(p.getDescendantsByType(Jo))),f=h.next();!f.done;f=h.next()){f.value.setVisibleInteractive(!0);break}}catch(e){i={error:e}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}try{for(var g=Object(n.h)(e.getDescendantsByType(po)),m=g.next();!m.done;m=g.next())m.value.setVisibleInteractive(!0)}catch(e){a={error:e}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}try{for(var y=Object(n.h)(e.getDescendantsByType(Mo)),v=y.next();!v.done;v=y.next())v.value.setVisibleInteractive(!0)}catch(e){c={error:e}}finally{try{v&&!v.done&&(l=y.return)&&l.call(y)}finally{if(c)throw c.error}}},t.addSeismic=function(e){if(e instanceof Fa){var t="cc0f791f-e206-4c08-a139-c5d08eea8afc";try{var r,n=new es.CogniteSeismicClient({api_url:"https://api.cognitedata.com",api_key:"MzI0MTA3OGEtZjMxNi00MmQ0LWI5ODYtMzFiYTEyZmQ0MThh",debug:!0}),i=e.seismic,o=new ma;o.name="Survey",(r=new va).colorMap=pr.seismicName,o.addChild(r),i.addChild(o),r.load(n,t),(r=new va).colorMap=pr.greyScaleName,o.addChild(r),i.addChild(o),r.load(n,t)}catch(e){alert(e)}}},t.animate=function(e){e instanceof Fa&&e.wells},t}(_i),rs=function(){function e(){}return e.prototype.load=function(e){return e instanceof Jo?Da.createByRandom(Kt.newZero):null},e}(),ns=function(){function e(){}return e.prototype.load=function(e){if(!(e instanceof Ro))return null;var t=e.trajectory;if(!t)return null;var r=t.mdRange.clone();if(e instanceof Zo)return r.expandByFraction(-.05),$a.createByRandom(r,7);if(r.min=(r.center+r.min)/2,r.expandByFraction(qt.getFloat2(-.25,0)),e instanceof Go){var n=new Jt(0,3.14);return Wa.createByRandom(r,n)}return e instanceof Vo?(n=new Jt(0,4),Xa.createByRandom(r,n)):e instanceof Io?ka.createByRandom(r,10):(Error("Can not load these data"),null)},e}(),is=function(){function e(e,t,r,n,i,o,a,s){this._wellMap=new Map,this._trajectoryMap=new Map,this._trajectoryDataMap=new Map,this._wellBoreToWellMap=new Map,this._wellBoreToNDSEventsMap=new Map,this._wellBoreToNPTEventsMap=new Map,this._trajectoryDataColumnIndexes={},this._wellBoreToCasingDataMap=new Map,this.generateWellMap(e),this.generateBoreToWellMap(t),this.generateTrajectoryMap(r),this.generateTrajectoryDataColumnIndexes(n),this.generateTrajectoryDataMap(n),this.generateWellBoreRiskEventMap(this.wellBoreToNDSEventsMap,i),this.generateWellBoreRiskEventMap(this.wellBoreToNPTEventsMap,o),this._wellBoreToLogsMap=a,this.generateWellBoreToCasingDataMap(s)}return e.prototype.generateWellMap=function(e){var t,r;try{for(var i=Object(n.h)(e),o=i.next();!o.done;o=i.next()){var a=o.value;this.validateWell(a)&&this.wellMap.set(a.id,a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.generateBoreToWellMap=function(e){var t,r;try{for(var i=Object(n.h)(e),o=i.next();!o.done;o=i.next()){var a=o.value;this.validateWellBore(a)&&this._wellBoreToWellMap.set(a.id,{wellId:a.parentId,data:a})}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.generateTrajectoryMap=function(e){var t,r;if(e&&e.length)try{for(var i=Object(n.h)(e),o=i.next();!o.done;o=i.next()){var a=o.value;this.validateTrajectory(a)&&this.trajectoryMap.set(a.id,a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}else console.warn("trajectories are empty!")},e.prototype.generateTrajectoryDataColumnIndexes=function(e){if(e&&e.length){var t=this.trajectoryDataColumnIndexes,r=e[0].columns;if(r&&r.length)for(var n=0;n<r.length;n++)t[r[n].name]=n;else console.warn("First trajectory data item does not contain columns",e)}else console.warn("Trajectory Data are empty, Cannot create Column Indexes!")},e.prototype.generateTrajectoryDataMap=function(e){var t,r;if(e&&e.length)try{for(var i=Object(n.h)(e),o=i.next();!o.done;o=i.next()){var a=o.value;this.validateTrajectoryData(a)&&this._trajectoryDataMap.set(a.id,a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}else console.warn("Trajectory Data are empty")},e.prototype.generateWellBoreRiskEventMap=function(e,t){var r,i,o,a,s;if(t&&t.length)try{for(var c=Object(n.h)(t),l=c.next();!l.done;l=c.next()){var u=l.value,d=u.assetIds;if(this.validateRiskEvent(u,d))try{for(var p=(o=void 0,Object(n.h)(d)),h=p.next();!h.done;h=p.next()){var f=h.value;this.wellBoreToWellMap.has(f)&&(e.get(f)||e.set(f,[]),null===(s=e.get(f))||void 0===s||s.push(u))}}catch(e){o={error:e}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}},e.prototype.generateWellBoreToCasingDataMap=function(e){var t,r,i;if(e&&e.length)try{for(var o=Object(n.h)(e),a=o.next();!a.done;a=o.next()){var s=a.value,c=s.assetId;this.validateCasing(s)&&(this.wellBoreToCasingDataMap.get(c)||this.wellBoreToCasingDataMap.set(c,[]),null===(i=this.wellBoreToCasingDataMap.get(c))||void 0===i||i.push(s))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}else console.warn("casings are empty!")},e.prototype.validateWell=function(e){var t=e.metadata,r=Oe.getNumber(t.x_coordinate),n=Oe.getNumber(t.y_coordinate);return!Number.isNaN(r)&&!Number.isNaN(n)||(console.error("Well cannot have empty or invalid coordinates!",e),!1)},e.prototype.validateWellBore=function(e){return!!this.wellMap.has(e.parentId)||(console.warn("Orphan WellBore, Parent Well not found!",e),!1)},e.prototype.validateTrajectory=function(e){var t=e.assetId;return!!this.wellBoreToWellMap.has(t)||(console.warn("Orphan Trajectory, Parent Well Bore not found!",e),!1)},e.prototype.validateTrajectoryData=function(e){return e.rows&&e.rows.length?!!this.trajectoryMap.has(e.id)||(console.warn("Orphan Trajectory Data Item, Parent Trajectory not found!",e),!1):(console.warn("Trajectory Data Rows are empty",e),!1)},e.prototype.validateRiskEvent=function(e,t){var r=this;return t&&t.length?!!t.some((function(e){return r.wellBoreToWellMap.has(e)}))||(console.warn("Orphan Risk Event, Parent Bore not found!",e),!1):(console.warn("Risk Event Bore Id not found, AssetIds are empty!",e),!1)},e.prototype.validateCasing=function(e){var t=e.assetId;return!!this.wellBoreToWellMap.has(t)||(console.warn("Orphan Casing, Parent Well Bore not found!",e),!1)},Object.defineProperty(e.prototype,"wellMap",{get:function(){return this._wellMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wellBoreToWellMap",{get:function(){return this._wellBoreToWellMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trajectoryMap",{get:function(){return this._trajectoryMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trajectoryDataColumnIndexes",{get:function(){return this._trajectoryDataColumnIndexes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trajectoryDataMap",{get:function(){return this._trajectoryDataMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wellBoreToNDSEventsMap",{get:function(){return this._wellBoreToNDSEventsMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wellBoreToNPTEventsMap",{get:function(){return this._wellBoreToNPTEventsMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wellBoreToLogsMap",{get:function(){return this._wellBoreToLogsMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wellBoreToCasingDataMap",{get:function(){return this._wellBoreToCasingDataMap},enumerable:!1,configurable:!0}),e}(),os=.00669438,as=Math.pow(os,2),ss=Math.pow(os,3),cs=os/(1-os),ls=Math.sqrt(1-os),us=(1-ls)/(1+ls),ds=(Math.pow(us,2),Math.pow(us,3),Math.pow(us,4),Math.pow(us,5),1-os/4-3*as/64-5*ss/256),ps=3*os/8+3*as/32+45*ss/1024,hs=15*as/256+45*ss/1024,fs=35*ss/3072;function gs(e){return e*Math.PI/180}var ms=function(){function e(){}return e.create=function(e){if(!e)return null;var t=e.metadata;if(!t)return null;var r=Oe.getNumber(t.x_coordinate),n=Oe.getNumber(t.y_coordinate);if(Number.isNaN(r)||Number.isNaN(n))return console.warn("Well cannot have empty or invalid coordinates!",e.description),null;var i=function(e,t,r){if(e>84||e<-80)throw new RangeError("latitude out of range (must be between 80 deg S and 84 deg N)");if(t>180||t<-180)throw new RangeError("longitude out of range (must be between 180 deg W and 180 deg E)");var n,i=gs(e),o=Math.sin(i),a=Math.cos(i),s=Math.tan(i),c=Math.pow(s,2),l=Math.pow(s,4);n=void 0===r?function(e,t){if(56<=e&&e<64&&3<=t&&t<12)return 32;if(72<=e&&e<=84&&t>=0){if(t<9)return 31;if(t<21)return 33;if(t<33)return 35;if(t<42)return 37}return Math.floor((t+180)/6)+1}(e,t):r;var u=function(e){return-80<=e&&e<=84?"CDEFGHJKLMNPQRSTUVWXX"[Math.floor((e+80)/8)]:null}(e),d=gs(t),p=gs(function(e){return 6*(e-1)-180+3}(n)),h=6378137/Math.sqrt(1-os*o*o),f=cs*a*a,g=a*(d-p),m=Math.pow(g,2),y=Math.pow(g,3),v=Math.pow(g,4),b=Math.pow(g,5),x=Math.pow(g,6),S=.9996*(6378137*(ds*i-ps*Math.sin(2*i)+hs*Math.sin(4*i)-fs*Math.sin(6*i))+h*s*(m/2+v/24*(5-c+9*f+4*f*f)+x/720*(61-58*c+l+600*f-330*cs)));return e<0&&(S+=1e7),{easting:.9996*h*(g+y/6*(1-c+f)+b/120*(5-18*c+l+72*f-58*cs))+5e5,northing:S,zoneNum:n,zoneLetter:u}}(n,r),o=new Bo;Oe.isEmpty(e.description)||(o.name=e.description),o.wellHead=new Kt(i.easting,i.northing,0);var a=Oe.getNumberWithUnit(t.water_depth,t.water_depth_unit);return Number.isNaN(a)||(o.waterDepth=a),o},e}(),ys=function(){function e(){}return e.create=function(e,t,r,i){var o,a,s,c;function l(e){return void 0===e?-1:e}if(!t||!t.rows.length)return console.warn("NodeVisualizer: No trajectory available for well"),null;var u=l(e.md),d=l(e.azimuth),p=l(e.inclination),h=l(e.tvd),f=l(e.x_offset),g=l(e.y_offset),m=new Da;if(f>=0&&g>=0&&h>=0)try{for(var y=Object(n.h)(t.rows),v=y.next();!v.done;v=y.next()){var b=(B=v.value.values)[f];if(!Number.isNaN(b)){var x=B[g];if(!Number.isNaN(x)){var S=B[h];if(!Number.isNaN(S)){var A=Number.NaN;u>=0&&(A=B[u],Number.isNaN(A)||(A*=i));var w=new Na(new Kt(b,x,r-(S*=i)),Number.isNaN(A)?S:A);d>=0&&p>=0&&(w.inclination=B[p],w.azimuth=B[d]);var _=m.length;_>0&&Number.isNaN(A)&&w.updateMdFromPrevSample(m.getAt(_-1)),m.add(w)}}}}}catch(e){o={error:e}}finally{try{v&&!v.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}else if(u>=0&&d>=0&&p>=0)try{for(var T=Object(n.h)(t.rows),E=T.next();!E.done;E=T.next()){var B;if(A=(B=E.value.values)[u],!Number.isNaN(A)){var R=B[d];if(!Number.isNaN(R)){var M=B[p];if(!Number.isNaN(M)){A*=i,(w=new Na(new Kt(0,0,r),A)).inclination=M,w.azimuth=R;var C=m.length;if(C>0&&!w.updatePointFromPrevSample(m.getAt(C-1)))break;m.add(w)}}}}}catch(e){s={error:e}}finally{try{E&&!E.done&&(c=T.return)&&c.call(T)}finally{if(s)throw s.error}}if(m.length<2)return null;var O=new Jo;return O.trajectory=m,O},e}(),vs=function(){function e(){}return e.createRiskLogNode=function(t){if(!t)return null;var r=e.createRiskLog(t);if(!r)return null;var n=new Io;return n.log=r,n},e.addLogNodes=function(t,r,i){var o,a;if(r)try{for(var s=Object(n.h)(r),c=s.next();!c.done;c=s.next()){var l=c.value,u=e.createLogFolder(l.items,i);u&&t.addChild(u)}}catch(e){o={error:e}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}},e.createLogFolder=function(t,r){if(null==t||0===t.length)return null;var n=t[0].columns,i=e.getMdIndex(n);if(i<0)return null;for(var o=null,a=0;a<n.length;a++)if(a!==i){var s=e.createLogNode(t,i,a,r);s&&(o||(o=new qa),o.addChild(s))}return o},e.getMdIndex=function(e){if(!e)return-1;for(var t=0;t<e.length;t++)if("DEPT"===e[t].externalId)return t;return-1},e.createLogNode=function(t,r,n,i){var o,a=t[0].columns,s=a[n].valueType.toUpperCase();if("FLOAT"===s||"DOUBLE"===s){if(!(c=e.createFloatLog(t,r,n,i)))return null;(o=new Go).log=c}else{if("INTEGER"!==s&&"LONG"!==s)return console.warn("Unsupported log type",s),null;var c;if(!(c=e.createDiscreteLog(t,r,n,i)))return null;(o=new Vo).log=c}var l=a[n].name;return Oe.isEmpty(l)||(o.name=l),o},e.createDiscreteLog=function(e,t,r,i){var o,a,s=new Xa;try{for(var c=Object(n.h)(e),l=c.next();!l.done;l=c.next()){var u=l.value,d=u[t];if(null!=d&&!Number.isNaN(d)){var p=u[r];null==p&&(p=Number.NaN),s.samples.push(new Ha(p,d*i))}}}catch(e){o={error:e}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return 0===s.length?null:(s.sortByMd(),s)},e.createFloatLog=function(e,t,r,i){var o,a,s=new Wa;try{for(var c=Object(n.h)(e),l=c.next();!l.done;l=c.next()){var u=l.value,d=u[t];if(null!=d&&!Number.isNaN(d)){var p=u[r];null==p&&(p=Number.NaN),s.samples.push(new Va(p,d*i))}}}catch(e){o={error:e}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return 0===s.length?null:(s.sortByMd(),s)},e.createRiskLog=function(e){var t,r;if(!e)return null;var i=new ka;try{for(var o=Object(n.h)(e),a=o.next();!a.done;a=o.next()){var s=a.value,c=s.metadata,l=c,u=l.md_hole_start,d=l.md_hole_start_unit,p=l.md_hole_end,h=l.md_hole_end_unit,f=l.risk_sub_category,g=l.details,m=c.npt_md,y=Number.NaN;if(void 0!==u?y=Oe.getNumberWithUnit(u,d):void 0!==m&&(y=Oe.getNumber(m)),!Number.isNaN(y)){var v=Oe.getNumberWithUnit(p,h),b=s.subtype,x=s.description,S=new ja(x,y,v);S.subtype=b,void 0!==f&&(S.riskSubCategory=f),void 0!==g&&(S.details=g),i.samples.push(S)}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return 0===i.length?null:(i.sortByMd(),i)},e}(),bs=function(){function e(){}return e.createCasingNodeNew=function(t,r){var n=e.createCasingLog(t,r);if(!n)return null;var i=new Zo;return i.log=n,i},e.createCasingLog=function(e,t){var r,i;if(!e)return null;var o=e.sort((function(e,t){var r=Oe.getNumber(e.metadata.assy_original_md_top),n=Oe.getNumber(t.metadata.assy_original_md_top);return Yt.compare(r,n)})),a=new $a;try{for(var s=Object(n.h)(o),c=s.next();!c.done;c=s.next()){var l=c.value,u=Oe.getNumber(l.metadata.assy_hole_size)/2;if(!Number.isNaN(u)){var d=Oe.getNumber(l.metadata.assy_original_md_top);if(!Number.isNaN(d)){var p=Oe.getNumber(l.metadata.assy_original_md_base);if(!Number.isNaN(p)){var h=new Ka(u*=t,d*=t,p*=t);h.name=l.metadata.assy_name,h.comments=l.metadata.assy_comments,h.currentStatusComment=l.metadata.assy_current_status_comment,a.samples.push(h)}}}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return 0===a.length?null:a},e}(),xs=function(){function e(){}return e.create=function(e){var t,r,i,o;if(!e)return null;var a=e.wellMap;if(!a||0===a.size)return null;var s=new Map,c=[];try{for(var l=Object(n.h)(a.values()),u=l.next();!u.done;u=l.next()){var d=u.value;(S=ms.create(d))&&(s.set(d.id,S),c.push(S))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}if(!c.length)return null;var p=e.trajectoryMap;if(!(p&&p.size>0))return c;var h=e.wellBoreToWellMap;if(!(h&&h.size>0))return c;var f=e.trajectoryDataMap;if(!(f&&f.size>0))return c;var g=e.wellBoreToNDSEventsMap,m=e.wellBoreToNPTEventsMap,y=e.wellBoreToLogsMap,v=e.wellBoreToCasingDataMap;try{for(var b=Object(n.h)(p.values()),x=b.next();!x.done;x=b.next()){var S,A=x.value,w=A.assetId,_=h.get(w);if(_&&(S=s.get(_.wellId))){var T=_.data.metadata;S.elevationType=T.elevation_type;var E=T.elevation_value_unit,B=Oe.getNumberWithUnit(T.elevation_value,E);Number.isNaN(B)&&(B=0);var R=Ce.isFeet(E)?Ce.Feet:1,M=f.get(A.id),C=ys.create(e.trajectoryDataColumnIndexes,M,B,R);if(C){if(Oe.isEmpty(_.data.name)||(C.name=_.data.name),S.addChild(C),g){var O=g.get(w);(I=vs.createRiskLogNode(O))&&(I.name="NDS Risk Events",C.addChild(I))}if(m&&(O=m.get(w),(I=vs.createRiskLogNode(O))&&(I.name="NPT Risk Events",C.addChild(I))),v){var I,F=v.get(w);(I=bs.createCasingNodeNew(F,R))&&(I.name="Casing",C.addChild(I))}y&&vs.addLogNodes(C,y[w],R)}}}}catch(e){i={error:e}}finally{try{x&&!x.done&&(o=b.return)&&o.call(b)}finally{if(i)throw i.error}}return c},e}(),Ss=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bpData=null,t}return Object(n.c)(t,e),t.prototype.createRoot=function(){return new Fa},t.prototype.loadData=function(e){var t,r;if(e instanceof Fa){var i=xs.create(this.bpData);if(i&&i.length){var o=e.wells;try{for(var a=Object(n.h)(i),s=a.next();!s.done;s=a.next()){var c=s.value;o.addChild(c)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}o.synchronize()}}},t.prototype.setModuleData=function(e){var t=e.wells,r=e.wellBores,n=e.trajectories,i=e.trajectoryData,o=e.ndsEvents,a=e.nptEvents,s=e.logs,c=e.casings;this.bpData=new is(t,r,n,i,o,a,s,c)},t}(_i)}])},module.exports=t(__webpack_require__(0),__webpack_require__(354),__webpack_require__(180),__webpack_require__(124),__webpack_require__(326),__webpack_require__(327),__webpack_require__(114),__webpack_require__(113),__webpack_require__(82),__webpack_require__(348),__webpack_require__(349),__webpack_require__(31),__webpack_require__(12),__webpack_require__(115),__webpack_require__(350),__webpack_require__(84),__webpack_require__(50),__webpack_require__(85),__webpack_require__(86),__webpack_require__(87),__webpack_require__(44),__webpack_require__(116),__webpack_require__(351),__webpack_require__(117),__webpack_require__(62),__webpack_require__(118),__webpack_require__(119),__webpack_require__(120),__webpack_require__(121),__webpack_require__(352),__webpack_require__(353),__webpack_require__(122),__webpack_require__(123))}},[[288,1,2]]]);
//# sourceMappingURL=main.bca7198a.chunk.js.map