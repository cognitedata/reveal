{"ast":null,"code":"import { getSearchConfig } from '../../../utils';\nimport { isExactMatch, isPartialMatch } from '../../../utils/extractMatchingLabels';\nexport const documentNameAndContentMatcher = (value, query, matchers) => {\n  const documentSearchConfig = getSearchConfig().file;\n  if (value.name.length && documentSearchConfig['sourceFile|name']?.enabled) {\n    const hasExactMatch = value.name.some(name => {\n      return isExactMatch(name.replaceAll('<em>', '').replaceAll('</em>', ''), query);\n    });\n    const hasPartialMatch = value.name.some(name => {\n      return isPartialMatch(name.replaceAll('<em>', '').replaceAll('</em>', ''), query, true);\n    });\n    if (hasExactMatch) {\n      matchers.exact.push('Name');\n    } else if (hasPartialMatch) {\n      matchers.partial.push('Name');\n    } else {\n      matchers.fuzzy.push('Name');\n    }\n  }\n  if (value.content.length && documentSearchConfig.content.enabled) {\n    const hasExactMatch = value.content.some(name => {\n      return isExactMatch(name.replaceAll('<em>', '').replaceAll('</em>', ''), query);\n    });\n    const hasPartialMatch = value.content.some(name => {\n      return isPartialMatch(name.replaceAll('<em>', '').replaceAll('</em>', ''), query, true);\n    });\n    if (hasExactMatch) {\n      matchers.exact.push('Content');\n    } else if (hasPartialMatch) {\n      matchers.partial.push('Content');\n    } else {\n      matchers.fuzzy.push('Content');\n    }\n  }\n};","map":{"version":3,"names":["getSearchConfig","isExactMatch","isPartialMatch","documentNameAndContentMatcher","value","query","matchers","documentSearchConfig","file","name","length","enabled","hasExactMatch","some","replaceAll","hasPartialMatch","exact","push","partial","fuzzy","content"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/documents/internal/transformers/documentNameAndContentMatcher.ts"],"sourcesContent":["import { DocumentHighlight } from '@cognite/sdk';\n\nimport { MatchingLabels } from '../../../types';\nimport { getSearchConfig } from '../../../utils';\nimport {\n  isExactMatch,\n  isPartialMatch,\n} from '../../../utils/extractMatchingLabels';\n\nexport const documentNameAndContentMatcher = (\n  value: DocumentHighlight,\n  query: string,\n  matchers: MatchingLabels\n) => {\n  const documentSearchConfig = getSearchConfig().file;\n\n  if (value.name.length && documentSearchConfig['sourceFile|name']?.enabled) {\n    const hasExactMatch = value.name.some((name) => {\n      return isExactMatch(\n        name.replaceAll('<em>', '').replaceAll('</em>', ''),\n        query\n      );\n    });\n\n    const hasPartialMatch = value.name.some((name) => {\n      return isPartialMatch(\n        name.replaceAll('<em>', '').replaceAll('</em>', ''),\n        query,\n        true\n      );\n    });\n\n    if (hasExactMatch) {\n      matchers.exact.push('Name');\n    } else if (hasPartialMatch) {\n      matchers.partial.push('Name');\n    } else {\n      matchers.fuzzy.push('Name');\n    }\n  }\n\n  if (value.content.length && documentSearchConfig.content.enabled) {\n    const hasExactMatch = value.content.some((name) => {\n      return isExactMatch(\n        name.replaceAll('<em>', '').replaceAll('</em>', ''),\n        query\n      );\n    });\n\n    const hasPartialMatch = value.content.some((name) => {\n      return isPartialMatch(\n        name.replaceAll('<em>', '').replaceAll('</em>', ''),\n        query,\n        true\n      );\n    });\n\n    if (hasExactMatch) {\n      matchers.exact.push('Content');\n    } else if (hasPartialMatch) {\n      matchers.partial.push('Content');\n    } else {\n      matchers.fuzzy.push('Content');\n    }\n  }\n};\n"],"mappings":"AAGA,SAASA,eAAe,QAAQ,gBAAgB;AAChD,SACEC,YAAY,EACZC,cAAc,QACT,sCAAsC;AAE7C,OAAO,MAAMC,6BAA6B,GAAG,CAC3CC,KAAwB,EACxBC,KAAa,EACbC,QAAwB,KACrB;EACH,MAAMC,oBAAoB,GAAGP,eAAe,EAAE,CAACQ,IAAI;EAEnD,IAAIJ,KAAK,CAACK,IAAI,CAACC,MAAM,IAAIH,oBAAoB,CAAC,iBAAiB,CAAC,EAAEI,OAAO,EAAE;IACzE,MAAMC,aAAa,GAAGR,KAAK,CAACK,IAAI,CAACI,IAAI,CAAEJ,IAAI,IAAK;MAC9C,OAAOR,YAAY,CACjBQ,IAAI,CAACK,UAAU,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,EACnDT,KAAK,CACN;IACH,CAAC,CAAC;IAEF,MAAMU,eAAe,GAAGX,KAAK,CAACK,IAAI,CAACI,IAAI,CAAEJ,IAAI,IAAK;MAChD,OAAOP,cAAc,CACnBO,IAAI,CAACK,UAAU,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,EACnDT,KAAK,EACL,IAAI,CACL;IACH,CAAC,CAAC;IAEF,IAAIO,aAAa,EAAE;MACjBN,QAAQ,CAACU,KAAK,CAACC,IAAI,CAAC,MAAM,CAAC;IAC7B,CAAC,MAAM,IAAIF,eAAe,EAAE;MAC1BT,QAAQ,CAACY,OAAO,CAACD,IAAI,CAAC,MAAM,CAAC;IAC/B,CAAC,MAAM;MACLX,QAAQ,CAACa,KAAK,CAACF,IAAI,CAAC,MAAM,CAAC;IAC7B;EACF;EAEA,IAAIb,KAAK,CAACgB,OAAO,CAACV,MAAM,IAAIH,oBAAoB,CAACa,OAAO,CAACT,OAAO,EAAE;IAChE,MAAMC,aAAa,GAAGR,KAAK,CAACgB,OAAO,CAACP,IAAI,CAAEJ,IAAI,IAAK;MACjD,OAAOR,YAAY,CACjBQ,IAAI,CAACK,UAAU,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,EACnDT,KAAK,CACN;IACH,CAAC,CAAC;IAEF,MAAMU,eAAe,GAAGX,KAAK,CAACgB,OAAO,CAACP,IAAI,CAAEJ,IAAI,IAAK;MACnD,OAAOP,cAAc,CACnBO,IAAI,CAACK,UAAU,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,EACnDT,KAAK,EACL,IAAI,CACL;IACH,CAAC,CAAC;IAEF,IAAIO,aAAa,EAAE;MACjBN,QAAQ,CAACU,KAAK,CAACC,IAAI,CAAC,SAAS,CAAC;IAChC,CAAC,MAAM,IAAIF,eAAe,EAAE;MAC1BT,QAAQ,CAACY,OAAO,CAACD,IAAI,CAAC,SAAS,CAAC;IAClC,CAAC,MAAM;MACLX,QAAQ,CAACa,KAAK,CAACF,IAAI,CAAC,SAAS,CAAC;IAChC;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module"}