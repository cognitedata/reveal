{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useQuery } from '@tanstack/react-query';\nimport isEmpty from 'lodash/isEmpty';\nimport { useSDK } from '@cognite/sdk-provider';\nimport { queryKeys } from '../../../../queryKeys';\nimport { getDocumentAggregates } from '../../network/getDocumentAggregates';\nexport const useDocumentTotalAggregates = aggregates => {\n  _s();\n  const sdk = useSDK();\n  return useQuery(queryKeys.documentsTotalAggregates(aggregates), () => {\n    if (isEmpty(aggregates)) {\n      return undefined;\n    }\n    return getDocumentAggregates({\n      properties: aggregates,\n      limit: 10000\n    }, sdk);\n  }, {\n    enabled: !isEmpty(aggregates)\n  });\n};\n_s(useDocumentTotalAggregates, \"PmNYcoJFBmvG9WfZuMOcBXEzd1A=\", false, function () {\n  return [useSDK, useQuery];\n});","map":{"version":3,"names":["useQuery","isEmpty","useSDK","queryKeys","getDocumentAggregates","useDocumentTotalAggregates","aggregates","sdk","documentsTotalAggregates","undefined","properties","limit","enabled"],"sources":["/Volumes/csvol/fusion/libs/data-exploration/domain-layer/src/documents/service/queries/aggregates/useDocumentTotalAggregates.ts"],"sourcesContent":["import { useQuery } from '@tanstack/react-query';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { DocumentsAggregateAllUniqueValuesRequest } from '@cognite/sdk/dist/src';\nimport { useSDK } from '@cognite/sdk-provider';\n\nimport { queryKeys } from '../../../../queryKeys';\nimport { getDocumentAggregates } from '../../network/getDocumentAggregates';\n\nexport const useDocumentTotalAggregates = (\n  aggregates: DocumentsAggregateAllUniqueValuesRequest['properties']\n) => {\n  const sdk = useSDK();\n\n  return useQuery(\n    queryKeys.documentsTotalAggregates(aggregates),\n    () => {\n      if (isEmpty(aggregates)) {\n        return undefined;\n      }\n\n      return getDocumentAggregates(\n        {\n          properties: aggregates,\n          limit: 10000,\n        },\n        sdk\n      );\n    },\n    {\n      enabled: !isEmpty(aggregates),\n    }\n  );\n};\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,uBAAuB;AAChD,OAAOC,OAAO,MAAM,gBAAgB;AAGpC,SAASC,MAAM,QAAQ,uBAAuB;AAE9C,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,qBAAqB,QAAQ,qCAAqC;AAE3E,OAAO,MAAMC,0BAA0B,GACrCC,UAAkE,IAC/D;EAAA;EACH,MAAMC,GAAG,GAAGL,MAAM,EAAE;EAEpB,OAAOF,QAAQ,CACbG,SAAS,CAACK,wBAAwB,CAACF,UAAU,CAAC,EAC9C,MAAM;IACJ,IAAIL,OAAO,CAACK,UAAU,CAAC,EAAE;MACvB,OAAOG,SAAS;IAClB;IAEA,OAAOL,qBAAqB,CAC1B;MACEM,UAAU,EAAEJ,UAAU;MACtBK,KAAK,EAAE;IACT,CAAC,EACDJ,GAAG,CACJ;EACH,CAAC,EACD;IACEK,OAAO,EAAE,CAACX,OAAO,CAACK,UAAU;EAC9B,CAAC,CACF;AACH,CAAC;AAAC,GAxBWD,0BAA0B;EAAA,QAGzBH,MAAM,EAEXF,QAAQ;AAAA"},"metadata":{},"sourceType":"module"}